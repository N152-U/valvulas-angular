var WebDataRocksToolbar;!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){"use strict";var n=[],i=Object.getPrototypeOf,r=n.slice,o=n.flat?function(e){return n.flat.call(e)}:function(e){return n.concat.apply([],e)},s=n.push,a=n.indexOf,l={},c=l.toString,u=l.hasOwnProperty,d=u.toString,h=d.call(Object),p={},f=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},A=function(e){return null!=e&&e===e.window},g=e.document,m={type:!0,src:!0,nonce:!0,noModule:!0};function y(e,t,n){var i,r,o=(n=n||g).createElement("script");if(o.text=e,t)for(i in m)(r=t[i]||t.getAttribute&&t.getAttribute(i))&&o.setAttribute(i,r);n.head.appendChild(o).parentNode.removeChild(o)}function v(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?l[c.call(e)]||"object":typeof e}var w="3.6.0",b=function(e,t){return new b.fn.init(e,t)};function _(e){var t=!!e&&"length"in e&&e.length,n=v(e);return!f(e)&&!A(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}b.fn=b.prototype={jquery:w,constructor:b,length:0,toArray:function(){return r.call(this)},get:function(e){return null==e?r.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=b.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return b.each(this,e)},map:function(e){return this.pushStack(b.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(r.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(b.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(b.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:n.sort,splice:n.splice},b.extend=b.fn.extend=function(){var e,t,n,i,r,o,s=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||f(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(e=arguments[a]))for(t in e)i=e[t],"__proto__"!==t&&s!==i&&(c&&i&&(b.isPlainObject(i)||(r=Array.isArray(i)))?(n=s[t],o=r&&!Array.isArray(n)?[]:r||b.isPlainObject(n)?n:{},r=!1,s[t]=b.extend(c,o,i)):void 0!==i&&(s[t]=i));return s},b.extend({expando:"jQuery"+(w+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==c.call(e)||(t=i(e))&&("function"!=typeof(n=u.call(t,"constructor")&&t.constructor)||d.call(n)!==h))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){y(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,i=0;if(_(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(_(Object(e))?b.merge(n,"string"==typeof e?[e]:e):s.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:a.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;i<n;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i=[],r=0,o=e.length,s=!n;r<o;r++)!t(e[r],r)!==s&&i.push(e[r]);return i},map:function(e,t,n){var i,r,s=0,a=[];if(_(e))for(i=e.length;s<i;s++)null!=(r=t(e[s],s,n))&&a.push(r);else for(s in e)null!=(r=t(e[s],s,n))&&a.push(r);return o(a)},guid:1,support:p}),"function"==typeof Symbol&&(b.fn[Symbol.iterator]=n[Symbol.iterator]),b.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){l["[object "+t+"]"]=t.toLowerCase()});var C=function(e){var t,n,i,r,o,s,a,l,c,u,d,h,p,f,A,g,m,y,v,w="sizzle"+1*new Date,b=e.document,_=0,C=0,E=le(),S=le(),T=le(),L=le(),x=function(e,t){return e===t&&(d=!0),0},I={}.hasOwnProperty,B=[],F=B.pop,N=B.push,D=B.push,O=B.slice,R=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},M="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",U="[\\x20\\t\\r\\n\\f]",P="(?:\\\\[\\da-fA-F]{1,6}"+U+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",H="\\["+U+"*("+P+")(?:"+U+"*([*^$|!~]?=)"+U+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+P+"))|)"+U+"*\\]",k=":("+P+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+H+")*)|.*)\\)|)",Q=new RegExp(U+"+","g"),z=new RegExp("^"+U+"+|((?:^|[^\\\\])(?:\\\\.)*)"+U+"+$","g"),j=new RegExp("^"+U+"*,"+U+"*"),V=new RegExp("^"+U+"*([>+~]|"+U+")"+U+"*"),W=new RegExp(U+"|>"),q=new RegExp(k),G=new RegExp("^"+P+"$"),K={ID:new RegExp("^#("+P+")"),CLASS:new RegExp("^\\.("+P+")"),TAG:new RegExp("^("+P+"|[*])"),ATTR:new RegExp("^"+H),PSEUDO:new RegExp("^"+k),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+U+"*(even|odd|(([+-]|)(\\d*)n|)"+U+"*(?:([+-]|)"+U+"*(\\d+)|))"+U+"*\\)|)","i"),bool:new RegExp("^(?:"+M+")$","i"),needsContext:new RegExp("^"+U+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+U+"*((?:-\\d)?\\d*)"+U+"*\\)|)(?=[^-]|$)","i")},X=/HTML$/i,J=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,$=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}"+U+"?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},ie=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,re=function(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},oe=function(){h()},se=we(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{D.apply(B=O.call(b.childNodes),b.childNodes)}catch(t){D={apply:B.length?function(e,t){N.apply(e,O.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}function ae(e,t,i,r){var o,a,c,u,d,f,m,y=t&&t.ownerDocument,b=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==b&&9!==b&&11!==b)return i;if(!r&&(h(t),t=t||p,A)){if(11!==b&&(d=$.exec(e)))if(o=d[1]){if(9===b){if(!(c=t.getElementById(o)))return i;if(c.id===o)return i.push(c),i}else if(y&&(c=y.getElementById(o))&&v(t,c)&&c.id===o)return i.push(c),i}else{if(d[2])return D.apply(i,t.getElementsByTagName(e)),i;if((o=d[3])&&n.getElementsByClassName&&t.getElementsByClassName)return D.apply(i,t.getElementsByClassName(o)),i}if(n.qsa&&!L[e+" "]&&(!g||!g.test(e))&&(1!==b||"object"!==t.nodeName.toLowerCase())){if(m=e,y=t,1===b&&(W.test(e)||V.test(e))){for((y=ee.test(e)&&me(t.parentNode)||t)===t&&n.scope||((u=t.getAttribute("id"))?u=u.replace(ie,re):t.setAttribute("id",u=w)),a=(f=s(e)).length;a--;)f[a]=(u?"#"+u:":scope")+" "+ve(f[a]);m=f.join(",")}try{return D.apply(i,y.querySelectorAll(m)),i}catch(t){L(e,!0)}finally{u===w&&t.removeAttribute("id")}}}return l(e.replace(z,"$1"),t,i,r)}function le(){var e=[];return function t(n,r){return e.push(n+" ")>i.cacheLength&&delete t[e.shift()],t[n+" "]=r}}function ce(e){return e[w]=!0,e}function ue(e){var t=p.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function de(e,t){for(var n=e.split("|"),r=n.length;r--;)i.attrHandle[n[r]]=t}function he(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function pe(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function fe(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function Ae(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&se(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function ge(e){return ce(function(t){return t=+t,ce(function(n,i){for(var r,o=e([],n.length,t),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function me(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=ae.support={},o=ae.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!X.test(e&&e.namespaceURI||t&&t.nodeName||"HTML")},h=ae.setDocument=function(e){var t,r,s=e?e.ownerDocument||e:b;return s!=p&&9===s.nodeType&&s.documentElement&&(f=(p=s).documentElement,A=!o(p),b!=p&&(r=p.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",oe,!1):r.attachEvent&&r.attachEvent("onunload",oe)),n.scope=ue(function(e){return f.appendChild(e).appendChild(p.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length}),n.attributes=ue(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=ue(function(e){return e.appendChild(p.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=Z.test(p.getElementsByClassName),n.getById=ue(function(e){return f.appendChild(e).id=w,!p.getElementsByName||!p.getElementsByName(w).length}),n.getById?(i.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},i.find.ID=function(e,t){if(void 0!==t.getElementById&&A){var n=t.getElementById(e);return n?[n]:[]}}):(i.filter.ID=function(e){var t=e.replace(te,ne);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},i.find.ID=function(e,t){if(void 0!==t.getElementById&&A){var n,i,r,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(r=t.getElementsByName(e),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),i.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},i.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&A)return t.getElementsByClassName(e)},m=[],g=[],(n.qsa=Z.test(p.querySelectorAll))&&(ue(function(e){var t;f.appendChild(e).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+U+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\["+U+"*(?:value|"+M+")"),e.querySelectorAll("[id~="+w+"-]").length||g.push("~="),(t=p.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||g.push("\\["+U+"*name"+U+"*="+U+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||g.push(":checked"),e.querySelectorAll("a#"+w+"+*").length||g.push(".#.+[+~]"),e.querySelectorAll("\\\f"),g.push("[\\r\\n\\f]")}),ue(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=p.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name"+U+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),f.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")})),(n.matchesSelector=Z.test(y=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&ue(function(e){n.disconnectedMatch=y.call(e,"*"),y.call(e,"[s!='']:x"),m.push("!=",k)}),g=g.length&&new RegExp(g.join("|")),m=m.length&&new RegExp(m.join("|")),t=Z.test(f.compareDocumentPosition),v=t||Z.test(f.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},x=t?function(e,t){if(e===t)return d=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(1&(i=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===i?e==p||e.ownerDocument==b&&v(b,e)?-1:t==p||t.ownerDocument==b&&v(b,t)?1:u?R(u,e)-R(u,t):0:4&i?-1:1)}:function(e,t){if(e===t)return d=!0,0;var n,i=0,r=e.parentNode,o=t.parentNode,s=[e],a=[t];if(!r||!o)return e==p?-1:t==p?1:r?-1:o?1:u?R(u,e)-R(u,t):0;if(r===o)return he(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)a.unshift(n);for(;s[i]===a[i];)i++;return i?he(s[i],a[i]):s[i]==b?-1:a[i]==b?1:0}),p},ae.matches=function(e,t){return ae(e,null,null,t)},ae.matchesSelector=function(e,t){if(h(e),n.matchesSelector&&A&&!L[t+" "]&&(!m||!m.test(t))&&(!g||!g.test(t)))try{var i=y.call(e,t);if(i||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){L(t,!0)}return 0<ae(t,p,null,[e]).length},ae.contains=function(e,t){return(e.ownerDocument||e)!=p&&h(e),v(e,t)},ae.attr=function(e,t){(e.ownerDocument||e)!=p&&h(e);var r=i.attrHandle[t.toLowerCase()],o=r&&I.call(i.attrHandle,t.toLowerCase())?r(e,t,!A):void 0;return void 0!==o?o:n.attributes||!A?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},ae.escape=function(e){return(e+"").replace(ie,re)},ae.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ae.uniqueSort=function(e){var t,i=[],r=0,o=0;if(d=!n.detectDuplicates,u=!n.sortStable&&e.slice(0),e.sort(x),d){for(;t=e[o++];)t===e[o]&&(r=i.push(o));for(;r--;)e.splice(i[r],1)}return u=null,e},r=ae.getText=function(e){var t,n="",i=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=r(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[i++];)n+=r(t);return n},(i=ae.selectors={cacheLength:50,createPseudo:ce,match:K,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ae.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ae.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return K.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&q.test(n)&&(t=s(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=E[e+" "];return t||(t=new RegExp("(^|"+U+")"+e+"("+U+"|$)"))&&E(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(i){var r=ae.attr(i,e);return null==r?"!="===t:!t||(r+="","="===t?r===n:"!="===t?r!==n:"^="===t?n&&0===r.indexOf(n):"*="===t?n&&-1<r.indexOf(n):"$="===t?n&&r.slice(-n.length)===n:"~="===t?-1<(" "+r.replace(Q," ")+" ").indexOf(n):"|="===t&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,h,p,f,A=o!==s?"nextSibling":"previousSibling",g=t.parentNode,m=a&&t.nodeName.toLowerCase(),y=!l&&!a,v=!1;if(g){if(o){for(;A;){for(h=t;h=h[A];)if(a?h.nodeName.toLowerCase()===m:1===h.nodeType)return!1;f=A="only"===e&&!f&&"nextSibling"}return!0}if(f=[s?g.firstChild:g.lastChild],s&&y){for(v=(p=(c=(u=(d=(h=g)[w]||(h[w]={}))[h.uniqueID]||(d[h.uniqueID]={}))[e]||[])[0]===_&&c[1])&&c[2],h=p&&g.childNodes[p];h=++p&&h&&h[A]||(v=p=0)||f.pop();)if(1===h.nodeType&&++v&&h===t){u[e]=[_,p,v];break}}else if(y&&(v=p=(c=(u=(d=(h=t)[w]||(h[w]={}))[h.uniqueID]||(d[h.uniqueID]={}))[e]||[])[0]===_&&c[1]),!1===v)for(;(h=++p&&h&&h[A]||(v=p=0)||f.pop())&&((a?h.nodeName.toLowerCase()!==m:1!==h.nodeType)||!++v||(y&&((u=(d=h[w]||(h[w]={}))[h.uniqueID]||(d[h.uniqueID]={}))[e]=[_,v]),h!==t)););return(v-=r)===i||v%i==0&&0<=v/i}}},PSEUDO:function(e,t){var n,r=i.pseudos[e]||i.setFilters[e.toLowerCase()]||ae.error("unsupported pseudo: "+e);return r[w]?r(t):1<r.length?(n=[e,e,"",t],i.setFilters.hasOwnProperty(e.toLowerCase())?ce(function(e,n){for(var i,o=r(e,t),s=o.length;s--;)e[i=R(e,o[s])]=!(n[i]=o[s])}):function(e){return r(e,0,n)}):r}},pseudos:{not:ce(function(e){var t=[],n=[],i=a(e.replace(z,"$1"));return i[w]?ce(function(e,t,n,r){for(var o,s=i(e,null,r,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:ce(function(e){return function(t){return 0<ae(e,t).length}}),contains:ce(function(e){return e=e.replace(te,ne),function(t){return-1<(t.textContent||r(t)).indexOf(e)}}),lang:ce(function(e){return G.test(e||"")||ae.error("unsupported lang: "+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do{if(n=A?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===f},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:Ae(!1),disabled:Ae(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!i.pseudos.empty(e)},header:function(e){return Y.test(e.nodeName)},input:function(e){return J.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ge(function(){return[0]}),last:ge(function(e,t){return[t-1]}),eq:ge(function(e,t,n){return[n<0?n+t:n]}),even:ge(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:ge(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:ge(function(e,t,n){for(var i=n<0?n+t:t<n?t:n;0<=--i;)e.push(i);return e}),gt:ge(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[t]=pe(t);for(t in{submit:!0,reset:!0})i.pseudos[t]=fe(t);function ye(){}function ve(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function we(e,t,n){var i=t.dir,r=t.next,o=r||i,s=n&&"parentNode"===o,a=C++;return t.first?function(t,n,r){for(;t=t[i];)if(1===t.nodeType||s)return e(t,n,r);return!1}:function(t,n,l){var c,u,d,h=[_,a];if(l){for(;t=t[i];)if((1===t.nodeType||s)&&e(t,n,l))return!0}else for(;t=t[i];)if(1===t.nodeType||s)if(u=(d=t[w]||(t[w]={}))[t.uniqueID]||(d[t.uniqueID]={}),r&&r===t.nodeName.toLowerCase())t=t[i]||t;else{if((c=u[o])&&c[0]===_&&c[1]===a)return h[2]=c[2];if((u[o]=h)[2]=e(t,n,l))return!0}return!1}}function be(e){return 1<e.length?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function _e(e,t,n,i,r){for(var o,s=[],a=0,l=e.length,c=null!=t;a<l;a++)(o=e[a])&&(n&&!n(o,i,r)||(s.push(o),c&&t.push(a)));return s}function Ce(e,t,n,i,r,o){return i&&!i[w]&&(i=Ce(i)),r&&!r[w]&&(r=Ce(r,o)),ce(function(o,s,a,l){var c,u,d,h=[],p=[],f=s.length,A=o||function(e,t,n){for(var i=0,r=t.length;i<r;i++)ae(e,t[i],n);return n}(t||"*",a.nodeType?[a]:a,[]),g=!e||!o&&t?A:_e(A,h,e,a,l),m=n?r||(o?e:f||i)?[]:s:g;if(n&&n(g,m,a,l),i)for(c=_e(m,p),i(c,[],a,l),u=c.length;u--;)(d=c[u])&&(m[p[u]]=!(g[p[u]]=d));if(o){if(r||e){if(r){for(c=[],u=m.length;u--;)(d=m[u])&&c.push(g[u]=d);r(null,m=[],c,l)}for(u=m.length;u--;)(d=m[u])&&-1<(c=r?R(o,d):h[u])&&(o[c]=!(s[c]=d))}}else m=_e(m===s?m.splice(f,m.length):m),r?r(null,s,m,l):D.apply(s,m)})}function Ee(e){for(var t,n,r,o=e.length,s=i.relative[e[0].type],a=s||i.relative[" "],l=s?1:0,u=we(function(e){return e===t},a,!0),d=we(function(e){return-1<R(t,e)},a,!0),h=[function(e,n,i){var r=!s&&(i||n!==c)||((t=n).nodeType?u(e,n,i):d(e,n,i));return t=null,r}];l<o;l++)if(n=i.relative[e[l].type])h=[we(be(h),n)];else{if((n=i.filter[e[l].type].apply(null,e[l].matches))[w]){for(r=++l;r<o&&!i.relative[e[r].type];r++);return Ce(1<l&&be(h),1<l&&ve(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(z,"$1"),n,l<r&&Ee(e.slice(l,r)),r<o&&Ee(e=e.slice(r)),r<o&&ve(e))}h.push(n)}return be(h)}return ye.prototype=i.filters=i.pseudos,i.setFilters=new ye,s=ae.tokenize=function(e,t){var n,r,o,s,a,l,c,u=S[e+" "];if(u)return t?0:u.slice(0);for(a=e,l=[],c=i.preFilter;a;){for(s in n&&!(r=j.exec(a))||(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),n=!1,(r=V.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(z," ")}),a=a.slice(n.length)),i.filter)!(r=K[s].exec(a))||c[s]&&!(r=c[s](r))||(n=r.shift(),o.push({value:n,type:s,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?ae.error(e):S(e,l).slice(0)},a=ae.compile=function(e,t){var n,r,o,a,l,u,d=[],f=[],g=T[e+" "];if(!g){for(t||(t=s(e)),n=t.length;n--;)(g=Ee(t[n]))[w]?d.push(g):f.push(g);(g=T(e,(r=f,a=0<(o=d).length,l=0<r.length,u=function(e,t,n,s,u){var d,f,g,m=0,y="0",v=e&&[],w=[],b=c,C=e||l&&i.find.TAG("*",u),E=_+=null==b?1:Math.random()||.1,S=C.length;for(u&&(c=t==p||t||u);y!==S&&null!=(d=C[y]);y++){if(l&&d){for(f=0,t||d.ownerDocument==p||(h(d),n=!A);g=r[f++];)if(g(d,t||p,n)){s.push(d);break}u&&(_=E)}a&&((d=!g&&d)&&m--,e&&v.push(d))}if(m+=y,a&&y!==m){for(f=0;g=o[f++];)g(v,w,t,n);if(e){if(0<m)for(;y--;)v[y]||w[y]||(w[y]=F.call(s));w=_e(w)}D.apply(s,w),u&&!e&&0<w.length&&1<m+o.length&&ae.uniqueSort(s)}return u&&(_=E,c=b),v},a?ce(u):u))).selector=e}return g},l=ae.select=function(e,t,n,r){var o,l,c,u,d,h="function"==typeof e&&e,p=!r&&s(e=h.selector||e);if(n=n||[],1===p.length){if(2<(l=p[0]=p[0].slice(0)).length&&"ID"===(c=l[0]).type&&9===t.nodeType&&A&&i.relative[l[1].type]){if(!(t=(i.find.ID(c.matches[0].replace(te,ne),t)||[])[0]))return n;h&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(o=K.needsContext.test(e)?0:l.length;o--&&!i.relative[u=(c=l[o]).type];)if((d=i.find[u])&&(r=d(c.matches[0].replace(te,ne),ee.test(l[0].type)&&me(t.parentNode)||t))){if(l.splice(o,1),!(e=r.length&&ve(l)))return D.apply(n,r),n;break}}return(h||a(e,p))(r,t,!A,n,!t||ee.test(e)&&me(t.parentNode)||t),n},n.sortStable=w.split("").sort(x).join("")===w,n.detectDuplicates=!!d,h(),n.sortDetached=ue(function(e){return 1&e.compareDocumentPosition(p.createElement("fieldset"))}),ue(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||de("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),n.attributes&&ue(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||de("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ue(function(e){return null==e.getAttribute("disabled")})||de(M,function(e,t,n){var i;if(!n)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),ae}(e);b.find=C,b.expr=C.selectors,b.expr[":"]=b.expr.pseudos,b.uniqueSort=b.unique=C.uniqueSort,b.text=C.getText,b.isXMLDoc=C.isXML,b.contains=C.contains,b.escapeSelector=C.escape;var E=function(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&b(e).is(n))break;i.push(e)}return i},S=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},T=b.expr.match.needsContext;function L(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var x=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function I(e,t,n){return f(t)?b.grep(e,function(e,i){return!!t.call(e,i,e)!==n}):t.nodeType?b.grep(e,function(e){return e===t!==n}):"string"!=typeof t?b.grep(e,function(e){return-1<a.call(t,e)!==n}):b.filter(t,e,n)}b.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?b.find.matchesSelector(i,e)?[i]:[]:b.find.matches(e,b.grep(t,function(e){return 1===e.nodeType}))},b.fn.extend({find:function(e){var t,n,i=this.length,r=this;if("string"!=typeof e)return this.pushStack(b(e).filter(function(){for(t=0;t<i;t++)if(b.contains(r[t],this))return!0}));for(n=this.pushStack([]),t=0;t<i;t++)b.find(e,r[t],n);return 1<i?b.uniqueSort(n):n},filter:function(e){return this.pushStack(I(this,e||[],!1))},not:function(e){return this.pushStack(I(this,e||[],!0))},is:function(e){return!!I(this,"string"==typeof e&&T.test(e)?b(e):e||[],!1).length}});var B,F=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(b.fn.init=function(e,t,n){var i,r;if(!e)return this;if(n=n||B,"string"==typeof e){if(!(i="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:F.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(b.merge(this,b.parseHTML(i[1],(t=t instanceof b?t[0]:t)&&t.nodeType?t.ownerDocument||t:g,!0)),x.test(i[1])&&b.isPlainObject(t))for(i in t)f(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(r=g.getElementById(i[2]))&&(this[0]=r,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):f(e)?void 0!==n.ready?n.ready(e):e(b):b.makeArray(e,this)}).prototype=b.fn,B=b(g);var N=/^(?:parents|prev(?:Until|All))/,D={children:!0,contents:!0,next:!0,prev:!0};function O(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}b.fn.extend({has:function(e){var t=b(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(b.contains(this,t[e]))return!0})},closest:function(e,t){var n,i=0,r=this.length,o=[],s="string"!=typeof e&&b(e);if(!T.test(e))for(;i<r;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?-1<s.index(n):1===n.nodeType&&b.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?b.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?a.call(b(e),this[0]):a.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(b.uniqueSort(b.merge(this.get(),b(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),b.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return E(e,"parentNode")},parentsUntil:function(e,t,n){return E(e,"parentNode",n)},next:function(e){return O(e,"nextSibling")},prev:function(e){return O(e,"previousSibling")},nextAll:function(e){return E(e,"nextSibling")},prevAll:function(e){return E(e,"previousSibling")},nextUntil:function(e,t,n){return E(e,"nextSibling",n)},prevUntil:function(e,t,n){return E(e,"previousSibling",n)},siblings:function(e){return S((e.parentNode||{}).firstChild,e)},children:function(e){return S(e.firstChild)},contents:function(e){return null!=e.contentDocument&&i(e.contentDocument)?e.contentDocument:(L(e,"template")&&(e=e.content||e),b.merge([],e.childNodes))}},function(e,t){b.fn[e]=function(n,i){var r=b.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=b.filter(i,r)),1<this.length&&(D[e]||b.uniqueSort(r),N.test(e)&&r.reverse()),this.pushStack(r)}});var R=/[^\x20\t\r\n\f]+/g;function M(e){return e}function U(e){throw e}function P(e,t,n,i){var r;try{e&&f(r=e.promise)?r.call(e).done(t).fail(n):e&&f(r=e.then)?r.call(e,t,n):t.apply(void 0,[e].slice(i))}catch(e){n.apply(void 0,[e])}}b.Callbacks=function(e){var t;e="string"==typeof e?(t={},b.each(e.match(R)||[],function(e,n){t[n]=!0}),t):b.extend({},e);var n,i,r,o,s=[],a=[],l=-1,c=function(){for(o=o||e.once,r=n=!0;a.length;l=-1)for(i=a.shift();++l<s.length;)!1===s[l].apply(i[0],i[1])&&e.stopOnFalse&&(l=s.length,i=!1);e.memory||(i=!1),n=!1,o&&(s=i?[]:"")},u={add:function(){return s&&(i&&!n&&(l=s.length-1,a.push(i)),function t(n){b.each(n,function(n,i){f(i)?e.unique&&u.has(i)||s.push(i):i&&i.length&&"string"!==v(i)&&t(i)})}(arguments),i&&!n&&c()),this},remove:function(){return b.each(arguments,function(e,t){for(var n;-1<(n=b.inArray(t,s,n));)s.splice(n,1),n<=l&&l--}),this},has:function(e){return e?-1<b.inArray(e,s):0<s.length},empty:function(){return s&&(s=[]),this},disable:function(){return o=a=[],s=i="",this},disabled:function(){return!s},lock:function(){return o=a=[],i||n||(s=i=""),this},locked:function(){return!!o},fireWith:function(e,t){return o||(t=[e,(t=t||[]).slice?t.slice():t],a.push(t),n||c()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!r}};return u},b.extend({Deferred:function(t){var n=[["notify","progress",b.Callbacks("memory"),b.Callbacks("memory"),2],["resolve","done",b.Callbacks("once memory"),b.Callbacks("once memory"),0,"resolved"],["reject","fail",b.Callbacks("once memory"),b.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return r.then(null,e)},pipe:function(){var e=arguments;return b.Deferred(function(t){b.each(n,function(n,i){var r=f(e[i[4]])&&e[i[4]];o[i[1]](function(){var e=r&&r.apply(this,arguments);e&&f(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[i[0]+"With"](this,r?[e]:arguments)})}),e=null}).promise()},then:function(t,i,r){var o=0;function s(t,n,i,r){return function(){var a=this,l=arguments,c=function(){var e,c;if(!(t<o)){if((e=i.apply(a,l))===n.promise())throw new TypeError("Thenable self-resolution");f(c=e&&("object"==typeof e||"function"==typeof e)&&e.then)?r?c.call(e,s(o,n,M,r),s(o,n,U,r)):(o++,c.call(e,s(o,n,M,r),s(o,n,U,r),s(o,n,M,n.notifyWith))):(i!==M&&(a=void 0,l=[e]),(r||n.resolveWith)(a,l))}},u=r?c:function(){try{c()}catch(c){b.Deferred.exceptionHook&&b.Deferred.exceptionHook(c,u.stackTrace),o<=t+1&&(i!==U&&(a=void 0,l=[c]),n.rejectWith(a,l))}};t?u():(b.Deferred.getStackHook&&(u.stackTrace=b.Deferred.getStackHook()),e.setTimeout(u))}}return b.Deferred(function(e){n[0][3].add(s(0,e,f(r)?r:M,e.notifyWith)),n[1][3].add(s(0,e,f(t)?t:M)),n[2][3].add(s(0,e,f(i)?i:U))}).promise()},promise:function(e){return null!=e?b.extend(e,r):r}},o={};return b.each(n,function(e,t){var s=t[2],a=t[5];r[t[1]]=s.add,a&&s.add(function(){i=a},n[3-e][2].disable,n[3-e][3].disable,n[0][2].lock,n[0][3].lock),s.add(t[3].fire),o[t[0]]=function(){return o[t[0]+"With"](this===o?void 0:this,arguments),this},o[t[0]+"With"]=s.fireWith}),r.promise(o),t&&t.call(o,o),o},when:function(e){var t=arguments.length,n=t,i=Array(n),o=r.call(arguments),s=b.Deferred(),a=function(e){return function(n){i[e]=this,o[e]=1<arguments.length?r.call(arguments):n,--t||s.resolveWith(i,o)}};if(t<=1&&(P(e,s.done(a(n)).resolve,s.reject,!t),"pending"===s.state()||f(o[n]&&o[n].then)))return s.then();for(;n--;)P(o[n],a(n),s.reject);return s.promise()}});var H=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;b.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&H.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},b.readyException=function(t){e.setTimeout(function(){throw t})};var k=b.Deferred();function Q(){g.removeEventListener("DOMContentLoaded",Q),e.removeEventListener("load",Q),b.ready()}b.fn.ready=function(e){return k.then(e).catch(function(e){b.readyException(e)}),this},b.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--b.readyWait:b.isReady)||(b.isReady=!0)!==e&&0<--b.readyWait||k.resolveWith(g,[b])}}),b.ready.then=k.then,"complete"===g.readyState||"loading"!==g.readyState&&!g.documentElement.doScroll?e.setTimeout(b.ready):(g.addEventListener("DOMContentLoaded",Q),e.addEventListener("load",Q));var z=function(e,t,n,i,r,o,s){var a=0,l=e.length,c=null==n;if("object"===v(n))for(a in r=!0,n)z(e,t,a,n[a],!0,o,s);else if(void 0!==i&&(r=!0,f(i)||(s=!0),c&&(s?(t.call(e,i),t=null):(c=t,t=function(e,t,n){return c.call(b(e),n)})),t))for(;a<l;a++)t(e[a],n,s?i:i.call(e[a],a,t(e[a],n)));return r?e:c?t.call(e):l?t(e[0],n):o},j=/^-ms-/,V=/-([a-z])/g;function W(e,t){return t.toUpperCase()}function q(e){return e.replace(j,"ms-").replace(V,W)}var G=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function K(){this.expando=b.expando+K.uid++}K.uid=1,K.prototype={cache:function(e){var t=e[this.expando];return t||(t={},G(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,r=this.cache(e);if("string"==typeof t)r[q(t)]=n;else for(i in t)r[q(i)]=t[i];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][q(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i=e[this.expando];if(void 0!==i){if(void 0!==t){n=(t=Array.isArray(t)?t.map(q):(t=q(t))in i?[t]:t.match(R)||[]).length;for(;n--;)delete i[t[n]]}(void 0===t||b.isEmptyObject(i))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!b.isEmptyObject(t)}};var X=new K,J=new K,Y=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Z=/[A-Z]/g;function $(e,t,n){var i,r;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(Z,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n="true"===(r=n)||"false"!==r&&("null"===r?null:r===+r+""?+r:Y.test(r)?JSON.parse(r):r)}catch(e){}J.set(e,t,n)}else n=void 0;return n}b.extend({hasData:function(e){return J.hasData(e)||X.hasData(e)},data:function(e,t,n){return J.access(e,t,n)},removeData:function(e,t){J.remove(e,t)},_data:function(e,t,n){return X.access(e,t,n)},_removeData:function(e,t){X.remove(e,t)}}),b.fn.extend({data:function(e,t){var n,i,r,o=this[0],s=o&&o.attributes;if(void 0===e){if(this.length&&(r=J.get(o),1===o.nodeType&&!X.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(i=s[n].name).indexOf("data-")&&(i=q(i.slice(5)),$(o,i,r[i]));X.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each(function(){J.set(this,e)}):z(this,function(t){var n;if(o&&void 0===t)return void 0!==(n=J.get(o,e))||void 0!==(n=$(o,e))?n:void 0;this.each(function(){J.set(this,e,t)})},null,t,1<arguments.length,null,!0)},removeData:function(e){return this.each(function(){J.remove(this,e)})}}),b.extend({queue:function(e,t,n){var i;if(e)return i=X.get(e,t=(t||"fx")+"queue"),n&&(!i||Array.isArray(n)?i=X.access(e,t,b.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){var n=b.queue(e,t=t||"fx"),i=n.length,r=n.shift(),o=b._queueHooks(e,t);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,function(){b.dequeue(e,t)},o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return X.get(e,n)||X.access(e,n,{empty:b.Callbacks("once memory").add(function(){X.remove(e,[t+"queue",n])})})}}),b.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?b.queue(this[0],e):void 0===t?this:this.each(function(){var n=b.queue(this,e,t);b._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&b.dequeue(this,e)})},dequeue:function(e){return this.each(function(){b.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=b.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(n=X.get(o[s],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(t)}});var ee=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,te=new RegExp("^(?:([+-])=|)("+ee+")([a-z%]*)$","i"),ne=["Top","Right","Bottom","Left"],ie=g.documentElement,re=function(e){return b.contains(e.ownerDocument,e)},oe={composed:!0};ie.getRootNode&&(re=function(e){return b.contains(e.ownerDocument,e)||e.getRootNode(oe)===e.ownerDocument});var se=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&re(e)&&"none"===b.css(e,"display")};function ae(e,t,n,i){var r,o,s=20,a=i?function(){return i.cur()}:function(){return b.css(e,t,"")},l=a(),c=n&&n[3]||(b.cssNumber[t]?"":"px"),u=e.nodeType&&(b.cssNumber[t]||"px"!==c&&+l)&&te.exec(b.css(e,t));if(u&&u[3]!==c){for(c=c||u[3],u=+(l/=2)||1;s--;)b.style(e,t,u+c),(1-o)*(1-(o=a()/l||.5))<=0&&(s=0),u/=o;b.style(e,t,(u*=2)+c),n=n||[]}return n&&(u=+u||+l||0,r=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=u,i.end=r)),r}var le={};function ce(e,t){for(var n,i,r,o,s,a,l,c=[],u=0,d=e.length;u<d;u++)(i=e[u]).style&&(n=i.style.display,t?("none"===n&&(c[u]=X.get(i,"display")||null,c[u]||(i.style.display="")),""===i.style.display&&se(i)&&(c[u]=(l=s=o=void 0,s=(r=i).ownerDocument,(l=le[a=r.nodeName])||(o=s.body.appendChild(s.createElement(a)),l=b.css(o,"display"),o.parentNode.removeChild(o),"none"===l&&(l="block"),le[a]=l)))):"none"!==n&&(c[u]="none",X.set(i,"display",n)));for(u=0;u<d;u++)null!=c[u]&&(e[u].style.display=c[u]);return e}b.fn.extend({show:function(){return ce(this,!0)},hide:function(){return ce(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){se(this)?b(this).show():b(this).hide()})}});var ue,de,he=/^(?:checkbox|radio)$/i,pe=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,fe=/^$|^module$|\/(?:java|ecma)script/i;ue=g.createDocumentFragment().appendChild(g.createElement("div")),(de=g.createElement("input")).setAttribute("type","radio"),de.setAttribute("checked","checked"),de.setAttribute("name","t"),ue.appendChild(de),p.checkClone=ue.cloneNode(!0).cloneNode(!0).lastChild.checked,ue.innerHTML="<textarea>x</textarea>",p.noCloneChecked=!!ue.cloneNode(!0).lastChild.defaultValue,ue.innerHTML="<option></option>",p.option=!!ue.lastChild;var Ae={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ge(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&L(e,t)?b.merge([e],n):n}function me(e,t){for(var n=0,i=e.length;n<i;n++)X.set(e[n],"globalEval",!t||X.get(t[n],"globalEval"))}Ae.tbody=Ae.tfoot=Ae.colgroup=Ae.caption=Ae.thead,Ae.th=Ae.td,p.option||(Ae.optgroup=Ae.option=[1,"<select multiple='multiple'>","</select>"]);var ye=/<|&#?\w+;/;function ve(e,t,n,i,r){for(var o,s,a,l,c,u,d=t.createDocumentFragment(),h=[],p=0,f=e.length;p<f;p++)if((o=e[p])||0===o)if("object"===v(o))b.merge(h,o.nodeType?[o]:o);else if(ye.test(o)){for(s=s||d.appendChild(t.createElement("div")),a=(pe.exec(o)||["",""])[1].toLowerCase(),s.innerHTML=(l=Ae[a]||Ae._default)[1]+b.htmlPrefilter(o)+l[2],u=l[0];u--;)s=s.lastChild;b.merge(h,s.childNodes),(s=d.firstChild).textContent=""}else h.push(t.createTextNode(o));for(d.textContent="",p=0;o=h[p++];)if(i&&-1<b.inArray(o,i))r&&r.push(o);else if(c=re(o),s=ge(d.appendChild(o),"script"),c&&me(s),n)for(u=0;o=s[u++];)fe.test(o.type||"")&&n.push(o);return d}var we=/^([^.]*)(?:\.(.+)|)/;function be(){return!0}function _e(){return!1}function Ce(e,t){return e===function(){try{return g.activeElement}catch(e){}}()==("focus"===t)}function Ee(e,t,n,i,r,o){var s,a;if("object"==typeof t){for(a in"string"!=typeof n&&(i=i||n,n=void 0),t)Ee(e,a,n,i,t[a],o);return e}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=_e;else if(!r)return e;return 1===o&&(s=r,(r=function(e){return b().off(e),s.apply(this,arguments)}).guid=s.guid||(s.guid=b.guid++)),e.each(function(){b.event.add(this,t,r,i,n)})}function Se(e,t,n){n?(X.set(e,t,!1),b.event.add(e,t,{namespace:!1,handler:function(e){var i,o,s=X.get(this,t);if(1&e.isTrigger&&this[t]){if(s.length)(b.event.special[t]||{}).delegateType&&e.stopPropagation();else if(s=r.call(arguments),X.set(this,t,s),i=n(this,t),this[t](),s!==(o=X.get(this,t))||i?X.set(this,t,!1):o={},s!==o)return e.stopImmediatePropagation(),e.preventDefault(),o&&o.value}else s.length&&(X.set(this,t,{value:b.event.trigger(b.extend(s[0],b.Event.prototype),s.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===X.get(e,t)&&b.event.add(e,t,be)}b.event={global:{},add:function(e,t,n,i,r){var o,s,a,l,c,u,d,h,p,f,A,g=X.get(e);if(G(e))for(n.handler&&(n=(o=n).handler,r=o.selector),r&&b.find.matchesSelector(ie,r),n.guid||(n.guid=b.guid++),(l=g.events)||(l=g.events=Object.create(null)),(s=g.handle)||(s=g.handle=function(t){return void 0!==b&&b.event.triggered!==t.type?b.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(R)||[""]).length;c--;)p=A=(a=we.exec(t[c])||[])[1],f=(a[2]||"").split(".").sort(),p&&(d=b.event.special[p]||{},d=b.event.special[p=(r?d.delegateType:d.bindType)||p]||{},u=b.extend({type:p,origType:A,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&b.expr.match.needsContext.test(r),namespace:f.join(".")},o),(h=l[p])||((h=l[p]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,i,f,s)||e.addEventListener&&e.addEventListener(p,s)),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),r?h.splice(h.delegateCount++,0,u):h.push(u),b.event.global[p]=!0)},remove:function(e,t,n,i,r){var o,s,a,l,c,u,d,h,p,f,A,g=X.hasData(e)&&X.get(e);if(g&&(l=g.events)){for(c=(t=(t||"").match(R)||[""]).length;c--;)if(p=A=(a=we.exec(t[c])||[])[1],f=(a[2]||"").split(".").sort(),p){for(d=b.event.special[p]||{},h=l[p=(i?d.delegateType:d.bindType)||p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=h.length;o--;)u=h[o],!r&&A!==u.origType||n&&n.guid!==u.guid||a&&!a.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(h.splice(o,1),u.selector&&h.delegateCount--,d.remove&&d.remove.call(e,u));s&&!h.length&&(d.teardown&&!1!==d.teardown.call(e,f,g.handle)||b.removeEvent(e,p,g.handle),delete l[p])}else for(p in l)b.event.remove(e,p+t[c],n,i,!0);b.isEmptyObject(l)&&X.remove(e,"handle events")}},dispatch:function(e){var t,n,i,r,o,s,a=new Array(arguments.length),l=b.event.fix(e),c=(X.get(this,"events")||Object.create(null))[l.type]||[],u=b.event.special[l.type]||{};for(a[0]=l,t=1;t<arguments.length;t++)a[t]=arguments[t];if(l.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,l)){for(s=b.event.handlers.call(this,l,c),t=0;(r=s[t++])&&!l.isPropagationStopped();)for(l.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==o.namespace&&!l.rnamespace.test(o.namespace)||(l.handleObj=o,l.data=o.data,void 0!==(i=((b.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,a))&&!1===(l.result=i)&&(l.preventDefault(),l.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,l),l.result}},handlers:function(e,t){var n,i,r,o,s,a=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&1<=e.button))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(o=[],s={},n=0;n<l;n++)void 0===s[r=(i=t[n]).selector+" "]&&(s[r]=i.needsContext?-1<b(r,this).index(c):b.find(r,this,null,[c]).length),s[r]&&o.push(i);o.length&&a.push({elem:c,handlers:o})}return c=this,l<t.length&&a.push({elem:c,handlers:t.slice(l)}),a},addProp:function(e,t){Object.defineProperty(b.Event.prototype,e,{enumerable:!0,configurable:!0,get:f(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[b.expando]?e:new b.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return he.test(t.type)&&t.click&&L(t,"input")&&Se(t,"click",be),!1},trigger:function(e){var t=this||e;return he.test(t.type)&&t.click&&L(t,"input")&&Se(t,"click"),!0},_default:function(e){var t=e.target;return he.test(t.type)&&t.click&&L(t,"input")&&X.get(t,"click")||L(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},b.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},b.Event=function(e,t){if(!(this instanceof b.Event))return new b.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?be:_e,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&b.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[b.expando]=!0},b.Event.prototype={constructor:b.Event,isDefaultPrevented:_e,isPropagationStopped:_e,isImmediatePropagationStopped:_e,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=be,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=be,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=be,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},b.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},b.event.addProp),b.each({focus:"focusin",blur:"focusout"},function(e,t){b.event.special[e]={setup:function(){return Se(this,e,Ce),!1},trigger:function(){return Se(this,e),!0},_default:function(){return!0},delegateType:t}}),b.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){b.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=e.relatedTarget,r=e.handleObj;return i&&(i===this||b.contains(this,i))||(e.type=r.origType,n=r.handler.apply(this,arguments),e.type=t),n}}}),b.fn.extend({on:function(e,t,n,i){return Ee(this,e,t,n,i)},one:function(e,t,n,i){return Ee(this,e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,b(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=_e),this.each(function(){b.event.remove(this,e,n,t)})}});var Te=/<script|<style|<link/i,Le=/checked\s*(?:[^=]|=\s*.checked.)/i,xe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Ie(e,t){return L(e,"table")&&L(11!==t.nodeType?t:t.firstChild,"tr")&&b(e).children("tbody")[0]||e}function Be(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Fe(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Ne(e,t){var n,i,r,o,s,a;if(1===t.nodeType){if(X.hasData(e)&&(a=X.get(e).events))for(r in X.remove(t,"handle events"),a)for(n=0,i=a[r].length;n<i;n++)b.event.add(t,r,a[r][n]);J.hasData(e)&&(o=J.access(e),s=b.extend({},o),J.set(t,s))}}function De(e,t,n,i){t=o(t);var r,s,a,l,c,u,d=0,h=e.length,A=h-1,g=t[0],m=f(g);if(m||1<h&&"string"==typeof g&&!p.checkClone&&Le.test(g))return e.each(function(r){var o=e.eq(r);m&&(t[0]=g.call(this,r,o.html())),De(o,t,n,i)});if(h&&(s=(r=ve(t,e[0].ownerDocument,!1,e,i)).firstChild,1===r.childNodes.length&&(r=s),s||i)){for(l=(a=b.map(ge(r,"script"),Be)).length;d<h;d++)c=r,d!==A&&(c=b.clone(c,!0,!0),l&&b.merge(a,ge(c,"script"))),n.call(e[d],c,d);if(l)for(u=a[a.length-1].ownerDocument,b.map(a,Fe),d=0;d<l;d++)fe.test((c=a[d]).type||"")&&!X.access(c,"globalEval")&&b.contains(u,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?b._evalUrl&&!c.noModule&&b._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},u):y(c.textContent.replace(xe,""),c,u))}return e}function Oe(e,t,n){for(var i,r=t?b.filter(t,e):e,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||b.cleanData(ge(i)),i.parentNode&&(n&&re(i)&&me(ge(i,"script")),i.parentNode.removeChild(i));return e}b.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var i,r,o,s,a,l,c,u=e.cloneNode(!0),d=re(e);if(!(p.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||b.isXMLDoc(e)))for(s=ge(u),i=0,r=(o=ge(e)).length;i<r;i++)a=o[i],"input"===(c=(l=s[i]).nodeName.toLowerCase())&&he.test(a.type)?l.checked=a.checked:"input"!==c&&"textarea"!==c||(l.defaultValue=a.defaultValue);if(t)if(n)for(o=o||ge(e),s=s||ge(u),i=0,r=o.length;i<r;i++)Ne(o[i],s[i]);else Ne(e,u);return 0<(s=ge(u,"script")).length&&me(s,!d&&ge(e,"script")),u},cleanData:function(e){for(var t,n,i,r=b.event.special,o=0;void 0!==(n=e[o]);o++)if(G(n)){if(t=n[X.expando]){if(t.events)for(i in t.events)r[i]?b.event.remove(n,i):b.removeEvent(n,i,t.handle);n[X.expando]=void 0}n[J.expando]&&(n[J.expando]=void 0)}}}),b.fn.extend({detach:function(e){return Oe(this,e,!0)},remove:function(e){return Oe(this,e)},text:function(e){return z(this,function(e){return void 0===e?b.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return De(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ie(this,e).appendChild(e)})},prepend:function(){return De(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Ie(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return De(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return De(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(b.cleanData(ge(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return b.clone(this,e,t)})},html:function(e){return z(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Te.test(e)&&!Ae[(pe.exec(e)||["",""])[1].toLowerCase()]){e=b.htmlPrefilter(e);try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(b.cleanData(ge(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return De(this,arguments,function(t){var n=this.parentNode;b.inArray(this,e)<0&&(b.cleanData(ge(this)),n&&n.replaceChild(t,this))},e)}}),b.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){b.fn[e]=function(e){for(var n,i=[],r=b(e),o=r.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),b(r[a])[t](n),s.apply(i,n.get());return this.pushStack(i)}});var Re=new RegExp("^("+ee+")(?!px)[a-z%]+$","i"),Me=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},Ue=function(e,t,n){var i,r,o={};for(r in t)o[r]=e.style[r],e.style[r]=t[r];for(r in i=n.call(e),t)e.style[r]=o[r];return i},Pe=new RegExp(ne.join("|"),"i");function He(e,t,n){var i,r,o,s,a=e.style;return(n=n||Me(e))&&(""!==(s=n.getPropertyValue(t)||n[t])||re(e)||(s=b.style(e,t)),!p.pixelBoxStyles()&&Re.test(s)&&Pe.test(t)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o)),void 0!==s?s+"":s}function ke(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function t(){if(u){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ie.appendChild(c).appendChild(u);var t=e.getComputedStyle(u);i="1%"!==t.top,l=12===n(t.marginLeft),u.style.right="60%",s=36===n(t.right),r=36===n(t.width),u.style.position="absolute",o=12===n(u.offsetWidth/3),ie.removeChild(c),u=null}}function n(e){return Math.round(parseFloat(e))}var i,r,o,s,a,l,c=g.createElement("div"),u=g.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",p.clearCloneStyle="content-box"===u.style.backgroundClip,b.extend(p,{boxSizingReliable:function(){return t(),r},pixelBoxStyles:function(){return t(),s},pixelPosition:function(){return t(),i},reliableMarginLeft:function(){return t(),l},scrollboxSize:function(){return t(),o},reliableTrDimensions:function(){var t,n,i,r;return null==a&&(t=g.createElement("table"),n=g.createElement("tr"),i=g.createElement("div"),t.style.cssText="position:absolute;left:-11111px;border-collapse:separate",n.style.cssText="border:1px solid",n.style.height="1px",i.style.height="9px",i.style.display="block",ie.appendChild(t).appendChild(n).appendChild(i),r=e.getComputedStyle(n),a=parseInt(r.height,10)+parseInt(r.borderTopWidth,10)+parseInt(r.borderBottomWidth,10)===n.offsetHeight,ie.removeChild(t)),a}}))}();var Qe=["Webkit","Moz","ms"],ze=g.createElement("div").style,je={};function Ve(e){return b.cssProps[e]||je[e]||(e in ze?e:je[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=Qe.length;n--;)if((e=Qe[n]+t)in ze)return e}(e)||e)}var We=/^(none|table(?!-c[ea]).+)/,qe=/^--/,Ge={position:"absolute",visibility:"hidden",display:"block"},Ke={letterSpacing:"0",fontWeight:"400"};function Xe(e,t,n){var i=te.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function Je(e,t,n,i,r,o){var s="width"===t?1:0,a=0,l=0;if(n===(i?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(l+=b.css(e,n+ne[s],!0,r)),i?("content"===n&&(l-=b.css(e,"padding"+ne[s],!0,r)),"margin"!==n&&(l-=b.css(e,"border"+ne[s]+"Width",!0,r))):(l+=b.css(e,"padding"+ne[s],!0,r),"padding"!==n?l+=b.css(e,"border"+ne[s]+"Width",!0,r):a+=b.css(e,"border"+ne[s]+"Width",!0,r));return!i&&0<=o&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-l-a-.5))||0),l}function Ye(e,t,n){var i=Me(e),r=(!p.boxSizingReliable()||n)&&"border-box"===b.css(e,"boxSizing",!1,i),o=r,s=He(e,t,i),a="offset"+t[0].toUpperCase()+t.slice(1);if(Re.test(s)){if(!n)return s;s="auto"}return(!p.boxSizingReliable()&&r||!p.reliableTrDimensions()&&L(e,"tr")||"auto"===s||!parseFloat(s)&&"inline"===b.css(e,"display",!1,i))&&e.getClientRects().length&&(r="border-box"===b.css(e,"boxSizing",!1,i),(o=a in e)&&(s=e[a])),(s=parseFloat(s)||0)+Je(e,t,n||(r?"border":"content"),o,i,s)+"px"}function Ze(e,t,n,i,r){return new Ze.prototype.init(e,t,n,i,r)}b.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=He(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,s,a=q(t),l=qe.test(t),c=e.style;if(l||(t=Ve(a)),s=b.cssHooks[t]||b.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(r=s.get(e,!1,i))?r:c[t];"string"==(o=typeof n)&&(r=te.exec(n))&&r[1]&&(n=ae(e,t,r),o="number"),null!=n&&n==n&&("number"!==o||l||(n+=r&&r[3]||(b.cssNumber[a]?"":"px")),p.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,i))||(l?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,i){var r,o,s,a=q(t);return qe.test(t)||(t=Ve(a)),(s=b.cssHooks[t]||b.cssHooks[a])&&"get"in s&&(r=s.get(e,!0,n)),void 0===r&&(r=He(e,t,i)),"normal"===r&&t in Ke&&(r=Ke[t]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),b.each(["height","width"],function(e,t){b.cssHooks[t]={get:function(e,n,i){if(n)return!We.test(b.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?Ye(e,t,i):Ue(e,Ge,function(){return Ye(e,t,i)})},set:function(e,n,i){var r,o=Me(e),s=!p.scrollboxSize()&&"absolute"===o.position,a=(s||i)&&"border-box"===b.css(e,"boxSizing",!1,o),l=i?Je(e,t,i,a,o):0;return a&&s&&(l-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-Je(e,t,"border",!1,o)-.5)),l&&(r=te.exec(n))&&"px"!==(r[3]||"px")&&(e.style[t]=n,n=b.css(e,t)),Xe(0,n,l)}}}),b.cssHooks.marginLeft=ke(p.reliableMarginLeft,function(e,t){if(t)return(parseFloat(He(e,"marginLeft"))||e.getBoundingClientRect().left-Ue(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),b.each({margin:"",padding:"",border:"Width"},function(e,t){b.cssHooks[e+t]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[e+ne[i]+t]=o[i]||o[i-2]||o[0];return r}},"margin"!==e&&(b.cssHooks[e+t].set=Xe)}),b.fn.extend({css:function(e,t){return z(this,function(e,t,n){var i,r,o={},s=0;if(Array.isArray(t)){for(i=Me(e),r=t.length;s<r;s++)o[t[s]]=b.css(e,t[s],!1,i);return o}return void 0!==n?b.style(e,t,n):b.css(e,t)},e,t,1<arguments.length)}}),((b.Tween=Ze).prototype={constructor:Ze,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||b.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(b.cssNumber[n]?"":"px")},cur:function(){var e=Ze.propHooks[this.prop];return e&&e.get?e.get(this):Ze.propHooks._default.get(this)},run:function(e){var t,n=Ze.propHooks[this.prop];return this.pos=t=this.options.duration?b.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Ze.propHooks._default.set(this),this}}).init.prototype=Ze.prototype,(Ze.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=b.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){b.fx.step[e.prop]?b.fx.step[e.prop](e):1!==e.elem.nodeType||!b.cssHooks[e.prop]&&null==e.elem.style[Ve(e.prop)]?e.elem[e.prop]=e.now:b.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=Ze.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},b.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},b.fx=Ze.prototype.init,b.fx.step={};var $e,et,tt,nt,it=/^(?:toggle|show|hide)$/,rt=/queueHooks$/;function ot(){et&&(!1===g.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(ot):e.setTimeout(ot,b.fx.interval),b.fx.tick())}function st(){return e.setTimeout(function(){$e=void 0}),$e=Date.now()}function at(e,t){var n,i=0,r={height:e};for(t=t?1:0;i<4;i+=2-t)r["margin"+(n=ne[i])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function lt(e,t,n){for(var i,r=(ct.tweeners[t]||[]).concat(ct.tweeners["*"]),o=0,s=r.length;o<s;o++)if(i=r[o].call(n,t,e))return i}function ct(e,t,n){var i,r,o=0,s=ct.prefilters.length,a=b.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=$e||st(),n=Math.max(0,c.startTime+c.duration-t),i=1-(n/c.duration||0),o=0,s=c.tweens.length;o<s;o++)c.tweens[o].run(i);return a.notifyWith(e,[c,i,n]),i<1&&s?n:(s||a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:b.extend({},t),opts:b.extend(!0,{specialEasing:{},easing:b.easing._default},n),originalProperties:t,originalOptions:n,startTime:$e||st(),duration:n.duration,tweens:[],createTween:function(t,n){var i=b.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)c.tweens[n].run(1);return t?(a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c,t])):a.rejectWith(e,[c,t]),this}}),u=c.props;for(function(e,t){var n,i,r,o,s;for(n in e)if(r=t[i=q(n)],o=e[n],Array.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),(s=b.cssHooks[i])&&"expand"in s)for(n in o=s.expand(o),delete e[i],o)n in e||(e[n]=o[n],t[n]=r);else t[i]=r}(u,c.opts.specialEasing);o<s;o++)if(i=ct.prefilters[o].call(c,e,u,c.opts))return f(i.stop)&&(b._queueHooks(c.elem,c.opts.queue).stop=i.stop.bind(i)),i;return b.map(u,lt,c),f(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),b.fx.timer(b.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c}b.Animation=b.extend(ct,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return ae(n.elem,e,te.exec(t),n),n}]},tweener:function(e,t){f(e)?(t=e,e=["*"]):e=e.match(R);for(var n,i=0,r=e.length;i<r;i++)(ct.tweeners[n=e[i]]=ct.tweeners[n]||[]).unshift(t)},prefilters:[function(e,t,n){var i,r,o,s,a,l,c,u,d="width"in t||"height"in t,h=this,p={},f=e.style,A=e.nodeType&&se(e),g=X.get(e,"fxshow");for(i in n.queue||(null==(s=b._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,h.always(function(){h.always(function(){s.unqueued--,b.queue(e,"fx").length||s.empty.fire()})})),t)if(it.test(r=t[i])){if(delete t[i],o=o||"toggle"===r,r===(A?"hide":"show")){if("show"!==r||!g||void 0===g[i])continue;A=!0}p[i]=g&&g[i]||b.style(e,i)}if((l=!b.isEmptyObject(t))||!b.isEmptyObject(p))for(i in d&&1===e.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],null==(c=g&&g.display)&&(c=X.get(e,"display")),"none"===(u=b.css(e,"display"))&&(c?u=c:(ce([e],!0),c=e.style.display||c,u=b.css(e,"display"),ce([e]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===b.css(e,"float")&&(l||(h.done(function(){f.display=c}),null==c&&(c="none"===(u=f.display)?"":u)),f.display="inline-block")),n.overflow&&(f.overflow="hidden",h.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]})),l=!1,p)l||(g?"hidden"in g&&(A=g.hidden):g=X.access(e,"fxshow",{display:c}),o&&(g.hidden=!A),A&&ce([e],!0),h.done(function(){for(i in A||ce([e]),X.remove(e,"fxshow"),p)b.style(e,i,p[i])})),l=lt(A?g[i]:0,i,h),i in g||(g[i]=l.start,A&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?ct.prefilters.unshift(e):ct.prefilters.push(e)}}),b.speed=function(e,t,n){var i=e&&"object"==typeof e?b.extend({},e):{complete:n||!n&&t||f(e)&&e,duration:e,easing:n&&t||t&&!f(t)&&t};return b.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration=i.duration in b.fx.speeds?b.fx.speeds[i.duration]:b.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){f(i.old)&&i.old.call(this),i.queue&&b.dequeue(this,i.queue)},i},b.fn.extend({fadeTo:function(e,t,n,i){return this.filter(se).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=b.isEmptyObject(e),o=b.speed(t,n,i),s=function(){var t=ct(this,b.extend({},e),o);(r||X.get(this,"finish"))&&t.stop(!0)};return s.finish=s,r||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",o=b.timers,s=X.get(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&rt.test(r)&&i(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=e&&o[r].queue!==e||(o[r].anim.stop(n),t=!1,o.splice(r,1));!t&&n||b.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=X.get(this),i=n[e+"queue"],r=n[e+"queueHooks"],o=b.timers,s=i?i.length:0;for(n.finish=!0,b.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<s;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),b.each(["toggle","show","hide"],function(e,t){var n=b.fn[t];b.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(at(t,!0),e,i,r)}}),b.each({slideDown:at("show"),slideUp:at("hide"),slideToggle:at("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){b.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),b.timers=[],b.fx.tick=function(){var e,t=0,n=b.timers;for($e=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||b.fx.stop(),$e=void 0},b.fx.timer=function(e){b.timers.push(e),b.fx.start()},b.fx.interval=13,b.fx.start=function(){et||(et=!0,ot())},b.fx.stop=function(){et=null},b.fx.speeds={slow:600,fast:200,_default:400},b.fn.delay=function(t,n){return t=b.fx&&b.fx.speeds[t]||t,this.queue(n=n||"fx",function(n,i){var r=e.setTimeout(n,t);i.stop=function(){e.clearTimeout(r)}})},tt=g.createElement("input"),nt=g.createElement("select").appendChild(g.createElement("option")),tt.type="checkbox",p.checkOn=""!==tt.value,p.optSelected=nt.selected,(tt=g.createElement("input")).value="t",tt.type="radio",p.radioValue="t"===tt.value;var ut,dt=b.expr.attrHandle;b.fn.extend({attr:function(e,t){return z(this,b.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){b.removeAttr(this,e)})}}),b.extend({attr:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?b.prop(e,t,n):(1===o&&b.isXMLDoc(e)||(r=b.attrHooks[t.toLowerCase()]||(b.expr.match.bool.test(t)?ut:void 0)),void 0!==n?null===n?void b.removeAttr(e,t):r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):r&&"get"in r&&null!==(i=r.get(e,t))?i:null==(i=b.find.attr(e,t))?void 0:i)},attrHooks:{type:{set:function(e,t){if(!p.radioValue&&"radio"===t&&L(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i=0,r=t&&t.match(R);if(r&&1===e.nodeType)for(;n=r[i++];)e.removeAttribute(n)}}),ut={set:function(e,t,n){return!1===t?b.removeAttr(e,n):e.setAttribute(n,n),n}},b.each(b.expr.match.bool.source.match(/\w+/g),function(e,t){var n=dt[t]||b.find.attr;dt[t]=function(e,t,i){var r,o,s=t.toLowerCase();return i||(o=dt[s],dt[s]=r,r=null!=n(e,t,i)?s:null,dt[s]=o),r}});var ht=/^(?:input|select|textarea|button)$/i,pt=/^(?:a|area)$/i;function ft(e){return(e.match(R)||[]).join(" ")}function At(e){return e.getAttribute&&e.getAttribute("class")||""}function gt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(R)||[]}b.fn.extend({prop:function(e,t){return z(this,b.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[b.propFix[e]||e]})}}),b.extend({prop:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&b.isXMLDoc(e)||(r=b.propHooks[t=b.propFix[t]||t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=b.find.attr(e,"tabindex");return t?parseInt(t,10):ht.test(e.nodeName)||pt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),p.optSelected||(b.propHooks.selected={get:function(e){return null},set:function(e){}}),b.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){b.propFix[this.toLowerCase()]=this}),b.fn.extend({addClass:function(e){var t,n,i,r,o,s,a,l=0;if(f(e))return this.each(function(t){b(this).addClass(e.call(this,t,At(this)))});if((t=gt(e)).length)for(;n=this[l++];)if(r=At(n),i=1===n.nodeType&&" "+ft(r)+" "){for(s=0;o=t[s++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");r!==(a=ft(i))&&n.setAttribute("class",a)}return this},removeClass:function(e){var t,n,i,r,o,s,a,l=0;if(f(e))return this.each(function(t){b(this).removeClass(e.call(this,t,At(this)))});if(!arguments.length)return this.attr("class","");if((t=gt(e)).length)for(;n=this[l++];)if(r=At(n),i=1===n.nodeType&&" "+ft(r)+" "){for(s=0;o=t[s++];)for(;-1<i.indexOf(" "+o+" ");)i=i.replace(" "+o+" "," ");r!==(a=ft(i))&&n.setAttribute("class",a)}return this},toggleClass:function(e,t){var n=typeof e,i="string"===n||Array.isArray(e);return"boolean"==typeof t&&i?t?this.addClass(e):this.removeClass(e):f(e)?this.each(function(n){b(this).toggleClass(e.call(this,n,At(this),t),t)}):this.each(function(){var t,r,o,s;if(i)for(r=0,o=b(this),s=gt(e);t=s[r++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else void 0!==e&&"boolean"!==n||((t=At(this))&&X.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":X.get(this,"__className__")||""))})},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&-1<(" "+ft(At(n))+" ").indexOf(t))return!0;return!1}});var mt=/\r/g;b.fn.extend({val:function(e){var t,n,i,r=this[0];return arguments.length?(i=f(e),this.each(function(n){var r;1===this.nodeType&&(null==(r=i?e.call(this,n,b(this).val()):e)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=b.map(r,function(e){return null==e?"":e+""})),(t=b.valHooks[this.type]||b.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))})):r?(t=b.valHooks[r.type]||b.valHooks[r.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(mt,""):null==n?"":n:void 0}}),b.extend({valHooks:{option:{get:function(e){var t=b.find.attr(e,"value");return null!=t?t:ft(b.text(e))}},select:{get:function(e){var t,n,i,r=e.options,o=e.selectedIndex,s="select-one"===e.type,a=s?null:[],l=s?o+1:r.length;for(i=o<0?l:s?o:0;i<l;i++)if(((n=r[i]).selected||i===o)&&!n.disabled&&(!n.parentNode.disabled||!L(n.parentNode,"optgroup"))){if(t=b(n).val(),s)return t;a.push(t)}return a},set:function(e,t){for(var n,i,r=e.options,o=b.makeArray(t),s=r.length;s--;)((i=r[s]).selected=-1<b.inArray(b.valHooks.option.get(i),o))&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),b.each(["radio","checkbox"],function(){b.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<b.inArray(b(e).val(),t)}},p.checkOn||(b.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),p.focusin="onfocusin"in e;var yt=/^(?:focusinfocus|focusoutblur)$/,vt=function(e){e.stopPropagation()};b.extend(b.event,{trigger:function(t,n,i,r){var o,s,a,l,c,d,h,p,m=[i||g],y=u.call(t,"type")?t.type:t,v=u.call(t,"namespace")?t.namespace.split("."):[];if(s=p=a=i=i||g,3!==i.nodeType&&8!==i.nodeType&&!yt.test(y+b.event.triggered)&&(-1<y.indexOf(".")&&(y=(v=y.split(".")).shift(),v.sort()),c=y.indexOf(":")<0&&"on"+y,(t=t[b.expando]?t:new b.Event(y,"object"==typeof t&&t)).isTrigger=r?2:3,t.namespace=v.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:b.makeArray(n,[t]),h=b.event.special[y]||{},r||!h.trigger||!1!==h.trigger.apply(i,n))){if(!r&&!h.noBubble&&!A(i)){for(yt.test((l=h.delegateType||y)+y)||(s=s.parentNode);s;s=s.parentNode)m.push(s),a=s;a===(i.ownerDocument||g)&&m.push(a.defaultView||a.parentWindow||e)}for(o=0;(s=m[o++])&&!t.isPropagationStopped();)p=s,t.type=1<o?l:h.bindType||y,(d=(X.get(s,"events")||Object.create(null))[t.type]&&X.get(s,"handle"))&&d.apply(s,n),(d=c&&s[c])&&d.apply&&G(s)&&(t.result=d.apply(s,n),!1===t.result&&t.preventDefault());return t.type=y,r||t.isDefaultPrevented()||h._default&&!1!==h._default.apply(m.pop(),n)||!G(i)||c&&f(i[y])&&!A(i)&&((a=i[c])&&(i[c]=null),b.event.triggered=y,t.isPropagationStopped()&&p.addEventListener(y,vt),i[y](),t.isPropagationStopped()&&p.removeEventListener(y,vt),b.event.triggered=void 0,a&&(i[c]=a)),t.result}},simulate:function(e,t,n){var i=b.extend(new b.Event,n,{type:e,isSimulated:!0});b.event.trigger(i,null,t)}}),b.fn.extend({trigger:function(e,t){return this.each(function(){b.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return b.event.trigger(e,t,n,!0)}}),p.focusin||b.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){b.event.simulate(t,e.target,b.event.fix(e))};b.event.special[t]={setup:function(){var i=this.ownerDocument||this.document||this,r=X.access(i,t);r||i.addEventListener(e,n,!0),X.access(i,t,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this.document||this,r=X.access(i,t)-1;r?X.access(i,t,r):(i.removeEventListener(e,n,!0),X.remove(i,t))}}});var wt=e.location,bt={guid:Date.now()},_t=/\?/;b.parseXML=function(t){var n,i;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(t){}return i=n&&n.getElementsByTagName("parsererror")[0],n&&!i||b.error("Invalid XML: "+(i?b.map(i.childNodes,function(e){return e.textContent}).join("\n"):t)),n};var Ct=/\[\]$/,Et=/\r?\n/g,St=/^(?:submit|button|image|reset|file)$/i,Tt=/^(?:input|select|textarea|keygen)/i;function Lt(e,t,n,i){var r;if(Array.isArray(t))b.each(t,function(t,r){n||Ct.test(e)?i(e,r):Lt(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,n,i)});else if(n||"object"!==v(t))i(e,t);else for(r in t)Lt(e+"["+r+"]",t[r],n,i)}b.param=function(e,t){var n,i=[],r=function(e,t){var n=f(t)?t():t;i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!b.isPlainObject(e))b.each(e,function(){r(this.name,this.value)});else for(n in e)Lt(n,e[n],t,r);return i.join("&")},b.fn.extend({serialize:function(){return b.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=b.prop(this,"elements");return e?b.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!b(this).is(":disabled")&&Tt.test(this.nodeName)&&!St.test(e)&&(this.checked||!he.test(e))}).map(function(e,t){var n=b(this).val();return null==n?null:Array.isArray(n)?b.map(n,function(e){return{name:t.name,value:e.replace(Et,"\r\n")}}):{name:t.name,value:n.replace(Et,"\r\n")}}).get()}});var xt=/%20/g,It=/#.*$/,Bt=/([?&])_=[^&]*/,Ft=/^(.*?):[ \t]*([^\r\n]*)$/gm,Nt=/^(?:GET|HEAD)$/,Dt=/^\/\//,Ot={},Rt={},Mt="*/".concat("*"),Ut=g.createElement("a");function Pt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,o=t.toLowerCase().match(R)||[];if(f(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function Ht(e,t,n,i){var r={},o=e===Rt;function s(a){var l;return r[a]=!0,b.each(e[a]||[],function(e,a){var c=a(t,n,i);return"string"!=typeof c||o||r[c]?o?!(l=c):void 0:(t.dataTypes.unshift(c),s(c),!1)}),l}return s(t.dataTypes[0])||!r["*"]&&s("*")}function kt(e,t){var n,i,r=b.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&b.extend(!0,e,i),e}Ut.href=wt.href,b.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:wt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(wt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Mt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":b.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?kt(kt(e,b.ajaxSettings),t):kt(b.ajaxSettings,e)},ajaxPrefilter:Pt(Ot),ajaxTransport:Pt(Rt),ajax:function(t,n){"object"==typeof t&&(n=t,t=void 0);var i,r,o,s,a,l,c,u,d,h,p=b.ajaxSetup({},n=n||{}),f=p.context||p,A=p.context&&(f.nodeType||f.jquery)?b(f):b.event,m=b.Deferred(),y=b.Callbacks("once memory"),v=p.statusCode||{},w={},_={},C="canceled",E={readyState:0,getResponseHeader:function(e){var t;if(c){if(!s)for(s={};t=Ft.exec(o);)s[t[1].toLowerCase()+" "]=(s[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=s[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return c?o:null},setRequestHeader:function(e,t){return null==c&&(e=_[e.toLowerCase()]=_[e.toLowerCase()]||e,w[e]=t),this},overrideMimeType:function(e){return null==c&&(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)E.always(e[E.status]);else for(t in e)v[t]=[v[t],e[t]];return this},abort:function(e){var t=e||C;return i&&i.abort(t),S(0,t),this}};if(m.promise(E),p.url=((t||p.url||wt.href)+"").replace(Dt,wt.protocol+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(R)||[""],null==p.crossDomain){l=g.createElement("a");try{l.href=p.url,l.href=l.href,p.crossDomain=Ut.protocol+"//"+Ut.host!=l.protocol+"//"+l.host}catch(t){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=b.param(p.data,p.traditional)),Ht(Ot,p,n,E),c)return E;for(d in(u=b.event&&p.global)&&0==b.active++&&b.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Nt.test(p.type),r=p.url.replace(It,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(xt,"+")):(h=p.url.slice(r.length),p.data&&(p.processData||"string"==typeof p.data)&&(r+=(_t.test(r)?"&":"?")+p.data,delete p.data),!1===p.cache&&(r=r.replace(Bt,"$1"),h=(_t.test(r)?"&":"?")+"_="+bt.guid+++h),p.url=r+h),p.ifModified&&(b.lastModified[r]&&E.setRequestHeader("If-Modified-Since",b.lastModified[r]),b.etag[r]&&E.setRequestHeader("If-None-Match",b.etag[r])),(p.data&&p.hasContent&&!1!==p.contentType||n.contentType)&&E.setRequestHeader("Content-Type",p.contentType),E.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Mt+"; q=0.01":""):p.accepts["*"]),p.headers)E.setRequestHeader(d,p.headers[d]);if(p.beforeSend&&(!1===p.beforeSend.call(f,E,p)||c))return E.abort();if(C="abort",y.add(p.complete),E.done(p.success),E.fail(p.error),i=Ht(Rt,p,n,E)){if(E.readyState=1,u&&A.trigger("ajaxSend",[E,p]),c)return E;p.async&&0<p.timeout&&(a=e.setTimeout(function(){E.abort("timeout")},p.timeout));try{c=!1,i.send(w,S)}catch(t){if(c)throw t;S(-1,t)}}else S(-1,"No Transport");function S(t,n,s,l){var d,h,g,w,_,C=n;c||(c=!0,a&&e.clearTimeout(a),i=void 0,o=l||"",E.readyState=0<t?4:0,d=200<=t&&t<300||304===t,s&&(w=function(e,t,n){for(var i,r,o,s,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||e.converters[r+" "+l[0]]){o=r;break}s||(s=r)}o=o||s}if(o)return o!==l[0]&&l.unshift(o),n[o]}(p,E,s)),!d&&-1<b.inArray("script",p.dataTypes)&&b.inArray("json",p.dataTypes)<0&&(p.converters["text script"]=function(){}),w=function(e,t,n,i){var r,o,s,a,l,c={},u=e.dataTypes.slice();if(u[1])for(s in e.converters)c[s.toLowerCase()]=e.converters[s];for(o=u.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(s=c[l+" "+o]||c["* "+o]))for(r in c)if((a=r.split(" "))[1]===o&&(s=c[l+" "+a[0]]||c["* "+a[0]])){!0===s?s=c[r]:!0!==c[r]&&(o=a[0],u.unshift(a[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}(p,w,E,d),d?(p.ifModified&&((_=E.getResponseHeader("Last-Modified"))&&(b.lastModified[r]=_),(_=E.getResponseHeader("etag"))&&(b.etag[r]=_)),204===t||"HEAD"===p.type?C="nocontent":304===t?C="notmodified":(C=w.state,h=w.data,d=!(g=w.error))):(g=C,!t&&C||(C="error",t<0&&(t=0))),E.status=t,E.statusText=(n||C)+"",d?m.resolveWith(f,[h,C,E]):m.rejectWith(f,[E,C,g]),E.statusCode(v),v=void 0,u&&A.trigger(d?"ajaxSuccess":"ajaxError",[E,p,d?h:g]),y.fireWith(f,[E,C]),u&&(A.trigger("ajaxComplete",[E,p]),--b.active||b.event.trigger("ajaxStop")))}return E},getJSON:function(e,t,n){return b.get(e,t,n,"json")},getScript:function(e,t){return b.get(e,void 0,t,"script")}}),b.each(["get","post"],function(e,t){b[t]=function(e,n,i,r){return f(n)&&(r=r||i,i=n,n=void 0),b.ajax(b.extend({url:e,type:t,dataType:r,data:n,success:i},b.isPlainObject(e)&&e))}}),b.ajaxPrefilter(function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),b._evalUrl=function(e,t,n){return b.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){b.globalEval(e,t,n)}})},b.fn.extend({wrapAll:function(e){var t;return this[0]&&(f(e)&&(e=e.call(this[0])),t=b(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return f(e)?this.each(function(t){b(this).wrapInner(e.call(this,t))}):this.each(function(){var t=b(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=f(e);return this.each(function(n){b(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){b(this).replaceWith(this.childNodes)}),this}}),b.expr.pseudos.hidden=function(e){return!b.expr.pseudos.visible(e)},b.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},b.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(t){}};var Qt={0:200,1223:204},zt=b.ajaxSettings.xhr();p.cors=!!zt&&"withCredentials"in zt,p.ajax=zt=!!zt,b.ajaxTransport(function(t){var n,i;if(p.cors||zt&&!t.crossDomain)return{send:function(r,o){var s,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)a[s]=t.xhrFields[s];for(s in t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)a.setRequestHeader(s,r[s]);n=function(e){return function(){n&&(n=i=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(Qt[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=n(),i=a.onerror=a.ontimeout=n("error"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&e.setTimeout(function(){n&&i()})},n=n("abort");try{a.send(t.hasContent&&t.data||null)}catch(r){if(n)throw r}},abort:function(){n&&n()}}}),b.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),b.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return b.globalEval(e),e}}}),b.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),b.ajaxTransport("script",function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(i,r){t=b("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&r("error"===e.type?404:200,e.type)}),g.head.appendChild(t[0])},abort:function(){n&&n()}}});var jt,Vt=[],Wt=/(=)\?(?=&|$)|\?\?/;b.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Vt.pop()||b.expando+"_"+bt.guid++;return this[e]=!0,e}}),b.ajaxPrefilter("json jsonp",function(t,n,i){var r,o,s,a=!1!==t.jsonp&&(Wt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Wt.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=f(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Wt,"$1"+r):!1!==t.jsonp&&(t.url+=(_t.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return s||b.error(r+" was not called"),s[0]},t.dataTypes[0]="json",o=e[r],e[r]=function(){s=arguments},i.always(function(){void 0===o?b(e).removeProp(r):e[r]=o,t[r]&&(t.jsonpCallback=n.jsonpCallback,Vt.push(r)),s&&f(o)&&o(s[0]),s=o=void 0}),"script"}),p.createHTMLDocument=((jt=g.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===jt.childNodes.length),b.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(p.createHTMLDocument?((i=(t=g.implementation.createHTMLDocument("")).createElement("base")).href=g.location.href,t.head.appendChild(i)):t=g),o=!n&&[],(r=x.exec(e))?[t.createElement(r[1])]:(r=ve([e],t,o),o&&o.length&&b(o).remove(),b.merge([],r.childNodes)));var i,r,o},b.fn.load=function(e,t,n){var i,r,o,s=this,a=e.indexOf(" ");return-1<a&&(i=ft(e.slice(a)),e=e.slice(0,a)),f(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),0<s.length&&b.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){o=arguments,s.html(i?b("<div>").append(b.parseHTML(e)).find(i):e)}).always(n&&function(e,t){s.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},b.expr.pseudos.animated=function(e){return b.grep(b.timers,function(t){return e===t.elem}).length},b.offset={setOffset:function(e,t,n){var i,r,o,s,a,l,c=b.css(e,"position"),u=b(e),d={};"static"===c&&(e.style.position="relative"),a=u.offset(),o=b.css(e,"top"),l=b.css(e,"left"),("absolute"===c||"fixed"===c)&&-1<(o+l).indexOf("auto")?(s=(i=u.position()).top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(l)||0),f(t)&&(t=t.call(e,n,b.extend({},a))),null!=t.top&&(d.top=t.top-a.top+s),null!=t.left&&(d.left=t.left-a.left+r),"using"in t?t.using.call(e,d):u.css(d)}},b.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){b.offset.setOffset(this,e,t)});var t,n,i=this[0];return i?i.getClientRects().length?{top:(t=i.getBoundingClientRect()).top+(n=i.ownerDocument.defaultView).pageYOffset,left:t.left+n.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,i=this[0],r={top:0,left:0};if("fixed"===b.css(i,"position"))t=i.getBoundingClientRect();else{for(t=this.offset(),n=i.ownerDocument,e=i.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===b.css(e,"position");)e=e.parentNode;e&&e!==i&&1===e.nodeType&&((r=b(e).offset()).top+=b.css(e,"borderTopWidth",!0),r.left+=b.css(e,"borderLeftWidth",!0))}return{top:t.top-r.top-b.css(i,"marginTop",!0),left:t.left-r.left-b.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===b.css(e,"position");)e=e.offsetParent;return e||ie})}}),b.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;b.fn[e]=function(i){return z(this,function(e,i,r){var o;if(A(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===r)return o?o[t]:e[i];o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):e[i]=r},e,i,arguments.length)}}),b.each(["top","left"],function(e,t){b.cssHooks[t]=ke(p.pixelPosition,function(e,n){if(n)return n=He(e,t),Re.test(n)?b(e).position()[t]+"px":n})}),b.each({Height:"height",Width:"width"},function(e,t){b.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){b.fn[i]=function(r,o){var s=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===o?"margin":"border");return z(this,function(t,n,r){var o;return A(t)?0===i.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===r?b.css(t,n,a):b.style(t,n,r,a)},t,s?r:void 0,s)}})}),b.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){b.fn[t]=function(e){return this.on(t,e)}}),b.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),b.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){b.fn[t]=function(e,n){return 0<arguments.length?this.on(t,null,e,n):this.trigger(t)}});var qt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;b.proxy=function(e,t){var n,i,o;if("string"==typeof t&&(n=e[t],t=e,e=n),f(e))return i=r.call(arguments,2),(o=function(){return e.apply(t||this,i.concat(r.call(arguments)))}).guid=e.guid=e.guid||b.guid++,o},b.holdReady=function(e){e?b.readyWait++:b.ready(!0)},b.isArray=Array.isArray,b.parseJSON=JSON.parse,b.nodeName=L,b.isFunction=f,b.isWindow=A,b.camelCase=q,b.type=v,b.now=Date.now,b.isNumeric=function(e){var t=b.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},b.trim=function(e){return null==e?"":(e+"").replace(qt,"")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return b});var Gt=e.jQuery,Kt=e.$;return b.noConflict=function(t){return e.$===b&&(e.$=Kt),t&&e.jQuery===b&&(e.jQuery=Gt),b},void 0===t&&(e.jQuery=e.$=b),b}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e,t){function n(){return new Date(Date.UTC.apply(Date,arguments))}function i(){var e=new Date;return n(e.getFullYear(),e.getMonth(),e.getDate())}function r(e,t){return e.getUTCFullYear()===t.getUTCFullYear()&&e.getUTCMonth()===t.getUTCMonth()&&e.getUTCDate()===t.getUTCDate()}function o(n,i){return function(){return i!==t&&e.fn.datepicker.deprecated(i),this[n].apply(this,arguments)}}function s(t,n){function i(e,t){return t.toLowerCase()}var r=e(t).data(),o={},s=new RegExp("^"+n.toLowerCase()+"([A-Z])");for(var a in n=new RegExp("^"+n.toLowerCase()),r)n.test(a)&&(o[a.replace(s,i)]=r[a]);return o}function a(t){var n={};if(A[t]||(t=t.split("-")[0],A[t])){var i=A[t];return e.each(f,function(e,t){t in i&&(n[t]=i[t])}),n}}var l=function(){var t={get:function(e){return this.slice(e)[0]},contains:function(e){for(var t=e&&e.valueOf(),n=0,i=this.length;n<i;n++)if(0<=this[n].valueOf()-t&&this[n].valueOf()-t<864e5)return n;return-1},remove:function(e){this.splice(e,1)},replace:function(t){t&&(e.isArray(t)||(t=[t]),this.clear(),this.push.apply(this,t))},clear:function(){this.length=0},copy:function(){var e=new l;return e.replace(this),e}};return function(){var n=[];return n.push.apply(n,arguments),e.extend(n,t),n}}(),c=function(t,n){e.data(t,"datepicker",this),this._events=[],this._secondaryEvents=[],this._process_options(n),this.dates=new l,this.viewDate=this.o.defaultViewDate,this.focusDate=null,this.element=e(t),this.isInput=this.element.is("input"),this.inputField=this.isInput?this.element:this.element.find("input"),this.component=!!this.element.hasClass("date")&&this.element.find(".add-on, .input-group-addon, .input-group-append, .input-group-prepend, .btn"),this.component&&0===this.component.length&&(this.component=!1),this.isInline=!this.component&&this.element.is("div"),this.picker=e(g.template),this._check_template(this.o.templates.leftArrow)&&this.picker.find(".prev").html(this.o.templates.leftArrow),this._check_template(this.o.templates.rightArrow)&&this.picker.find(".next").html(this.o.templates.rightArrow),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.o.calendarWeeks&&this.picker.find(".datepicker-days .datepicker-switch, thead .datepicker-title, tfoot .today, tfoot .clear").attr("colspan",function(e,t){return Number(t)+1}),this._process_options({startDate:this._o.startDate,endDate:this._o.endDate,daysOfWeekDisabled:this.o.daysOfWeekDisabled,daysOfWeekHighlighted:this.o.daysOfWeekHighlighted,datesDisabled:this.o.datesDisabled}),this._allow_update=!1,this.setViewMode(this.o.startView),this._allow_update=!0,this.fillDow(),this.fillMonths(),this.update(),this.isInline&&this.show()};c.prototype={constructor:c,_resolveViewName:function(t){return e.each(g.viewModes,function(n,i){if(t===n||-1!==e.inArray(t,i.names))return t=n,!1}),t},_resolveDaysOfWeek:function(t){return e.isArray(t)||(t=t.split(/[,\s]*/)),e.map(t,Number)},_check_template:function(n){try{return n!==t&&""!==n&&((n.match(/[<>]/g)||[]).length<=0||e(n).length>0)}catch(e){return!1}},_process_options:function(t){this._o=e.extend({},this._o,t);var r=this.o=e.extend({},this._o),o=r.language;A[o]||(o=o.split("-")[0],A[o]||(o=p.language)),r.language=o,r.startView=this._resolveViewName(r.startView),r.minViewMode=this._resolveViewName(r.minViewMode),r.maxViewMode=this._resolveViewName(r.maxViewMode),r.startView=Math.max(this.o.minViewMode,Math.min(this.o.maxViewMode,r.startView)),!0!==r.multidate&&(r.multidate=Number(r.multidate)||!1,!1!==r.multidate&&(r.multidate=Math.max(0,r.multidate))),r.multidateSeparator=String(r.multidateSeparator),r.weekStart%=7,r.weekEnd=(r.weekStart+6)%7;var s=g.parseFormat(r.format);r.startDate!==-1/0&&(r.startDate=r.startDate?r.startDate instanceof Date?this._local_to_utc(this._zero_time(r.startDate)):g.parseDate(r.startDate,s,r.language,r.assumeNearbyYear):-1/0),r.endDate!==1/0&&(r.endDate=r.endDate?r.endDate instanceof Date?this._local_to_utc(this._zero_time(r.endDate)):g.parseDate(r.endDate,s,r.language,r.assumeNearbyYear):1/0),r.daysOfWeekDisabled=this._resolveDaysOfWeek(r.daysOfWeekDisabled||[]),r.daysOfWeekHighlighted=this._resolveDaysOfWeek(r.daysOfWeekHighlighted||[]),r.datesDisabled=r.datesDisabled||[],e.isArray(r.datesDisabled)||(r.datesDisabled=r.datesDisabled.split(",")),r.datesDisabled=e.map(r.datesDisabled,function(e){return g.parseDate(e,s,r.language,r.assumeNearbyYear)});var a=String(r.orientation).toLowerCase().split(/\s+/g),l=r.orientation.toLowerCase();if(a=e.grep(a,function(e){return/^auto|left|right|top|bottom$/.test(e)}),r.orientation={x:"auto",y:"auto"},l&&"auto"!==l)if(1===a.length)switch(a[0]){case"top":case"bottom":r.orientation.y=a[0];break;case"left":case"right":r.orientation.x=a[0]}else l=e.grep(a,function(e){return/^left|right$/.test(e)}),r.orientation.x=l[0]||"auto",l=e.grep(a,function(e){return/^top|bottom$/.test(e)}),r.orientation.y=l[0]||"auto";if(r.defaultViewDate instanceof Date||"string"==typeof r.defaultViewDate)r.defaultViewDate=g.parseDate(r.defaultViewDate,s,r.language,r.assumeNearbyYear);else if(r.defaultViewDate){var c=r.defaultViewDate.year||(new Date).getFullYear();r.defaultViewDate=n(c,r.defaultViewDate.month||0,r.defaultViewDate.day||1)}else r.defaultViewDate=i()},_applyEvents:function(e){for(var n,i,r=0;r<e.length;r++)2===e[r].length?(n=t,i=e[r][1]):3===e[r].length&&(n=e[r][1],i=e[r][2]),e[r][0].on(i,n)},_unapplyEvents:function(e){for(var n,i,r=0;r<e.length;r++)2===e[r].length?(i=t,n=e[r][1]):3===e[r].length&&(i=e[r][1],n=e[r][2]),e[r][0].off(n,i)},_buildEvents:function(){var t={keyup:e.proxy(function(t){-1===e.inArray(t.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:e.proxy(this.keydown,this),paste:e.proxy(this.paste,this)};!0===this.o.showOnFocus&&(t.focus=e.proxy(this.show,this)),this._events=this.isInput?[[this.element,t]]:this.component&&this.inputField.length?[[this.inputField,t],[this.component,{click:e.proxy(this.show,this)}]]:[[this.element,{click:e.proxy(this.show,this),keydown:e.proxy(this.keydown,this)}]],this._events.push([this.element,"*",{blur:e.proxy(function(e){this._focused_from=e.target},this)}],[this.element,{blur:e.proxy(function(e){this._focused_from=e.target},this)}]),this.o.immediateUpdates&&this._events.push([this.element,{"changeYear changeMonth":e.proxy(function(e){this.update(e.date)},this)}]),this._secondaryEvents=[[this.picker,{click:e.proxy(this.click,this)}],[this.picker,".prev, .next",{click:e.proxy(this.navArrowsClick,this)}],[this.picker,".day:not(.disabled)",{click:e.proxy(this.dayCellClick,this)}],[e(window),{resize:e.proxy(this.place,this)}],[e(document),{"mousedown touchstart":e.proxy(function(e){this.element.is(e.target)||this.element.find(e.target).length||this.picker.is(e.target)||this.picker.find(e.target).length||this.isInline||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(t,n){var i=n||this.dates.get(-1),r=this._utc_to_local(i);this.element.trigger({type:t,date:r,viewMode:this.viewMode,dates:e.map(this.dates,this._utc_to_local),format:e.proxy(function(e,t){0===arguments.length?(e=this.dates.length-1,t=this.o.format):"string"==typeof e&&(t=e,e=this.dates.length-1),t=t||this.o.format;var n=this.dates.get(e);return g.formatDate(n,t,this.o.language)},this)})},show:function(){if(!(this.inputField.is(":disabled")||this.inputField.prop("readonly")&&!1===this.o.enableOnReadonly))return this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&e(this.element).blur(),this},hide:function(){return this.isInline||!this.picker.is(":visible")||(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.setViewMode(this.o.startView),this.o.forceParse&&this.inputField.val()&&this.setValue(),this._trigger("hide")),this},destroy:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},paste:function(t){var n;if(t.originalEvent.clipboardData&&t.originalEvent.clipboardData.types&&-1!==e.inArray("text/plain",t.originalEvent.clipboardData.types))n=t.originalEvent.clipboardData.getData("text/plain");else{if(!window.clipboardData)return;n=window.clipboardData.getData("Text")}this.setDate(n),this.update(),t.preventDefault()},_utc_to_local:function(e){if(!e)return e;var t=new Date(e.getTime()+6e4*e.getTimezoneOffset());return t.getTimezoneOffset()!==e.getTimezoneOffset()&&(t=new Date(e.getTime()+6e4*t.getTimezoneOffset())),t},_local_to_utc:function(e){return e&&new Date(e.getTime()-6e4*e.getTimezoneOffset())},_zero_time:function(e){return e&&new Date(e.getFullYear(),e.getMonth(),e.getDate())},_zero_utc_time:function(e){return e&&n(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate())},getDates:function(){return e.map(this.dates,this._utc_to_local)},getUTCDates:function(){return e.map(this.dates,function(e){return new Date(e)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var e=this.dates.get(-1);return e!==t?new Date(e):null},clearDates:function(){this.inputField.val(""),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()},setDates:function(){var t=e.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,t),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var t=e.isArray(arguments[0])?arguments[0]:arguments;return this.setDates.apply(this,e.map(t,this._utc_to_local)),this},setDate:o("setDates"),setUTCDate:o("setUTCDates"),remove:o("destroy","Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead"),setValue:function(){var e=this.getFormattedDate();return this.inputField.val(e),this},getFormattedDate:function(n){n===t&&(n=this.o.format);var i=this.o.language;return e.map(this.dates,function(e){return g.formatDate(e,n,i)}).join(this.o.multidateSeparator)},getStartDate:function(){return this.o.startDate},setStartDate:function(e){return this._process_options({startDate:e}),this.update(),this.updateNavArrows(),this},getEndDate:function(){return this.o.endDate},setEndDate:function(e){return this._process_options({endDate:e}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(e){return this._process_options({daysOfWeekDisabled:e}),this.update(),this},setDaysOfWeekHighlighted:function(e){return this._process_options({daysOfWeekHighlighted:e}),this.update(),this},setDatesDisabled:function(e){return this._process_options({datesDisabled:e}),this.update(),this},place:function(){if(this.isInline)return this;var t=this.picker.outerWidth(),n=this.picker.outerHeight(),i=e(this.o.container),r=i.width(),o="body"===this.o.container?e(document).scrollTop():i.scrollTop(),s=i.offset(),a=[0];this.element.parents().each(function(){var t=e(this).css("z-index");"auto"!==t&&0!==Number(t)&&a.push(Number(t))});var l=Math.max.apply(Math,a)+this.o.zIndexOffset,c=this.component?this.component.parent().offset():this.element.offset(),u=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),d=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),h=c.left-s.left,p=c.top-s.top;"body"!==this.o.container&&(p+=o),this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(h-=t-d)):c.left<0?(this.picker.addClass("datepicker-orient-left"),h-=c.left-10):h+t>r?(this.picker.addClass("datepicker-orient-right"),h+=d-t):this.picker.addClass(this.o.rtl?"datepicker-orient-right":"datepicker-orient-left");var f=this.o.orientation.y;return"auto"===f&&(f=-o+p-n<0?"bottom":"top"),this.picker.addClass("datepicker-orient-"+f),"top"===f?p-=n+parseInt(this.picker.css("padding-top")):p+=u,this.picker.css(this.o.rtl?{top:p,right:r-(h+d),zIndex:l}:{top:p,left:h,zIndex:l}),this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var t=this.dates.copy(),n=[],i=!1;return arguments.length?(e.each(arguments,e.proxy(function(e,t){t instanceof Date&&(t=this._local_to_utc(t)),n.push(t)},this)),i=!0):(n=(n=this.isInput?this.element.val():this.element.data("date")||this.inputField.val())&&this.o.multidate?n.split(this.o.multidateSeparator):[n],delete this.element.data().date),n=e.map(n,e.proxy(function(e){return g.parseDate(e,this.o.format,this.o.language,this.o.assumeNearbyYear)},this)),n=e.grep(n,e.proxy(function(e){return!this.dateWithinRange(e)||!e},this),!0),this.dates.replace(n),this.o.updateViewDate&&(this.viewDate=this.dates.length?new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?new Date(this.o.startDate):this.viewDate>this.o.endDate?new Date(this.o.endDate):this.o.defaultViewDate),i?(this.setValue(),this.element.change()):this.dates.length&&String(t)!==String(this.dates)&&i&&(this._trigger("changeDate"),this.element.change()),!this.dates.length&&t.length&&(this._trigger("clearDate"),this.element.change()),this.fill(),this},fillDow:function(){if(this.o.showWeekDays){var t=this.o.weekStart,n="<tr>";for(this.o.calendarWeeks&&(n+='<th class="cw">&#160;</th>');t<this.o.weekStart+7;)n+='<th class="dow',-1!==e.inArray(t,this.o.daysOfWeekDisabled)&&(n+=" disabled"),n+='">'+A[this.o.language].daysMin[t++%7]+"</th>";n+="</tr>",this.picker.find(".datepicker-days thead").append(n)}},fillMonths:function(){for(var e=this._utc_to_local(this.viewDate),t="",n=0;n<12;n++)t+='<span class="month'+(e&&e.getMonth()===n?" focused":"")+'">'+A[this.o.language].monthsShort[n]+"</span>";this.picker.find(".datepicker-months td").html(t)},setRange:function(t){t&&t.length?this.range=e.map(t,function(e){return e.valueOf()}):delete this.range,this.fill()},getClassNames:function(t){var n=[],o=this.viewDate.getUTCFullYear(),s=this.viewDate.getUTCMonth(),a=i();return t.getUTCFullYear()<o||t.getUTCFullYear()===o&&t.getUTCMonth()<s?n.push("old"):(t.getUTCFullYear()>o||t.getUTCFullYear()===o&&t.getUTCMonth()>s)&&n.push("new"),this.focusDate&&t.valueOf()===this.focusDate.valueOf()&&n.push("focused"),this.o.todayHighlight&&r(t,a)&&n.push("today"),-1!==this.dates.contains(t)&&n.push("active"),this.dateWithinRange(t)||n.push("disabled"),this.dateIsDisabled(t)&&n.push("disabled","disabled-date"),-1!==e.inArray(t.getUTCDay(),this.o.daysOfWeekHighlighted)&&n.push("highlighted"),this.range&&(t>this.range[0]&&t<this.range[this.range.length-1]&&n.push("range"),-1!==e.inArray(t.valueOf(),this.range)&&n.push("selected"),t.valueOf()===this.range[0]&&n.push("range-start"),t.valueOf()===this.range[this.range.length-1]&&n.push("range-end")),n},_fill_yearsView:function(n,i,r,o,s,a,l){for(var c,u,d,h="",p=r/10,f=this.picker.find(n),A=Math.floor(o/r)*r,g=A+9*p,m=Math.floor(this.viewDate.getFullYear()/p)*p,y=e.map(this.dates,function(e){return Math.floor(e.getUTCFullYear()/p)*p}),v=A-p;v<=g+p;v+=p)c=[i],u=null,v===A-p?c.push("old"):v===g+p&&c.push("new"),-1!==e.inArray(v,y)&&c.push("active"),(v<s||v>a)&&c.push("disabled"),v===m&&c.push("focused"),l!==e.noop&&((d=l(new Date(v,0,1)))===t?d={}:"boolean"==typeof d?d={enabled:d}:"string"==typeof d&&(d={classes:d}),!1===d.enabled&&c.push("disabled"),d.classes&&(c=c.concat(d.classes.split(/\s+/))),d.tooltip&&(u=d.tooltip)),h+='<span class="'+c.join(" ")+'"'+(u?' title="'+u+'"':"")+">"+v+"</span>";f.find(".datepicker-switch").text(A+"-"+g),f.find("td").html(h)},fill:function(){var r,o,s=new Date(this.viewDate),a=s.getUTCFullYear(),l=s.getUTCMonth(),c=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,u=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,d=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,h=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,p=A[this.o.language].today||A.en.today||"",f=A[this.o.language].clear||A.en.clear||"",m=A[this.o.language].titleFormat||A.en.titleFormat,y=i(),v=(!0===this.o.todayBtn||"linked"===this.o.todayBtn)&&y>=this.o.startDate&&y<=this.o.endDate&&!this.weekOfDateIsDisabled(y);if(!isNaN(a)&&!isNaN(l)){this.picker.find(".datepicker-days .datepicker-switch").text(g.formatDate(s,m,this.o.language)),this.picker.find("tfoot .today").text(p).css("display",v?"table-cell":"none"),this.picker.find("tfoot .clear").text(f).css("display",!0===this.o.clearBtn?"table-cell":"none"),this.picker.find("thead .datepicker-title").text(this.o.title).css("display","string"==typeof this.o.title&&""!==this.o.title?"table-cell":"none"),this.updateNavArrows(),this.fillMonths();var w=n(a,l,0),b=w.getUTCDate();w.setUTCDate(b-(w.getUTCDay()-this.o.weekStart+7)%7);var _=new Date(w);w.getUTCFullYear()<100&&_.setUTCFullYear(w.getUTCFullYear()),_.setUTCDate(_.getUTCDate()+42),_=_.valueOf();for(var C,E,S=[];w.valueOf()<_;){if((C=w.getUTCDay())===this.o.weekStart&&(S.push("<tr>"),this.o.calendarWeeks)){var T=new Date(+w+(this.o.weekStart-C-7)%7*864e5),L=new Date(Number(T)+(11-T.getUTCDay())%7*864e5),x=new Date(Number(x=n(L.getUTCFullYear(),0,1))+(11-x.getUTCDay())%7*864e5);S.push('<td class="cw">'+((L-x)/864e5/7+1)+"</td>")}(E=this.getClassNames(w)).push("day");var I=w.getUTCDate();this.o.beforeShowDay!==e.noop&&((o=this.o.beforeShowDay(this._utc_to_local(w)))===t?o={}:"boolean"==typeof o?o={enabled:o}:"string"==typeof o&&(o={classes:o}),!1===o.enabled&&E.push("disabled"),o.classes&&(E=E.concat(o.classes.split(/\s+/))),o.tooltip&&(r=o.tooltip),o.content&&(I=o.content)),E=e.isFunction(e.uniqueSort)?e.uniqueSort(E):e.unique(E),S.push('<td class="'+E.join(" ")+'"'+(r?' title="'+r+'"':"")+' data-date="'+w.getTime().toString()+'">'+I+"</td>"),r=null,C===this.o.weekEnd&&S.push("</tr>"),w.setUTCDate(w.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").html(S.join(""));var B=A[this.o.language].monthsTitle||A.en.monthsTitle||"Months",F=this.picker.find(".datepicker-months").find(".datepicker-switch").text(this.o.maxViewMode<2?B:a).end().find("tbody span").removeClass("active");if(e.each(this.dates,function(e,t){t.getUTCFullYear()===a&&F.eq(t.getUTCMonth()).addClass("active")}),(a<c||a>d)&&F.addClass("disabled"),a===c&&F.slice(0,u).addClass("disabled"),a===d&&F.slice(h+1).addClass("disabled"),this.o.beforeShowMonth!==e.noop){var N=this;e.each(F,function(n,i){var r=new Date(a,n,1),o=N.o.beforeShowMonth(r);o===t?o={}:"boolean"==typeof o?o={enabled:o}:"string"==typeof o&&(o={classes:o}),!1!==o.enabled||e(i).hasClass("disabled")||e(i).addClass("disabled"),o.classes&&e(i).addClass(o.classes),o.tooltip&&e(i).prop("title",o.tooltip)})}this._fill_yearsView(".datepicker-years","year",10,a,c,d,this.o.beforeShowYear),this._fill_yearsView(".datepicker-decades","decade",100,a,c,d,this.o.beforeShowDecade),this._fill_yearsView(".datepicker-centuries","century",1e3,a,c,d,this.o.beforeShowCentury)}},updateNavArrows:function(){if(this._allow_update){var e,t,n=new Date(this.viewDate),i=n.getUTCFullYear(),r=n.getUTCMonth(),o=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,s=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,a=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,l=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,c=1;switch(this.viewMode){case 4:c*=10;case 3:c*=10;case 2:c*=10;case 1:e=Math.floor(i/c)*c<=o,t=Math.floor(i/c)*c+c>a;break;case 0:e=i<=o&&r<=s,t=i>=a&&r>=l}this.picker.find(".prev").toggleClass("disabled",e),this.picker.find(".next").toggleClass("disabled",t)}},click:function(t){var r,o,s;t.preventDefault(),t.stopPropagation(),(r=e(t.target)).hasClass("datepicker-switch")&&this.viewMode!==this.o.maxViewMode&&this.setViewMode(this.viewMode+1),r.hasClass("today")&&!r.hasClass("day")&&(this.setViewMode(0),this._setDate(i(),"linked"===this.o.todayBtn?null:"view")),r.hasClass("clear")&&this.clearDates(),r.hasClass("disabled")||(r.hasClass("month")||r.hasClass("year")||r.hasClass("decade")||r.hasClass("century"))&&(this.viewDate.setUTCDate(1),1===this.viewMode?(s=r.parent().find("span").index(r),o=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(s)):(s=0,o=Number(r.text()),this.viewDate.setUTCFullYear(o)),this._trigger(g.viewModes[this.viewMode-1].e,this.viewDate),this.viewMode===this.o.minViewMode?this._setDate(n(o,s,1)):(this.setViewMode(this.viewMode-1),this.fill())),this.picker.is(":visible")&&this._focused_from&&this._focused_from.focus(),delete this._focused_from},dayCellClick:function(t){var n=e(t.currentTarget).data("date"),i=new Date(n);this.o.updateViewDate&&(i.getUTCFullYear()!==this.viewDate.getUTCFullYear()&&this._trigger("changeYear",this.viewDate),i.getUTCMonth()!==this.viewDate.getUTCMonth()&&this._trigger("changeMonth",this.viewDate)),this._setDate(i)},navArrowsClick:function(t){var n=e(t.currentTarget).hasClass("prev")?-1:1;0!==this.viewMode&&(n*=12*g.viewModes[this.viewMode].navStep),this.viewDate=this.moveMonth(this.viewDate,n),this._trigger(g.viewModes[this.viewMode].e,this.viewDate),this.fill()},_toggle_multidate:function(e){var t=this.dates.contains(e);if(e||this.dates.clear(),-1!==t?(!0===this.o.multidate||this.o.multidate>1||this.o.toggleActive)&&this.dates.remove(t):!1===this.o.multidate?(this.dates.clear(),this.dates.push(e)):this.dates.push(e),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(e,t){t&&"date"!==t||this._toggle_multidate(e&&new Date(e)),(!t&&this.o.updateViewDate||"view"===t)&&(this.viewDate=e&&new Date(e)),this.fill(),this.setValue(),t&&"view"===t||this._trigger("changeDate"),this.inputField.trigger("change"),!this.o.autoclose||t&&"date"!==t||this.hide()},moveDay:function(e,t){var n=new Date(e);return n.setUTCDate(e.getUTCDate()+t),n},moveWeek:function(e,t){return this.moveDay(e,7*t)},moveMonth:function(e,t){if(!function(e){return e&&!isNaN(e.getTime())}(e))return this.o.defaultViewDate;if(!t)return e;var n,i,r=new Date(e.valueOf()),o=r.getUTCDate(),s=r.getUTCMonth(),a=Math.abs(t);if(t=t>0?1:-1,1===a)i=-1===t?function(){return r.getUTCMonth()===s}:function(){return r.getUTCMonth()!==n},r.setUTCMonth(n=s+t),n=(n+12)%12;else{for(var l=0;l<a;l++)r=this.moveMonth(r,t);n=r.getUTCMonth(),r.setUTCDate(o),i=function(){return n!==r.getUTCMonth()}}for(;i();)r.setUTCDate(--o),r.setUTCMonth(n);return r},moveYear:function(e,t){return this.moveMonth(e,12*t)},moveAvailableDate:function(e,t,n){do{if(e=this[n](e,t),!this.dateWithinRange(e))return!1;n="moveDay"}while(this.dateIsDisabled(e));return e},weekOfDateIsDisabled:function(t){return-1!==e.inArray(t.getUTCDay(),this.o.daysOfWeekDisabled)},dateIsDisabled:function(t){return this.weekOfDateIsDisabled(t)||e.grep(this.o.datesDisabled,function(e){return r(t,e)}).length>0},dateWithinRange:function(e){return e>=this.o.startDate&&e<=this.o.endDate},keydown:function(e){if(this.picker.is(":visible")){var t,n,i=!1,r=this.focusDate||this.viewDate;switch(e.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),e.preventDefault(),e.stopPropagation();break;case 37:case 38:case 39:case 40:if(!this.o.keyboardNavigation||7===this.o.daysOfWeekDisabled.length)break;t=37===e.keyCode||38===e.keyCode?-1:1,0===this.viewMode?e.ctrlKey?(n=this.moveAvailableDate(r,t,"moveYear"))&&this._trigger("changeYear",this.viewDate):e.shiftKey?(n=this.moveAvailableDate(r,t,"moveMonth"))&&this._trigger("changeMonth",this.viewDate):37===e.keyCode||39===e.keyCode?n=this.moveAvailableDate(r,t,"moveDay"):this.weekOfDateIsDisabled(r)||(n=this.moveAvailableDate(r,t,"moveWeek")):1===this.viewMode?(38!==e.keyCode&&40!==e.keyCode||(t*=4),n=this.moveAvailableDate(r,t,"moveMonth")):2===this.viewMode&&(38!==e.keyCode&&40!==e.keyCode||(t*=4),n=this.moveAvailableDate(r,t,"moveYear")),n&&(this.focusDate=this.viewDate=n,this.setValue(),this.fill(),e.preventDefault());break;case 13:if(!this.o.forceParse)break;r=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(r),i=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(e.preventDefault(),e.stopPropagation(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}i&&(this._trigger(this.dates.length?"changeDate":"clearDate"),this.inputField.trigger("change"))}else 40!==e.keyCode&&27!==e.keyCode||(this.show(),e.stopPropagation())},setViewMode:function(e){this.viewMode=e,this.picker.children("div").hide().filter(".datepicker-"+g.viewModes[this.viewMode].clsName).show(),this.updateNavArrows(),this._trigger("changeViewMode",new Date(this.viewDate))}};var u=function(t,n){e.data(t,"datepicker",this),this.element=e(t),this.inputs=e.map(n.inputs,function(e){return e.jquery?e[0]:e}),delete n.inputs,this.keepEmptyValues=n.keepEmptyValues,delete n.keepEmptyValues,h.call(e(this.inputs),n).on("changeDate",e.proxy(this.dateUpdated,this)),this.pickers=e.map(this.inputs,function(t){return e.data(t,"datepicker")}),this.updateDates()};u.prototype={updateDates:function(){this.dates=e.map(this.pickers,function(e){return e.getUTCDate()}),this.updateRanges()},updateRanges:function(){var t=e.map(this.dates,function(e){return e.valueOf()});e.each(this.pickers,function(e,n){n.setRange(t)})},clearDates:function(){e.each(this.pickers,function(e,t){t.clearDates()})},dateUpdated:function(n){if(!this.updating){this.updating=!0;var i=e.data(n.target,"datepicker");if(i!==t){var r=i.getUTCDate(),o=this.keepEmptyValues,s=e.inArray(n.target,this.inputs),a=s-1,l=s+1,c=this.inputs.length;if(-1!==s){if(e.each(this.pickers,function(e,t){t.getUTCDate()||t!==i&&o||t.setUTCDate(r)}),r<this.dates[a])for(;a>=0&&r<this.dates[a];)this.pickers[a--].setUTCDate(r);else if(r>this.dates[l])for(;l<c&&r>this.dates[l];)this.pickers[l++].setUTCDate(r);this.updateDates(),delete this.updating}}}},destroy:function(){e.map(this.pickers,function(e){e.destroy()}),e(this.inputs).off("changeDate",this.dateUpdated),delete this.element.data().datepicker},remove:o("destroy","Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead")};var d=e.fn.datepicker,h=function(n){var i,r=Array.apply(null,arguments);if(r.shift(),this.each(function(){var t=e(this),o=t.data("datepicker"),l="object"==typeof n&&n;if(!o){var d=s(this,"date"),h=a(e.extend({},p,d,l).language),f=e.extend({},p,h,d,l);t.hasClass("input-daterange")||f.inputs?(e.extend(f,{inputs:f.inputs||t.find("input").toArray()}),o=new u(this,f)):o=new c(this,f),t.data("datepicker",o)}"string"==typeof n&&"function"==typeof o[n]&&(i=o[n].apply(o,r))}),i===t||i instanceof c||i instanceof u)return this;if(this.length>1)throw new Error("Using only allowed for the collection of a single element ("+n+" function)");return i};e.fn.datepicker=h;var p=e.fn.datepicker.defaults={assumeNearbyYear:!1,autoclose:!1,beforeShowDay:e.noop,beforeShowMonth:e.noop,beforeShowYear:e.noop,beforeShowDecade:e.noop,beforeShowCentury:e.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],daysOfWeekHighlighted:[],datesDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keepEmptyValues:!1,keyboardNavigation:!0,language:"en",minViewMode:0,maxViewMode:4,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,updateViewDate:!0,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,showOnFocus:!0,zIndexOffset:10,container:"body",immediateUpdates:!1,title:"",templates:{leftArrow:"&#x00AB;",rightArrow:"&#x00BB;"},showWeekDays:!0},f=e.fn.datepicker.locale_opts=["format","rtl","weekStart"];e.fn.datepicker.Constructor=c;var A=e.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM yyyy"}},g={viewModes:[{names:["days","month"],clsName:"days",e:"changeMonth"},{names:["months","year"],clsName:"months",e:"changeYear",navStep:1},{names:["years","decade"],clsName:"years",e:"changeDecade",navStep:10},{names:["decades","century"],clsName:"decades",e:"changeCentury",navStep:100},{names:["centuries","millennium"],clsName:"centuries",e:"changeMillennium",navStep:1e3}],validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\u5e74\u6708\u65e5\[-`{-~\t\n\r]+/g,parseFormat:function(e){if("function"==typeof e.toValue&&"function"==typeof e.toDisplay)return e;var t=e.replace(this.validParts,"\0").split("\0"),n=e.match(this.validParts);if(!t||!t.length||!n||0===n.length)throw new Error("Invalid date format.");return{separators:t,parts:n}},parseDate:function(n,r,o,s){function a(){var e=this.slice(0,l[h].length),t=l[h].slice(0,e.length);return e.toLowerCase()===t.toLowerCase()}if(!n)return t;if(n instanceof Date)return n;if("string"==typeof r&&(r=g.parseFormat(r)),r.toValue)return r.toValue(n,r,o);var l,u,d,h,p,f={d:"moveDay",m:"moveMonth",w:"moveWeek",y:"moveYear"},m={yesterday:"-1d",today:"+0d",tomorrow:"+1d"};if(n in m&&(n=m[n]),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/i.test(n)){for(l=n.match(/([\-+]\d+)([dmwy])/gi),n=new Date,h=0;h<l.length;h++)u=l[h].match(/([\-+]\d+)([dmwy])/i),d=Number(u[1]),p=f[u[2].toLowerCase()],n=c.prototype[p](n,d);return c.prototype._zero_utc_time(n)}l=n&&n.match(this.nonpunctuation)||[];var y,v,w={},b=["yyyy","yy","M","MM","m","mm","d","dd"],_={yyyy:function(e,t){return e.setUTCFullYear(s?function(e,t){return!0===t&&(t=10),e<100&&(e+=2e3)>(new Date).getFullYear()+t&&(e-=100),e}(t,s):t)},m:function(e,t){if(isNaN(e))return e;for(t-=1;t<0;)t+=12;for(e.setUTCMonth(t%=12);e.getUTCMonth()!==t;)e.setUTCDate(e.getUTCDate()-1);return e},d:function(e,t){return e.setUTCDate(t)}};_.yy=_.yyyy,_.M=_.MM=_.mm=_.m,_.dd=_.d,n=i();var C=r.parts.slice();if(l.length!==C.length&&(C=e(C).filter(function(t,n){return-1!==e.inArray(n,b)}).toArray()),l.length===C.length){var E,S,T;for(h=0,E=C.length;h<E;h++){if(y=parseInt(l[h],10),u=C[h],isNaN(y))switch(u){case"MM":v=e(A[o].months).filter(a),y=e.inArray(v[0],A[o].months)+1;break;case"M":v=e(A[o].monthsShort).filter(a),y=e.inArray(v[0],A[o].monthsShort)+1}w[u]=y}for(h=0;h<b.length;h++)(T=b[h])in w&&!isNaN(w[T])&&(S=new Date(n),_[T](S,w[T]),isNaN(S)||(n=S))}return n},formatDate:function(t,n,i){if(!t)return"";if("string"==typeof n&&(n=g.parseFormat(n)),n.toDisplay)return n.toDisplay(t,n,i);var r={d:t.getUTCDate(),D:A[i].daysShort[t.getUTCDay()],DD:A[i].days[t.getUTCDay()],m:t.getUTCMonth()+1,M:A[i].monthsShort[t.getUTCMonth()],MM:A[i].months[t.getUTCMonth()],yy:t.getUTCFullYear().toString().substring(2),yyyy:t.getUTCFullYear()};r.dd=(r.d<10?"0":"")+r.d,r.mm=(r.m<10?"0":"")+r.m,t=[];for(var o=e.extend([],n.separators),s=0,a=n.parts.length;s<=a;s++)o.length&&t.push(o.shift()),t.push(r[n.parts[s]]);return t.join("")},headTemplate:'<thead><tr><th colspan="7" class="datepicker-title"></th></tr><tr><th class="prev">'+p.templates.leftArrow+'</th><th colspan="5" class="datepicker-switch"></th><th class="next">'+p.templates.rightArrow+"</th></tr></thead>",contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};g.template='<div class="datepicker"><div class="datepicker-days"><table class="table-condensed">'+g.headTemplate+"<tbody></tbody>"+g.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+g.headTemplate+g.contTemplate+g.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+g.headTemplate+g.contTemplate+g.footTemplate+'</table></div><div class="datepicker-decades"><table class="table-condensed">'+g.headTemplate+g.contTemplate+g.footTemplate+'</table></div><div class="datepicker-centuries"><table class="table-condensed">'+g.headTemplate+g.contTemplate+g.footTemplate+"</table></div></div>",e.fn.datepicker.DPGlobal=g,e.fn.datepicker.noConflict=function(){return e.fn.datepicker=d,this},e.fn.datepicker.version="1.9.0",e.fn.datepicker.deprecated=function(e){var t=window.console;t&&t.warn&&t.warn("DEPRECATED: "+e)},e(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(t){var n=e(this);n.data("datepicker")||(t.preventDefault(),h.call(n,"show"))}),e(function(){h.call(e('[data-provide="datepicker-inline"]'))})}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).Popper={})}(this,function(e){function t(e){return{width:(e=e.getBoundingClientRect()).width,height:e.height,top:e.top,right:e.right,bottom:e.bottom,left:e.left,x:e.left,y:e.top}}function n(e){return"[object Window]"!==e.toString()?(e=e.ownerDocument)&&e.defaultView||window:e}function i(e){return{scrollLeft:(e=n(e)).pageXOffset,scrollTop:e.pageYOffset}}function r(e){return e instanceof n(e).Element||e instanceof Element}function o(e){return e instanceof n(e).HTMLElement||e instanceof HTMLElement}function s(e){return e?(e.nodeName||"").toLowerCase():null}function a(e){return((r(e)?e.ownerDocument:e.document)||window.document).documentElement}function l(e){return t(a(e)).left+i(e).scrollLeft}function c(e){return n(e).getComputedStyle(e)}function u(e){return e=c(e),/auto|scroll|overlay|hidden/.test(e.overflow+e.overflowY+e.overflowX)}function d(e,r,c){void 0===c&&(c=!1);var d=a(r);e=t(e);var h=o(r),p={scrollLeft:0,scrollTop:0},f={x:0,y:0};return(h||!h&&!c)&&(("body"!==s(r)||u(d))&&(p=r!==n(r)&&o(r)?{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}:i(r)),o(r)?((f=t(r)).x+=r.clientLeft,f.y+=r.clientTop):d&&(f.x=l(d))),{x:e.left+p.scrollLeft-f.x,y:e.top+p.scrollTop-f.y,width:e.width,height:e.height}}function h(e){return{x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}}function p(e){return"html"===s(e)?e:e.assignedSlot||e.parentNode||e.host||a(e)}function f(e,t){void 0===t&&(t=[]);var i=function e(t){return 0<=["html","body","#document"].indexOf(s(t))?t.ownerDocument.body:o(t)&&u(t)?t:e(p(t))}(e);e="body"===s(i);var r=n(i);return i=e?[r].concat(r.visualViewport||[],u(i)?i:[]):i,t=t.concat(i),e?t:t.concat(f(p(i)))}function A(e){if(!o(e)||"fixed"===c(e).position)return null;if(e=e.offsetParent){var t=a(e);if("body"===s(e)&&"static"===c(e).position&&"static"!==c(t).position)return t}return e}function g(e){for(var t=n(e),i=A(e);i&&0<=["table","td","th"].indexOf(s(i))&&"static"===c(i).position;)i=A(i);if(i&&"body"===s(i)&&"static"===c(i).position)return t;if(!i)e:{for(e=p(e);o(e)&&0>["html","body"].indexOf(s(e));){if("none"!==(i=c(e)).transform||"none"!==i.perspective||i.willChange&&"auto"!==i.willChange){i=e;break e}e=e.parentNode}i=null}return i||t}function m(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function y(e){return e.split("-")[0]}function v(e,t){var i,r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if((i=r)&&(i=r instanceof(i=n(r).ShadowRoot)||r instanceof ShadowRoot),i)do{if(t&&e.isSameNode(t))return!0;t=t.parentNode||t.host}while(t);return!1}function w(e){return Object.assign(Object.assign({},e),{},{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function b(e,r){if("viewport"===r){r=n(e);var s=a(e),u=s.clientWidth;s=s.clientHeight;var d=0,h=0;(r=r.visualViewport)&&(u=r.width,s=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(d=r.offsetLeft,h=r.offsetTop)),e=w(e={width:u,height:s,x:d+l(e),y:h})}else o(r)?((e=t(r)).top+=r.clientTop,e.left+=r.clientLeft,e.bottom=e.top+r.clientHeight,e.right=e.left+r.clientWidth,e.width=r.clientWidth,e.height=r.clientHeight,e.x=e.left,e.y=e.top):(h=a(e),e=a(h),d=i(h),r=h.ownerDocument.body,u=Math.max(e.scrollWidth,e.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),s=Math.max(e.scrollHeight,e.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),h=-d.scrollLeft+l(h),d=-d.scrollTop,"rtl"===c(r||e).direction&&(h+=Math.max(e.clientWidth,r?r.clientWidth:0)-u),e=w({width:u,height:s,x:h,y:d}));return e}function _(e,t,n){return t="clippingParents"===t?function(e){var t=f(p(e)),n=0<=["absolute","fixed"].indexOf(c(e).position)&&o(e)?g(e):e;return r(n)?t.filter(function(e){return r(e)&&v(e,n)&&"body"!==s(e)}):[]}(e):[].concat(t),(n=(n=[].concat(t,[n])).reduce(function(t,n){return n=b(e,n),t.top=Math.max(n.top,t.top),t.right=Math.min(n.right,t.right),t.bottom=Math.min(n.bottom,t.bottom),t.left=Math.max(n.left,t.left),t},b(e,n[0]))).width=n.right-n.left,n.height=n.bottom-n.top,n.x=n.left,n.y=n.top,n}function C(e){return 0<=["top","bottom"].indexOf(e)?"x":"y"}function E(e){var t=e.reference,n=e.element,i=(e=e.placement)?y(e):null;e=e?e.split("-")[1]:null;var r=t.x+t.width/2-n.width/2,o=t.y+t.height/2-n.height/2;switch(i){case"top":r={x:r,y:t.y-n.height};break;case"bottom":r={x:r,y:t.y+t.height};break;case"right":r={x:t.x+t.width,y:o};break;case"left":r={x:t.x-n.width,y:o};break;default:r={x:t.x,y:t.y}}if(null!=(i=i?C(i):null))switch(o="y"===i?"height":"width",e){case"start":r[i]-=t[o]/2-n[o]/2;break;case"end":r[i]+=t[o]/2-n[o]/2}return r}function S(e){return Object.assign(Object.assign({},{top:0,right:0,bottom:0,left:0}),e)}function T(e,t){return t.reduce(function(t,n){return t[n]=e,t},{})}function L(e,n){void 0===n&&(n={});var i=n;n=void 0===(n=i.placement)?e.placement:n;var o=i.boundary,s=void 0===o?"clippingParents":o,l=void 0===(o=i.rootBoundary)?"viewport":o;o=void 0===(o=i.elementContext)?"popper":o;var c=i.altBoundary,u=void 0!==c&&c;i=S("number"!=typeof(i=void 0===(i=i.padding)?0:i)?i:T(i,R));var d=e.elements.reference;c=e.rects.popper,s=_(r(u=e.elements[u?"popper"===o?"reference":"popper":o])?u:u.contextElement||a(e.elements.popper),s,l),u=E({reference:l=t(d),element:c,strategy:"absolute",placement:n}),c=w(Object.assign(Object.assign({},c),u));var h={top:s.top-(l="popper"===o?c:l).top+i.top,bottom:l.bottom-s.bottom+i.bottom,left:s.left-l.left+i.left,right:l.right-s.right+i.right};if(e=e.modifiersData.offset,"popper"===o&&e){var p=e[n];Object.keys(h).forEach(function(e){var t=0<=["right","bottom"].indexOf(e)?1:-1,n=0<=["top","bottom"].indexOf(e)?"y":"x";h[e]+=p[n]*t})}return h}function x(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(e){return!(e&&"function"==typeof e.getBoundingClientRect)})}function I(e){void 0===e&&(e={});var t=e.defaultModifiers,n=void 0===t?[]:t,i=void 0===(e=e.defaultOptions)?H:e;return function(e,t,o){function s(){l.forEach(function(e){return e()}),l=[]}void 0===o&&(o=i);var a={placement:"bottom",orderedModifiers:[],options:Object.assign(Object.assign({},H),i),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},l=[],c=!1,u={state:a,setOptions:function(o){return s(),a.options=Object.assign(Object.assign(Object.assign({},i),a.options),o),a.scrollParents={reference:r(e)?f(e):e.contextElement?f(e.contextElement):[],popper:f(t)},o=function(e){var t=function(e){var t=new Map,n=new Set,i=[];return e.forEach(function(e){t.set(e.name,e)}),e.forEach(function(e){n.has(e.name)||function e(r){n.add(r.name),[].concat(r.requires||[],r.requiresIfExists||[]).forEach(function(i){n.has(i)||(i=t.get(i))&&e(i)}),i.push(r)}(e)}),i}(e);return P.reduce(function(e,n){return e.concat(t.filter(function(e){return e.phase===n}))},[])}(function(e){var t=e.reduce(function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign(Object.assign(Object.assign({},n),t),{},{options:Object.assign(Object.assign({},n.options),t.options),data:Object.assign(Object.assign({},n.data),t.data)}):t,e},{});return Object.keys(t).map(function(e){return t[e]})}([].concat(n,a.options.modifiers))),a.orderedModifiers=o.filter(function(e){return e.enabled}),a.orderedModifiers.forEach(function(e){var t=e.name,n=e.options;n=void 0===n?{}:n,"function"==typeof(e=e.effect)&&(t=e({state:a,name:t,instance:u,options:n}),l.push(t||function(){}))}),u.update()},forceUpdate:function(){if(!c){var e=a.elements,t=e.reference;if(x(t,e=e.popper))for(a.rects={reference:d(t,g(e),"fixed"===a.options.strategy),popper:h(e)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach(function(e){return a.modifiersData[e.name]=Object.assign({},e.data)}),t=0;t<a.orderedModifiers.length;t++)if(!0===a.reset)a.reset=!1,t=-1;else{var n=a.orderedModifiers[t];e=n.fn;var i=n.options;i=void 0===i?{}:i,n=n.name,"function"==typeof e&&(a=e({state:a,options:i,name:n,instance:u})||a)}}},update:m(function(){return new Promise(function(e){u.forceUpdate(),e(a)})}),destroy:function(){s(),c=!0}};return x(e,t)?(u.setOptions(o).then(function(e){!c&&o.onFirstUpdate&&o.onFirstUpdate(e)}),u):u}}function B(e){var t,i=e.popper,r=e.popperRect,o=e.placement,s=e.offsets,l=e.position,c=e.gpuAcceleration,u=e.adaptive;e.roundOffsets?(e=window.devicePixelRatio||1,e={x:Math.round(s.x*e)/e||0,y:Math.round(s.y*e)/e||0}):e=s;var d=e;e=void 0===(e=d.x)?0:e,d=void 0===(d=d.y)?0:d;var h=s.hasOwnProperty("x");s=s.hasOwnProperty("y");var p,f="left",A="top",m=window;if(u){var y=g(i);y===n(i)&&(y=a(i)),"top"===o&&(A="bottom",d-=y.clientHeight-r.height,d*=c?1:-1),"left"===o&&(f="right",e-=y.clientWidth-r.width,e*=c?1:-1)}return i=Object.assign({position:l},u&&j),Object.assign(Object.assign({},i),{},c?((p={})[A]=s?"0":"",p[f]=h?"0":"",p.transform=2>(m.devicePixelRatio||1)?"translate("+e+"px, "+d+"px)":"translate3d("+e+"px, "+d+"px, 0)",p):((t={})[A]=s?d+"px":"",t[f]=h?e+"px":"",t.transform="",t))}function F(e){return e.replace(/left|right|bottom|top/g,function(e){return G[e]})}function N(e){return e.replace(/start|end/g,function(e){return K[e]})}function D(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function O(e){return["top","right","bottom","left"].some(function(t){return 0<=e[t]})}var R=["top","bottom","right","left"],M=R.reduce(function(e,t){return e.concat([t+"-start",t+"-end"])},[]),U=[].concat(R,["auto"]).reduce(function(e,t){return e.concat([t,t+"-start",t+"-end"])},[]),P="beforeRead read afterRead beforeMain main afterMain beforeWrite write afterWrite".split(" "),H={placement:"bottom",modifiers:[],strategy:"absolute"},k={passive:!0},Q={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,i=e.instance,r=(e=e.options).scroll,o=void 0===r||r,s=void 0===(e=e.resize)||e,a=n(t.elements.popper),l=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&l.forEach(function(e){e.addEventListener("scroll",i.update,k)}),s&&a.addEventListener("resize",i.update,k),function(){o&&l.forEach(function(e){e.removeEventListener("scroll",i.update,k)}),s&&a.removeEventListener("resize",i.update,k)}},data:{}},z={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state;t.modifiersData[e.name]=E({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},j={top:"auto",right:"auto",bottom:"auto",left:"auto"},V={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options;e=void 0===(e=n.gpuAcceleration)||e;var i=n.adaptive;i=void 0===i||i,n=void 0===(n=n.roundOffsets)||n,e={placement:y(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:e},null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign(Object.assign({},t.styles.popper),B(Object.assign(Object.assign({},e),{},{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:i,roundOffsets:n})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign(Object.assign({},t.styles.arrow),B(Object.assign(Object.assign({},e),{},{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:n})))),t.attributes.popper=Object.assign(Object.assign({},t.attributes.popper),{},{"data-popper-placement":t.placement})},data:{}},W={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach(function(e){var n=t.styles[e]||{},i=t.attributes[e]||{},r=t.elements[e];o(r)&&s(r)&&(Object.assign(r.style,n),Object.keys(i).forEach(function(e){var t=i[e];!1===t?r.removeAttribute(e):r.setAttribute(e,!0===t?"":t)}))})},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(e){var i=t.elements[e],r=t.attributes[e]||{};e=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce(function(e,t){return e[t]="",e},{}),o(i)&&s(i)&&(Object.assign(i.style,e),Object.keys(r).forEach(function(e){i.removeAttribute(e)}))})}},requires:["computeStyles"]},q={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.name,i=void 0===(e=e.options.offset)?[0,0]:e,r=(e=U.reduce(function(e,n){var r=t.rects,o=y(n),s=0<=["left","top"].indexOf(o)?-1:1,a="function"==typeof i?i(Object.assign(Object.assign({},r),{},{placement:n})):i;return r=(r=a[0])||0,a=((a=a[1])||0)*s,o=0<=["left","right"].indexOf(o)?{x:a,y:r}:{x:r,y:a},e[n]=o,e},{}))[t.placement],o=r.x;r=r.y,null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=o,t.modifiersData.popperOffsets.y+=r),t.modifiersData[n]=e}},G={left:"right",right:"left",bottom:"top",top:"bottom"},K={start:"end",end:"start"},X={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options;if(!t.modifiersData[e=e.name]._skip){var i=n.mainAxis;i=void 0===i||i;var r=n.altAxis;r=void 0===r||r;var o=n.fallbackPlacements,s=n.padding,a=n.boundary,l=n.rootBoundary,c=n.altBoundary,u=n.flipVariations,d=void 0===u||u,h=n.allowedAutoPlacements;u=y(n=t.options.placement),o=o||(u!==n&&d?function(e){if("auto"===y(e))return[];var t=F(e);return[N(e),t,N(t)]}(n):[F(n)]);var p=[n].concat(o).reduce(function(e,n){return e.concat("auto"===y(n)?function(e,t){void 0===t&&(t={});var n=t.boundary,i=t.rootBoundary,r=t.padding,o=t.flipVariations,s=t.allowedAutoPlacements,a=void 0===s?U:s,l=t.placement.split("-")[1];0===(o=(t=l?o?M:M.filter(function(e){return e.split("-")[1]===l}):R).filter(function(e){return 0<=a.indexOf(e)})).length&&(o=t);var c=o.reduce(function(t,o){return t[o]=L(e,{placement:o,boundary:n,rootBoundary:i,padding:r})[y(o)],t},{});return Object.keys(c).sort(function(e,t){return c[e]-c[t]})}(t,{placement:n,boundary:a,rootBoundary:l,padding:s,flipVariations:d,allowedAutoPlacements:h}):n)},[]);n=t.rects.reference,o=t.rects.popper;var f=new Map;u=!0;for(var A=p[0],g=0;g<p.length;g++){var m=p[g],v=y(m),w="start"===m.split("-")[1],b=0<=["top","bottom"].indexOf(v),_=b?"width":"height",C=L(t,{placement:m,boundary:a,rootBoundary:l,altBoundary:c,padding:s});if(w=b?w?"right":"left":w?"bottom":"top",n[_]>o[_]&&(w=F(w)),_=F(w),b=[],i&&b.push(0>=C[v]),r&&b.push(0>=C[w],0>=C[_]),b.every(function(e){return e})){A=m,u=!1;break}f.set(m,b)}if(u)for(i=function(e){var t=p.find(function(t){if(t=f.get(t))return t.slice(0,e).every(function(e){return e})});if(t)return A=t,"break"},r=d?3:1;0<r&&"break"!==i(r);r--);t.placement!==A&&(t.modifiersData[e]._skip=!0,t.placement=A,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},J={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options;e=e.name;var i=n.mainAxis,r=void 0===i||i;i=void 0!==(i=n.altAxis)&&i;var o=n.tether;o=void 0===o||o;var s=n.tetherOffset,a=void 0===s?0:s;n=L(t,{boundary:n.boundary,rootBoundary:n.rootBoundary,padding:n.padding,altBoundary:n.altBoundary}),s=y(t.placement);var l=t.placement.split("-")[1],c=!l,u=C(s);s="x"===u?"y":"x";var d=t.modifiersData.popperOffsets,p=t.rects.reference,f=t.rects.popper,A="function"==typeof a?a(Object.assign(Object.assign({},t.rects),{},{placement:t.placement})):a;if(a={x:0,y:0},d){if(r){var m="y"===u?"top":"left",v="y"===u?"bottom":"right",w="y"===u?"height":"width";r=d[u];var b=d[u]+n[m],_=d[u]-n[v],E=o?-f[w]/2:0,S="start"===l?p[w]:f[w];l="start"===l?-f[w]:-p[w],f=t.elements.arrow,f=o&&f?h(f):{width:0,height:0};var T=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0};m=T[m],v=T[v],f=Math.max(0,Math.min(p[w],f[w])),S=c?p[w]/2-E-f-m-A:S-f-m-A,c=c?-p[w]/2+E+f+v+A:l+f+v+A,A=t.elements.arrow&&g(t.elements.arrow),A=d[u]+S-(p=t.modifiersData.offset?t.modifiersData.offset[t.placement][u]:0)-(A?"y"===u?A.clientTop||0:A.clientLeft||0:0),c=d[u]+c-p,o=Math.max(o?Math.min(b,A):b,Math.min(r,o?Math.max(_,c):_)),d[u]=o,a[u]=o-r}i&&(i=d[s],o=Math.max(i+n["x"===u?"top":"left"],Math.min(i,i-n["x"===u?"bottom":"right"])),d[s]=o,a[s]=o-i),t.modifiersData[e]=a}},requiresIfExists:["offset"]},Y={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state;e=e.name;var i=n.elements.arrow,r=n.modifiersData.popperOffsets,o=y(n.placement),s=C(o);if(o=0<=["left","right"].indexOf(o)?"height":"width",i&&r){var a=n.modifiersData[e+"#persistent"].padding,l=h(i),c="y"===s?"top":"left",u="y"===s?"bottom":"right",d=n.rects.reference[o]+n.rects.reference[s]-r[s]-n.rects.popper[o];r=r[s]-n.rects.reference[s],d=(i=(i=g(i))?"y"===s?i.clientHeight||0:i.clientWidth||0:0)/2-l[o]/2+(d/2-r/2),o=Math.max(a[c],Math.min(d,i-l[o]-a[u])),n.modifiersData[e]=((t={})[s]=o,t.centerOffset=o-d,t)}},effect:function(e){var t=e.state,n=e.options;e=e.name;var i=n.element;if(n=void 0===(n=n.padding)?0:n,null!=(i=void 0===i?"[data-popper-arrow]":i)){if("string"==typeof i&&!(i=t.elements.popper.querySelector(i)))return;v(t.elements.popper,i)&&(t.elements.arrow=i,t.modifiersData[e+"#persistent"]={padding:S("number"!=typeof n?n:T(n,R))})}},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},Z={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state;e=e.name;var n=t.rects.reference,i=t.rects.popper,r=t.modifiersData.preventOverflow,o=L(t,{elementContext:"reference"}),s=L(t,{altBoundary:!0});n=D(o,n),i=D(s,i,r),r=O(n),s=O(i),t.modifiersData[e]={referenceClippingOffsets:n,popperEscapeOffsets:i,isReferenceHidden:r,hasPopperEscaped:s},t.attributes.popper=Object.assign(Object.assign({},t.attributes.popper),{},{"data-popper-reference-hidden":r,"data-popper-escaped":s})}},$=I({defaultModifiers:[Q,z,V,W]}),ee=[Q,z,V,W,q,X,J,Y,Z],te=I({defaultModifiers:ee});e.applyStyles=W,e.arrow=Y,e.computeStyles=V,e.createPopper=te,e.createPopperLite=$,e.defaultModifiers=ee,e.detectOverflow=L,e.eventListeners=Q,e.flip=X,e.hide=Z,e.offset=q,e.popperGenerator=I,e.popperOffsets=z,e.preventOverflow=J,Object.defineProperty(e,"__esModule",{value:!0})}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("jquery"),require("popper.js")):"function"==typeof define&&define.amd?define(["exports","jquery","popper.js"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).bootstrap={},e.jQuery,e.Popper)}(this,function(e,t,n){"use strict";function i(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var r=i(t),o=i(n);function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var c={TRANSITION_END:"bsTransitionEnd",getUID:function(e){do{e+=~~(1e6*Math.random())}while(document.getElementById(e));return e},getSelectorFromElement:function(e){var t=e.getAttribute("data-target");if(!t||"#"===t){var n=e.getAttribute("href");t=n&&"#"!==n?n.trim():""}try{return document.querySelector(t)?t:null}catch(e){return null}},getTransitionDurationFromElement:function(e){if(!e)return 0;var t=r.default(e).css("transition-duration"),n=r.default(e).css("transition-delay"),i=parseFloat(t),o=parseFloat(n);return i||o?(t=t.split(",")[0],n=n.split(",")[0],1e3*(parseFloat(t)+parseFloat(n))):0},reflow:function(e){return e.offsetHeight},triggerTransitionEnd:function(e){r.default(e).trigger("transitionend")},supportsTransitionEnd:function(){return Boolean("transitionend")},isElement:function(e){return(e[0]||e).nodeType},typeCheckConfig:function(e,t,n){for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){var r=n[i],o=t[i],s=o&&c.isElement(o)?"element":null===(a=o)||void 0===a?""+a:{}.toString.call(a).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(r).test(s))throw new Error(e.toUpperCase()+': Option "'+i+'" provided type "'+s+'" but expected type "'+r+'".')}var a},findShadowRoot:function(e){if(!document.documentElement.attachShadow)return null;if("function"==typeof e.getRootNode){var t=e.getRootNode();return t instanceof ShadowRoot?t:null}return e instanceof ShadowRoot?e:e.parentNode?c.findShadowRoot(e.parentNode):null},jQueryDetection:function(){if(void 0===r.default)throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var e=r.default.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1===e[0]&&9===e[1]&&e[2]<1||e[0]>=4)throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}};c.jQueryDetection(),r.default.fn.emulateTransitionEnd=function(e){var t=this,n=!1;return r.default(this).one(c.TRANSITION_END,function(){n=!0}),setTimeout(function(){n||c.triggerTransitionEnd(t)},e),this},r.default.event.special[c.TRANSITION_END]={bindType:"transitionend",delegateType:"transitionend",handle:function(e){if(r.default(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}};var u="alert",d=r.default.fn[u],h=function(){function e(e){this._element=e}var t=e.prototype;return t.close=function(e){var t=this._element;e&&(t=this._getRootElement(e)),this._triggerCloseEvent(t).isDefaultPrevented()||this._removeElement(t)},t.dispose=function(){r.default.removeData(this._element,"bs.alert"),this._element=null},t._getRootElement=function(e){var t=c.getSelectorFromElement(e),n=!1;return t&&(n=document.querySelector(t)),n||(n=r.default(e).closest(".alert")[0]),n},t._triggerCloseEvent=function(e){var t=r.default.Event("close.bs.alert");return r.default(e).trigger(t),t},t._removeElement=function(e){var t=this;if(r.default(e).removeClass("show"),r.default(e).hasClass("fade")){var n=c.getTransitionDurationFromElement(e);r.default(e).one(c.TRANSITION_END,function(n){return t._destroyElement(e,n)}).emulateTransitionEnd(n)}else this._destroyElement(e)},t._destroyElement=function(e){r.default(e).detach().trigger("closed.bs.alert").remove()},e._jQueryInterface=function(t){return this.each(function(){var n=r.default(this),i=n.data("bs.alert");i||(i=new e(this),n.data("bs.alert",i)),"close"===t&&i[t](this)})},e._handleDismiss=function(e){return function(t){t&&t.preventDefault(),e.close(this)}},a(e,null,[{key:"VERSION",get:function(){return"4.6.0"}}]),e}();r.default(document).on("click.bs.alert.data-api",'[data-dismiss="alert"]',h._handleDismiss(new h)),r.default.fn[u]=h._jQueryInterface,r.default.fn[u].Constructor=h,r.default.fn[u].noConflict=function(){return r.default.fn[u]=d,h._jQueryInterface};var p=r.default.fn.button,f=function(){function e(e){this._element=e,this.shouldAvoidTriggerChange=!1}var t=e.prototype;return t.toggle=function(){var e=!0,t=!0,n=r.default(this._element).closest('[data-toggle="buttons"]')[0];if(n){var i=this._element.querySelector('input:not([type="hidden"])');if(i){if("radio"===i.type)if(i.checked&&this._element.classList.contains("active"))e=!1;else{var o=n.querySelector(".active");o&&r.default(o).removeClass("active")}e&&("checkbox"!==i.type&&"radio"!==i.type||(i.checked=!this._element.classList.contains("active")),this.shouldAvoidTriggerChange||r.default(i).trigger("change")),i.focus(),t=!1}}this._element.hasAttribute("disabled")||this._element.classList.contains("disabled")||(t&&this._element.setAttribute("aria-pressed",!this._element.classList.contains("active")),e&&r.default(this._element).toggleClass("active"))},t.dispose=function(){r.default.removeData(this._element,"bs.button"),this._element=null},e._jQueryInterface=function(t,n){return this.each(function(){var i=r.default(this),o=i.data("bs.button");o||(o=new e(this),i.data("bs.button",o)),o.shouldAvoidTriggerChange=n,"toggle"===t&&o[t]()})},a(e,null,[{key:"VERSION",get:function(){return"4.6.0"}}]),e}();r.default(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(e){var t=e.target,n=t;if(r.default(t).hasClass("btn")||(t=r.default(t).closest(".btn")[0]),!t||t.hasAttribute("disabled")||t.classList.contains("disabled"))e.preventDefault();else{var i=t.querySelector('input:not([type="hidden"])');if(i&&(i.hasAttribute("disabled")||i.classList.contains("disabled")))return void e.preventDefault();"INPUT"!==n.tagName&&"LABEL"===t.tagName||f._jQueryInterface.call(r.default(t),"toggle","INPUT"===n.tagName)}}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){var t=r.default(e.target).closest(".btn")[0];r.default(t).toggleClass("focus",/^focus(in)?$/.test(e.type))}),r.default(window).on("load.bs.button.data-api",function(){for(var e=[].slice.call(document.querySelectorAll('[data-toggle="buttons"] .btn')),t=0,n=e.length;t<n;t++){var i=e[t],r=i.querySelector('input:not([type="hidden"])');r.checked||r.hasAttribute("checked")?i.classList.add("active"):i.classList.remove("active")}for(var o=0,s=(e=[].slice.call(document.querySelectorAll('[data-toggle="button"]'))).length;o<s;o++){var a=e[o];"true"===a.getAttribute("aria-pressed")?a.classList.add("active"):a.classList.remove("active")}}),r.default.fn.button=f._jQueryInterface,r.default.fn.button.Constructor=f,r.default.fn.button.noConflict=function(){return r.default.fn.button=p,f._jQueryInterface};var A="carousel",g=r.default.fn[A],m={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},y={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},v={TOUCH:"touch",PEN:"pen"},w=function(){function e(e,t){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(t),this._element=e,this._indicatorsElement=this._element.querySelector(".carousel-indicators"),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=Boolean(window.PointerEvent||window.MSPointerEvent),this._addEventListeners()}var t=e.prototype;return t.next=function(){this._isSliding||this._slide("next")},t.nextWhenVisible=function(){var e=r.default(this._element);!document.hidden&&e.is(":visible")&&"hidden"!==e.css("visibility")&&this.next()},t.prev=function(){this._isSliding||this._slide("prev")},t.pause=function(e){e||(this._isPaused=!0),this._element.querySelector(".carousel-item-next, .carousel-item-prev")&&(c.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},t.cycle=function(e){e||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._updateInterval(),this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},t.to=function(e){var t=this;this._activeElement=this._element.querySelector(".active.carousel-item");var n=this._getItemIndex(this._activeElement);if(!(e>this._items.length-1||e<0))if(this._isSliding)r.default(this._element).one("slid.bs.carousel",function(){return t.to(e)});else{if(n===e)return this.pause(),void this.cycle();this._slide(e>n?"next":"prev",this._items[e])}},t.dispose=function(){r.default(this._element).off(".bs.carousel"),r.default.removeData(this._element,"bs.carousel"),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},t._getConfig=function(e){return e=l({},m,e),c.typeCheckConfig(A,e,y),e},t._handleSwipe=function(){var e=Math.abs(this.touchDeltaX);if(!(e<=40)){var t=e/this.touchDeltaX;this.touchDeltaX=0,t>0&&this.prev(),t<0&&this.next()}},t._addEventListeners=function(){var e=this;this._config.keyboard&&r.default(this._element).on("keydown.bs.carousel",function(t){return e._keydown(t)}),"hover"===this._config.pause&&r.default(this._element).on("mouseenter.bs.carousel",function(t){return e.pause(t)}).on("mouseleave.bs.carousel",function(t){return e.cycle(t)}),this._config.touch&&this._addTouchEventListeners()},t._addTouchEventListeners=function(){var e=this;if(this._touchSupported){var t=function(t){e._pointerEvent&&v[t.originalEvent.pointerType.toUpperCase()]?e.touchStartX=t.originalEvent.clientX:e._pointerEvent||(e.touchStartX=t.originalEvent.touches[0].clientX)},n=function(t){e._pointerEvent&&v[t.originalEvent.pointerType.toUpperCase()]&&(e.touchDeltaX=t.originalEvent.clientX-e.touchStartX),e._handleSwipe(),"hover"===e._config.pause&&(e.pause(),e.touchTimeout&&clearTimeout(e.touchTimeout),e.touchTimeout=setTimeout(function(t){return e.cycle(t)},500+e._config.interval))};r.default(this._element.querySelectorAll(".carousel-item img")).on("dragstart.bs.carousel",function(e){return e.preventDefault()}),this._pointerEvent?(r.default(this._element).on("pointerdown.bs.carousel",function(e){return t(e)}),r.default(this._element).on("pointerup.bs.carousel",function(e){return n(e)}),this._element.classList.add("pointer-event")):(r.default(this._element).on("touchstart.bs.carousel",function(e){return t(e)}),r.default(this._element).on("touchmove.bs.carousel",function(t){return function(t){e.touchDeltaX=t.originalEvent.touches&&t.originalEvent.touches.length>1?0:t.originalEvent.touches[0].clientX-e.touchStartX}(t)}),r.default(this._element).on("touchend.bs.carousel",function(e){return n(e)}))}},t._keydown=function(e){if(!/input|textarea/i.test(e.target.tagName))switch(e.which){case 37:e.preventDefault(),this.prev();break;case 39:e.preventDefault(),this.next()}},t._getItemIndex=function(e){return this._items=e&&e.parentNode?[].slice.call(e.parentNode.querySelectorAll(".carousel-item")):[],this._items.indexOf(e)},t._getItemByDirection=function(e,t){var n="next"===e,i="prev"===e,r=this._getItemIndex(t);if((i&&0===r||n&&r===this._items.length-1)&&!this._config.wrap)return t;var o=(r+("prev"===e?-1:1))%this._items.length;return-1===o?this._items[this._items.length-1]:this._items[o]},t._triggerSlideEvent=function(e,t){var n=this._getItemIndex(e),i=this._getItemIndex(this._element.querySelector(".active.carousel-item")),o=r.default.Event("slide.bs.carousel",{relatedTarget:e,direction:t,from:i,to:n});return r.default(this._element).trigger(o),o},t._setActiveIndicatorElement=function(e){if(this._indicatorsElement){var t=[].slice.call(this._indicatorsElement.querySelectorAll(".active"));r.default(t).removeClass("active");var n=this._indicatorsElement.children[this._getItemIndex(e)];n&&r.default(n).addClass("active")}},t._updateInterval=function(){var e=this._activeElement||this._element.querySelector(".active.carousel-item");if(e){var t=parseInt(e.getAttribute("data-interval"),10);t?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=t):this._config.interval=this._config.defaultInterval||this._config.interval}},t._slide=function(e,t){var n,i,o,s=this,a=this._element.querySelector(".active.carousel-item"),l=this._getItemIndex(a),u=t||a&&this._getItemByDirection(e,a),d=this._getItemIndex(u),h=Boolean(this._interval);if("next"===e?(n="carousel-item-left",i="carousel-item-next",o="left"):(n="carousel-item-right",i="carousel-item-prev",o="right"),u&&r.default(u).hasClass("active"))this._isSliding=!1;else if(!this._triggerSlideEvent(u,o).isDefaultPrevented()&&a&&u){this._isSliding=!0,h&&this.pause(),this._setActiveIndicatorElement(u),this._activeElement=u;var p=r.default.Event("slid.bs.carousel",{relatedTarget:u,direction:o,from:l,to:d});if(r.default(this._element).hasClass("slide")){r.default(u).addClass(i),c.reflow(u),r.default(a).addClass(n),r.default(u).addClass(n);var f=c.getTransitionDurationFromElement(a);r.default(a).one(c.TRANSITION_END,function(){r.default(u).removeClass(n+" "+i).addClass("active"),r.default(a).removeClass("active "+i+" "+n),s._isSliding=!1,setTimeout(function(){return r.default(s._element).trigger(p)},0)}).emulateTransitionEnd(f)}else r.default(a).removeClass("active"),r.default(u).addClass("active"),this._isSliding=!1,r.default(this._element).trigger(p);h&&this.cycle()}},e._jQueryInterface=function(t){return this.each(function(){var n=r.default(this).data("bs.carousel"),i=l({},m,r.default(this).data());"object"==typeof t&&(i=l({},i,t));var o="string"==typeof t?t:i.slide;if(n||(n=new e(this,i),r.default(this).data("bs.carousel",n)),"number"==typeof t)n.to(t);else if("string"==typeof o){if(void 0===n[o])throw new TypeError('No method named "'+o+'"');n[o]()}else i.interval&&i.ride&&(n.pause(),n.cycle())})},e._dataApiClickHandler=function(t){var n=c.getSelectorFromElement(this);if(n){var i=r.default(n)[0];if(i&&r.default(i).hasClass("carousel")){var o=l({},r.default(i).data(),r.default(this).data()),s=this.getAttribute("data-slide-to");s&&(o.interval=!1),e._jQueryInterface.call(r.default(i),o),s&&r.default(i).data("bs.carousel").to(s),t.preventDefault()}}},a(e,null,[{key:"VERSION",get:function(){return"4.6.0"}},{key:"Default",get:function(){return m}}]),e}();r.default(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",w._dataApiClickHandler),r.default(window).on("load.bs.carousel.data-api",function(){for(var e=[].slice.call(document.querySelectorAll('[data-ride="carousel"]')),t=0,n=e.length;t<n;t++){var i=r.default(e[t]);w._jQueryInterface.call(i,i.data())}}),r.default.fn[A]=w._jQueryInterface,r.default.fn[A].Constructor=w,r.default.fn[A].noConflict=function(){return r.default.fn[A]=g,w._jQueryInterface};var b="collapse",_=r.default.fn[b],C={toggle:!0,parent:""},E={toggle:"boolean",parent:"(string|element)"},S=function(){function e(e,t){this._isTransitioning=!1,this._element=e,this._config=this._getConfig(t),this._triggerArray=[].slice.call(document.querySelectorAll('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'));for(var n=[].slice.call(document.querySelectorAll('[data-toggle="collapse"]')),i=0,r=n.length;i<r;i++){var o=n[i],s=c.getSelectorFromElement(o),a=[].slice.call(document.querySelectorAll(s)).filter(function(t){return t===e});null!==s&&a.length>0&&(this._selector=s,this._triggerArray.push(o))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var t=e.prototype;return t.toggle=function(){r.default(this._element).hasClass("show")?this.hide():this.show()},t.show=function(){var t,n,i=this;if(!(this._isTransitioning||r.default(this._element).hasClass("show")||(this._parent&&0===(t=[].slice.call(this._parent.querySelectorAll(".show, .collapsing")).filter(function(e){return"string"==typeof i._config.parent?e.getAttribute("data-parent")===i._config.parent:e.classList.contains("collapse")})).length&&(t=null),t&&(n=r.default(t).not(this._selector).data("bs.collapse"))&&n._isTransitioning))){var o=r.default.Event("show.bs.collapse");if(r.default(this._element).trigger(o),!o.isDefaultPrevented()){t&&(e._jQueryInterface.call(r.default(t).not(this._selector),"hide"),n||r.default(t).data("bs.collapse",null));var s=this._getDimension();r.default(this._element).removeClass("collapse").addClass("collapsing"),this._element.style[s]=0,this._triggerArray.length&&r.default(this._triggerArray).removeClass("collapsed").attr("aria-expanded",!0),this.setTransitioning(!0);var a="scroll"+(s[0].toUpperCase()+s.slice(1)),l=c.getTransitionDurationFromElement(this._element);r.default(this._element).one(c.TRANSITION_END,function(){r.default(i._element).removeClass("collapsing").addClass("collapse show"),i._element.style[s]="",i.setTransitioning(!1),r.default(i._element).trigger("shown.bs.collapse")}).emulateTransitionEnd(l),this._element.style[s]=this._element[a]+"px"}}},t.hide=function(){var e=this;if(!this._isTransitioning&&r.default(this._element).hasClass("show")){var t=r.default.Event("hide.bs.collapse");if(r.default(this._element).trigger(t),!t.isDefaultPrevented()){var n=this._getDimension();this._element.style[n]=this._element.getBoundingClientRect()[n]+"px",c.reflow(this._element),r.default(this._element).addClass("collapsing").removeClass("collapse show");var i=this._triggerArray.length;if(i>0)for(var o=0;o<i;o++){var s=this._triggerArray[o],a=c.getSelectorFromElement(s);null!==a&&(r.default([].slice.call(document.querySelectorAll(a))).hasClass("show")||r.default(s).addClass("collapsed").attr("aria-expanded",!1))}this.setTransitioning(!0),this._element.style[n]="";var l=c.getTransitionDurationFromElement(this._element);r.default(this._element).one(c.TRANSITION_END,function(){e.setTransitioning(!1),r.default(e._element).removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")}).emulateTransitionEnd(l)}}},t.setTransitioning=function(e){this._isTransitioning=e},t.dispose=function(){r.default.removeData(this._element,"bs.collapse"),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},t._getConfig=function(e){return(e=l({},C,e)).toggle=Boolean(e.toggle),c.typeCheckConfig(b,e,E),e},t._getDimension=function(){return r.default(this._element).hasClass("width")?"width":"height"},t._getParent=function(){var t,n=this;c.isElement(this._config.parent)?(t=this._config.parent,void 0!==this._config.parent.jquery&&(t=this._config.parent[0])):t=document.querySelector(this._config.parent);var i=[].slice.call(t.querySelectorAll('[data-toggle="collapse"][data-parent="'+this._config.parent+'"]'));return r.default(i).each(function(t,i){n._addAriaAndCollapsedClass(e._getTargetFromElement(i),[i])}),t},t._addAriaAndCollapsedClass=function(e,t){var n=r.default(e).hasClass("show");t.length&&r.default(t).toggleClass("collapsed",!n).attr("aria-expanded",n)},e._getTargetFromElement=function(e){var t=c.getSelectorFromElement(e);return t?document.querySelector(t):null},e._jQueryInterface=function(t){return this.each(function(){var n=r.default(this),i=n.data("bs.collapse"),o=l({},C,n.data(),"object"==typeof t&&t?t:{});if(!i&&o.toggle&&"string"==typeof t&&/show|hide/.test(t)&&(o.toggle=!1),i||(i=new e(this,o),n.data("bs.collapse",i)),"string"==typeof t){if(void 0===i[t])throw new TypeError('No method named "'+t+'"');i[t]()}})},a(e,null,[{key:"VERSION",get:function(){return"4.6.0"}},{key:"Default",get:function(){return C}}]),e}();r.default(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(e){"A"===e.currentTarget.tagName&&e.preventDefault();var t=r.default(this),n=c.getSelectorFromElement(this),i=[].slice.call(document.querySelectorAll(n));r.default(i).each(function(){var e=r.default(this),n=e.data("bs.collapse")?"toggle":t.data();S._jQueryInterface.call(e,n)})}),r.default.fn[b]=S._jQueryInterface,r.default.fn[b].Constructor=S,r.default.fn[b].noConflict=function(){return r.default.fn[b]=_,S._jQueryInterface};var T="dropdown",L=r.default.fn[T],x=new RegExp("38|40|27"),I={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic",popperConfig:null},B={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string",popperConfig:"(null|object)"},F=function(){function e(e,t){this._element=e,this._popper=null,this._config=this._getConfig(t),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var t=e.prototype;return t.toggle=function(){if(!this._element.disabled&&!r.default(this._element).hasClass("disabled")){var t=r.default(this._menu).hasClass("show");e._clearMenus(),t||this.show(!0)}},t.show=function(t){if(void 0===t&&(t=!1),!(this._element.disabled||r.default(this._element).hasClass("disabled")||r.default(this._menu).hasClass("show"))){var n={relatedTarget:this._element},i=r.default.Event("show.bs.dropdown",n),s=e._getParentFromElement(this._element);if(r.default(s).trigger(i),!i.isDefaultPrevented()){if(!this._inNavbar&&t){if(void 0===o.default)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");var a=this._element;"parent"===this._config.reference?a=s:c.isElement(this._config.reference)&&(a=this._config.reference,void 0!==this._config.reference.jquery&&(a=this._config.reference[0])),"scrollParent"!==this._config.boundary&&r.default(s).addClass("position-static"),this._popper=new o.default(a,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===r.default(s).closest(".navbar-nav").length&&r.default(document.body).children().on("mouseover",null,r.default.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),r.default(this._menu).toggleClass("show"),r.default(s).toggleClass("show").trigger(r.default.Event("shown.bs.dropdown",n))}}},t.hide=function(){if(!this._element.disabled&&!r.default(this._element).hasClass("disabled")&&r.default(this._menu).hasClass("show")){var t={relatedTarget:this._element},n=r.default.Event("hide.bs.dropdown",t),i=e._getParentFromElement(this._element);r.default(i).trigger(n),n.isDefaultPrevented()||(this._popper&&this._popper.destroy(),r.default(this._menu).toggleClass("show"),r.default(i).toggleClass("show").trigger(r.default.Event("hidden.bs.dropdown",t)))}},t.dispose=function(){r.default.removeData(this._element,"bs.dropdown"),r.default(this._element).off(".bs.dropdown"),this._element=null,this._menu=null,null!==this._popper&&(this._popper.destroy(),this._popper=null)},t.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},t._addEventListeners=function(){var e=this;r.default(this._element).on("click.bs.dropdown",function(t){t.preventDefault(),t.stopPropagation(),e.toggle()})},t._getConfig=function(e){return e=l({},this.constructor.Default,r.default(this._element).data(),e),c.typeCheckConfig(T,e,this.constructor.DefaultType),e},t._getMenuElement=function(){if(!this._menu){var t=e._getParentFromElement(this._element);t&&(this._menu=t.querySelector(".dropdown-menu"))}return this._menu},t._getPlacement=function(){var e=r.default(this._element.parentNode),t="bottom-start";return e.hasClass("dropup")?t=r.default(this._menu).hasClass("dropdown-menu-right")?"top-end":"top-start":e.hasClass("dropright")?t="right-start":e.hasClass("dropleft")?t="left-start":r.default(this._menu).hasClass("dropdown-menu-right")&&(t="bottom-end"),t},t._detectNavbar=function(){return r.default(this._element).closest(".navbar").length>0},t._getOffset=function(){var e=this,t={};return"function"==typeof this._config.offset?t.fn=function(t){return t.offsets=l({},t.offsets,e._config.offset(t.offsets,e._element)||{}),t}:t.offset=this._config.offset,t},t._getPopperConfig=function(){var e={placement:this._getPlacement(),modifiers:{offset:this._getOffset(),flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(e.modifiers.applyStyle={enabled:!1}),l({},e,this._config.popperConfig)},e._jQueryInterface=function(t){return this.each(function(){var n=r.default(this).data("bs.dropdown");if(n||(n=new e(this,"object"==typeof t?t:null),r.default(this).data("bs.dropdown",n)),"string"==typeof t){if(void 0===n[t])throw new TypeError('No method named "'+t+'"');n[t]()}})},e._clearMenus=function(t){if(!t||3!==t.which&&("keyup"!==t.type||9===t.which))for(var n=[].slice.call(document.querySelectorAll('[data-toggle="dropdown"]')),i=0,o=n.length;i<o;i++){var s=e._getParentFromElement(n[i]),a=r.default(n[i]).data("bs.dropdown"),l={relatedTarget:n[i]};if(t&&"click"===t.type&&(l.clickEvent=t),a){var c=a._menu;if(r.default(s).hasClass("show")&&!(t&&("click"===t.type&&/input|textarea/i.test(t.target.tagName)||"keyup"===t.type&&9===t.which)&&r.default.contains(s,t.target))){var u=r.default.Event("hide.bs.dropdown",l);r.default(s).trigger(u),u.isDefaultPrevented()||("ontouchstart"in document.documentElement&&r.default(document.body).children().off("mouseover",null,r.default.noop),n[i].setAttribute("aria-expanded","false"),a._popper&&a._popper.destroy(),r.default(c).removeClass("show"),r.default(s).removeClass("show").trigger(r.default.Event("hidden.bs.dropdown",l)))}}}},e._getParentFromElement=function(e){var t,n=c.getSelectorFromElement(e);return n&&(t=document.querySelector(n)),t||e.parentNode},e._dataApiKeydownHandler=function(t){if(!(/input|textarea/i.test(t.target.tagName)?32===t.which||27!==t.which&&(40!==t.which&&38!==t.which||r.default(t.target).closest(".dropdown-menu").length):!x.test(t.which))&&!this.disabled&&!r.default(this).hasClass("disabled")){var n=e._getParentFromElement(this),i=r.default(n).hasClass("show");if(i||27!==t.which){if(t.preventDefault(),t.stopPropagation(),!i||27===t.which||32===t.which)return 27===t.which&&r.default(n.querySelector('[data-toggle="dropdown"]')).trigger("focus"),void r.default(this).trigger("click");var o=[].slice.call(n.querySelectorAll(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)")).filter(function(e){return r.default(e).is(":visible")});if(0!==o.length){var s=o.indexOf(t.target);38===t.which&&s>0&&s--,40===t.which&&s<o.length-1&&s++,s<0&&(s=0),o[s].focus()}}}},a(e,null,[{key:"VERSION",get:function(){return"4.6.0"}},{key:"Default",get:function(){return I}},{key:"DefaultType",get:function(){return B}}]),e}();r.default(document).on("keydown.bs.dropdown.data-api",'[data-toggle="dropdown"]',F._dataApiKeydownHandler).on("keydown.bs.dropdown.data-api",".dropdown-menu",F._dataApiKeydownHandler).on("click.bs.dropdown.data-api keyup.bs.dropdown.data-api",F._clearMenus).on("click.bs.dropdown.data-api",'[data-toggle="dropdown"]',function(e){e.preventDefault(),e.stopPropagation(),F._jQueryInterface.call(r.default(this),"toggle")}).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}),r.default.fn[T]=F._jQueryInterface,r.default.fn[T].Constructor=F,r.default.fn[T].noConflict=function(){return r.default.fn[T]=L,F._jQueryInterface};var N=r.default.fn.modal,D={backdrop:!0,keyboard:!0,focus:!0,show:!0},O={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},R=function(){function e(e,t){this._config=this._getConfig(t),this._element=e,this._dialog=e.querySelector(".modal-dialog"),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollbarWidth=0}var t=e.prototype;return t.toggle=function(e){return this._isShown?this.hide():this.show(e)},t.show=function(e){var t=this;if(!this._isShown&&!this._isTransitioning){r.default(this._element).hasClass("fade")&&(this._isTransitioning=!0);var n=r.default.Event("show.bs.modal",{relatedTarget:e});r.default(this._element).trigger(n),this._isShown||n.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),r.default(this._element).on("click.dismiss.bs.modal",'[data-dismiss="modal"]',function(e){return t.hide(e)}),r.default(this._dialog).on("mousedown.dismiss.bs.modal",function(){r.default(t._element).one("mouseup.dismiss.bs.modal",function(e){r.default(e.target).is(t._element)&&(t._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return t._showElement(e)}))}},t.hide=function(e){var t=this;if(e&&e.preventDefault(),this._isShown&&!this._isTransitioning){var n=r.default.Event("hide.bs.modal");if(r.default(this._element).trigger(n),this._isShown&&!n.isDefaultPrevented()){this._isShown=!1;var i=r.default(this._element).hasClass("fade");if(i&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),r.default(document).off("focusin.bs.modal"),r.default(this._element).removeClass("show"),r.default(this._element).off("click.dismiss.bs.modal"),r.default(this._dialog).off("mousedown.dismiss.bs.modal"),i){var o=c.getTransitionDurationFromElement(this._element);r.default(this._element).one(c.TRANSITION_END,function(e){return t._hideModal(e)}).emulateTransitionEnd(o)}else this._hideModal()}}},t.dispose=function(){[window,this._element,this._dialog].forEach(function(e){return r.default(e).off(".bs.modal")}),r.default(document).off("focusin.bs.modal"),r.default.removeData(this._element,"bs.modal"),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._isTransitioning=null,this._scrollbarWidth=null},t.handleUpdate=function(){this._adjustDialog()},t._getConfig=function(e){return e=l({},D,e),c.typeCheckConfig("modal",e,O),e},t._triggerBackdropTransition=function(){var e=this,t=r.default.Event("hidePrevented.bs.modal");if(r.default(this._element).trigger(t),!t.isDefaultPrevented()){var n=this._element.scrollHeight>document.documentElement.clientHeight;n||(this._element.style.overflowY="hidden"),this._element.classList.add("modal-static");var i=c.getTransitionDurationFromElement(this._dialog);r.default(this._element).off(c.TRANSITION_END),r.default(this._element).one(c.TRANSITION_END,function(){e._element.classList.remove("modal-static"),n||r.default(e._element).one(c.TRANSITION_END,function(){e._element.style.overflowY=""}).emulateTransitionEnd(e._element,i)}).emulateTransitionEnd(i),this._element.focus()}},t._showElement=function(e){var t=this,n=r.default(this._element).hasClass("fade"),i=this._dialog?this._dialog.querySelector(".modal-body"):null;this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),r.default(this._dialog).hasClass("modal-dialog-scrollable")&&i?i.scrollTop=0:this._element.scrollTop=0,n&&c.reflow(this._element),r.default(this._element).addClass("show"),this._config.focus&&this._enforceFocus();var o=r.default.Event("shown.bs.modal",{relatedTarget:e}),s=function(){t._config.focus&&t._element.focus(),t._isTransitioning=!1,r.default(t._element).trigger(o)};if(n){var a=c.getTransitionDurationFromElement(this._dialog);r.default(this._dialog).one(c.TRANSITION_END,s).emulateTransitionEnd(a)}else s()},t._enforceFocus=function(){var e=this;r.default(document).off("focusin.bs.modal").on("focusin.bs.modal",function(t){document!==t.target&&e._element!==t.target&&0===r.default(e._element).has(t.target).length&&e._element.focus()})},t._setEscapeEvent=function(){var e=this;this._isShown?r.default(this._element).on("keydown.dismiss.bs.modal",function(t){e._config.keyboard&&27===t.which?(t.preventDefault(),e.hide()):e._config.keyboard||27!==t.which||e._triggerBackdropTransition()}):this._isShown||r.default(this._element).off("keydown.dismiss.bs.modal")},t._setResizeEvent=function(){var e=this;this._isShown?r.default(window).on("resize.bs.modal",function(t){return e.handleUpdate(t)}):r.default(window).off("resize.bs.modal")},t._hideModal=function(){var e=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._showBackdrop(function(){r.default(document.body).removeClass("modal-open"),e._resetAdjustments(),e._resetScrollbar(),r.default(e._element).trigger("hidden.bs.modal")})},t._removeBackdrop=function(){this._backdrop&&(r.default(this._backdrop).remove(),this._backdrop=null)},t._showBackdrop=function(e){var t=this,n=r.default(this._element).hasClass("fade")?"fade":"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className="modal-backdrop",n&&this._backdrop.classList.add(n),r.default(this._backdrop).appendTo(document.body),r.default(this._element).on("click.dismiss.bs.modal",function(e){t._ignoreBackdropClick?t._ignoreBackdropClick=!1:e.target===e.currentTarget&&("static"===t._config.backdrop?t._triggerBackdropTransition():t.hide())}),n&&c.reflow(this._backdrop),r.default(this._backdrop).addClass("show"),!e)return;if(!n)return void e();var i=c.getTransitionDurationFromElement(this._backdrop);r.default(this._backdrop).one(c.TRANSITION_END,e).emulateTransitionEnd(i)}else if(!this._isShown&&this._backdrop){r.default(this._backdrop).removeClass("show");var o=function(){t._removeBackdrop(),e&&e()};if(r.default(this._element).hasClass("fade")){var s=c.getTransitionDurationFromElement(this._backdrop);r.default(this._backdrop).one(c.TRANSITION_END,o).emulateTransitionEnd(s)}else o()}else e&&e()},t._adjustDialog=function(){var e=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&e&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!e&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},t._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},t._checkScrollbar=function(){var e=document.body.getBoundingClientRect();this._isBodyOverflowing=Math.round(e.left+e.right)<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},t._setScrollbar=function(){var e=this;if(this._isBodyOverflowing){var t=[].slice.call(document.querySelectorAll(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top")),n=[].slice.call(document.querySelectorAll(".sticky-top"));r.default(t).each(function(t,n){var i=n.style.paddingRight,o=r.default(n).css("padding-right");r.default(n).data("padding-right",i).css("padding-right",parseFloat(o)+e._scrollbarWidth+"px")}),r.default(n).each(function(t,n){var i=n.style.marginRight,o=r.default(n).css("margin-right");r.default(n).data("margin-right",i).css("margin-right",parseFloat(o)-e._scrollbarWidth+"px")});var i=document.body.style.paddingRight,o=r.default(document.body).css("padding-right");r.default(document.body).data("padding-right",i).css("padding-right",parseFloat(o)+this._scrollbarWidth+"px")}r.default(document.body).addClass("modal-open")},t._resetScrollbar=function(){var e=[].slice.call(document.querySelectorAll(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top"));r.default(e).each(function(e,t){var n=r.default(t).data("padding-right");r.default(t).removeData("padding-right"),t.style.paddingRight=n||""});var t=[].slice.call(document.querySelectorAll(".sticky-top"));r.default(t).each(function(e,t){var n=r.default(t).data("margin-right");void 0!==n&&r.default(t).css("margin-right",n).removeData("margin-right")});var n=r.default(document.body).data("padding-right");r.default(document.body).removeData("padding-right"),document.body.style.paddingRight=n||""},t._getScrollbarWidth=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",document.body.appendChild(e);var t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t},e._jQueryInterface=function(t,n){return this.each(function(){var i=r.default(this).data("bs.modal"),o=l({},D,r.default(this).data(),"object"==typeof t&&t?t:{});if(i||(i=new e(this,o),r.default(this).data("bs.modal",i)),"string"==typeof t){if(void 0===i[t])throw new TypeError('No method named "'+t+'"');i[t](n)}else o.show&&i.show(n)})},a(e,null,[{key:"VERSION",get:function(){return"4.6.0"}},{key:"Default",get:function(){return D}}]),e}();r.default(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var t,n=this,i=c.getSelectorFromElement(this);i&&(t=document.querySelector(i));var o=r.default(t).data("bs.modal")?"toggle":l({},r.default(t).data(),r.default(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||e.preventDefault();var s=r.default(t).one("show.bs.modal",function(e){e.isDefaultPrevented()||s.one("hidden.bs.modal",function(){r.default(n).is(":visible")&&n.focus()})});R._jQueryInterface.call(r.default(t),o,this)}),r.default.fn.modal=R._jQueryInterface,r.default.fn.modal.Constructor=R,r.default.fn.modal.noConflict=function(){return r.default.fn.modal=N,R._jQueryInterface};var M=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],U=/^(?:(?:https?|mailto|ftp|tel|file):|[^#&/:?]*(?:[#/?]|$))/gi,P=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i;function H(e,t,n){if(0===e.length)return e;if(n&&"function"==typeof n)return n(e);for(var i=(new window.DOMParser).parseFromString(e,"text/html"),r=Object.keys(t),o=[].slice.call(i.body.querySelectorAll("*")),s=function(e,n){var i=o[e],s=i.nodeName.toLowerCase();if(-1===r.indexOf(i.nodeName.toLowerCase()))return i.parentNode.removeChild(i),"continue";var a=[].slice.call(i.attributes),l=[].concat(t["*"]||[],t[s]||[]);a.forEach(function(e){(function(e,t){var n=e.nodeName.toLowerCase();if(-1!==t.indexOf(n))return-1===M.indexOf(n)||Boolean(e.nodeValue.match(U)||e.nodeValue.match(P));for(var i=t.filter(function(e){return e instanceof RegExp}),r=0,o=i.length;r<o;r++)if(n.match(i[r]))return!0;return!1})(e,l)||i.removeAttribute(e.nodeName)})},a=0,l=o.length;a<l;a++)s(a);return i.body.innerHTML}var k="tooltip",Q=r.default.fn[k],z=new RegExp("(^|\\s)bs-tooltip\\S+","g"),j=["sanitize","whiteList","sanitizeFn"],V={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string|function)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",whiteList:"object",popperConfig:"(null|object)"},W={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},q={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent",customClass:"",sanitize:!0,sanitizeFn:null,whiteList:{"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},popperConfig:null},G={HIDE:"hide.bs.tooltip",HIDDEN:"hidden.bs.tooltip",SHOW:"show.bs.tooltip",SHOWN:"shown.bs.tooltip",INSERTED:"inserted.bs.tooltip",CLICK:"click.bs.tooltip",FOCUSIN:"focusin.bs.tooltip",FOCUSOUT:"focusout.bs.tooltip",MOUSEENTER:"mouseenter.bs.tooltip",MOUSELEAVE:"mouseleave.bs.tooltip"},K=function(){function e(e,t){if(void 0===o.default)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=e,this.config=this._getConfig(t),this.tip=null,this._setListeners()}var t=e.prototype;return t.enable=function(){this._isEnabled=!0},t.disable=function(){this._isEnabled=!1},t.toggleEnabled=function(){this._isEnabled=!this._isEnabled},t.toggle=function(e){if(this._isEnabled)if(e){var t=this.constructor.DATA_KEY,n=r.default(e.currentTarget).data(t);n||(n=new this.constructor(e.currentTarget,this._getDelegateConfig()),r.default(e.currentTarget).data(t,n)),n._activeTrigger.click=!n._activeTrigger.click,n._isWithActiveTrigger()?n._enter(null,n):n._leave(null,n)}else{if(r.default(this.getTipElement()).hasClass("show"))return void this._leave(null,this);this._enter(null,this)}},t.dispose=function(){clearTimeout(this._timeout),r.default.removeData(this.element,this.constructor.DATA_KEY),r.default(this.element).off(this.constructor.EVENT_KEY),r.default(this.element).closest(".modal").off("hide.bs.modal",this._hideModalHandler),this.tip&&r.default(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},t.show=function(){var e=this;if("none"===r.default(this.element).css("display"))throw new Error("Please use show on visible elements");var t=r.default.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){r.default(this.element).trigger(t);var n=c.findShadowRoot(this.element),i=r.default.contains(null!==n?n:this.element.ownerDocument.documentElement,this.element);if(t.isDefaultPrevented()||!i)return;var s=this.getTipElement(),a=c.getUID(this.constructor.NAME);s.setAttribute("id",a),this.element.setAttribute("aria-describedby",a),this.setContent(),this.config.animation&&r.default(s).addClass("fade");var l="function"==typeof this.config.placement?this.config.placement.call(this,s,this.element):this.config.placement,u=this._getAttachment(l);this.addAttachmentClass(u);var d=this._getContainer();r.default(s).data(this.constructor.DATA_KEY,this),r.default.contains(this.element.ownerDocument.documentElement,this.tip)||r.default(s).appendTo(d),r.default(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new o.default(this.element,s,this._getPopperConfig(u)),r.default(s).addClass("show"),r.default(s).addClass(this.config.customClass),"ontouchstart"in document.documentElement&&r.default(document.body).children().on("mouseover",null,r.default.noop);var h=function(){e.config.animation&&e._fixTransition();var t=e._hoverState;e._hoverState=null,r.default(e.element).trigger(e.constructor.Event.SHOWN),"out"===t&&e._leave(null,e)};if(r.default(this.tip).hasClass("fade")){var p=c.getTransitionDurationFromElement(this.tip);r.default(this.tip).one(c.TRANSITION_END,h).emulateTransitionEnd(p)}else h()}},t.hide=function(e){var t=this,n=this.getTipElement(),i=r.default.Event(this.constructor.Event.HIDE),o=function(){"show"!==t._hoverState&&n.parentNode&&n.parentNode.removeChild(n),t._cleanTipClass(),t.element.removeAttribute("aria-describedby"),r.default(t.element).trigger(t.constructor.Event.HIDDEN),null!==t._popper&&t._popper.destroy(),e&&e()};if(r.default(this.element).trigger(i),!i.isDefaultPrevented()){if(r.default(n).removeClass("show"),"ontouchstart"in document.documentElement&&r.default(document.body).children().off("mouseover",null,r.default.noop),this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1,r.default(this.tip).hasClass("fade")){var s=c.getTransitionDurationFromElement(n);r.default(n).one(c.TRANSITION_END,o).emulateTransitionEnd(s)}else o();this._hoverState=""}},t.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},t.isWithContent=function(){return Boolean(this.getTitle())},t.addAttachmentClass=function(e){r.default(this.getTipElement()).addClass("bs-tooltip-"+e)},t.getTipElement=function(){return this.tip=this.tip||r.default(this.config.template)[0],this.tip},t.setContent=function(){var e=this.getTipElement();this.setElementContent(r.default(e.querySelectorAll(".tooltip-inner")),this.getTitle()),r.default(e).removeClass("fade show")},t.setElementContent=function(e,t){"object"!=typeof t||!t.nodeType&&!t.jquery?this.config.html?(this.config.sanitize&&(t=H(t,this.config.whiteList,this.config.sanitizeFn)),e.html(t)):e.text(t):this.config.html?r.default(t).parent().is(e)||e.empty().append(t):e.text(r.default(t).text())},t.getTitle=function(){var e=this.element.getAttribute("data-original-title");return e||(e="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),e},t._getPopperConfig=function(e){var t=this;return l({},{placement:e,modifiers:{offset:this._getOffset(),flip:{behavior:this.config.fallbackPlacement},arrow:{element:".arrow"},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(e){e.originalPlacement!==e.placement&&t._handlePopperPlacementChange(e)},onUpdate:function(e){return t._handlePopperPlacementChange(e)}},this.config.popperConfig)},t._getOffset=function(){var e=this,t={};return"function"==typeof this.config.offset?t.fn=function(t){return t.offsets=l({},t.offsets,e.config.offset(t.offsets,e.element)||{}),t}:t.offset=this.config.offset,t},t._getContainer=function(){return!1===this.config.container?document.body:c.isElement(this.config.container)?r.default(this.config.container):r.default(document).find(this.config.container)},t._getAttachment=function(e){return W[e.toUpperCase()]},t._setListeners=function(){var e=this;this.config.trigger.split(" ").forEach(function(t){if("click"===t)r.default(e.element).on(e.constructor.Event.CLICK,e.config.selector,function(t){return e.toggle(t)});else if("manual"!==t){var n="hover"===t?e.constructor.Event.MOUSEENTER:e.constructor.Event.FOCUSIN,i="hover"===t?e.constructor.Event.MOUSELEAVE:e.constructor.Event.FOCUSOUT;r.default(e.element).on(n,e.config.selector,function(t){return e._enter(t)}).on(i,e.config.selector,function(t){return e._leave(t)})}}),this._hideModalHandler=function(){e.element&&e.hide()},r.default(this.element).closest(".modal").on("hide.bs.modal",this._hideModalHandler),this.config.selector?this.config=l({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},t._fixTitle=function(){var e=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||"string"!==e)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},t._enter=function(e,t){var n=this.constructor.DATA_KEY;(t=t||r.default(e.currentTarget).data(n))||(t=new this.constructor(e.currentTarget,this._getDelegateConfig()),r.default(e.currentTarget).data(n,t)),e&&(t._activeTrigger["focusin"===e.type?"focus":"hover"]=!0),r.default(t.getTipElement()).hasClass("show")||"show"===t._hoverState?t._hoverState="show":(clearTimeout(t._timeout),t._hoverState="show",t.config.delay&&t.config.delay.show?t._timeout=setTimeout(function(){"show"===t._hoverState&&t.show()},t.config.delay.show):t.show())},t._leave=function(e,t){var n=this.constructor.DATA_KEY;(t=t||r.default(e.currentTarget).data(n))||(t=new this.constructor(e.currentTarget,this._getDelegateConfig()),r.default(e.currentTarget).data(n,t)),e&&(t._activeTrigger["focusout"===e.type?"focus":"hover"]=!1),t._isWithActiveTrigger()||(clearTimeout(t._timeout),t._hoverState="out",t.config.delay&&t.config.delay.hide?t._timeout=setTimeout(function(){"out"===t._hoverState&&t.hide()},t.config.delay.hide):t.hide())},t._isWithActiveTrigger=function(){for(var e in this._activeTrigger)if(this._activeTrigger[e])return!0;return!1},t._getConfig=function(e){var t=r.default(this.element).data();return Object.keys(t).forEach(function(e){-1!==j.indexOf(e)&&delete t[e]}),"number"==typeof(e=l({},this.constructor.Default,t,"object"==typeof e&&e?e:{})).delay&&(e.delay={show:e.delay,hide:e.delay}),"number"==typeof e.title&&(e.title=e.title.toString()),"number"==typeof e.content&&(e.content=e.content.toString()),c.typeCheckConfig(k,e,this.constructor.DefaultType),e.sanitize&&(e.template=H(e.template,e.whiteList,e.sanitizeFn)),e},t._getDelegateConfig=function(){var e={};if(this.config)for(var t in this.config)this.constructor.Default[t]!==this.config[t]&&(e[t]=this.config[t]);return e},t._cleanTipClass=function(){var e=r.default(this.getTipElement()),t=e.attr("class").match(z);null!==t&&t.length&&e.removeClass(t.join(""))},t._handlePopperPlacementChange=function(e){this.tip=e.instance.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(e.placement))},t._fixTransition=function(){var e=this.getTipElement(),t=this.config.animation;null===e.getAttribute("x-placement")&&(r.default(e).removeClass("fade"),this.config.animation=!1,this.hide(),this.show(),this.config.animation=t)},e._jQueryInterface=function(t){return this.each(function(){var n=r.default(this),i=n.data("bs.tooltip"),o="object"==typeof t&&t;if((i||!/dispose|hide/.test(t))&&(i||(i=new e(this,o),n.data("bs.tooltip",i)),"string"==typeof t)){if(void 0===i[t])throw new TypeError('No method named "'+t+'"');i[t]()}})},a(e,null,[{key:"VERSION",get:function(){return"4.6.0"}},{key:"Default",get:function(){return q}},{key:"NAME",get:function(){return k}},{key:"DATA_KEY",get:function(){return"bs.tooltip"}},{key:"Event",get:function(){return G}},{key:"EVENT_KEY",get:function(){return".bs.tooltip"}},{key:"DefaultType",get:function(){return V}}]),e}();r.default.fn[k]=K._jQueryInterface,r.default.fn[k].Constructor=K,r.default.fn[k].noConflict=function(){return r.default.fn[k]=Q,K._jQueryInterface};var X="popover",J=r.default.fn[X],Y=new RegExp("(^|\\s)bs-popover\\S+","g"),Z=l({},K.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),$=l({},K.DefaultType,{content:"(string|element|function)"}),ee={HIDE:"hide.bs.popover",HIDDEN:"hidden.bs.popover",SHOW:"show.bs.popover",SHOWN:"shown.bs.popover",INSERTED:"inserted.bs.popover",CLICK:"click.bs.popover",FOCUSIN:"focusin.bs.popover",FOCUSOUT:"focusout.bs.popover",MOUSEENTER:"mouseenter.bs.popover",MOUSELEAVE:"mouseleave.bs.popover"},te=function(e){var t,n;function i(){return e.apply(this,arguments)||this}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=i.prototype;return o.isWithContent=function(){return this.getTitle()||this._getContent()},o.addAttachmentClass=function(e){r.default(this.getTipElement()).addClass("bs-popover-"+e)},o.getTipElement=function(){return this.tip=this.tip||r.default(this.config.template)[0],this.tip},o.setContent=function(){var e=r.default(this.getTipElement());this.setElementContent(e.find(".popover-header"),this.getTitle());var t=this._getContent();"function"==typeof t&&(t=t.call(this.element)),this.setElementContent(e.find(".popover-body"),t),e.removeClass("fade show")},o._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},o._cleanTipClass=function(){var e=r.default(this.getTipElement()),t=e.attr("class").match(Y);null!==t&&t.length>0&&e.removeClass(t.join(""))},i._jQueryInterface=function(e){return this.each(function(){var t=r.default(this).data("bs.popover"),n="object"==typeof e?e:null;if((t||!/dispose|hide/.test(e))&&(t||(t=new i(this,n),r.default(this).data("bs.popover",t)),"string"==typeof e)){if(void 0===t[e])throw new TypeError('No method named "'+e+'"');t[e]()}})},a(i,null,[{key:"VERSION",get:function(){return"4.6.0"}},{key:"Default",get:function(){return Z}},{key:"NAME",get:function(){return X}},{key:"DATA_KEY",get:function(){return"bs.popover"}},{key:"Event",get:function(){return ee}},{key:"EVENT_KEY",get:function(){return".bs.popover"}},{key:"DefaultType",get:function(){return $}}]),i}(K);r.default.fn[X]=te._jQueryInterface,r.default.fn[X].Constructor=te,r.default.fn[X].noConflict=function(){return r.default.fn[X]=J,te._jQueryInterface};var ne="scrollspy",ie=r.default.fn[ne],re={offset:10,method:"auto",target:""},oe={offset:"number",method:"string",target:"(string|element)"},se=function(){function e(e,t){var n=this;this._element=e,this._scrollElement="BODY"===e.tagName?window:e,this._config=this._getConfig(t),this._selector=this._config.target+" .nav-link,"+this._config.target+" .list-group-item,"+this._config.target+" .dropdown-item",this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,r.default(this._scrollElement).on("scroll.bs.scrollspy",function(e){return n._process(e)}),this.refresh(),this._process()}var t=e.prototype;return t.refresh=function(){var e=this,t="auto"===this._config.method?this._scrollElement===this._scrollElement.window?"offset":"position":this._config.method,n="position"===t?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),[].slice.call(document.querySelectorAll(this._selector)).map(function(e){var i,o=c.getSelectorFromElement(e);if(o&&(i=document.querySelector(o)),i){var s=i.getBoundingClientRect();if(s.width||s.height)return[r.default(i)[t]().top+n,o]}return null}).filter(function(e){return e}).sort(function(e,t){return e[0]-t[0]}).forEach(function(t){e._offsets.push(t[0]),e._targets.push(t[1])})},t.dispose=function(){r.default.removeData(this._element,"bs.scrollspy"),r.default(this._scrollElement).off(".bs.scrollspy"),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},t._getConfig=function(e){if("string"!=typeof(e=l({},re,"object"==typeof e&&e?e:{})).target&&c.isElement(e.target)){var t=r.default(e.target).attr("id");t||(t=c.getUID(ne),r.default(e.target).attr("id",t)),e.target="#"+t}return c.typeCheckConfig(ne,e,oe),e},t._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},t._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},t._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},t._process=function(){var e=this._getScrollTop()+this._config.offset,t=this._getScrollHeight(),n=this._config.offset+t-this._getOffsetHeight();if(this._scrollHeight!==t&&this.refresh(),e>=n){var i=this._targets[this._targets.length-1];this._activeTarget!==i&&this._activate(i)}else{if(this._activeTarget&&e<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var r=this._offsets.length;r--;)this._activeTarget!==this._targets[r]&&e>=this._offsets[r]&&(void 0===this._offsets[r+1]||e<this._offsets[r+1])&&this._activate(this._targets[r])}},t._activate=function(e){this._activeTarget=e,this._clear();var t=this._selector.split(",").map(function(t){return t+'[data-target="'+e+'"],'+t+'[href="'+e+'"]'}),n=r.default([].slice.call(document.querySelectorAll(t.join(","))));n.hasClass("dropdown-item")?(n.closest(".dropdown").find(".dropdown-toggle").addClass("active"),n.addClass("active")):(n.addClass("active"),n.parents(".nav, .list-group").prev(".nav-link, .list-group-item").addClass("active"),n.parents(".nav, .list-group").prev(".nav-item").children(".nav-link").addClass("active")),r.default(this._scrollElement).trigger("activate.bs.scrollspy",{relatedTarget:e})},t._clear=function(){[].slice.call(document.querySelectorAll(this._selector)).filter(function(e){return e.classList.contains("active")}).forEach(function(e){return e.classList.remove("active")})},e._jQueryInterface=function(t){return this.each(function(){var n=r.default(this).data("bs.scrollspy");if(n||(n=new e(this,"object"==typeof t&&t),r.default(this).data("bs.scrollspy",n)),"string"==typeof t){if(void 0===n[t])throw new TypeError('No method named "'+t+'"');n[t]()}})},a(e,null,[{key:"VERSION",get:function(){return"4.6.0"}},{key:"Default",get:function(){return re}}]),e}();r.default(window).on("load.bs.scrollspy.data-api",function(){for(var e=[].slice.call(document.querySelectorAll('[data-spy="scroll"]')),t=e.length;t--;){var n=r.default(e[t]);se._jQueryInterface.call(n,n.data())}}),r.default.fn[ne]=se._jQueryInterface,r.default.fn[ne].Constructor=se,r.default.fn[ne].noConflict=function(){return r.default.fn[ne]=ie,se._jQueryInterface};var ae=r.default.fn.tab,le=function(){function e(e){this._element=e}var t=e.prototype;return t.show=function(){var e=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&r.default(this._element).hasClass("active")||r.default(this._element).hasClass("disabled"))){var t,n,i=r.default(this._element).closest(".nav, .list-group")[0],o=c.getSelectorFromElement(this._element);if(i){var s="UL"===i.nodeName||"OL"===i.nodeName?"> li > .active":".active";n=(n=r.default.makeArray(r.default(i).find(s)))[n.length-1]}var a=r.default.Event("hide.bs.tab",{relatedTarget:this._element}),l=r.default.Event("show.bs.tab",{relatedTarget:n});if(n&&r.default(n).trigger(a),r.default(this._element).trigger(l),!l.isDefaultPrevented()&&!a.isDefaultPrevented()){o&&(t=document.querySelector(o)),this._activate(this._element,i);var u=function(){var t=r.default.Event("hidden.bs.tab",{relatedTarget:e._element}),i=r.default.Event("shown.bs.tab",{relatedTarget:n});r.default(n).trigger(t),r.default(e._element).trigger(i)};t?this._activate(t,t.parentNode,u):u()}}},t.dispose=function(){r.default.removeData(this._element,"bs.tab"),this._element=null},t._activate=function(e,t,n){var i=this,o=(!t||"UL"!==t.nodeName&&"OL"!==t.nodeName?r.default(t).children(".active"):r.default(t).find("> li > .active"))[0],s=n&&o&&r.default(o).hasClass("fade"),a=function(){return i._transitionComplete(e,o,n)};if(o&&s){var l=c.getTransitionDurationFromElement(o);r.default(o).removeClass("show").one(c.TRANSITION_END,a).emulateTransitionEnd(l)}else a()},t._transitionComplete=function(e,t,n){if(t){r.default(t).removeClass("active");var i=r.default(t.parentNode).find("> .dropdown-menu .active")[0];i&&r.default(i).removeClass("active"),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!1)}if(r.default(e).addClass("active"),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!0),c.reflow(e),e.classList.contains("fade")&&e.classList.add("show"),e.parentNode&&r.default(e.parentNode).hasClass("dropdown-menu")){var o=r.default(e).closest(".dropdown")[0];if(o){var s=[].slice.call(o.querySelectorAll(".dropdown-toggle"));r.default(s).addClass("active")}e.setAttribute("aria-expanded",!0)}n&&n()},e._jQueryInterface=function(t){return this.each(function(){var n=r.default(this),i=n.data("bs.tab");if(i||(i=new e(this),n.data("bs.tab",i)),"string"==typeof t){if(void 0===i[t])throw new TypeError('No method named "'+t+'"');i[t]()}})},a(e,null,[{key:"VERSION",get:function(){return"4.6.0"}}]),e}();r.default(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',function(e){e.preventDefault(),le._jQueryInterface.call(r.default(this),"show")}),r.default.fn.tab=le._jQueryInterface,r.default.fn.tab.Constructor=le,r.default.fn.tab.noConflict=function(){return r.default.fn.tab=ae,le._jQueryInterface};var ce=r.default.fn.toast,ue={animation:"boolean",autohide:"boolean",delay:"number"},de={animation:!0,autohide:!0,delay:500},he=function(){function e(e,t){this._element=e,this._config=this._getConfig(t),this._timeout=null,this._setListeners()}var t=e.prototype;return t.show=function(){var e=this,t=r.default.Event("show.bs.toast");if(r.default(this._element).trigger(t),!t.isDefaultPrevented()){this._clearTimeout(),this._config.animation&&this._element.classList.add("fade");var n=function(){e._element.classList.remove("showing"),e._element.classList.add("show"),r.default(e._element).trigger("shown.bs.toast"),e._config.autohide&&(e._timeout=setTimeout(function(){e.hide()},e._config.delay))};if(this._element.classList.remove("hide"),c.reflow(this._element),this._element.classList.add("showing"),this._config.animation){var i=c.getTransitionDurationFromElement(this._element);r.default(this._element).one(c.TRANSITION_END,n).emulateTransitionEnd(i)}else n()}},t.hide=function(){if(this._element.classList.contains("show")){var e=r.default.Event("hide.bs.toast");r.default(this._element).trigger(e),e.isDefaultPrevented()||this._close()}},t.dispose=function(){this._clearTimeout(),this._element.classList.contains("show")&&this._element.classList.remove("show"),r.default(this._element).off("click.dismiss.bs.toast"),r.default.removeData(this._element,"bs.toast"),this._element=null,this._config=null},t._getConfig=function(e){return e=l({},de,r.default(this._element).data(),"object"==typeof e&&e?e:{}),c.typeCheckConfig("toast",e,this.constructor.DefaultType),e},t._setListeners=function(){var e=this;r.default(this._element).on("click.dismiss.bs.toast",'[data-dismiss="toast"]',function(){return e.hide()})},t._close=function(){var e=this,t=function(){e._element.classList.add("hide"),r.default(e._element).trigger("hidden.bs.toast")};if(this._element.classList.remove("show"),this._config.animation){var n=c.getTransitionDurationFromElement(this._element);r.default(this._element).one(c.TRANSITION_END,t).emulateTransitionEnd(n)}else t()},t._clearTimeout=function(){clearTimeout(this._timeout),this._timeout=null},e._jQueryInterface=function(t){return this.each(function(){var n=r.default(this),i=n.data("bs.toast");if(i||(i=new e(this,"object"==typeof t&&t),n.data("bs.toast",i)),"string"==typeof t){if(void 0===i[t])throw new TypeError('No method named "'+t+'"');i[t](this)}})},a(e,null,[{key:"VERSION",get:function(){return"4.6.0"}},{key:"DefaultType",get:function(){return ue}},{key:"Default",get:function(){return de}}]),e}();r.default.fn.toast=he._jQueryInterface,r.default.fn.toast.Constructor=he,r.default.fn.toast.noConflict=function(){return r.default.fn.toast=ce,he._jQueryInterface},e.Alert=h,e.Button=f,e.Carousel=w,e.Collapse=S,e.Dropdown=F,e.Modal=R,e.Popover=te,e.Scrollspy=se,e.Tab=le,e.Toast=he,e.Tooltip=K,e.Util=c,Object.defineProperty(e,"__esModule",{value:!0})}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],function(t){return e(t,window,document)}):"object"==typeof exports?module.exports=function(t,n){return t||(t=window),n||(n="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(n,t,t.document)}:window.DataTable=e(jQuery,window,document)}(function(e,t,n,i){"use strict";var r,o,s,a,l=function(t,n){if(this instanceof l)return e(t).DataTable(n);n=t,this.$=function(e,t){return this.api(!0).$(e,t)},this._=function(e,t){return this.api(!0).rows(e,t).data()},this.api=function(e){return new o(e?lt(this[r.iApiIndex]):this)},this.fnAddData=function(t,n){var r=this.api(!0),o=Array.isArray(t)&&(Array.isArray(t[0])||e.isPlainObject(t[0]))?r.rows.add(t):r.row.add(t);return(n===i||n)&&r.draw(),o.flatten().toArray()},this.fnAdjustColumnSizing=function(e){var t=this.api(!0).columns.adjust(),n=t.settings()[0],r=n.oScroll;e===i||e?t.draw(!1):""===r.sX&&""===r.sY||je(n)},this.fnClearTable=function(e){var t=this.api(!0).clear();(e===i||e)&&t.draw()},this.fnClose=function(e){this.api(!0).row(e).child.hide()},this.fnDeleteRow=function(e,t,n){var r=this.api(!0),o=r.rows(e),s=o.settings()[0],a=s.aoData[o[0][0]];return o.remove(),t&&t.call(this,s,a),(n===i||n)&&r.draw(),a},this.fnDestroy=function(e){this.api(!0).destroy(e)},this.fnDraw=function(e){this.api(!0).draw(e)},this.fnFilter=function(e,t,n,r,o,s){var a=this.api(!0);null===t||t===i?a.search(e,n,r,s):a.column(t).search(e,n,r,s),a.draw()},this.fnGetData=function(e,t){var n=this.api(!0);if(e!==i){var r=e.nodeName?e.nodeName.toLowerCase():"";return t!==i||"td"==r||"th"==r?n.cell(e,t).data():n.row(e).data()||null}return n.data().toArray()},this.fnGetNodes=function(e){var t=this.api(!0);return e!==i?t.row(e).node():t.rows().nodes().flatten().toArray()},this.fnGetPosition=function(e){var t=this.api(!0),n=e.nodeName.toUpperCase();if("TR"==n)return t.row(e).index();if("TD"==n||"TH"==n){var i=t.cell(e).index();return[i.row,i.columnVisible,i.column]}return null},this.fnIsOpen=function(e){return this.api(!0).row(e).child.isShown()},this.fnOpen=function(e,t,n){return this.api(!0).row(e).child(t,n).show().child()[0]},this.fnPageChange=function(e,t){var n=this.api(!0).page(e);(t===i||t)&&n.draw(!1)},this.fnSetColumnVis=function(e,t,n){var r=this.api(!0).column(e).visible(t);(n===i||n)&&r.columns.adjust().draw()},this.fnSettings=function(){return lt(this[r.iApiIndex])},this.fnSort=function(e){this.api(!0).order(e).draw()},this.fnSortListener=function(e,t,n){this.api(!0).order.listener(e,t,n)},this.fnUpdate=function(e,t,n,r,o){var s=this.api(!0);return n===i||null===n?s.row(t).data(e):s.cell(t,n).data(e),(o===i||o)&&s.columns.adjust(),(r===i||r)&&s.draw(),0},this.fnVersionCheck=r.fnVersionCheck;var s=this,a=n===i,c=this.length;for(var u in a&&(n={}),this.oApi=this.internal=r.internal,l.ext.internal)u&&(this[u]=Ut(u));return this.each(function(){var t,r=c>1?dt({},n,!0):n,o=0,u=this.getAttribute("id"),d=!1,h=l.defaults,p=e(this);if("table"==this.nodeName.toLowerCase()){N(h),D(h.column),I(h,h,!0),I(h.column,h.column,!0),I(h,e.extend(r,p.data()),!0);var f=l.settings;for(o=0,t=f.length;o<t;o++){var A=f[o];if(A.nTable==this||A.nTHead&&A.nTHead.parentNode==this||A.nTFoot&&A.nTFoot.parentNode==this){if(a||(r.bRetrieve!==i?r.bRetrieve:h.bRetrieve))return A.oInstance;if(r.bDestroy!==i?r.bDestroy:h.bDestroy){A.oInstance.fnDestroy();break}return void ct(A,0,"Cannot reinitialise DataTable",3)}if(A.sTableId==this.id){f.splice(o,1);break}}null!==u&&""!==u||(u="DataTables_Table_"+l.ext._unique++,this.id=u);var g=e.extend(!0,{},l.models.oSettings,{sDestroyWidth:p[0].style.width,sInstance:u,sTableId:u});g.nTable=this,g.oApi=s.internal,g.oInit=r,f.push(g),g.oInstance=1===s.length?s:p.dataTable(),N(r),B(r.oLanguage),r.aLengthMenu&&!r.iDisplayLength&&(r.iDisplayLength=Array.isArray(r.aLengthMenu[0])?r.aLengthMenu[0][0]:r.aLengthMenu[0]),r=dt(e.extend(!0,{},h),r),ut(g.oFeatures,r,["bPaginate","bLengthChange","bFilter","bSort","bSortMulti","bInfo","bProcessing","bAutoWidth","bSortClasses","bServerSide","bDeferRender"]),ut(g,r,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"]]),ut(g.oScroll,r,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),ut(g.oLanguage,r,"fnInfoCallback"),pt(g,"aoDrawCallback",r.fnDrawCallback,"user"),pt(g,"aoServerParams",r.fnServerParams,"user"),pt(g,"aoStateSaveParams",r.fnStateSaveParams,"user"),pt(g,"aoStateLoadParams",r.fnStateLoadParams,"user"),pt(g,"aoStateLoaded",r.fnStateLoaded,"user"),pt(g,"aoRowCallback",r.fnRowCallback,"user"),pt(g,"aoRowCreatedCallback",r.fnCreatedRow,"user"),pt(g,"aoHeaderCallback",r.fnHeaderCallback,"user"),pt(g,"aoFooterCallback",r.fnFooterCallback,"user"),pt(g,"aoInitComplete",r.fnInitComplete,"user"),pt(g,"aoPreDrawCallback",r.fnPreDrawCallback,"user"),g.rowIdFn=Z(r.rowId),O(g);var m=g.oClasses;if(e.extend(m,l.ext.classes,r.oClasses),p.addClass(m.sTable),g.iInitDisplayStart===i&&(g.iInitDisplayStart=r.iDisplayStart,g._iDisplayStart=r.iDisplayStart),null!==r.iDeferLoading){g.bDeferLoading=!0;var y=Array.isArray(r.iDeferLoading);g._iRecordsDisplay=y?r.iDeferLoading[0]:r.iDeferLoading,g._iRecordsTotal=y?r.iDeferLoading[1]:r.iDeferLoading}var v=g.oLanguage;e.extend(!0,v,r.oLanguage),v.sUrl?(e.ajax({dataType:"json",url:v.sUrl,success:function(t){I(h.oLanguage,t),B(t),e.extend(!0,v,t),ft(g,null,"i18n",[g]),Oe(g)},error:function(){Oe(g)}}),d=!0):ft(g,null,"i18n",[g]),null===r.asStripeClasses&&(g.asStripeClasses=[m.sStripeOdd,m.sStripeEven]);var w=g.asStripeClasses,b=p.children("tbody").find("tr").eq(0);-1!==e.inArray(!0,e.map(w,function(e,t){return b.hasClass(e)}))&&(e("tbody tr",this).removeClass(w.join(" ")),g.asDestroyStripes=w.slice());var _,C=[],E=this.getElementsByTagName("thead");if(0!==E.length&&(he(g.aoHeader,E[0]),C=pe(g)),null===r.aoColumns)for(_=[],o=0,t=C.length;o<t;o++)_.push(null);else _=r.aoColumns;for(o=0,t=_.length;o<t;o++)M(g,C?C[o]:null);if(V(g,r.aoColumnDefs,_,function(e,t){U(g,e,t)}),b.length){var S=function(e,t){return null!==e.getAttribute("data-"+t)?t:null};e(b[0]).children("th, td").each(function(e,t){var n=g.aoColumns[e];if(n.mData===e){var r=S(t,"sort")||S(t,"order"),o=S(t,"filter")||S(t,"search");null===r&&null===o||(n.mData={_:e+".display",sort:null!==r?e+".@data-"+r:i,type:null!==r?e+".@data-"+r:i,filter:null!==o?e+".@data-"+o:i},U(g,e))}})}var T=g.oFeatures,L=function(){if(r.aaSorting===i){var n=g.aaSorting;for(o=0,t=n.length;o<t;o++)n[o][1]=g.aoColumns[o].asSorting[0]}it(g),T.bSort&&pt(g,"aoDrawCallback",function(){if(g.bSorted){var t=Ze(g),n={};e.each(t,function(e,t){n[t.src]=t.dir}),ft(g,null,"order",[g,t,n]),et(g)}}),pt(g,"aoDrawCallback",function(){(g.bSorted||"ssp"===mt(g)||T.bDeferRender)&&it(g)},"sc");var s=p.children("caption").each(function(){this._captionSide=e(this).css("caption-side")}),a=p.children("thead");0===a.length&&(a=e("<thead/>").appendTo(p)),g.nTHead=a[0];var l=p.children("tbody");0===l.length&&(l=e("<tbody/>").insertAfter(a)),g.nTBody=l[0];var c=p.children("tfoot");if(0===c.length&&s.length>0&&(""!==g.oScroll.sX||""!==g.oScroll.sY)&&(c=e("<tfoot/>").appendTo(p)),0===c.length||0===c.children().length?p.addClass(m.sNoFooter):c.length>0&&(g.nTFoot=c[0],he(g.aoFooter,g.nTFoot)),r.aaData)for(o=0;o<r.aaData.length;o++)W(g,r.aaData[o]);else(g.bDeferLoading||"dom"==mt(g))&&q(g,e(g.nTBody).children("tr"));g.aiDisplay=g.aiDisplayMaster.slice(),g.bInitialised=!0,!1===d&&Oe(g)};pt(g,"aoDrawCallback",ot,"state_save"),r.bStateSave?(T.bStateSave=!0,st(g,0,L)):L()}else ct(null,0,"Non-table node initialisation ("+this.nodeName+")",2)}),s=null,this},c={},u=/[\r\n\u2028]/g,d=/<.*?>/g,h=/^\d{2,4}[\.\/\-]\d{1,2}[\.\/\-]\d{1,2}([T ]{1}\d{1,2}[:\.]\d{2}([\.:]\d{2})?)?$/,p=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^","-"].join("|\\")+")","g"),f=/['\u00A0,$Â£â¬Â¥%\u2009\u202F\u20BD\u20a9\u20BArfkÉÎ]/gi,A=function(e){return!e||!0===e||"-"===e},g=function(e){var t=parseInt(e,10);return!isNaN(t)&&isFinite(e)?t:null},m=function(e,t){return c[t]||(c[t]=new RegExp(Se(t),"g")),"string"==typeof e&&"."!==t?e.replace(/\./g,"").replace(c[t],"."):e},y=function(e,t,n){var i="string"==typeof e;return!!A(e)||(t&&i&&(e=m(e,t)),n&&i&&(e=e.replace(f,"")),!isNaN(parseFloat(e))&&isFinite(e))},v=function(e,t,n){return!!A(e)||function(e){return A(e)||"string"==typeof e}(e)&&!!y(E(e),t,n)||null},w=function(e,t,n){var r=[],o=0,s=e.length;if(n!==i)for(;o<s;o++)e[o]&&e[o][t]&&r.push(e[o][t][n]);else for(;o<s;o++)e[o]&&r.push(e[o][t]);return r},b=function(e,t,n,r){var o=[],s=0,a=t.length;if(r!==i)for(;s<a;s++)e[t[s]][n]&&o.push(e[t[s]][n][r]);else for(;s<a;s++)o.push(e[t[s]][n]);return o},_=function(e,t){var n,r=[];t===i?(t=0,n=e):(n=t,t=e);for(var o=t;o<n;o++)r.push(o);return r},C=function(e){for(var t=[],n=0,i=e.length;n<i;n++)e[n]&&t.push(e[n]);return t},E=function(e){return e.replace(d,"")},S=function(e){if(function(e){if(e.length<2)return!0;for(var t=e.slice().sort(),n=t[0],i=1,r=t.length;i<r;i++){if(t[i]===n)return!1;n=t[i]}return!0}(e))return e.slice();var t,n,i,r=[],o=e.length,s=0;e:for(n=0;n<o;n++){for(t=e[n],i=0;i<s;i++)if(r[i]===t)continue e;r.push(t),s++}return r},T=function(e,t){if(Array.isArray(t))for(var n=0;n<t.length;n++)T(e,t[n]);else e.push(t);return e},L=function(e,t){return t===i&&(t=0),-1!==this.indexOf(e,t)};function x(t){var n,i,r={};e.each(t,function(e,o){(n=e.match(/^([^A-Z]+?)([A-Z])/))&&-1!=="a aa ai ao as b fn i m o s ".indexOf(n[1]+" ")&&(i=e.replace(n[0],n[2].toLowerCase()),r[i]=e,"o"===n[1]&&x(t[e]))}),t._hungarianMap=r}function I(t,n,r){var o;t._hungarianMap||x(t),e.each(n,function(s,a){(o=t._hungarianMap[s])===i||!r&&n[o]!==i||("o"===o.charAt(0)?(n[o]||(n[o]={}),e.extend(!0,n[o],n[s]),I(t[o],n[o],r)):n[o]=n[s])})}function B(e){var t=l.defaults.oLanguage,n=t.sDecimal;if(n&&Rt(n),e){var i=e.sZeroRecords;!e.sEmptyTable&&i&&"No data available in table"===t.sEmptyTable&&ut(e,e,"sZeroRecords","sEmptyTable"),!e.sLoadingRecords&&i&&"Loading..."===t.sLoadingRecords&&ut(e,e,"sZeroRecords","sLoadingRecords"),e.sInfoThousands&&(e.sThousands=e.sInfoThousands);var r=e.sDecimal;r&&n!==r&&Rt(r)}}Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),Array.prototype.includes||(Array.prototype.includes=L),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}),String.prototype.includes||(String.prototype.includes=L),l.util={throttle:function(e,t){var n,r,o=t!==i?t:200;return function(){var t=this,s=+new Date,a=arguments;n&&s<n+o?(clearTimeout(r),r=setTimeout(function(){n=i,e.apply(t,a)},o)):(n=s,e.apply(t,a))}},escapeRegex:function(e){return e.replace(p,"\\$1")},set:function(t){if(e.isPlainObject(t))return l.util.set(t._);if(null===t)return function(){};if("function"==typeof t)return function(e,n,i){t(e,"set",n,i)};if("string"!=typeof t||-1===t.indexOf(".")&&-1===t.indexOf("[")&&-1===t.indexOf("("))return function(e,n){e[t]=n};var n=function(e,t,r){for(var o,s,a,l,c,u=Y(r),d=u[u.length-1],h=0,p=u.length-1;h<p;h++){if("__proto__"===u[h]||"constructor"===u[h])throw new Error("Cannot set prototype values");if(s=u[h].match(X),a=u[h].match(J),s){if(u[h]=u[h].replace(X,""),e[u[h]]=[],(o=u.slice()).splice(0,h+1),c=o.join("."),Array.isArray(t))for(var f=0,A=t.length;f<A;f++)n(l={},t[f],c),e[u[h]].push(l);else e[u[h]]=t;return}a&&(u[h]=u[h].replace(J,""),e=e[u[h]](t)),null!==e[u[h]]&&e[u[h]]!==i||(e[u[h]]={}),e=e[u[h]]}d.match(J)?e=e[d.replace(J,"")](t):e[d.replace(X,"")]=t};return function(e,i){return n(e,i,t)}},get:function(t){if(e.isPlainObject(t)){var n={};return e.each(t,function(e,t){t&&(n[e]=l.util.get(t))}),function(e,t,r,o){var s=n[t]||n._;return s!==i?s(e,t,r,o):e}}if(null===t)return function(e){return e};if("function"==typeof t)return function(e,n,i,r){return t(e,n,i,r)};if("string"!=typeof t||-1===t.indexOf(".")&&-1===t.indexOf("[")&&-1===t.indexOf("("))return function(e,n){return e[t]};var r=function(e,t,n){var o,s,a,l;if(""!==n)for(var c=Y(n),u=0,d=c.length;u<d;u++){if(o=c[u].match(X),s=c[u].match(J),o){if(c[u]=c[u].replace(X,""),""!==c[u]&&(e=e[c[u]]),a=[],c.splice(0,u+1),l=c.join("."),Array.isArray(e))for(var h=0,p=e.length;h<p;h++)a.push(r(e[h],t,l));var f=o[0].substring(1,o[0].length-1);e=""===f?a:a.join(f);break}if(s)c[u]=c[u].replace(J,""),e=e[c[u]]();else{if(null===e||e[c[u]]===i)return i;e=e[c[u]]}}return e};return function(e,n){return r(e,n,t)}}};var F=function(e,t,n){e[t]!==i&&(e[n]=e[t])};function N(e){F(e,"ordering","bSort"),F(e,"orderMulti","bSortMulti"),F(e,"orderClasses","bSortClasses"),F(e,"orderCellsTop","bSortCellsTop"),F(e,"order","aaSorting"),F(e,"orderFixed","aaSortingFixed"),F(e,"paging","bPaginate"),F(e,"pagingType","sPaginationType"),F(e,"pageLength","iDisplayLength"),F(e,"searching","bFilter"),"boolean"==typeof e.sScrollX&&(e.sScrollX=e.sScrollX?"100%":""),"boolean"==typeof e.scrollX&&(e.scrollX=e.scrollX?"100%":"");var t=e.aoSearchCols;if(t)for(var n=0,i=t.length;n<i;n++)t[n]&&I(l.models.oSearch,t[n])}function D(e){F(e,"orderable","bSortable"),F(e,"orderData","aDataSort"),F(e,"orderSequence","asSorting"),F(e,"orderDataType","sortDataType");var t=e.aDataSort;"number"!=typeof t||Array.isArray(t)||(e.aDataSort=[t])}function O(n){if(!l.__browser){var i={};l.__browser=i;var r=e("<div/>").css({position:"fixed",top:0,left:-1*e(t).scrollLeft(),height:1,width:1,overflow:"hidden"}).append(e("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(e("<div/>").css({width:"100%",height:10}))).appendTo("body"),o=r.children(),s=o.children();i.barWidth=o[0].offsetWidth-o[0].clientWidth,i.bScrollOversize=100===s[0].offsetWidth&&100!==o[0].clientWidth,i.bScrollbarLeft=1!==Math.round(s.offset().left),i.bBounding=!!r[0].getBoundingClientRect().width,r.remove()}e.extend(n.oBrowser,l.__browser),n.oScroll.iBarWidth=l.__browser.barWidth}function R(e,t,n,r,o,s){var a,l=r,c=!1;for(n!==i&&(a=n,c=!0);l!==o;)e.hasOwnProperty(l)&&(a=c?t(a,e[l],l,e):e[l],c=!0,l+=s);return a}function M(t,i){var r=l.defaults.column,o=t.aoColumns.length,s=e.extend({},l.models.oColumn,r,{nTh:i||n.createElement("th"),sTitle:r.sTitle?r.sTitle:i?i.innerHTML:"",aDataSort:r.aDataSort?r.aDataSort:[o],mData:r.mData?r.mData:o,idx:o});t.aoColumns.push(s);var a=t.aoPreSearchCols;a[o]=e.extend({},l.models.oSearch,a[o]),U(t,o,e(i).data())}function U(t,n,r){var o=t.aoColumns[n],s=t.oClasses,a=e(o.nTh);if(!o.sWidthOrig){o.sWidthOrig=a.attr("width")||null;var c=(a.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);c&&(o.sWidthOrig=c[1])}r!==i&&null!==r&&(D(r),I(l.defaults.column,r,!0),r.mDataProp===i||r.mData||(r.mData=r.mDataProp),r.sType&&(o._sManualType=r.sType),r.className&&!r.sClass&&(r.sClass=r.className),r.sClass&&a.addClass(r.sClass),e.extend(o,r),ut(o,r,"sWidth","sWidthOrig"),r.iDataSort!==i&&(o.aDataSort=[r.iDataSort]),ut(o,r,"aDataSort"));var u=o.mData,d=Z(u),h=o.mRender?Z(o.mRender):null,p=function(e){return"string"==typeof e&&-1!==e.indexOf("@")};o._bAttrSrc=e.isPlainObject(u)&&(p(u.sort)||p(u.type)||p(u.filter)),o._setter=null,o.fnGetData=function(e,t,n){var r=d(e,t,i,n);return h&&t?h(r,t,e,n):r},o.fnSetData=function(e,t,n){return $(u)(e,t,n)},"number"!=typeof u&&(t._rowReadObject=!0),t.oFeatures.bSort||(o.bSortable=!1,a.addClass(s.sSortableNone));var f=-1!==e.inArray("asc",o.asSorting),A=-1!==e.inArray("desc",o.asSorting);o.bSortable&&(f||A)?f&&!A?(o.sSortingClass=s.sSortableAsc,o.sSortingClassJUI=s.sSortJUIAscAllowed):!f&&A?(o.sSortingClass=s.sSortableDesc,o.sSortingClassJUI=s.sSortJUIDescAllowed):(o.sSortingClass=s.sSortable,o.sSortingClassJUI=s.sSortJUI):(o.sSortingClass=s.sSortableNone,o.sSortingClassJUI="")}function P(e){if(!1!==e.oFeatures.bAutoWidth){var t=e.aoColumns;qe(e);for(var n=0,i=t.length;n<i;n++)t[n].nTh.style.width=t[n].sWidth}var r=e.oScroll;""===r.sY&&""===r.sX||je(e),ft(e,null,"column-sizing",[e])}function H(e,t){var n=z(e,"bVisible");return"number"==typeof n[t]?n[t]:null}function k(t,n){var i=z(t,"bVisible"),r=e.inArray(n,i);return-1!==r?r:null}function Q(t){var n=0;return e.each(t.aoColumns,function(t,i){i.bVisible&&"none"!==e(i.nTh).css("display")&&n++}),n}function z(t,n){var i=[];return e.map(t.aoColumns,function(e,t){e[n]&&i.push(t)}),i}function j(e){var t,n,r,o,s,a,c,u,d,h=e.aoColumns,p=e.aoData,f=l.ext.type.detect;for(t=0,n=h.length;t<n;t++)if(d=[],!(c=h[t]).sType&&c._sManualType)c.sType=c._sManualType;else if(!c.sType){for(r=0,o=f.length;r<o;r++){for(s=0,a=p.length;s<a&&(d[s]===i&&(d[s]=G(e,s,t,"type")),(u=f[r](d[s],e))||r===f.length-1)&&("html"!==u||A(d[s]));s++);if(u){c.sType=u;break}}c.sType||(c.sType="string")}}function V(t,n,r,o){var s,a,l,c,u,d,h,p=t.aoColumns;if(n)for(s=n.length-1;s>=0;s--){var f=(h=n[s]).targets!==i?h.targets:h.aTargets;for(Array.isArray(f)||(f=[f]),l=0,c=f.length;l<c;l++)if("number"==typeof f[l]&&f[l]>=0){for(;p.length<=f[l];)M(t);o(f[l],h)}else if("number"==typeof f[l]&&f[l]<0)o(p.length+f[l],h);else if("string"==typeof f[l])for(u=0,d=p.length;u<d;u++)("_all"==f[l]||e(p[u].nTh).hasClass(f[l]))&&o(u,h)}if(r)for(s=0,a=r.length;s<a;s++)o(s,r[s])}function W(t,n,r,o){var s=t.aoData.length,a=e.extend(!0,{},l.models.oRow,{src:r?"dom":"data",idx:s});a._aData=n,t.aoData.push(a);for(var c=t.aoColumns,u=0,d=c.length;u<d;u++)c[u].sType=null;t.aiDisplayMaster.push(s);var h=t.rowIdFn(n);return h!==i&&(t.aIds[h]=a),!r&&t.oFeatures.bDeferRender||oe(t,s,r,o),s}function q(t,n){var i;return n instanceof e||(n=e(n)),n.map(function(e,n){return i=re(t,n),W(t,i.data,n,i.cells)})}function G(e,t,n,r){"search"===r?r="filter":"order"===r&&(r="sort");var o=e.iDraw,s=e.aoColumns[n],a=e.aoData[t]._aData,c=s.sDefaultContent,u=s.fnGetData(a,r,{settings:e,row:t,col:n});if(u===i)return e.iDrawError!=o&&null===c&&(ct(e,0,"Requested unknown parameter "+("function"==typeof s.mData?"{function}":"'"+s.mData+"'")+" for row "+t+", column "+n,4),e.iDrawError=o),c;if(u!==a&&null!==u||null===c||r===i){if("function"==typeof u)return u.call(a)}else u=c;if(null===u&&"display"===r)return"";if("filter"===r){var d=l.ext.type.search;d[s.sType]&&(u=d[s.sType](u))}return u}function K(e,t,n,i){e.aoColumns[n].fnSetData(e.aoData[t]._aData,i,{settings:e,row:t,col:n})}var X=/\[.*?\]$/,J=/\(\)$/;function Y(t){return e.map(t.match(/(\\.|[^\.])+/g)||[""],function(e){return e.replace(/\\\./g,".")})}var Z=l.util.get,$=l.util.set;function ee(e){return w(e.aoData,"_aData")}function te(e){e.aoData.length=0,e.aiDisplayMaster.length=0,e.aiDisplay.length=0,e.aIds={}}function ne(e,t,n){for(var r=-1,o=0,s=e.length;o<s;o++)e[o]==t?r=o:e[o]>t&&e[o]--;-1!=r&&n===i&&e.splice(r,1)}function ie(e,t,n,r){var o,s,a=e.aoData[t],l=function(n,i){for(;n.childNodes.length;)n.removeChild(n.firstChild);n.innerHTML=G(e,t,i,"display")};if("dom"!==n&&(n&&"auto"!==n||"dom"!==a.src)){var c=a.anCells;if(c)if(r!==i)l(c[r],r);else for(o=0,s=c.length;o<s;o++)l(c[o],o)}else a._aData=re(e,a,r,r===i?i:a._aData).data;a._aSortData=null,a._aFilterData=null;var u=e.aoColumns;if(r!==i)u[r].sType=null;else{for(o=0,s=u.length;o<s;o++)u[o].sType=null;se(e,a)}}function re(e,t,n,r){var o,s,a,l=[],c=t.firstChild,u=0,d=e.aoColumns,h=e._rowReadObject;r=r!==i?r:h?{}:[];var p=function(e,t){if("string"==typeof e){var n=e.indexOf("@");if(-1!==n){var i=e.substring(n+1);$(e)(r,t.getAttribute(i))}}},f=function(e){n!==i&&n!==u||(s=d[u],a=e.innerHTML.trim(),s&&s._bAttrSrc?($(s.mData._)(r,a),p(s.mData.sort,e),p(s.mData.type,e),p(s.mData.filter,e)):h?(s._setter||(s._setter=$(s.mData)),s._setter(r,a)):r[u]=a),u++};if(c)for(;c;)"TD"!=(o=c.nodeName.toUpperCase())&&"TH"!=o||(f(c),l.push(c)),c=c.nextSibling;else for(var A=0,g=(l=t.anCells).length;A<g;A++)f(l[A]);var m=t.firstChild?t:t.nTr;if(m){var y=m.getAttribute("id");y&&$(e.rowId)(r,y)}return{data:r,cells:l}}function oe(t,i,r,o){var s,a,l,c,u,d,h=t.aoData[i],p=h._aData,f=[];if(null===h.nTr){for(s=r||n.createElement("tr"),h.nTr=s,h.anCells=f,s._DT_RowIndex=i,se(t,h),c=0,u=t.aoColumns.length;c<u;c++)l=t.aoColumns[c],(a=(d=!r)?n.createElement(l.sCellType):o[c])._DT_CellIndex={row:i,column:c},f.push(a),!d&&(!l.mRender&&l.mData===c||e.isPlainObject(l.mData)&&l.mData._===c+".display")||(a.innerHTML=G(t,i,c,"display")),l.sClass&&(a.className+=" "+l.sClass),l.bVisible&&!r?s.appendChild(a):!l.bVisible&&r&&a.parentNode.removeChild(a),l.fnCreatedCell&&l.fnCreatedCell.call(t.oInstance,a,G(t,i,c),p,i,c);ft(t,"aoRowCreatedCallback",null,[s,p,i,f])}}function se(t,n){var i=n.nTr,r=n._aData;if(i){var o=t.rowIdFn(r);if(o&&(i.id=o),r.DT_RowClass){var s=r.DT_RowClass.split(" ");n.__rowc=n.__rowc?S(n.__rowc.concat(s)):s,e(i).removeClass(n.__rowc.join(" ")).addClass(r.DT_RowClass)}r.DT_RowAttr&&e(i).attr(r.DT_RowAttr),r.DT_RowData&&e(i).data(r.DT_RowData)}}function ae(t){var n,i,r,o,s,a=t.nTHead,l=t.nTFoot,c=0===e("th, td",a).length,u=t.oClasses,d=t.aoColumns;for(c&&(o=e("<tr/>").appendTo(a)),n=0,i=d.length;n<i;n++)r=e((s=d[n]).nTh).addClass(s.sClass),c&&r.appendTo(o),t.oFeatures.bSort&&(r.addClass(s.sSortingClass),!1!==s.bSortable&&(r.attr("tabindex",t.iTabIndex).attr("aria-controls",t.sTableId),nt(t,s.nTh,n))),s.sTitle!=r[0].innerHTML&&r.html(s.sTitle),gt(t,"header")(t,r,s,u);if(c&&he(t.aoHeader,a),e(a).children("tr").children("th, td").addClass(u.sHeaderTH),e(l).children("tr").children("th, td").addClass(u.sFooterTH),null!==l){var h=t.aoFooter[0];for(n=0,i=h.length;n<i;n++)(s=d[n]).nTf=h[n].cell,s.sClass&&e(s.nTf).addClass(s.sClass)}}function le(t,n,r){var o,s,a,l,c,u,d,h,p,f=[],A=[],g=t.aoColumns.length;if(n){for(r===i&&(r=!1),o=0,s=n.length;o<s;o++){for(f[o]=n[o].slice(),f[o].nTr=n[o].nTr,a=g-1;a>=0;a--)t.aoColumns[a].bVisible||r||f[o].splice(a,1);A.push([])}for(o=0,s=f.length;o<s;o++){if(d=f[o].nTr)for(;u=d.firstChild;)d.removeChild(u);for(a=0,l=f[o].length;a<l;a++)if(h=1,p=1,A[o][a]===i){for(d.appendChild(f[o][a].cell),A[o][a]=1;f[o+h]!==i&&f[o][a].cell==f[o+h][a].cell;)A[o+h][a]=1,h++;for(;f[o][a+p]!==i&&f[o][a].cell==f[o][a+p].cell;){for(c=0;c<h;c++)A[o+c][a+p]=1;p++}e(f[o][a].cell).attr("rowspan",h).attr("colspan",p)}}}}function ce(t,n){var r=ft(t,"aoPreDrawCallback","preDraw",[t]);if(-1===e.inArray(!1,r)){var o=[],s=0,a=t.asStripeClasses,l=a.length,c=t.oLanguage,u=t.iInitDisplayStart,d="ssp"==mt(t),h=t.aiDisplay;t.bDrawing=!0,u!==i&&-1!==u&&(t._iDisplayStart=d?u:u>=t.fnRecordsDisplay()?0:u,t.iInitDisplayStart=-1);var p=t._iDisplayStart,f=t.fnDisplayEnd();if(t.bDeferLoading)t.bDeferLoading=!1,t.iDraw++,Qe(t,!1);else if(d){if(!t.bDestroying&&!n)return void Ae(t)}else t.iDraw++;if(0!==h.length)for(var A=d?t.aoData.length:f,g=d?0:p;g<A;g++){var m=h[g],y=t.aoData[m];null===y.nTr&&oe(t,m);var v=y.nTr;if(0!==l){var w=a[s%l];y._sRowStripe!=w&&(e(v).removeClass(y._sRowStripe).addClass(w),y._sRowStripe=w)}ft(t,"aoRowCallback",null,[v,y._aData,s,g,m]),o.push(v),s++}else{var b=c.sZeroRecords;1==t.iDraw&&"ajax"==mt(t)?b=c.sLoadingRecords:c.sEmptyTable&&0===t.fnRecordsTotal()&&(b=c.sEmptyTable),o[0]=e("<tr/>",{class:l?a[0]:""}).append(e("<td />",{valign:"top",colSpan:Q(t),class:t.oClasses.sRowEmpty}).html(b))[0]}ft(t,"aoHeaderCallback","header",[e(t.nTHead).children("tr")[0],ee(t),p,f,h]),ft(t,"aoFooterCallback","footer",[e(t.nTFoot).children("tr")[0],ee(t),p,f,h]);var _=e(t.nTBody);_.children().detach(),_.append(e(o)),ft(t,"aoDrawCallback","draw",[t]),t.bSorted=!1,t.bFiltered=!1,t.bDrawing=!1}else Qe(t,!1)}function ue(e,t){var n=e.oFeatures,i=n.bFilter;n.bSort&&$e(e),i?we(e,e.oPreviousSearch):e.aiDisplay=e.aiDisplayMaster.slice(),!0!==t&&(e._iDisplayStart=0),e._drawHold=t,ce(e),e._drawHold=!1}function de(t){var n=t.oClasses,i=e(t.nTable),r=e("<div/>").insertBefore(i),o=t.oFeatures,s=e("<div/>",{id:t.sTableId+"_wrapper",class:n.sWrapper+(t.nTFoot?"":" "+n.sNoFooter)});t.nHolding=r[0],t.nTableWrapper=s[0],t.nTableReinsertBefore=t.nTable.nextSibling;for(var a,c,u,d,h,p,f=t.sDom.split(""),A=0;A<f.length;A++){if(a=null,"<"==(c=f[A])){if(u=e("<div/>")[0],"'"==(d=f[A+1])||'"'==d){for(h="",p=2;f[A+p]!=d;)h+=f[A+p],p++;if("H"==h?h=n.sJUIHeader:"F"==h&&(h=n.sJUIFooter),-1!=h.indexOf(".")){var g=h.split(".");u.id=g[0].substr(1,g[0].length-1),u.className=g[1]}else"#"==h.charAt(0)?u.id=h.substr(1,h.length-1):u.className=h;A+=p}s.append(u),s=e(u)}else if(">"==c)s=s.parent();else if("l"==c&&o.bPaginate&&o.bLengthChange)a=Ue(t);else if("f"==c&&o.bFilter)a=ve(t);else if("r"==c&&o.bProcessing)a=ke(t);else if("t"==c)a=ze(t);else if("i"==c&&o.bInfo)a=Fe(t);else if("p"==c&&o.bPaginate)a=Pe(t);else if(0!==l.ext.feature.length)for(var m=l.ext.feature,y=0,v=m.length;y<v;y++)if(c==m[y].cFeature){a=m[y].fnInit(t);break}if(a){var w=t.aanFeatures;w[c]||(w[c]=[]),w[c].push(a),s.append(a)}}r.replaceWith(s),t.nHolding=null}function he(t,n){var i,r,o,s,a,l,c,u,d,h,p=e(n).children("tr"),f=function(e,t,n){for(var i=e[t];i[n];)n++;return n};for(t.splice(0,t.length),o=0,l=p.length;o<l;o++)t.push([]);for(o=0,l=p.length;o<l;o++)for(r=(i=p[o]).firstChild;r;){if("TD"==r.nodeName.toUpperCase()||"TH"==r.nodeName.toUpperCase())for(u=(u=1*r.getAttribute("colspan"))&&0!==u&&1!==u?u:1,d=(d=1*r.getAttribute("rowspan"))&&0!==d&&1!==d?d:1,c=f(t,o,0),h=1===u,a=0;a<u;a++)for(s=0;s<d;s++)t[o+s][c+a]={cell:r,unique:h},t[o+s].nTr=i;r=r.nextSibling}}function pe(e,t,n){var i=[];n||(n=e.aoHeader,t&&he(n=[],t));for(var r=0,o=n.length;r<o;r++)for(var s=0,a=n[r].length;s<a;s++)!n[r][s].unique||i[s]&&e.bSortCellsTop||(i[s]=n[r][s].cell);return i}function fe(t,n,i){if(ft(t,"aoServerParams","serverParams",[n]),n&&Array.isArray(n)){var r={},o=/(.*?)\[\]$/;e.each(n,function(e,t){var n=t.name.match(o);if(n){var i=n[0];r[i]||(r[i]=[]),r[i].push(t.value)}else r[t.name]=t.value}),n=r}var s,a=t.ajax,l=t.oInstance,c=function(e){var n=t.jqXhr?t.jqXhr.status:null;(null===e||"number"==typeof n&&204==n)&&ye(t,e={},[]);var r=e.error||e.sError;r&&ct(t,0,r),t.json=e,ft(t,null,"xhr",[t,e,t.jqXHR]),i(e)};if(e.isPlainObject(a)&&a.data){var u="function"==typeof(s=a.data)?s(n,t):s;n="function"==typeof s&&u?u:e.extend(!0,n,u),delete a.data}var d={data:n,success:c,dataType:"json",cache:!1,type:t.sServerMethod,error:function(n,i,r){var o=ft(t,null,"xhr",[t,null,t.jqXHR]);-1===e.inArray(!0,o)&&("parsererror"==i?ct(t,0,"Invalid JSON response",1):4===n.readyState&&ct(t,0,"Ajax error",7)),Qe(t,!1)}};t.oAjaxData=n,ft(t,null,"preXhr",[t,n]),t.fnServerData?t.fnServerData.call(l,t.sAjaxSource,e.map(n,function(e,t){return{name:t,value:e}}),c,t):t.sAjaxSource||"string"==typeof a?t.jqXHR=e.ajax(e.extend(d,{url:a||t.sAjaxSource})):"function"==typeof a?t.jqXHR=a.call(l,n,c,t):(t.jqXHR=e.ajax(e.extend(d,a)),a.data=s)}function Ae(e){e.iDraw++,Qe(e,!0),fe(e,ge(e),function(t){me(e,t)})}function ge(t){var n,i,r,o,s=t.aoColumns,a=s.length,c=t.oFeatures,u=t.oPreviousSearch,d=t.aoPreSearchCols,h=[],p=Ze(t),f=t._iDisplayStart,A=!1!==c.bPaginate?t._iDisplayLength:-1,g=function(e,t){h.push({name:e,value:t})};g("sEcho",t.iDraw),g("iColumns",a),g("sColumns",w(s,"sName").join(",")),g("iDisplayStart",f),g("iDisplayLength",A);var m={draw:t.iDraw,columns:[],order:[],start:f,length:A,search:{value:u.sSearch,regex:u.bRegex}};for(n=0;n<a;n++)m.columns.push({data:i="function"==typeof(r=s[n]).mData?"function":r.mData,name:r.sName,searchable:r.bSearchable,orderable:r.bSortable,search:{value:(o=d[n]).sSearch,regex:o.bRegex}}),g("mDataProp_"+n,i),c.bFilter&&(g("sSearch_"+n,o.sSearch),g("bRegex_"+n,o.bRegex),g("bSearchable_"+n,r.bSearchable)),c.bSort&&g("bSortable_"+n,r.bSortable);c.bFilter&&(g("sSearch",u.sSearch),g("bRegex",u.bRegex)),c.bSort&&(e.each(p,function(e,t){m.order.push({column:t.col,dir:t.dir}),g("iSortCol_"+e,t.col),g("sSortDir_"+e,t.dir)}),g("iSortingCols",p.length));var y=l.ext.legacy.ajax;return null===y?t.sAjaxSource?h:m:y?h:m}function me(e,t){var n=function(e,n){return t[e]!==i?t[e]:t[n]},r=ye(e,t),o=n("sEcho","draw"),s=n("iTotalRecords","recordsTotal"),a=n("iTotalDisplayRecords","recordsFiltered");if(o!==i){if(1*o<e.iDraw)return;e.iDraw=1*o}r||(r=[]),te(e),e._iRecordsTotal=parseInt(s,10),e._iRecordsDisplay=parseInt(a,10);for(var l=0,c=r.length;l<c;l++)W(e,r[l]);e.aiDisplay=e.aiDisplayMaster.slice(),ce(e,!0),e._bInitComplete||Re(e,t),Qe(e,!1)}function ye(t,n,r){var o=e.isPlainObject(t.ajax)&&t.ajax.dataSrc!==i?t.ajax.dataSrc:t.sAjaxDataProp;if(!r)return"data"===o?n.aaData||n[o]:""!==o?Z(o)(n):n;$(o)(n,r)}function ve(t){var i=t.oClasses,r=t.sTableId,o=t.oLanguage,s=t.oPreviousSearch,a=t.aanFeatures,l='<input type="search" class="'+i.sFilterInput+'"/>',c=o.sSearch;c=c.match(/_INPUT_/)?c.replace("_INPUT_",l):c+l;var u=e("<div/>",{id:a.f?null:r+"_filter",class:i.sFilter}).append(e("<label/>").append(c)),d=function(e){var n=this.value?this.value:"";s.return&&"Enter"!==e.key||n!=s.sSearch&&(we(t,{sSearch:n,bRegex:s.bRegex,bSmart:s.bSmart,bCaseInsensitive:s.bCaseInsensitive,return:s.return}),t._iDisplayStart=0,ce(t))},h=null!==t.searchDelay?t.searchDelay:"ssp"===mt(t)?400:0,p=e("input",u).val(s.sSearch).attr("placeholder",o.sSearchPlaceholder).on("keyup.DT search.DT input.DT paste.DT cut.DT",h?Ge(d,h):d).on("mouseup",function(e){setTimeout(function(){d.call(p[0],e)},10)}).on("keypress.DT",function(e){if(13==e.keyCode)return!1}).attr("aria-controls",r);return e(t.nTable).on("search.dt.DT",function(e,i){if(t===i)try{p[0]!==n.activeElement&&p.val(s.sSearch)}catch(r){}}),u[0]}function we(e,t,n){var r=e.oPreviousSearch,o=e.aoPreSearchCols,s=function(e){r.sSearch=e.sSearch,r.bRegex=e.bRegex,r.bSmart=e.bSmart,r.bCaseInsensitive=e.bCaseInsensitive,r.return=e.return},a=function(e){return e.bEscapeRegex!==i?!e.bEscapeRegex:e.bRegex};if(j(e),"ssp"!=mt(e)){Ce(e,t.sSearch,n,a(t),t.bSmart,t.bCaseInsensitive),s(t);for(var l=0;l<o.length;l++)_e(e,o[l].sSearch,l,a(o[l]),o[l].bSmart,o[l].bCaseInsensitive);be(e)}else s(t);e.bFiltered=!0,ft(e,null,"search",[e])}function be(t){for(var n,i,r=l.ext.search,o=t.aiDisplay,s=0,a=r.length;s<a;s++){for(var c=[],u=0,d=o.length;u<d;u++)r[s](t,(n=t.aoData[i=o[u]])._aFilterData,i,n._aData,u)&&c.push(i);o.length=0,e.merge(o,c)}}function _e(e,t,n,i,r,o){if(""!==t){for(var s=[],a=e.aiDisplay,l=Ee(t,i,r,o),c=0;c<a.length;c++)l.test(e.aoData[a[c]]._aFilterData[n])&&s.push(a[c]);e.aiDisplay=s}}function Ce(e,t,n,i,r,o){var s,a,c,u=Ee(t,i,r,o),d=e.oPreviousSearch.sSearch,h=e.aiDisplayMaster,p=[];if(0!==l.ext.search.length&&(n=!0),a=xe(e),t.length<=0)e.aiDisplay=h.slice();else{for((a||n||i||d.length>t.length||0!==t.indexOf(d)||e.bSorted)&&(e.aiDisplay=h.slice()),s=e.aiDisplay,c=0;c<s.length;c++)u.test(e.aoData[s[c]]._sFilterRow)&&p.push(s[c]);e.aiDisplay=p}}function Ee(t,n,i,r){if(t=n?t:Se(t),i){var o=e.map(t.match(/"[^"]+"|[^ ]+/g)||[""],function(e){if('"'===e.charAt(0)){var t=e.match(/^"(.*)"$/);e=t?t[1]:e}return e.replace('"',"")});t="^(?=.*?"+o.join(")(?=.*?")+").*$"}return new RegExp(t,r?"i":"")}var Se=l.util.escapeRegex,Te=e("<div>")[0],Le=Te.textContent!==i;function xe(e){var t,n,i,r,o,s,a,l=e.aoColumns,c=!1;for(t=0,i=e.aoData.length;t<i;t++)if(!(a=e.aoData[t])._aFilterData){for(o=[],n=0,r=l.length;n<r;n++)l[n].bSearchable?(null===(s=G(e,t,n,"filter"))&&(s=""),"string"!=typeof s&&s.toString&&(s=s.toString())):s="",s.indexOf&&-1!==s.indexOf("&")&&(Te.innerHTML=s,s=Le?Te.textContent:Te.innerText),s.replace&&(s=s.replace(/[\r\n\u2028]/g,"")),o.push(s);a._aFilterData=o,a._sFilterRow=o.join("  "),c=!0}return c}function Ie(e){return{search:e.sSearch,smart:e.bSmart,regex:e.bRegex,caseInsensitive:e.bCaseInsensitive}}function Be(e){return{sSearch:e.search,bSmart:e.smart,bRegex:e.regex,bCaseInsensitive:e.caseInsensitive}}function Fe(t){var n=t.sTableId,i=t.aanFeatures.i,r=e("<div/>",{class:t.oClasses.sInfo,id:i?null:n+"_info"});return i||(t.aoDrawCallback.push({fn:Ne,sName:"information"}),r.attr("role","status").attr("aria-live","polite"),e(t.nTable).attr("aria-describedby",n+"_info")),r[0]}function Ne(t){var n=t.aanFeatures.i;if(0!==n.length){var i=t.oLanguage,r=t._iDisplayStart+1,o=t.fnDisplayEnd(),s=t.fnRecordsTotal(),a=t.fnRecordsDisplay(),l=a?i.sInfo:i.sInfoEmpty;a!==s&&(l+=" "+i.sInfoFiltered),l=De(t,l+=i.sInfoPostFix);var c=i.fnInfoCallback;null!==c&&(l=c.call(t.oInstance,t,r,o,s,a,l)),e(n).html(l)}}function De(e,t){var n=e.fnFormatNumber,i=e._iDisplayStart+1,r=e._iDisplayLength,o=e.fnRecordsDisplay(),s=-1===r;return t.replace(/_START_/g,n.call(e,i)).replace(/_END_/g,n.call(e,e.fnDisplayEnd())).replace(/_MAX_/g,n.call(e,e.fnRecordsTotal())).replace(/_TOTAL_/g,n.call(e,o)).replace(/_PAGE_/g,n.call(e,s?1:Math.ceil(i/r))).replace(/_PAGES_/g,n.call(e,s?1:Math.ceil(o/r)))}function Oe(e){var t,n,i,r=e.iInitDisplayStart,o=e.aoColumns,s=e.oFeatures,a=e.bDeferLoading;if(e.bInitialised){for(de(e),ae(e),le(e,e.aoHeader),le(e,e.aoFooter),Qe(e,!0),s.bAutoWidth&&qe(e),t=0,n=o.length;t<n;t++)(i=o[t]).sWidth&&(i.nTh.style.width=Ye(i.sWidth));ft(e,null,"preInit",[e]),ue(e);var l=mt(e);("ssp"!=l||a)&&("ajax"==l?fe(e,[],function(n){var i=ye(e,n);for(t=0;t<i.length;t++)W(e,i[t]);e.iInitDisplayStart=r,ue(e),Qe(e,!1),Re(e,n)}):(Qe(e,!1),Re(e)))}else setTimeout(function(){Oe(e)},200)}function Re(e,t){e._bInitComplete=!0,(t||e.oInit.aaData)&&P(e),ft(e,null,"plugin-init",[e,t]),ft(e,"aoInitComplete","init",[e,t])}function Me(e,t){var n=parseInt(t,10);e._iDisplayLength=n,At(e),ft(e,null,"length",[e,n])}function Ue(t){for(var n=t.oClasses,i=t.sTableId,r=t.aLengthMenu,o=Array.isArray(r[0]),s=o?r[0]:r,a=o?r[1]:r,l=e("<select/>",{name:i+"_length","aria-controls":i,class:n.sLengthSelect}),c=0,u=s.length;c<u;c++)l[0][c]=new Option("number"==typeof a[c]?t.fnFormatNumber(a[c]):a[c],s[c]);var d=e("<div><label/></div>").addClass(n.sLength);return t.aanFeatures.l||(d[0].id=i+"_length"),d.children().append(t.oLanguage.sLengthMenu.replace("_MENU_",l[0].outerHTML)),e("select",d).val(t._iDisplayLength).on("change.DT",function(n){Me(t,e(this).val()),ce(t)}),e(t.nTable).on("length.dt.DT",function(n,i,r){t===i&&e("select",d).val(r)}),d[0]}function Pe(t){var n=t.sPaginationType,i=l.ext.pager[n],r="function"==typeof i,o=function(e){ce(e)},s=e("<div/>").addClass(t.oClasses.sPaging+n)[0],a=t.aanFeatures;return r||i.fnInit(t,s,o),a.p||(s.id=t.sTableId+"_paginate",t.aoDrawCallback.push({fn:function(e){if(r){var t,n,s=e._iDisplayStart,l=e._iDisplayLength,c=e.fnRecordsDisplay(),u=-1===l,d=u?0:Math.ceil(s/l),h=u?1:Math.ceil(c/l),p=i(d,h);for(t=0,n=a.p.length;t<n;t++)gt(e,"pageButton")(e,a.p[t],t,p,d,h)}else i.fnUpdate(e,o)},sName:"pagination"})),s}function He(e,t,n){var i=e._iDisplayStart,r=e._iDisplayLength,o=e.fnRecordsDisplay();0===o||-1===r?i=0:"number"==typeof t?(i=t*r)>o&&(i=0):"first"==t?i=0:"previous"==t?(i=r>=0?i-r:0)<0&&(i=0):"next"==t?i+r<o&&(i+=r):"last"==t?i=Math.floor((o-1)/r)*r:ct(e,0,"Unknown paging action: "+t,5);var s=e._iDisplayStart!==i;return e._iDisplayStart=i,s&&(ft(e,null,"page",[e]),n&&ce(e)),s}function ke(t){return e("<div/>",{id:t.aanFeatures.r?null:t.sTableId+"_processing",class:t.oClasses.sProcessing}).html(t.oLanguage.sProcessing).insertBefore(t.nTable)[0]}function Qe(t,n){t.oFeatures.bProcessing&&e(t.aanFeatures.r).css("display",n?"block":"none"),ft(t,null,"processing",[t,n])}function ze(t){var n=e(t.nTable),i=t.oScroll;if(""===i.sX&&""===i.sY)return t.nTable;var r=i.sX,o=i.sY,s=t.oClasses,a=n.children("caption"),l=a.length?a[0]._captionSide:null,c=e(n[0].cloneNode(!1)),u=e(n[0].cloneNode(!1)),d=n.children("tfoot"),h="<div/>",p=function(e){return e?Ye(e):null};d.length||(d=null);var f=e(h,{class:s.sScrollWrapper}).append(e(h,{class:s.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:r?p(r):"100%"}).append(e(h,{class:s.sScrollHeadInner}).css({"box-sizing":"content-box",width:i.sXInner||"100%"}).append(c.removeAttr("id").css("margin-left",0).append("top"===l?a:null).append(n.children("thead"))))).append(e(h,{class:s.sScrollBody}).css({position:"relative",overflow:"auto",width:p(r)}).append(n));d&&f.append(e(h,{class:s.sScrollFoot}).css({overflow:"hidden",border:0,width:r?p(r):"100%"}).append(e(h,{class:s.sScrollFootInner}).append(u.removeAttr("id").css("margin-left",0).append("bottom"===l?a:null).append(n.children("tfoot")))));var A=f.children(),g=A[0],m=A[1],y=d?A[2]:null;return r&&e(m).on("scroll.DT",function(e){var t=this.scrollLeft;g.scrollLeft=t,d&&(y.scrollLeft=t)}),e(m).css("max-height",o),i.bCollapse||e(m).css("height",o),t.nScrollHead=g,t.nScrollBody=m,t.nScrollFoot=y,t.aoDrawCallback.push({fn:je,sName:"scrolling"}),f[0]}function je(n){var r,o,s,a,l,c,u,d,h,p=n.oScroll,f=p.sX,A=p.sXInner,g=p.sY,m=p.iBarWidth,y=e(n.nScrollHead),v=y[0].style,b=y.children("div"),_=b[0].style,C=b.children("table"),E=n.nScrollBody,S=e(E),T=E.style,L=e(n.nScrollFoot).children("div"),x=L.children("table"),I=e(n.nTHead),B=e(n.nTable),F=B[0],N=F.style,D=n.nTFoot?e(n.nTFoot):null,O=n.oBrowser,R=O.bScrollOversize,M=(w(n.aoColumns,"nTh"),[]),U=[],k=[],Q=[],z=function(e){var t=e.style;t.paddingTop="0",t.paddingBottom="0",t.borderTopWidth="0",t.borderBottomWidth="0",t.height=0},j=E.scrollHeight>E.clientHeight;if(n.scrollBarVis!==j&&n.scrollBarVis!==i)return n.scrollBarVis=j,void P(n);n.scrollBarVis=j,B.children("thead, tfoot").remove(),D&&(c=D.clone().prependTo(B),o=D.find("tr"),a=c.find("tr")),l=I.clone().prependTo(B),r=I.find("tr"),s=l.find("tr"),l.find("th, td").removeAttr("tabindex"),f||(T.width="100%",y[0].style.width="100%"),e.each(pe(n,l),function(e,t){u=H(n,e),t.style.width=n.aoColumns[u].sWidth}),D&&Ve(function(e){e.style.width=""},a),h=B.outerWidth(),""===f?(N.width="100%",R&&(B.find("tbody").height()>E.offsetHeight||"scroll"==S.css("overflow-y"))&&(N.width=Ye(B.outerWidth()-m)),h=B.outerWidth()):""!==A&&(N.width=Ye(A),h=B.outerWidth()),Ve(z,s),Ve(function(n){var i=t.getComputedStyle?t.getComputedStyle(n).width:Ye(e(n).width());k.push(n.innerHTML),M.push(i)},s),Ve(function(e,t){e.style.width=M[t]},r),e(s).height(0),D&&(Ve(z,a),Ve(function(t){Q.push(t.innerHTML),U.push(Ye(e(t).css("width")))},a),Ve(function(e,t){e.style.width=U[t]},o),e(a).height(0)),Ve(function(e,t){e.innerHTML='<div class="dataTables_sizing">'+k[t]+"</div>",e.childNodes[0].style.height="0",e.childNodes[0].style.overflow="hidden",e.style.width=M[t]},s),D&&Ve(function(e,t){e.innerHTML='<div class="dataTables_sizing">'+Q[t]+"</div>",e.childNodes[0].style.height="0",e.childNodes[0].style.overflow="hidden",e.style.width=U[t]},a),B.outerWidth()<h?(d=E.scrollHeight>E.offsetHeight||"scroll"==S.css("overflow-y")?h+m:h,R&&(E.scrollHeight>E.offsetHeight||"scroll"==S.css("overflow-y"))&&(N.width=Ye(d-m)),""!==f&&""===A||ct(n,1,"Possible column misalignment",6)):d="100%",T.width=Ye(d),v.width=Ye(d),D&&(n.nScrollFoot.style.width=Ye(d)),g||R&&(T.height=Ye(F.offsetHeight+m));var V=B.outerWidth();C[0].style.width=Ye(V),_.width=Ye(V);var W=B.height()>E.clientHeight||"scroll"==S.css("overflow-y"),q="padding"+(O.bScrollbarLeft?"Left":"Right");_[q]=W?m+"px":"0px",D&&(x[0].style.width=Ye(V),L[0].style.width=Ye(V),L[0].style[q]=W?m+"px":"0px"),B.children("colgroup").insertBefore(B.children("thead")),S.trigger("scroll"),!n.bSorted&&!n.bFiltered||n._drawHold||(E.scrollTop=0)}function Ve(e,t,n){for(var i,r,o=0,s=0,a=t.length;s<a;){for(i=t[s].firstChild,r=n?n[s].firstChild:null;i;)1===i.nodeType&&(n?e(i,r,o):e(i,o),o++),i=i.nextSibling,r=n?r.nextSibling:null;s++}}var We=/<.*?>/g;function qe(n){var i,r,o,s=n.nTable,a=n.aoColumns,l=n.oScroll,c=l.sY,u=l.sX,d=l.sXInner,h=a.length,p=z(n,"bVisible"),f=e("th",n.nTHead),A=s.getAttribute("width"),g=s.parentNode,m=!1,y=n.oBrowser,v=y.bScrollOversize,w=s.style.width;for(w&&-1!==w.indexOf("%")&&(A=w),i=0;i<p.length;i++)null!==(r=a[p[i]]).sWidth&&(r.sWidth=Ke(r.sWidthOrig,g),m=!0);if(v||!m&&!u&&!c&&h==Q(n)&&h==f.length)for(i=0;i<h;i++){var b=H(n,i);null!==b&&(a[b].sWidth=Ye(f.eq(i).width()))}else{var _=e(s).clone().css("visibility","hidden").removeAttr("id");_.find("tbody tr").remove();var C=e("<tr/>").appendTo(_.find("tbody"));for(_.find("thead, tfoot").remove(),_.append(e(n.nTHead).clone()).append(e(n.nTFoot).clone()),_.find("tfoot th, tfoot td").css("width",""),f=pe(n,_.find("thead")[0]),i=0;i<p.length;i++)f[i].style.width=null!==(r=a[p[i]]).sWidthOrig&&""!==r.sWidthOrig?Ye(r.sWidthOrig):"",r.sWidthOrig&&u&&e(f[i]).append(e("<div/>").css({width:r.sWidthOrig,margin:0,padding:0,border:0,height:1}));if(n.aoData.length)for(i=0;i<p.length;i++)r=a[o=p[i]],e(Xe(n,o)).clone(!1).append(r.sContentPadding).appendTo(C);e("[name]",_).removeAttr("name");var E=e("<div/>").css(u||c?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(_).appendTo(g);u&&d?_.width(d):u?(_.css("width","auto"),_.removeAttr("width"),_.width()<g.clientWidth&&A&&_.width(g.clientWidth)):c?_.width(g.clientWidth):A&&_.width(A);var S=0;for(i=0;i<p.length;i++){var T=e(f[i]),L=T.outerWidth()-T.width(),x=y.bBounding?Math.ceil(f[i].getBoundingClientRect().width):T.outerWidth();S+=x,a[p[i]].sWidth=Ye(x-L)}s.style.width=Ye(S),E.remove()}if(A&&(s.style.width=Ye(A)),(A||u)&&!n._reszEvt){var I=function(){e(t).on("resize.DT-"+n.sInstance,Ge(function(){P(n)}))};v?setTimeout(I,1e3):I(),n._reszEvt=!0}}var Ge=l.util.throttle;function Ke(t,i){if(!t)return 0;var r=e("<div/>").css("width",Ye(t)).appendTo(i||n.body),o=r[0].offsetWidth;return r.remove(),o}function Xe(t,n){var i=Je(t,n);if(i<0)return null;var r=t.aoData[i];return r.nTr?r.anCells[n]:e("<td/>").html(G(t,i,n,"display"))[0]}function Je(e,t){for(var n,i=-1,r=-1,o=0,s=e.aoData.length;o<s;o++)(n=(n=(n=G(e,o,t,"display")+"").replace(We,"")).replace(/&nbsp;/g," ")).length>i&&(i=n.length,r=o);return r}function Ye(e){return null===e?"0px":"number"==typeof e?e<0?"0px":e+"px":e.match(/\d$/)?e+"px":e}function Ze(t){var n,r,o,s,a,c,u,d=[],h=t.aoColumns,p=t.aaSortingFixed,f=e.isPlainObject(p),A=[],g=function(t){t.length&&!Array.isArray(t[0])?A.push(t):e.merge(A,t)};for(Array.isArray(p)&&g(p),f&&p.pre&&g(p.pre),g(t.aaSorting),f&&p.post&&g(p.post),n=0;n<A.length;n++)for(r=0,o=(s=h[u=A[n][0]].aDataSort).length;r<o;r++)c=h[a=s[r]].sType||"string",A[n]._idx===i&&(A[n]._idx=e.inArray(A[n][1],h[a].asSorting)),d.push({src:u,col:a,dir:A[n][1],index:A[n]._idx,type:c,formatter:l.ext.type.order[c+"-pre"]});return d}function $e(e){var t,n,i,r,o,s=[],a=l.ext.type.order,c=e.aoData,u=0,d=e.aiDisplayMaster;for(j(e),t=0,n=(o=Ze(e)).length;t<n;t++)(r=o[t]).formatter&&u++,rt(e,r.col);if("ssp"!=mt(e)&&0!==o.length){for(t=0,i=d.length;t<i;t++)s[d[t]]=t;d.sort(u===o.length?function(e,t){var n,i,r,a,l,u=o.length,d=c[e]._aSortData,h=c[t]._aSortData;for(r=0;r<u;r++)if(0!=(a=(n=d[(l=o[r]).col])<(i=h[l.col])?-1:n>i?1:0))return"asc"===l.dir?a:-a;return(n=s[e])<(i=s[t])?-1:n>i?1:0}:function(e,t){var n,i,r,l,u,d=o.length,h=c[e]._aSortData,p=c[t]._aSortData;for(r=0;r<d;r++)if(0!==(l=(a[(u=o[r]).type+"-"+u.dir]||a["string-"+u.dir])(n=h[u.col],i=p[u.col])))return l;return(n=s[e])<(i=s[t])?-1:n>i?1:0})}e.bSorted=!0}function et(e){for(var t,n,i=e.aoColumns,r=Ze(e),o=e.oLanguage.oAria,s=0,a=i.length;s<a;s++){var l=i[s],c=l.asSorting,u=l.ariaTitle||l.sTitle.replace(/<.*?>/g,""),d=l.nTh;d.removeAttribute("aria-sort"),l.bSortable?(r.length>0&&r[0].col==s?(d.setAttribute("aria-sort","asc"==r[0].dir?"ascending":"descending"),n=c[r[0].index+1]||c[0]):n=c[0],t=u+("asc"===n?o.sSortAscending:o.sSortDescending)):t=u,d.setAttribute("aria-label",t)}}function tt(t,n,r,o){var s,a=t.aaSorting,l=t.aoColumns[n].asSorting,c=function(t,n){var r=t._idx;return r===i&&(r=e.inArray(t[1],l)),r+1<l.length?r+1:n?null:0};if("number"==typeof a[0]&&(a=t.aaSorting=[a]),r&&t.oFeatures.bSortMulti){var u=e.inArray(n,w(a,"0"));-1!==u?(null===(s=c(a[u],!0))&&1===a.length&&(s=0),null===s?a.splice(u,1):(a[u][1]=l[s],a[u]._idx=s)):(a.push([n,l[0],0]),a[a.length-1]._idx=0)}else a.length&&a[0][0]==n?(s=c(a[0]),a.length=1,a[0][1]=l[s],a[0]._idx=s):(a.length=0,a.push([n,l[0]]),a[0]._idx=0);ue(t),"function"==typeof o&&o(t)}function nt(e,t,n,i){var r=e.aoColumns[n];ht(t,{},function(t){!1!==r.bSortable&&(e.oFeatures.bProcessing?(Qe(e,!0),setTimeout(function(){tt(e,n,t.shiftKey,i),"ssp"!==mt(e)&&Qe(e,!1)},0)):tt(e,n,t.shiftKey,i))})}function it(t){var n,i,r=t.aLastSort,o=t.oClasses.sSortColumn,s=Ze(t),a=t.oFeatures;if(a.bSort&&a.bSortClasses){for(n=0,i=r.length;n<i;n++)e(w(t.aoData,"anCells",r[n].src)).removeClass(o+(n<2?n+1:3));for(n=0,i=s.length;n<i;n++)e(w(t.aoData,"anCells",s[n].src)).addClass(o+(n<2?n+1:3))}t.aLastSort=s}function rt(e,t){var n,i,r,o=e.aoColumns[t],s=l.ext.order[o.sSortDataType];s&&(n=s.call(e.oInstance,e,t,k(e,t)));for(var a=l.ext.type.order[o.sType+"-pre"],c=0,u=e.aoData.length;c<u;c++)(i=e.aoData[c])._aSortData||(i._aSortData=[]),i._aSortData[t]&&!s||(r=s?n[c]:G(e,c,t,"sort"),i._aSortData[t]=a?a(r):r)}function ot(t){if(!t._bLoadingState){var n={time:+new Date,start:t._iDisplayStart,length:t._iDisplayLength,order:e.extend(!0,[],t.aaSorting),search:Ie(t.oPreviousSearch),columns:e.map(t.aoColumns,function(e,n){return{visible:e.bVisible,search:Ie(t.aoPreSearchCols[n])}})};t.oSavedState=n,ft(t,"aoStateSaveParams","stateSaveParams",[t,n]),t.oFeatures.bStateSave&&!t.bDestroying&&t.fnStateSaveCallback.call(t.oInstance,t,n)}}function st(e,t,n){if(e.oFeatures.bStateSave){var r=e.fnStateLoadCallback.call(e.oInstance,e,function(t){at(e,t,n)});return r!==i&&at(e,r,n),!0}n()}function at(t,n,r){var o,s,a=t.aoColumns;t._bLoadingState=!0;var c=t._bInitComplete?new l.Api(t):null;if(!n||!n.time)return t._bLoadingState=!1,void r();var u=ft(t,"aoStateLoadParams","stateLoadParams",[t,n]);if(-1!==e.inArray(!1,u))return t._bLoadingState=!1,void r();var d=t.iStateDuration;if(d>0&&n.time<+new Date-1e3*d)return t._bLoadingState=!1,void r();if(n.columns&&a.length!==n.columns.length)return t._bLoadingState=!1,void r();if(t.oLoadedState=e.extend(!0,{},n),n.start!==i&&(t._iDisplayStart=n.start,null===c&&(t.iInitDisplayStart=n.start)),n.length!==i&&(t._iDisplayLength=n.length),n.order!==i&&(t.aaSorting=[],e.each(n.order,function(e,n){t.aaSorting.push(n[0]>=a.length?[0,n[1]]:n)})),n.search!==i&&e.extend(t.oPreviousSearch,Be(n.search)),n.columns){for(o=0,s=n.columns.length;o<s;o++){var h=n.columns[o];h.visible!==i&&(c?c.column(o).visible(h.visible,!1):a[o].bVisible=h.visible),h.search!==i&&e.extend(t.aoPreSearchCols[o],Be(h.search))}c&&c.columns.adjust()}t._bLoadingState=!1,ft(t,"aoStateLoaded","stateLoaded",[t,n]),r()}function lt(t){var n=l.settings,i=e.inArray(t,w(n,"nTable"));return-1!==i?n[i]:null}function ct(e,n,i,r){if(i="DataTables warning: "+(e?"table id="+e.sTableId+" - ":"")+i,r&&(i+=". For more information about this error, please see http://datatables.net/tn/"+r),n)t.console&&console.log&&console.log(i);else{var o=l.ext,s=o.sErrMode||o.errMode;if(e&&ft(e,null,"error",[e,r,i]),"alert"==s)alert(i);else{if("throw"==s)throw new Error(i);"function"==typeof s&&s(e,r,i)}}}function ut(t,n,r,o){Array.isArray(r)?e.each(r,function(e,i){Array.isArray(i)?ut(t,n,i[0],i[1]):ut(t,n,i)}):(o===i&&(o=r),n[r]!==i&&(t[o]=n[r]))}function dt(t,n,i){var r;for(var o in n)n.hasOwnProperty(o)&&(e.isPlainObject(r=n[o])?(e.isPlainObject(t[o])||(t[o]={}),e.extend(!0,t[o],r)):t[o]=i&&"data"!==o&&"aaData"!==o&&Array.isArray(r)?r.slice():r);return t}function ht(t,n,i){e(t).on("click.DT",n,function(n){e(t).trigger("blur"),i(n)}).on("keypress.DT",n,function(e){13===e.which&&(e.preventDefault(),i(e))}).on("selectstart.DT",function(){return!1})}function pt(e,t,n,i){n&&e[t].push({fn:n,sName:i})}function ft(t,n,i,r){var o=[];if(n&&(o=e.map(t[n].slice().reverse(),function(e,n){return e.fn.apply(t.oInstance,r)})),null!==i){var s=e.Event(i+".dt");e(t.nTable).trigger(s,r),o.push(s.result)}return o}function At(e){var t=e._iDisplayStart,n=e.fnDisplayEnd(),i=e._iDisplayLength;t>=n&&(t=n-i),t-=t%i,(-1===i||t<0)&&(t=0),e._iDisplayStart=t}function gt(t,n){var i=t.renderer,r=l.ext.renderer[n];return e.isPlainObject(i)&&i[n]?r[i[n]]||r._:"string"==typeof i&&r[i]||r._}function mt(e){return e.oFeatures.bServerSide?"ssp":e.ajax||e.sAjaxSource?"ajax":"dom"}var yt=[],vt=Array.prototype;l.Api=o=function(t,n){if(!(this instanceof o))return new o(t,n);var i=[],r=function(t){var n=function(t){var n,i,r=l.settings,o=e.map(r,function(e,t){return e.nTable});return t?t.nTable&&t.oApi?[t]:t.nodeName&&"table"===t.nodeName.toLowerCase()?-1!==(n=e.inArray(t,o))?[r[n]]:null:t&&"function"==typeof t.settings?t.settings().toArray():("string"==typeof t?i=e(t):t instanceof e&&(i=t),i?i.map(function(t){return-1!==(n=e.inArray(this,o))?r[n]:null}).toArray():void 0):[]}(t);n&&i.push.apply(i,n)};if(Array.isArray(t))for(var s=0,a=t.length;s<a;s++)r(t[s]);else r(t);this.context=S(i),n&&e.merge(this,n),this.selector={rows:null,cols:null,opts:null},o.extend(this,this,yt)},e.extend(o.prototype,{any:function(){return 0!==this.count()},concat:vt.concat,context:[],count:function(){return this.flatten().length},each:function(e){for(var t=0,n=this.length;t<n;t++)e.call(this,this[t],t,this);return this},eq:function(e){var t=this.context;return t.length>e?new o(t[e],this[e]):null},filter:function(e){var t=[];if(vt.filter)t=vt.filter.call(this,e,this);else for(var n=0,i=this.length;n<i;n++)e.call(this,this[n],n,this)&&t.push(this[n]);return new o(this.context,t)},flatten:function(){var e=[];return new o(this.context,e.concat.apply(e,this.toArray()))},join:vt.join,indexOf:vt.indexOf||function(e,t){for(var n=t||0,i=this.length;n<i;n++)if(this[n]===e)return n;return-1},iterator:function(e,t,n,r){var s,a,l,c,u,d,h,p,f=[],A=this.context,g=this.selector;for("string"==typeof e&&(r=n,n=t,t=e,e=!1),a=0,l=A.length;a<l;a++){var m=new o(A[a]);if("table"===t)(s=n.call(m,A[a],a))!==i&&f.push(s);else if("columns"===t||"rows"===t)(s=n.call(m,A[a],this[a],a))!==i&&f.push(s);else if("column"===t||"column-rows"===t||"row"===t||"cell"===t)for(h=this[a],"column-rows"===t&&(d=St(A[a],g.opts)),c=0,u=h.length;c<u;c++)p=h[c],(s="cell"===t?n.call(m,A[a],p.row,p.column,a,c):n.call(m,A[a],p,a,c,d))!==i&&f.push(s)}if(f.length||r){var y=new o(A,e?f.concat.apply([],f):f),v=y.selector;return v.rows=g.rows,v.cols=g.cols,v.opts=g.opts,y}return this},lastIndexOf:vt.lastIndexOf||function(e,t){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(e){var t=[];if(vt.map)t=vt.map.call(this,e,this);else for(var n=0,i=this.length;n<i;n++)t.push(e.call(this,this[n],n));return new o(this.context,t)},pluck:function(e){return this.map(function(t){return t[e]})},pop:vt.pop,push:vt.push,reduce:vt.reduce||function(e,t){return R(this,e,t,0,this.length,1)},reduceRight:vt.reduceRight||function(e,t){return R(this,e,t,this.length-1,-1,-1)},reverse:vt.reverse,selector:null,shift:vt.shift,slice:function(){return new o(this.context,this)},sort:vt.sort,splice:vt.splice,toArray:function(){return vt.slice.call(this)},to$:function(){return e(this)},toJQuery:function(){return e(this)},unique:function(){return new o(this.context,S(this))},unshift:vt.unshift}),o.extend=function(e,t,n){if(n.length&&t&&(t instanceof o||t.__dt_wrapper)){var i,r,s,a=function(e,t,n){return function(){var i=t.apply(e,arguments);return o.extend(i,i,n.methodExt),i}};for(i=0,r=n.length;i<r;i++)t[(s=n[i]).name]="function"===s.type?a(e,s.val,s):"object"===s.type?{}:s.val,t[s.name].__dt_wrapper=!0,o.extend(e,t[s.name],s.propExt)}},o.register=s=function(t,n){if(Array.isArray(t))for(var i=0,r=t.length;i<r;i++)o.register(t[i],n);else{var s,a,l,c,u=t.split("."),d=yt,h=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n].name===t)return e[n];return null};for(s=0,a=u.length;s<a;s++){var p=h(d,l=(c=-1!==u[s].indexOf("()"))?u[s].replace("()",""):u[s]);p||d.push(p={name:l,val:{},methodExt:[],propExt:[],type:"object"}),s===a-1?(p.val=n,p.type="function"==typeof n?"function":e.isPlainObject(n)?"object":"other"):d=c?p.methodExt:p.propExt}}},o.registerPlural=a=function(e,t,n){o.register(e,n),o.register(t,function(){var e=n.apply(this,arguments);return e===this?this:e instanceof o?e.length?Array.isArray(e[0])?new o(e.context,e[0]):e[0]:i:e})};var wt=function(t,n){if(Array.isArray(t))return e.map(t,function(e){return wt(e,n)});if("number"==typeof t)return[n[t]];var i=e.map(n,function(e,t){return e.nTable});return e(i).filter(t).map(function(t){var r=e.inArray(this,i);return n[r]}).toArray()};s("tables()",function(e){return e!==i&&null!==e?new o(wt(e,this.context)):this}),s("table()",function(e){var t=this.tables(e),n=t.context;return n.length?new o(n[0]):t}),a("tables().nodes()","table().node()",function(){return this.iterator("table",function(e){return e.nTable},1)}),a("tables().body()","table().body()",function(){return this.iterator("table",function(e){return e.nTBody},1)}),a("tables().header()","table().header()",function(){return this.iterator("table",function(e){return e.nTHead},1)}),a("tables().footer()","table().footer()",function(){return this.iterator("table",function(e){return e.nTFoot},1)}),a("tables().containers()","table().container()",function(){return this.iterator("table",function(e){return e.nTableWrapper},1)}),s("draw()",function(e){return this.iterator("table",function(t){"page"===e?ce(t):("string"==typeof e&&(e="full-hold"!==e),ue(t,!1===e))})}),s("page()",function(e){return e===i?this.page.info().page:this.iterator("table",function(t){He(t,e)})}),s("page.info()",function(e){if(0===this.context.length)return i;var t=this.context[0],n=t._iDisplayStart,r=t.oFeatures.bPaginate?t._iDisplayLength:-1,o=t.fnRecordsDisplay(),s=-1===r;return{page:s?0:Math.floor(n/r),pages:s?1:Math.ceil(o/r),start:n,end:t.fnDisplayEnd(),length:r,recordsTotal:t.fnRecordsTotal(),recordsDisplay:o,serverSide:"ssp"===mt(t)}}),s("page.len()",function(e){return e===i?0!==this.context.length?this.context[0]._iDisplayLength:i:this.iterator("table",function(t){Me(t,e)})});var bt=function(e,t,n){if(n){var i=new o(e);i.one("draw",function(){n(i.ajax.json())})}if("ssp"==mt(e))ue(e,t);else{Qe(e,!0);var r=e.jqXHR;r&&4!==r.readyState&&r.abort(),fe(e,[],function(n){te(e);for(var i=ye(e,n),r=0,o=i.length;r<o;r++)W(e,i[r]);ue(e,t),Qe(e,!1)})}};s("ajax.json()",function(){var e=this.context;if(e.length>0)return e[0].json}),s("ajax.params()",function(){var e=this.context;if(e.length>0)return e[0].oAjaxData}),s("ajax.reload()",function(e,t){return this.iterator("table",function(n){bt(n,!1===t,e)})}),s("ajax.url()",function(t){var n=this.context;return t===i?0===n.length?i:(n=n[0]).ajax?e.isPlainObject(n.ajax)?n.ajax.url:n.ajax:n.sAjaxSource:this.iterator("table",function(n){e.isPlainObject(n.ajax)?n.ajax.url=t:n.ajax=t})}),s("ajax.url().load()",function(e,t){return this.iterator("table",function(n){bt(n,!1===t,e)})});var _t=function(e,t,n,o,s){var a,l,c,u,d,h,p=[],f=typeof t;for(t&&"string"!==f&&"function"!==f&&t.length!==i||(t=[t]),c=0,u=t.length;c<u;c++)for(d=0,h=(l=t[c]&&t[c].split&&!t[c].match(/[\[\(:]/)?t[c].split(","):[t[c]]).length;d<h;d++)(a=n("string"==typeof l[d]?l[d].trim():l[d]))&&a.length&&(p=p.concat(a));var A=r.selector[e];if(A.length)for(c=0,u=A.length;c<u;c++)p=A[c](o,s,p);return S(p)},Ct=function(t){return t||(t={}),t.filter&&t.search===i&&(t.search=t.filter),e.extend({search:"none",order:"current",page:"all"},t)},Et=function(e){for(var t=0,n=e.length;t<n;t++)if(e[t].length>0)return e[0]=e[t],e[0].length=1,e.length=1,e.context=[e.context[t]],e;return e.length=0,e},St=function(t,n){var i,r=[],o=t.aiDisplay,s=t.aiDisplayMaster,a=n.search,l=n.order,c=n.page;if("ssp"==mt(t))return"removed"===a?[]:_(0,s.length);if("current"==c)for(d=t._iDisplayStart,h=t.fnDisplayEnd();d<h;d++)r.push(o[d]);else if("current"==l||"applied"==l){if("none"==a)r=s.slice();else if("applied"==a)r=o.slice();else if("removed"==a){for(var u={},d=0,h=o.length;d<h;d++)u[o[d]]=null;r=e.map(s,function(e){return u.hasOwnProperty(e)?null:e})}}else if("index"==l||"original"==l)for(d=0,h=t.aoData.length;d<h;d++)("none"==a||-1===(i=e.inArray(d,o))&&"removed"==a||i>=0&&"applied"==a)&&r.push(d);return r};s("rows()",function(t,n){t===i?t="":e.isPlainObject(t)&&(n=t,t=""),n=Ct(n);var r=this.iterator("table",function(r){return function(t,n,r){var o;return _t("row",n,function(n){var s=g(n),a=t.aoData;if(null!==s&&!r)return[s];if(o||(o=St(t,r)),null!==s&&-1!==e.inArray(s,o))return[s];if(null===n||n===i||""===n)return o;if("function"==typeof n)return e.map(o,function(e){var t=a[e];return n(e,t._aData,t.nTr)?e:null});if(n.nodeName){var l=n._DT_RowIndex,c=n._DT_CellIndex;if(l!==i)return a[l]&&a[l].nTr===n?[l]:[];if(c)return a[c.row]&&a[c.row].nTr===n.parentNode?[c.row]:[];var u=e(n).closest("*[data-dt-row]");return u.length?[u.data("dt-row")]:[]}if("string"==typeof n&&"#"===n.charAt(0)){var d=t.aIds[n.replace(/^#/,"")];if(d!==i)return[d.idx]}var h=C(b(t.aoData,o,"nTr"));return e(h).filter(n).map(function(){return this._DT_RowIndex}).toArray()},t,r)}(r,t,n)},1);return r.selector.rows=t,r.selector.opts=n,r}),s("rows().nodes()",function(){return this.iterator("row",function(e,t){return e.aoData[t].nTr||i},1)}),s("rows().data()",function(){return this.iterator(!0,"rows",function(e,t){return b(e.aoData,t,"_aData")},1)}),a("rows().cache()","row().cache()",function(e){return this.iterator("row",function(t,n){var i=t.aoData[n];return"search"===e?i._aFilterData:i._aSortData},1)}),a("rows().invalidate()","row().invalidate()",function(e){return this.iterator("row",function(t,n){ie(t,n,e)})}),a("rows().indexes()","row().index()",function(){return this.iterator("row",function(e,t){return t},1)}),a("rows().ids()","row().id()",function(e){for(var t=[],n=this.context,i=0,r=n.length;i<r;i++)for(var s=0,a=this[i].length;s<a;s++){var l=n[i].rowIdFn(n[i].aoData[this[i][s]]._aData);t.push((!0===e?"#":"")+l)}return new o(n,t)}),a("rows().remove()","row().remove()",function(){var e=this;return this.iterator("row",function(t,n,r){var o,s,a,l,c,u,d=t.aoData,h=d[n];for(d.splice(n,1),o=0,s=d.length;o<s;o++)if(u=(c=d[o]).anCells,null!==c.nTr&&(c.nTr._DT_RowIndex=o),null!==u)for(a=0,l=u.length;a<l;a++)u[a]._DT_CellIndex.row=o;ne(t.aiDisplayMaster,n),ne(t.aiDisplay,n),ne(e[r],n,!1),t._iRecordsDisplay>0&&t._iRecordsDisplay--,At(t);var p=t.rowIdFn(h._aData);p!==i&&delete t.aIds[p]}),this.iterator("table",function(e){for(var t=0,n=e.aoData.length;t<n;t++)e.aoData[t].idx=t}),this}),s("rows.add()",function(t){var n=this.iterator("table",function(e){var n,i,r,o=[];for(i=0,r=t.length;i<r;i++)(n=t[i]).nodeName&&"TR"===n.nodeName.toUpperCase()?o.push(q(e,n)[0]):o.push(W(e,n));return o},1),i=this.rows(-1);return i.pop(),e.merge(i,n),i}),s("row()",function(e,t){return Et(this.rows(e,t))}),s("row().data()",function(e){var t=this.context;if(e===i)return t.length&&this.length?t[0].aoData[this[0]]._aData:i;var n=t[0].aoData[this[0]];return n._aData=e,Array.isArray(e)&&n.nTr&&n.nTr.id&&$(t[0].rowId)(e,n.nTr.id),ie(t[0],this[0],"data"),this}),s("row().node()",function(){var e=this.context;return e.length&&this.length&&e[0].aoData[this[0]].nTr||null}),s("row.add()",function(t){t instanceof e&&t.length&&(t=t[0]);var n=this.iterator("table",function(e){return t.nodeName&&"TR"===t.nodeName.toUpperCase()?q(e,t)[0]:W(e,t)});return this.row(n[0])}),e(n).on("plugin-init.dt",function(e,t){var n=new o(t);n.on("stateSaveParams",function(e,t,r){var o=n.rows().iterator("row",function(e,t){return e.aoData[t]._detailsShow?t:i});r.childRows=n.rows(o).ids(!0).toArray()});var r=n.state.loaded();r&&r.childRows&&n.rows(r.childRows).every(function(){ft(t,null,"requestChild",[this])})});var Tt=function(t,n){var r=t.context;if(r.length){var o=r[0].aoData[n!==i?n:t[0]];o&&o._details&&(o._details.remove(),o._detailsShow=i,o._details=i,e(o.nTr).removeClass("dt-hasChild"),ot(r[0]))}},Lt=function(t,n){var i=t.context;if(i.length&&t.length){var r=i[0].aoData[t[0]];r._details&&(r._detailsShow=n,n?(r._details.insertAfter(r.nTr),e(r.nTr).addClass("dt-hasChild")):(r._details.detach(),e(r.nTr).removeClass("dt-hasChild")),ft(i[0],null,"childRow",[n,t.row(t[0])]),xt(i[0]),ot(i[0]))}},xt=function(e){var t=new o(e),n=".dt.DT_details",i="draw"+n,r="column-visibility"+n,s="destroy"+n,a=e.aoData;t.off(i+" "+r+" "+s),w(a,"_details").length>0&&(t.on(i,function(n,i){e===i&&t.rows({page:"current"}).eq(0).each(function(e){var t=a[e];t._detailsShow&&t._details.insertAfter(t.nTr)})}),t.on(r,function(t,n,i,r){if(e===n)for(var o,s=Q(n),l=0,c=a.length;l<c;l++)(o=a[l])._details&&o._details.children("td[colspan]").attr("colspan",s)}),t.on(s,function(n,i){if(e===i)for(var r=0,o=a.length;r<o;r++)a[r]._details&&Tt(t,r)}))},It="row().child()";s(It,function(t,n){var r=this.context;return t===i?r.length&&this.length?r[0].aoData[this[0]]._details:i:(!0===t?this.child.show():!1===t?Tt(this):r.length&&this.length&&function(t,n,i,r){var o=[],s=function(n,i){if(Array.isArray(n)||n instanceof e)for(var r=0,a=n.length;r<a;r++)s(n[r],i);else if(n.nodeName&&"tr"===n.nodeName.toLowerCase())o.push(n);else{var l=e("<tr><td></td></tr>").addClass(i);e("td",l).addClass(i).html(n)[0].colSpan=Q(t),o.push(l[0])}};s(i,r),n._details&&n._details.detach(),n._details=e(o),n._detailsShow&&n._details.insertAfter(n.nTr)}(r[0],r[0].aoData[this[0]],t,n),this)}),s(["row().child.show()",It+".show()"],function(e){return Lt(this,!0),this}),s(["row().child.hide()",It+".hide()"],function(){return Lt(this,!1),this}),s(["row().child.remove()",It+".remove()"],function(){return Tt(this),this}),s("row().child.isShown()",function(){var e=this.context;return e.length&&this.length&&e[0].aoData[this[0]]._detailsShow||!1});var Bt=/^([^:]+):(name|visIdx|visible)$/,Ft=function(e,t,n,i,r){for(var o=[],s=0,a=r.length;s<a;s++)o.push(G(e,r[s],t));return o};s("columns()",function(t,n){t===i?t="":e.isPlainObject(t)&&(n=t,t=""),n=Ct(n);var r=this.iterator("table",function(i){return function(t,n,i){var r=t.aoColumns,o=w(r,"sName"),s=w(r,"nTh");return _t("column",n,function(n){var a=g(n);if(""===n)return _(r.length);if(null!==a)return[a>=0?a:r.length+a];if("function"==typeof n){var l=St(t,i);return e.map(r,function(e,i){return n(i,Ft(t,i,0,0,l),s[i])?i:null})}var c="string"==typeof n?n.match(Bt):"";if(c)switch(c[2]){case"visIdx":case"visible":var u=parseInt(c[1],10);if(u<0){var d=e.map(r,function(e,t){return e.bVisible?t:null});return[d[d.length+u]]}return[H(t,u)];case"name":return e.map(o,function(e,t){return e===c[1]?t:null});default:return[]}if(n.nodeName&&n._DT_CellIndex)return[n._DT_CellIndex.column];var h=e(s).filter(n).map(function(){return e.inArray(this,s)}).toArray();if(h.length||!n.nodeName)return h;var p=e(n).closest("*[data-dt-column]");return p.length?[p.data("dt-column")]:[]},t,i)}(i,t,n)},1);return r.selector.cols=t,r.selector.opts=n,r}),a("columns().header()","column().header()",function(e,t){return this.iterator("column",function(e,t){return e.aoColumns[t].nTh},1)}),a("columns().footer()","column().footer()",function(e,t){return this.iterator("column",function(e,t){return e.aoColumns[t].nTf},1)}),a("columns().data()","column().data()",function(){return this.iterator("column-rows",Ft,1)}),a("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(e,t){return e.aoColumns[t].mData},1)}),a("columns().cache()","column().cache()",function(e){return this.iterator("column-rows",function(t,n,i,r,o){return b(t.aoData,o,"search"===e?"_aFilterData":"_aSortData",n)},1)}),a("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(e,t,n,i,r){return b(e.aoData,r,"anCells",t)},1)}),a("columns().visible()","column().visible()",function(t,n){var r=this,o=this.iterator("column",function(n,r){if(t===i)return n.aoColumns[r].bVisible;!function(t,n,r){var o,s,a,l,c=t.aoColumns,u=c[n],d=t.aoData;if(r===i)return u.bVisible;if(u.bVisible!==r){if(r){var h=e.inArray(!0,w(c,"bVisible"),n+1);for(s=0,a=d.length;s<a;s++)o=d[s].anCells,(l=d[s].nTr)&&l.insertBefore(o[n],o[h]||null)}else e(w(t.aoData,"anCells",n)).detach();u.bVisible=r}}(n,r,t)});return t!==i&&this.iterator("table",function(o){le(o,o.aoHeader),le(o,o.aoFooter),o.aiDisplay.length||e(o.nTBody).find("td[colspan]").attr("colspan",Q(o)),ot(o),r.iterator("column",function(e,i){ft(e,null,"column-visibility",[e,i,t,n])}),(n===i||n)&&r.columns.adjust()}),o}),a("columns().indexes()","column().index()",function(e){return this.iterator("column",function(t,n){return"visible"===e?k(t,n):n},1)}),s("columns.adjust()",function(){return this.iterator("table",function(e){P(e)},1)}),s("column.index()",function(e,t){if(0!==this.context.length){var n=this.context[0];if("fromVisible"===e||"toData"===e)return H(n,t);if("fromData"===e||"toVisible"===e)return k(n,t)}}),s("column()",function(e,t){return Et(this.columns(e,t))}),s("cells()",function(t,n,r){if(e.isPlainObject(t)&&(t.row===i?(r=t,t=null):(r=n,n=null)),e.isPlainObject(n)&&(r=n,n=null),null===n||n===i)return this.iterator("table",function(n){return function(t,n,r){var o,s,a,l,c,u,d,h=t.aoData,p=St(t,r),f=C(b(h,p,"anCells")),A=e(T([],f)),g=t.aoColumns.length;return _t("cell",n,function(n){var r="function"==typeof n;if(null===n||n===i||r){for(s=[],a=0,l=p.length;a<l;a++)for(o=p[a],c=0;c<g;c++)u={row:o,column:c},r?(d=h[o],n(u,G(t,o,c),d.anCells?d.anCells[c]:null)&&s.push(u)):s.push(u);return s}if(e.isPlainObject(n))return n.column!==i&&n.row!==i&&-1!==e.inArray(n.row,p)?[n]:[];var f=A.filter(n).map(function(e,t){return{row:t._DT_CellIndex.row,column:t._DT_CellIndex.column}}).toArray();return f.length||!n.nodeName?f:(d=e(n).closest("*[data-dt-row]")).length?[{row:d.data("dt-row"),column:d.data("dt-column")}]:[]},t,r)}(n,t,Ct(r))});var o,s,a,l,c=r?{page:r.page,order:r.order,search:r.search}:{},u=this.columns(n,c),d=this.rows(t,c),h=this.iterator("table",function(e,t){var n=[];for(o=0,s=d[t].length;o<s;o++)for(a=0,l=u[t].length;a<l;a++)n.push({row:d[t][o],column:u[t][a]});return n},1),p=r&&r.selected?this.cells(h,r):h;return e.extend(p.selector,{cols:n,rows:t,opts:r}),p}),a("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(e,t,n){var r=e.aoData[t];return r&&r.anCells?r.anCells[n]:i},1)}),s("cells().data()",function(){return this.iterator("cell",function(e,t,n){return G(e,t,n)},1)}),a("cells().cache()","cell().cache()",function(e){return e="search"===e?"_aFilterData":"_aSortData",this.iterator("cell",function(t,n,i){return t.aoData[n][e][i]},1)}),a("cells().render()","cell().render()",function(e){return this.iterator("cell",function(t,n,i){return G(t,n,i,e)},1)}),a("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(e,t,n){return{row:t,column:n,columnVisible:k(e,n)}},1)}),a("cells().invalidate()","cell().invalidate()",function(e){return this.iterator("cell",function(t,n,i){ie(t,n,e,i)})}),s("cell()",function(e,t,n){return Et(this.cells(e,t,n))}),s("cell().data()",function(e){var t=this.context,n=this[0];return e===i?t.length&&n.length?G(t[0],n[0].row,n[0].column):i:(K(t[0],n[0].row,n[0].column,e),ie(t[0],n[0].row,"data",n[0].column),this)}),s("order()",function(e,t){var n=this.context;return e===i?0!==n.length?n[0].aaSorting:i:("number"==typeof e?e=[[e,t]]:e.length&&!Array.isArray(e[0])&&(e=Array.prototype.slice.call(arguments)),this.iterator("table",function(t){t.aaSorting=e.slice()}))}),s("order.listener()",function(e,t,n){return this.iterator("table",function(i){nt(i,e,t,n)})}),s("order.fixed()",function(t){if(!t){var n=this.context,r=n.length?n[0].aaSortingFixed:i;return Array.isArray(r)?{pre:r}:r}return this.iterator("table",function(n){n.aaSortingFixed=e.extend(!0,{},t)})}),s(["columns().order()","column().order()"],function(t){var n=this;return this.iterator("table",function(i,r){var o=[];e.each(n[r],function(e,n){o.push([n,t])}),i.aaSorting=o})}),s("search()",function(t,n,r,o){var s=this.context;return t===i?0!==s.length?s[0].oPreviousSearch.sSearch:i:this.iterator("table",function(i){i.oFeatures.bFilter&&we(i,e.extend({},i.oPreviousSearch,{sSearch:t+"",bRegex:null!==n&&n,bSmart:null===r||r,bCaseInsensitive:null===o||o}),1)})}),a("columns().search()","column().search()",function(t,n,r,o){return this.iterator("column",function(s,a){var l=s.aoPreSearchCols;if(t===i)return l[a].sSearch;s.oFeatures.bFilter&&(e.extend(l[a],{sSearch:t+"",bRegex:null!==n&&n,bSmart:null===r||r,bCaseInsensitive:null===o||o}),we(s,s.oPreviousSearch,1))})}),s("state()",function(){return this.context.length?this.context[0].oSavedState:null}),s("state.clear()",function(){return this.iterator("table",function(e){e.fnStateSaveCallback.call(e.oInstance,e,{})})}),s("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null}),s("state.save()",function(){return this.iterator("table",function(e){ot(e)})}),l.versionCheck=l.fnVersionCheck=function(e){for(var t,n,i=l.version.split("."),r=e.split("."),o=0,s=r.length;o<s;o++)if((t=parseInt(i[o],10)||0)!==(n=parseInt(r[o],10)||0))return t>n;return!0},l.isDataTable=l.fnIsDataTable=function(t){var n=e(t).get(0),i=!1;return t instanceof l.Api||(e.each(l.settings,function(t,r){var o=r.nScrollHead?e("table",r.nScrollHead)[0]:null,s=r.nScrollFoot?e("table",r.nScrollFoot)[0]:null;r.nTable!==n&&o!==n&&s!==n||(i=!0)}),i)},l.tables=l.fnTables=function(t){var n=!1;e.isPlainObject(t)&&(n=t.api,t=t.visible);var i=e.map(l.settings,function(n){if(!t||t&&e(n.nTable).is(":visible"))return n.nTable});return n?new o(i):i},l.camelToHungarian=I,s("$()",function(t,n){var i=this.rows(n).nodes(),r=e(i);return e([].concat(r.filter(t).toArray(),r.find(t).toArray()))}),e.each(["on","one","off"],function(t,n){s(n+"()",function(){var t=Array.prototype.slice.call(arguments);t[0]=e.map(t[0].split(/\s/),function(e){return e.match(/\.dt\b/)?e:e+".dt"}).join(" ");var i=e(this.tables().nodes());return i[n].apply(i,t),this})}),s("clear()",function(){return this.iterator("table",function(e){te(e)})}),s("settings()",function(){return new o(this.context,this.context)}),s("init()",function(){var e=this.context;return e.length?e[0].oInit:null}),s("data()",function(){return this.iterator("table",function(e){return w(e.aoData,"_aData")}).flatten()}),s("destroy()",function(n){return n=n||!1,this.iterator("table",function(i){var r,s=i.nTableWrapper.parentNode,a=i.oClasses,c=i.nTable,u=i.nTBody,d=i.nTHead,h=i.nTFoot,p=e(c),f=e(u),A=e(i.nTableWrapper),g=e.map(i.aoData,function(e){return e.nTr});i.bDestroying=!0,ft(i,"aoDestroyCallback","destroy",[i]),n||new o(i).columns().visible(!0),A.off(".DT").find(":not(tbody *)").off(".DT"),e(t).off(".DT-"+i.sInstance),c!=d.parentNode&&(p.children("thead").detach(),p.append(d)),h&&c!=h.parentNode&&(p.children("tfoot").detach(),p.append(h)),i.aaSorting=[],i.aaSortingFixed=[],it(i),e(g).removeClass(i.asStripeClasses.join(" ")),e("th, td",d).removeClass(a.sSortable+" "+a.sSortableAsc+" "+a.sSortableDesc+" "+a.sSortableNone),f.children().detach(),f.append(g);var m=n?"remove":"detach";p[m](),A[m](),!n&&s&&(s.insertBefore(c,i.nTableReinsertBefore),p.css("width",i.sDestroyWidth).removeClass(a.sTable),(r=i.asDestroyStripes.length)&&f.children().each(function(t){e(this).addClass(i.asDestroyStripes[t%r])}));var y=e.inArray(i,l.settings);-1!==y&&l.settings.splice(y,1)})}),e.each(["column","row","cell"],function(e,t){s(t+"s().every()",function(e){var n=this.selector.opts,r=this;return this.iterator(t,function(o,s,a,l,c){e.call(r[t](s,"cell"===t?a:n,"cell"===t?n:i),s,a,l,c)})})}),s("i18n()",function(t,n,r){var o=this.context[0],s=Z(t)(o.oLanguage);return s===i&&(s=n),r!==i&&e.isPlainObject(s)&&(s=s[r]!==i?s[r]:s._),s.replace("%d",r)}),l.version="1.11.3",l.settings=[],l.models={},l.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0,return:!1},l.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null,idx:-1},l.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},l.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(e){try{return JSON.parse((-1===e.iStateDuration?sessionStorage:localStorage).getItem("DataTables_"+e.sInstance+"_"+location.pathname))}catch(t){return{}}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(e,t){try{(-1===e.iStateDuration?sessionStorage:localStorage).setItem("DataTables_"+e.sInstance+"_"+location.pathname,JSON.stringify(t))}catch(n){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:e.extend({},l.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId"},x(l.defaults),l.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},x(l.defaults.column),l.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1,bBounding:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,jqXHR:null,json:i,oAjaxData:i,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==mt(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==mt(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var e=this._iDisplayLength,t=this._iDisplayStart,n=t+e,i=this.aiDisplay.length,r=this.oFeatures,o=r.bPaginate;return r.bServerSide?!1===o||-1===e?t+i:Math.min(t+e,this._iRecordsDisplay):!o||n>i||-1===e?i:n},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null},l.ext=r={buttons:{},classes:{},builder:"-source-",errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:l.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:l.version},e.extend(r,{afnFiltering:r.search,aTypes:r.type.detect,ofnSearch:r.type.search,oSort:r.type.order,afnSortData:r.order,aoFeatures:r.feature,oApi:r.internal,oStdClasses:r.classes,oPagination:r.pager}),e.extend(l.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_desc_disabled",sSortableDesc:"sorting_asc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""});var Nt=l.ext.pager;function Dt(e,t){var n=[],i=Nt.numbers_length,r=Math.floor(i/2);return t<=i?n=_(0,t):e<=r?((n=_(0,i-2)).push("ellipsis"),n.push(t-1)):e>=t-1-r?((n=_(t-(i-2),t)).splice(0,0,"ellipsis"),n.splice(0,0,0)):((n=_(e-r+2,e+r-1)).push("ellipsis"),n.push(t-1),n.splice(0,0,"ellipsis"),n.splice(0,0,0)),n.DT_el="span",n}e.extend(Nt,{simple:function(e,t){return["previous","next"]},full:function(e,t){return["first","previous","next","last"]},numbers:function(e,t){return[Dt(e,t)]},simple_numbers:function(e,t){return["previous",Dt(e,t),"next"]},full_numbers:function(e,t){return["first","previous",Dt(e,t),"next","last"]},first_last_numbers:function(e,t){return["first",Dt(e,t),"last"]},_numbers:Dt,numbers_length:7}),e.extend(!0,l.ext.renderer,{pageButton:{_:function(t,r,o,s,a,l){var c,u,d,h=t.oClasses,p=t.oLanguage.oPaginate,f=t.oLanguage.oAria.paginate||{},A=0,g=function(n,i){var r,s,d,m,y=h.sPageButtonDisabled,v=function(e){He(t,e.data.action,!0)};for(r=0,s=i.length;r<s;r++)if(d=i[r],Array.isArray(d)){var w=e("<"+(d.DT_el||"div")+"/>").appendTo(n);g(w,d)}else{switch(c=null,u=d,m=t.iTabIndex,d){case"ellipsis":n.append('<span class="ellipsis">&#x2026;</span>');break;case"first":c=p.sFirst,0===a&&(m=-1,u+=" "+y);break;case"previous":c=p.sPrevious,0===a&&(m=-1,u+=" "+y);break;case"next":c=p.sNext,0!==l&&a!==l-1||(m=-1,u+=" "+y);break;case"last":c=p.sLast,0!==l&&a!==l-1||(m=-1,u+=" "+y);break;default:c=t.fnFormatNumber(d+1),u=a===d?h.sPageButtonActive:""}null!==c&&(ht(e("<a>",{class:h.sPageButton+" "+u,"aria-controls":t.sTableId,"aria-label":f[d],"data-dt-idx":A,tabindex:m,id:0===o&&"string"==typeof d?t.sTableId+"_"+d:null}).html(c).appendTo(n),{action:d},v),A++)}};try{d=e(r).find(n.activeElement).data("dt-idx")}catch(m){}g(e(r).empty(),s),d!==i&&e(r).find("[data-dt-idx="+d+"]").trigger("focus")}}}),e.extend(l.ext.type.detect,[function(e,t){var n=t.oLanguage.sDecimal;return y(e,n)?"num"+n:null},function(e,t){if(e&&!(e instanceof Date)&&!h.test(e))return null;var n=Date.parse(e);return null!==n&&!isNaN(n)||A(e)?"date":null},function(e,t){var n=t.oLanguage.sDecimal;return y(e,n,!0)?"num-fmt"+n:null},function(e,t){var n=t.oLanguage.sDecimal;return v(e,n)?"html-num"+n:null},function(e,t){var n=t.oLanguage.sDecimal;return v(e,n,!0)?"html-num-fmt"+n:null},function(e,t){return A(e)||"string"==typeof e&&-1!==e.indexOf("<")?"html":null}]),e.extend(l.ext.type.search,{html:function(e){return A(e)?e:"string"==typeof e?e.replace(u," ").replace(d,""):""},string:function(e){return A(e)?e:"string"==typeof e?e.replace(u," "):e}});var Ot=function(e,t,n,i){return 0===e||e&&"-"!==e?(t&&(e=m(e,t)),e.replace&&(n&&(e=e.replace(n,"")),i&&(e=e.replace(i,""))),1*e):-1/0};function Rt(t){e.each({num:function(e){return Ot(e,t)},"num-fmt":function(e){return Ot(e,t,f)},"html-num":function(e){return Ot(e,t,d)},"html-num-fmt":function(e){return Ot(e,t,d,f)}},function(e,n){r.type.order[e+t+"-pre"]=n,e.match(/^html\-/)&&(r.type.search[e+t]=r.type.search.html)})}e.extend(r.type.order,{"date-pre":function(e){var t=Date.parse(e);return isNaN(t)?-1/0:t},"html-pre":function(e){return A(e)?"":e.replace?e.replace(/<.*?>/g,"").toLowerCase():e+""},"string-pre":function(e){return A(e)?"":"string"==typeof e?e.toLowerCase():e.toString?e.toString():""},"string-asc":function(e,t){return e<t?-1:e>t?1:0},"string-desc":function(e,t){return e<t?1:e>t?-1:0}}),Rt(""),e.extend(!0,l.ext.renderer,{header:{_:function(t,n,i,r){e(t.nTable).on("order.dt.DT",function(e,o,s,a){if(t===o){var l=i.idx;n.removeClass(r.sSortAsc+" "+r.sSortDesc).addClass("asc"==a[l]?r.sSortAsc:"desc"==a[l]?r.sSortDesc:i.sSortingClass)}})},jqueryui:function(t,n,i,r){e("<div/>").addClass(r.sSortJUIWrapper).append(n.contents()).append(e("<span/>").addClass(r.sSortIcon+" "+i.sSortingClassJUI)).appendTo(n),e(t.nTable).on("order.dt.DT",function(e,o,s,a){if(t===o){var l=i.idx;n.removeClass(r.sSortAsc+" "+r.sSortDesc).addClass("asc"==a[l]?r.sSortAsc:"desc"==a[l]?r.sSortDesc:i.sSortingClass),n.find("span."+r.sSortIcon).removeClass(r.sSortJUIAsc+" "+r.sSortJUIDesc+" "+r.sSortJUI+" "+r.sSortJUIAscAllowed+" "+r.sSortJUIDescAllowed).addClass("asc"==a[l]?r.sSortJUIAsc:"desc"==a[l]?r.sSortJUIDesc:i.sSortingClassJUI)}})}}});var Mt=function(e){return Array.isArray(e)&&(e=e.join(",")),"string"==typeof e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):e};function Ut(e){return function(){var t=[lt(this[l.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return l.ext.internal[e].apply(this,t)}}return l.render={number:function(e,t,n,i,r){return{display:function(o){if("number"!=typeof o&&"string"!=typeof o)return o;var s=o<0?"-":"",a=parseFloat(o);if(isNaN(a))return Mt(o);a=a.toFixed(n),o=Math.abs(a);var l=parseInt(o,10),c=n?t+(o-l).toFixed(n).substring(2):"";return 0===l&&0===parseFloat(c)&&(s=""),s+(i||"")+l.toString().replace(/\B(?=(\d{3})+(?!\d))/g,e)+c+(r||"")}}},text:function(){return{display:Mt,filter:Mt}}},e.extend(l.ext.internal,{_fnExternApiFunc:Ut,_fnBuildAjax:fe,_fnAjaxUpdate:Ae,_fnAjaxParameters:ge,_fnAjaxUpdateDraw:me,_fnAjaxDataSrc:ye,_fnAddColumn:M,_fnColumnOptions:U,_fnAdjustColumnSizing:P,_fnVisibleToColumnIndex:H,_fnColumnIndexToVisible:k,_fnVisbleColumns:Q,_fnGetColumns:z,_fnColumnTypes:j,_fnApplyColumnDefs:V,_fnHungarianMap:x,_fnCamelToHungarian:I,_fnLanguageCompat:B,_fnBrowserDetect:O,_fnAddData:W,_fnAddTr:q,_fnNodeToDataIndex:function(e,t){return t._DT_RowIndex!==i?t._DT_RowIndex:null},_fnNodeToColumnIndex:function(t,n,i){return e.inArray(i,t.aoData[n].anCells)},_fnGetCellData:G,_fnSetCellData:K,_fnSplitObjNotation:Y,_fnGetObjectDataFn:Z,_fnSetObjectDataFn:$,_fnGetDataMaster:ee,_fnClearTable:te,_fnDeleteIndex:ne,_fnInvalidate:ie,_fnGetRowElements:re,_fnCreateTr:oe,_fnBuildHead:ae,_fnDrawHead:le,_fnDraw:ce,_fnReDraw:ue,_fnAddOptionsHtml:de,_fnDetectHeader:he,_fnGetUniqueThs:pe,_fnFeatureHtmlFilter:ve,_fnFilterComplete:we,_fnFilterCustom:be,_fnFilterColumn:_e,_fnFilter:Ce,_fnFilterCreateSearch:Ee,_fnEscapeRegex:Se,_fnFilterData:xe,_fnFeatureHtmlInfo:Fe,_fnUpdateInfo:Ne,_fnInfoMacros:De,_fnInitialise:Oe,_fnInitComplete:Re,_fnLengthChange:Me,_fnFeatureHtmlLength:Ue,_fnFeatureHtmlPaginate:Pe,_fnPageChange:He,_fnFeatureHtmlProcessing:ke,_fnProcessingDisplay:Qe,_fnFeatureHtmlTable:ze,_fnScrollDraw:je,_fnApplyToChildren:Ve,_fnCalculateColumnWidths:qe,_fnThrottle:Ge,_fnConvertToWidth:Ke,_fnGetWidestNode:Xe,_fnGetMaxLenString:Je,_fnStringToCss:Ye,_fnSortFlatten:Ze,_fnSort:$e,_fnSortAria:et,_fnSortListener:tt,_fnSortAttachListener:nt,_fnSortingClasses:it,_fnSortData:rt,_fnSaveState:ot,_fnLoadState:st,_fnImplementState:at,_fnSettingsFromNode:lt,_fnLog:ct,_fnMap:ut,_fnBindAction:ht,_fnCallbackReg:pt,_fnCallbackFire:ft,_fnLengthOverflow:At,_fnRenderer:gt,_fnDataSource:mt,_fnRowAttributes:se,_fnExtend:dt,_fnCalculateEnd:function(){}}),e.fn.dataTable=l,l.$=e,e.fn.dataTableSettings=l.settings,e.fn.dataTableExt=l.ext,e.fn.DataTable=function(t){return e(this).dataTable(t).api()},e.each(l,function(t,n){e.fn.DataTable[t]=n}),l}),function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).JSZip=e()}(function(){return function e(t,n,i){function r(s,a){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[s]={exports:{}};t[s][0].call(u.exports,function(e){return r(t[s][1][e]||e)},u,u.exports,e,t,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(e,t,n){"use strict";var i=e("./utils"),r=e("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(e){for(var t,n,r,s,a,l,c=[],u=0,d=e.length,h=d,p="string"!==i.getTypeOf(e);u<e.length;)h=d-u,p?(t=e[u++],n=u<d?e[u++]:0,r=u<d?e[u++]:0):(t=e.charCodeAt(u++),n=u<d?e.charCodeAt(u++):0,r=u<d?e.charCodeAt(u++):0),s=(3&t)<<4|n>>4,a=h>1?(15&n)<<2|r>>6:64,l=h>2?63&r:64,c.push(o.charAt(t>>2)+o.charAt(s)+o.charAt(a)+o.charAt(l));return c.join("")},n.decode=function(e){var t,n,i,s,a,l,c=0,u=0,d="data:";if(e.substr(0,d.length)===d)throw new Error("Invalid base64 input, it looks like a data url.");var h,p=3*(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(e.charAt(e.length-1)===o.charAt(64)&&p--,e.charAt(e.length-2)===o.charAt(64)&&p--,p%1!=0)throw new Error("Invalid base64 input, bad content length.");for(h=r.uint8array?new Uint8Array(0|p):new Array(0|p);c<e.length;)i=o.indexOf(e.charAt(c++)),t=(15&(s=o.indexOf(e.charAt(c++))))<<4|(a=o.indexOf(e.charAt(c++)))>>2,n=(3&a)<<6|(l=o.indexOf(e.charAt(c++))),h[u++]=i<<2|s>>4,64!==a&&(h[u++]=t),64!==l&&(h[u++]=n);return h}},{"./support":30,"./utils":32}],2:[function(e,t,n){"use strict";var i=e("./external"),r=e("./stream/DataWorker"),o=e("./stream/Crc32Probe"),s=e("./stream/DataLengthProbe");function a(e,t,n,i,r){this.compressedSize=e,this.uncompressedSize=t,this.crc32=n,this.compression=i,this.compressedContent=r}a.prototype={getContentWorker:function(){var e=new r(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new s("data_length")),t=this;return e.on("end",function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),e},getCompressedWorker:function(){return new r(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},a.createWorkerFrom=function(e,t,n){return e.pipe(new o).pipe(new s("uncompressedSize")).pipe(t.compressWorker(n)).pipe(new s("compressedSize")).withStreamInfo("compression",t)},t.exports=a},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,n){"use strict";var i=e("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(e){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},n.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,n){"use strict";var i=e("./utils"),r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t){return void 0!==e&&e.length?"string"!==i.getTypeOf(e)?function(e,t,n,i){var o=r,s=0+n;e^=-1;for(var a=0;a<s;a++)e=e>>>8^o[255&(e^t[a])];return-1^e}(0|t,e,e.length):function(e,t,n,i){var o=r,s=0+n;e^=-1;for(var a=0;a<s;a++)e=e>>>8^o[255&(e^t.charCodeAt(a))];return-1^e}(0|t,e,e.length):0}},{"./utils":32}],5:[function(e,t,n){"use strict";n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(e,t,n){"use strict";var i;i="undefined"!=typeof Promise?Promise:e("lie"),t.exports={Promise:i}},{lie:37}],7:[function(e,t,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,r=e("pako"),o=e("./utils"),s=e("./stream/GenericWorker"),a=i?"uint8array":"array";function l(e,t){s.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}n.magic="\b\0",o.inherits(l,s),l.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(o.transformTo(a,e.data),!1)},l.prototype.flush=function(){s.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new r[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},n.compressWorker=function(e){return new l("Deflate",e)},n.uncompressWorker=function(){return new l("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,t,n){"use strict";var i=e("../utils"),r=e("../stream/GenericWorker"),o=e("../utf8"),s=e("../crc32"),a=e("../signature"),l=function(e,t){var n,i="";for(n=0;n<t;n++)i+=String.fromCharCode(255&e),e>>>=8;return i},c=function(e,t,n,r,c,u){var d,h,p=e.file,f=e.compression,A=u!==o.utf8encode,g=i.transformTo("string",u(p.name)),m=i.transformTo("string",o.utf8encode(p.name)),y=p.comment,v=i.transformTo("string",u(y)),w=i.transformTo("string",o.utf8encode(y)),b=m.length!==p.name.length,_=w.length!==y.length,C="",E="",S="",T=p.dir,L=p.date,x={crc32:0,compressedSize:0,uncompressedSize:0};t&&!n||(x.crc32=e.crc32,x.compressedSize=e.compressedSize,x.uncompressedSize=e.uncompressedSize);var I=0;t&&(I|=8),A||!b&&!_||(I|=2048);var B,F,N=0,D=0;T&&(N|=16),"UNIX"===c?(D=798,N|=(F=B=p.unixPermissions,B||(F=T?16893:33204),(65535&F)<<16)):(D=20,N|=63&(p.dosPermissions||0)),d=L.getUTCHours(),d<<=6,d|=L.getUTCMinutes(),d<<=5,d|=L.getUTCSeconds()/2,h=L.getUTCFullYear()-1980,h<<=4,h|=L.getUTCMonth()+1,h<<=5,h|=L.getUTCDate(),b&&(E=l(1,1)+l(s(g),4)+m,C+="up"+l(E.length,2)+E),_&&(S=l(1,1)+l(s(v),4)+w,C+="uc"+l(S.length,2)+S);var O="";return O+="\n\0",O+=l(I,2),O+=f.magic,O+=l(d,2),O+=l(h,2),O+=l(x.crc32,4),O+=l(x.compressedSize,4),O+=l(x.uncompressedSize,4),O+=l(g.length,2),O+=l(C.length,2),{fileRecord:a.LOCAL_FILE_HEADER+O+g+C,dirRecord:a.CENTRAL_FILE_HEADER+l(D,2)+O+l(v.length,2)+"\0\0\0\0"+l(N,4)+l(r,4)+g+C+v}},u=function(e){return a.DATA_DESCRIPTOR+l(e.crc32,4)+l(e.compressedSize,4)+l(e.uncompressedSize,4)};function d(e,t,n,i){r.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=n,this.encodeFileName=i,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}i.inherits(d,r),d.prototype.push=function(e){var t=e.meta.percent||0,n=this.entriesCount,i=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,r.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:n?(t+100*(n-i-1))/n:100}}))},d.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var n=c(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},d.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,n=c(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),t)this.push({data:u(e),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},d.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var n=function(e,t,n,r,o){var s=i.transformTo("string",o(r));return a.CENTRAL_DIRECTORY_END+"\0\0\0\0"+l(e,2)+l(e,2)+l(t,4)+l(n,4)+l(s.length,2)+s}(this.dirRecords.length,this.bytesWritten-e,e,this.zipComment,this.encodeFileName);this.push({data:n,meta:{percent:100}})},d.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},d.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",function(e){t.processChunk(e)}),e.on("end",function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()}),e.on("error",function(e){t.error(e)}),this},d.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},d.prototype.error=function(e){var t=this._sources;if(!r.prototype.error.call(this,e))return!1;for(var n=0;n<t.length;n++)try{t[n].error(e)}catch(e){}return!0},d.prototype.lock=function(){r.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=d},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,n){"use strict";var i=e("../compressions"),r=e("./ZipFileWorker");n.generateWorker=function(e,t,n){var o=new r(t.streamFiles,n,t.platform,t.encodeFileName),s=0;try{e.forEach(function(e,n){s++;var r=function(e,t){var n=e||t,r=i[n];if(!r)throw new Error(n+" is not a valid compression method !");return r}(n.options.compression,t.compression),a=n.dir,l=n.date;n._compressWorker(r,n.options.compressionOptions||t.compressionOptions||{}).withStreamInfo("file",{name:e,dir:a,date:l,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(o)}),o.entriesCount=s}catch(a){o.error(a)}return o}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,n){"use strict";function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var e=new i;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}(i.prototype=e("./object")).loadAsync=e("./load"),i.support=e("./support"),i.defaults=e("./defaults"),i.version="3.7.1",i.loadAsync=function(e,t){return(new i).loadAsync(e,t)},i.external=e("./external"),t.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,n){"use strict";var i=e("./utils"),r=e("./external"),o=e("./utf8"),s=e("./zipEntries"),a=e("./stream/Crc32Probe"),l=e("./nodejsUtils");function c(e){return new r.Promise(function(t,n){var i=e.decompressed.getContentWorker().pipe(new a);i.on("error",function(e){n(e)}).on("end",function(){i.streamInfo.crc32!==e.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):t()}).resume()})}t.exports=function(e,t){var n=this;return t=i.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),l.isNode&&l.isStream(e)?r.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then(function(e){var n=new s(t);return n.load(e),n}).then(function(e){var n=[r.Promise.resolve(e)],i=e.files;if(t.checkCRC32)for(var o=0;o<i.length;o++)n.push(c(i[o]));return r.Promise.all(n)}).then(function(e){for(var i=e.shift(),r=i.files,o=0;o<r.length;o++){var s=r[o];n.file(s.fileNameStr,s.decompressed,{binary:!0,optimizedBinaryString:!0,date:s.date,dir:s.dir,comment:s.fileCommentStr.length?s.fileCommentStr:null,unixPermissions:s.unixPermissions,dosPermissions:s.dosPermissions,createFolders:t.createFolders})}return i.zipComment.length&&(n.comment=i.zipComment),n})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,n){"use strict";var i=e("../utils"),r=e("../stream/GenericWorker");function o(e,t){r.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}i.inherits(o,r),o.prototype._bindStream=function(e){var t=this;this._stream=e,e.pause(),e.on("data",function(e){t.push({data:e,meta:{percent:0}})}).on("error",function(e){t.isPaused?this.generatedError=e:t.error(e)}).on("end",function(){t.isPaused?t._upstreamEnded=!0:t.end()})},o.prototype.pause=function(){return!!r.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,n){"use strict";var i=e("readable-stream").Readable;function r(e,t,n){i.call(this,t),this._helper=e;var r=this;e.on("data",function(e,t){r.push(e)||r._helper.pause(),n&&n(t)}).on("error",function(e){r.emit("error",e)}).on("end",function(){r.push(null)})}e("../utils").inherits(r,i),r.prototype._read=function(){this._helper.resume()},t.exports=r},{"../utils":32,"readable-stream":16}],14:[function(e,t,n){"use strict";t.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(e,t){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,t);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new Buffer(e,t)},allocBuffer:function(e){if(Buffer.alloc)return Buffer.alloc(e);var t=new Buffer(e);return t.fill(0),t},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},{}],15:[function(e,t,n){"use strict";var i=e("./utf8"),r=e("./utils"),o=e("./stream/GenericWorker"),s=e("./stream/StreamHelper"),a=e("./defaults"),l=e("./compressedObject"),c=e("./zipObject"),u=e("./generate"),d=e("./nodejsUtils"),h=e("./nodejs/NodejsStreamInputAdapter"),p=function(e,t,n){var i,s,u=r.getTypeOf(t),p=r.extend(n||{},a);p.date=p.date||new Date,null!==p.compression&&(p.compression=p.compression.toUpperCase()),"string"==typeof p.unixPermissions&&(p.unixPermissions=parseInt(p.unixPermissions,8)),p.unixPermissions&&16384&p.unixPermissions&&(p.dir=!0),p.dosPermissions&&16&p.dosPermissions&&(p.dir=!0),p.dir&&(e=A(e)),p.createFolders&&(i=f(e))&&g.call(this,i,!0),n&&void 0!==n.binary||(p.binary=!("string"===u&&!1===p.binary&&!1===p.base64)),(t instanceof l&&0===t.uncompressedSize||p.dir||!t||0===t.length)&&(p.base64=!1,p.binary=!0,t="",p.compression="STORE",u="string"),s=t instanceof l||t instanceof o?t:d.isNode&&d.isStream(t)?new h(e,t):r.prepareContent(e,t,p.binary,p.optimizedBinaryString,p.base64);var m=new c(e,s,p);this.files[e]=m},f=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return t>0?e.substring(0,t):""},A=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},g=function(e,t){return t=void 0!==t?t:a.createFolders,e=A(e),this.files[e]||p.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function m(e){return"[object RegExp]"===Object.prototype.toString.call(e)}t.exports={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,n,i;for(t in this.files)i=this.files[t],(n=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(n,i)},filter:function(e){var t=[];return this.forEach(function(n,i){e(n,i)&&t.push(i)}),t},file:function(e,t,n){if(1===arguments.length){if(m(e)){var i=e;return this.filter(function(e,t){return!t.dir&&i.test(e)})}var r=this.files[this.root+e];return r&&!r.dir?r:null}return p.call(this,e=this.root+e,t,n),this},folder:function(e){if(!e)return this;if(m(e))return this.filter(function(t,n){return n.dir&&e.test(t)});var t=g.call(this,this.root+e),n=this.clone();return n.root=t.name,n},remove:function(e){var t=this.files[e=this.root+e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var n=this.filter(function(t,n){return n.name.slice(0,e.length)===e}),i=0;i<n.length;i++)delete this.files[n[i].name];return this},generate:function(e){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,n={};try{if((n=r.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:i.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");r.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS"),t=u.generateWorker(this,n,n.comment||this.comment||"")}catch(a){(t=new o("error")).error(a)}return new s(t,n.type||"string",n.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}}},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,n){t.exports=e("stream")},{stream:void 0}],17:[function(e,t,n){"use strict";var i=e("./DataReader");function r(e){i.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}e("../utils").inherits(r,i),r.prototype.byteAt=function(e){return this.data[this.zero+e]},r.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),n=e.charCodeAt(1),i=e.charCodeAt(2),r=e.charCodeAt(3),o=this.length-4;o>=0;--o)if(this.data[o]===t&&this.data[o+1]===n&&this.data[o+2]===i&&this.data[o+3]===r)return o-this.zero;return-1},r.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1),i=e.charCodeAt(2),r=e.charCodeAt(3),o=this.readData(4);return t===o[0]&&n===o[1]&&i===o[2]&&r===o[3]},r.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=r},{"../utils":32,"./DataReader":18}],18:[function(e,t,n){"use strict";var i=e("../utils");function r(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}r.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(e){},readInt:function(e){var t,n=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)n=(n<<8)+this.byteAt(t);return this.index+=e,n},readString:function(e){return i.transformTo("string",this.readData(e))},readData:function(e){},lastIndexOfSignature:function(e){},readAndCheckSignature:function(e){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=r},{"../utils":32}],19:[function(e,t,n){"use strict";var i=e("./Uint8ArrayReader");function r(e){i.call(this,e)}e("../utils").inherits(r,i),r.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=r},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,n){"use strict";var i=e("./DataReader");function r(e){i.call(this,e)}e("../utils").inherits(r,i),r.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},r.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},r.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},r.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=r},{"../utils":32,"./DataReader":18}],21:[function(e,t,n){"use strict";var i=e("./ArrayReader");function r(e){i.call(this,e)}e("../utils").inherits(r,i),r.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=r},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,n){"use strict";var i=e("../utils"),r=e("../support"),o=e("./ArrayReader"),s=e("./StringReader"),a=e("./NodeBufferReader"),l=e("./Uint8ArrayReader");t.exports=function(e){var t=i.getTypeOf(e);return i.checkSupport(t),"string"!==t||r.uint8array?"nodebuffer"===t?new a(e):r.uint8array?new l(i.transformTo("uint8array",e)):new o(i.transformTo("array",e)):new s(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,n){"use strict";n.LOCAL_FILE_HEADER="PK",n.CENTRAL_FILE_HEADER="PK",n.CENTRAL_DIRECTORY_END="PK",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",n.ZIP64_CENTRAL_DIRECTORY_END="PK",n.DATA_DESCRIPTOR="PK\b"},{}],24:[function(e,t,n){"use strict";var i=e("./GenericWorker"),r=e("../utils");function o(e){i.call(this,"ConvertWorker to "+e),this.destType=e}r.inherits(o,i),o.prototype.processChunk=function(e){this.push({data:r.transformTo(this.destType,e.data),meta:e.meta})},t.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,n){"use strict";var i=e("./GenericWorker"),r=e("../crc32");function o(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(o,i),o.prototype.processChunk=function(e){this.streamInfo.crc32=r(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,n){"use strict";var i=e("../utils"),r=e("./GenericWorker");function o(e){r.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}i.inherits(o,r),o.prototype.processChunk=function(e){e&&(this.streamInfo[this.propName]=(this.streamInfo[this.propName]||0)+e.data.length),r.prototype.processChunk.call(this,e)},t.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,n){"use strict";var i=e("../utils"),r=e("./GenericWorker");function o(e){r.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then(function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=i.getTypeOf(e),t.isPaused||t._tickAndRepeat()},function(e){t.error(e)})}i.inherits(o,r),o.prototype.cleanUp=function(){r.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,n){"use strict";function i(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var n=0;n<this._listeners[e].length;n++)this._listeners[e][n].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",function(e){t.processChunk(e)}),e.on("end",function(){t.end()}),e.on("error",function(e){t.error(e)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var e=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},t.exports=i},{}],29:[function(e,t,n){"use strict";var i=e("../utils"),r=e("./ConvertWorker"),o=e("./GenericWorker"),s=e("../base64"),a=e("../support"),l=e("../external"),c=null;if(a.nodestream)try{c=e("../nodejs/NodejsStreamOutputAdapter")}catch(d){}function u(e,t,n){var s=t;switch(t){case"blob":case"arraybuffer":s="uint8array";break;case"base64":s="string"}try{this._internalType=s,this._outputType=t,this._mimeType=n,i.checkSupport(s),this._worker=e.pipe(new r(s)),e.lock()}catch(d){this._worker=new o("error"),this._worker.error(d)}}u.prototype={accumulate:function(e){return t=this,n=e,new l.Promise(function(e,r){var o=[],a=t._internalType,l=t._outputType,c=t._mimeType;t.on("data",function(e,t){o.push(e),n&&n(t)}).on("error",function(e){o=[],r(e)}).on("end",function(){try{var t=function(e,t,n){switch(e){case"blob":return i.newBlob(i.transformTo("arraybuffer",t),n);case"base64":return s.encode(t);default:return i.transformTo(e,t)}}(l,function(e,t){var n,i=0,r=null,o=0;for(n=0;n<t.length;n++)o+=t[n].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(r=new Uint8Array(o),n=0;n<t.length;n++)r.set(t[n],i),i+=t[n].length;return r;case"nodebuffer":return Buffer.concat(t);default:throw new Error("concat : unsupported type '"+e+"'")}}(a,o),c);e(t)}catch(d){r(d)}o=[]}).resume()});var t,n},on:function(e,t){var n=this;return this._worker.on(e,"data"===e?function(e){t.call(n,e.data,e.meta)}:function(){i.delay(t,arguments,n)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(i.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new c(this,{objectMode:"nodebuffer"!==this._outputType},e)}},t.exports=u},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,t,n){"use strict";if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,n.nodebuffer="undefined"!=typeof Buffer,n.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)n.blob=!1;else{var i=new ArrayBuffer(0);try{n.blob=0===new Blob([i],{type:"application/zip"}).size}catch(o){try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);r.append(i),n.blob=0===r.getBlob("application/zip").size}catch(o){n.blob=!1}}}try{n.nodestream=!!e("readable-stream").Readable}catch(o){n.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,n){"use strict";for(var i=e("./utils"),r=e("./support"),o=e("./nodejsUtils"),s=e("./stream/GenericWorker"),a=new Array(256),l=0;l<256;l++)a[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;function c(){s.call(this,"utf-8 decode"),this.leftOver=null}function u(){s.call(this,"utf-8 encode")}a[254]=a[254]=1,n.utf8encode=function(e){return r.nodebuffer?o.newBufferFrom(e,"utf-8"):function(e){var t,n,i,o,s,a=e.length,l=0;for(o=0;o<a;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<a&&56320==(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=r.uint8array?new Uint8Array(l):new Array(l),s=0,o=0;s<l;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<a&&56320==(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),n<128?t[s++]=n:n<2048?(t[s++]=192|n>>>6,t[s++]=128|63&n):n<65536?(t[s++]=224|n>>>12,t[s++]=128|n>>>6&63,t[s++]=128|63&n):(t[s++]=240|n>>>18,t[s++]=128|n>>>12&63,t[s++]=128|n>>>6&63,t[s++]=128|63&n);return t}(e)},n.utf8decode=function(e){return r.nodebuffer?i.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,n,r,o,s=e.length,l=new Array(2*s);for(n=0,t=0;t<s;)if((r=e[t++])<128)l[n++]=r;else if((o=a[r])>4)l[n++]=65533,t+=o-1;else{for(r&=2===o?31:3===o?15:7;o>1&&t<s;)r=r<<6|63&e[t++],o--;o>1?l[n++]=65533:r<65536?l[n++]=r:(l[n++]=55296|(r-=65536)>>10&1023,l[n++]=56320|1023&r)}return l.length!==n&&(l.subarray?l=l.subarray(0,n):l.length=n),i.applyFromCharCode(l)}(e=i.transformTo(r.uint8array?"uint8array":"array",e))},i.inherits(c,s),c.prototype.processChunk=function(e){var t=i.transformTo(r.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(r.uint8array){var o=t;(t=new Uint8Array(o.length+this.leftOver.length)).set(this.leftOver,0),t.set(o,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var s=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+a[e[n]]>t?n:t}(t),l=t;s!==t.length&&(r.uint8array?(l=t.subarray(0,s),this.leftOver=t.subarray(s,t.length)):(l=t.slice(0,s),this.leftOver=t.slice(s,t.length))),this.push({data:n.utf8decode(l),meta:e.meta})},c.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=c,i.inherits(u,s),u.prototype.processChunk=function(e){this.push({data:n.utf8encode(e.data),meta:e.meta})},n.Utf8EncodeWorker=u},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,n){"use strict";var i=e("./support"),r=e("./base64"),o=e("./nodejsUtils"),s=e("set-immediate-shim"),a=e("./external");function l(e){return e}function c(e,t){for(var n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t}n.newBlob=function(e,t){n.checkSupport("blob");try{return new Blob([e],{type:t})}catch(r){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return i.append(e),i.getBlob(t)}catch(r){throw new Error("Bug : can't construct the Blob.")}}};var u={stringifyByChunk:function(e,t,n){var i=[],r=0,o=e.length;if(o<=n)return String.fromCharCode.apply(null,e);for(;r<o;)i.push(String.fromCharCode.apply(null,"array"===t||"nodebuffer"===t?e.slice(r,Math.min(r+n,o)):e.subarray(r,Math.min(r+n,o)))),r+=n;return i.join("")},stringifyByChar:function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&1===String.fromCharCode.apply(null,o.allocBuffer(1)).length}catch(e){return!1}}()}};function d(e){var t=65536,i=n.getTypeOf(e),r=!0;if("uint8array"===i?r=u.applyCanBeUsed.uint8array:"nodebuffer"===i&&(r=u.applyCanBeUsed.nodebuffer),r)for(;t>1;)try{return u.stringifyByChunk(e,i,t)}catch(o){t=Math.floor(t/2)}return u.stringifyByChar(e)}function h(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t}n.applyFromCharCode=d;var p={};p.string={string:l,array:function(e){return c(e,new Array(e.length))},arraybuffer:function(e){return p.string.uint8array(e).buffer},uint8array:function(e){return c(e,new Uint8Array(e.length))},nodebuffer:function(e){return c(e,o.allocBuffer(e.length))}},p.array={string:d,array:l,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return o.newBufferFrom(e)}},p.arraybuffer={string:function(e){return d(new Uint8Array(e))},array:function(e){return h(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:l,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return o.newBufferFrom(new Uint8Array(e))}},p.uint8array={string:d,array:function(e){return h(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:l,nodebuffer:function(e){return o.newBufferFrom(e)}},p.nodebuffer={string:d,array:function(e){return h(e,new Array(e.length))},arraybuffer:function(e){return p.nodebuffer.uint8array(e).buffer},uint8array:function(e){return h(e,new Uint8Array(e.length))},nodebuffer:l},n.transformTo=function(e,t){if(t||(t=""),!e)return t;n.checkSupport(e);var i=n.getTypeOf(t);return p[i][e](t)},n.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":i.nodebuffer&&o.isBuffer(e)?"nodebuffer":i.uint8array&&e instanceof Uint8Array?"uint8array":i.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(e){if(!i[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(e){var t,n,i="";for(n=0;n<(e||"").length;n++)i+="\\x"+((t=e.charCodeAt(n))<16?"0":"")+t.toString(16).toUpperCase();return i},n.delay=function(e,t,n){s(function(){e.apply(n||null,t||[])})},n.inherits=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n},n.extend=function(){var e,t,n={};for(e=0;e<arguments.length;e++)for(t in arguments[e])arguments[e].hasOwnProperty(t)&&void 0===n[t]&&(n[t]=arguments[e][t]);return n},n.prepareContent=function(e,t,o,s,l){return a.Promise.resolve(t).then(function(e){return i.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new a.Promise(function(t,n){var i=new FileReader;i.onload=function(e){t(e.target.result)},i.onerror=function(e){n(e.target.error)},i.readAsArrayBuffer(e)}):e}).then(function(t){var u,d=n.getTypeOf(t);return d?("arraybuffer"===d?t=n.transformTo("uint8array",t):"string"===d&&(l?t=r.decode(t):o&&!0!==s&&(t=c(u=t,i.uint8array?new Uint8Array(u.length):new Array(u.length)))),t):a.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"set-immediate-shim":54}],33:[function(e,t,n){"use strict";var i=e("./reader/readerFor"),r=e("./utils"),o=e("./signature"),s=e("./zipEntry"),a=(e("./utf8"),e("./support"));function l(e){this.files=[],this.loadOptions=e}l.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+r.pretty(t)+", expected "+r.pretty(e)+")")}},isSignature:function(e,t){var n=this.reader.index;this.reader.setIndex(e);var i=this.reader.readString(4)===t;return this.reader.setIndex(n),i},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=r.transformTo(a.uint8array?"uint8array":"array",e);this.zipComment=this.loadOptions.decodeFileName(t)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,n,i=this.zip64EndOfCentralSize-44;0<i;)e=this.reader.readInt(2),t=this.reader.readInt(4),n=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)this.reader.setIndex((t=this.files[e]).localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(e=new s({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var t=e;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===r.MAX_VALUE_16BITS||this.diskWithCentralDirStart===r.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===r.MAX_VALUE_16BITS||this.centralDirRecords===r.MAX_VALUE_16BITS||this.centralDirSize===r.MAX_VALUE_32BITS||this.centralDirOffset===r.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var i=t-n;if(i>0)this.isSignature(t,o.CENTRAL_FILE_HEADER)||(this.reader.zero=i);else if(i<0)throw new Error("Corrupted zip: missing "+Math.abs(i)+" bytes.")},prepareReader:function(e){this.reader=i(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=l},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(e,t,n){"use strict";var i=e("./reader/readerFor"),r=e("./utils"),o=e("./compressedObject"),s=e("./crc32"),a=e("./utf8"),l=e("./compressions"),c=e("./support");function u(e,t){this.options=e,this.loadOptions=t}u.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,n;if(e.skip(22),this.fileNameLength=e.readInt(2),n=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in l)if(l.hasOwnProperty(t)&&l[t].magic===e)return l[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+r.pretty(this.compressionMethod)+" unknown (inner file : "+r.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===e&&(this.dosPermissions=63&this.externalFileAttributes),3===e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(e){if(this.extraFields[1]){var t=i(this.extraFields[1].value);this.uncompressedSize===r.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===r.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===r.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===r.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(e){var t,n,i,r=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<r;)t=e.readInt(2),n=e.readInt(2),i=e.readData(n),this.extraFields[t]={id:t,length:n,value:i};e.setIndex(r)},handleUTF8:function(){var e=c.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=a.utf8decode(this.fileName),this.fileCommentStr=a.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var n=r.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var i=this.findExtraFieldUnicodeComment();if(null!==i)this.fileCommentStr=i;else{var o=r.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(o)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=i(e.value);return 1!==t.readInt(1)||s(this.fileName)!==t.readInt(4)?null:a.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=i(e.value);return 1!==t.readInt(1)||s(this.fileComment)!==t.readInt(4)?null:a.utf8decode(t.readData(e.length-5))}return null}},t.exports=u},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,n){"use strict";var i=e("./stream/StreamHelper"),r=e("./stream/DataWorker"),o=e("./utf8"),s=e("./compressedObject"),a=e("./stream/GenericWorker"),l=function(e,t,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=t,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}};l.prototype={internalStream:function(e){var t=null,n="string";try{if(!e)throw new Error("No output type specified.");var r="string"===(n=e.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),t=this._decompressWorker();var s=!this._dataBinary;s&&!r&&(t=t.pipe(new o.Utf8EncodeWorker)),!s&&r&&(t=t.pipe(new o.Utf8DecodeWorker))}catch(l){(t=new a("error")).error(l)}return new i(t,n,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof s&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new o.Utf8EncodeWorker)),s.createWorkerFrom(n,e,t)},_decompressWorker:function(){return this._data instanceof s?this._data.getContentWorker():this._data instanceof a?this._data:new r(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],u=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<c.length;d++)l.prototype[c[d]]=u;t.exports=l},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t,n){(function(e){"use strict";var n,i,r=e.MutationObserver||e.WebKitMutationObserver;if(r){var o=0,s=new r(u),a=e.document.createTextNode("");s.observe(a,{characterData:!0}),n=function(){a.data=o=++o%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){u(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(u,0)};else{var l=new e.MessageChannel;l.port1.onmessage=u,n=function(){l.port2.postMessage(0)}}var c=[];function u(){var e,t;i=!0;for(var n=c.length;n;){for(t=c,c=[],e=-1;++e<n;)t[e]();n=c.length}i=!1}t.exports=function(e){1!==c.push(e)||i||n()}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(e,t,n){"use strict";var i=e("immediate");function r(){}var o={},s=["REJECTED"],a=["FULFILLED"],l=["PENDING"];function c(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,e!==r&&p(this,e)}function u(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function d(e,t,n){i(function(){var i;try{i=t(n)}catch(r){return o.reject(e,r)}i===e?o.reject(e,new TypeError("Cannot resolve promise with itself")):o.resolve(e,i)})}function h(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function p(e,t){var n=!1;function i(t){n||(n=!0,o.reject(e,t))}function r(t){n||(n=!0,o.resolve(e,t))}var s=f(function(){t(r,i)});"error"===s.status&&i(s.value)}function f(e,t){var n={};try{n.value=e(t),n.status="success"}catch(i){n.status="error",n.value=i}return n}t.exports=c,c.prototype.finally=function(e){if("function"!=typeof e)return this;var t=this.constructor;return this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){throw n})})},c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){if("function"!=typeof e&&this.state===a||"function"!=typeof t&&this.state===s)return this;var n=new this.constructor(r);return this.state!==l?d(n,this.state===a?e:t,this.outcome):this.queue.push(new u(n,e,t)),n},u.prototype.callFulfilled=function(e){o.resolve(this.promise,e)},u.prototype.otherCallFulfilled=function(e){d(this.promise,this.onFulfilled,e)},u.prototype.callRejected=function(e){o.reject(this.promise,e)},u.prototype.otherCallRejected=function(e){d(this.promise,this.onRejected,e)},o.resolve=function(e,t){var n=f(h,t);if("error"===n.status)return o.reject(e,n.value);var i=n.value;if(i)p(e,i);else{e.state=a,e.outcome=t;for(var r=-1,s=e.queue.length;++r<s;)e.queue[r].callFulfilled(t)}return e},o.reject=function(e,t){e.state=s,e.outcome=t;for(var n=-1,i=e.queue.length;++n<i;)e.queue[n].callRejected(t);return e},c.resolve=function(e){return e instanceof this?e:o.resolve(new this(r),e)},c.reject=function(e){var t=new this(r);return o.reject(t,e)},c.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,i=!1;if(!n)return this.resolve([]);for(var s=new Array(n),a=0,l=-1,c=new this(r);++l<n;)u(e[l],l);return c;function u(e,r){t.resolve(e).then(function(e){s[r]=e,++a!==n||i||(i=!0,o.resolve(c,s))},function(e){i||(i=!0,o.reject(c,e))})}},c.race=function(e){if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var t=e.length,n=!1;if(!t)return this.resolve([]);for(var i=-1,s=new this(r);++i<t;)this.resolve(e[i]).then(function(e){n||(n=!0,o.resolve(s,e))},function(e){n||(n=!0,o.reject(s,e))});return s}},{immediate:36}],38:[function(e,t,n){"use strict";var i={};(0,e("./lib/utils/common").assign)(i,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,n){"use strict";var i=e("./zlib/deflate"),r=e("./utils/common"),o=e("./utils/strings"),s=e("./zlib/messages"),a=e("./zlib/zstream"),l=Object.prototype.toString;function c(e){if(!(this instanceof c))return new c(e);this.options=r.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var n=i.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==n)throw new Error(s[n]);if(t.header&&i.deflateSetHeader(this.strm,t.header),t.dictionary){var u;if(u="string"==typeof t.dictionary?o.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,0!==(n=i.deflateSetDictionary(this.strm,u)))throw new Error(s[n]);this._dict_set=!0}}function u(e,t){var n=new c(t);if(n.push(e,!0),n.err)throw n.msg||s[n.err];return n.result}c.prototype.push=function(e,t){var n,s,a=this.strm,c=this.options.chunkSize;if(this.ended)return!1;s=t===~~t?t:!0===t?4:0,a.input="string"==typeof e?o.string2buf(e):"[object ArrayBuffer]"===l.call(e)?new Uint8Array(e):e,a.next_in=0,a.avail_in=a.input.length;do{if(0===a.avail_out&&(a.output=new r.Buf8(c),a.next_out=0,a.avail_out=c),1!==(n=i.deflate(a,s))&&0!==n)return this.onEnd(n),this.ended=!0,!1;0!==a.avail_out&&(0!==a.avail_in||4!==s&&2!==s)||this.onData("string"===this.options.to?o.buf2binstring(r.shrinkBuf(a.output,a.next_out)):r.shrinkBuf(a.output,a.next_out))}while((a.avail_in>0||0===a.avail_out)&&1!==n);return 4===s?(n=i.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,0===n):2!==s||(this.onEnd(0),a.avail_out=0,!0)},c.prototype.onData=function(e){this.chunks.push(e)},c.prototype.onEnd=function(e){0===e&&(this.result="string"===this.options.to?this.chunks.join(""):r.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Deflate=c,n.deflate=u,n.deflateRaw=function(e,t){return(t=t||{}).raw=!0,u(e,t)},n.gzip=function(e,t){return(t=t||{}).gzip=!0,u(e,t)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,n){"use strict";var i=e("./zlib/inflate"),r=e("./utils/common"),o=e("./utils/strings"),s=e("./zlib/constants"),a=e("./zlib/messages"),l=e("./zlib/zstream"),c=e("./zlib/gzheader"),u=Object.prototype.toString;function d(e){if(!(this instanceof d))return new d(e);this.options=r.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var n=i.inflateInit2(this.strm,t.windowBits);if(n!==s.Z_OK)throw new Error(a[n]);this.header=new c,i.inflateGetHeader(this.strm,this.header)}function h(e,t){var n=new d(t);if(n.push(e,!0),n.err)throw n.msg||a[n.err];return n.result}d.prototype.push=function(e,t){var n,a,l,c,d,h,p=this.strm,f=this.options.chunkSize,A=this.options.dictionary,g=!1;if(this.ended)return!1;a=t===~~t?t:!0===t?s.Z_FINISH:s.Z_NO_FLUSH,p.input="string"==typeof e?o.binstring2buf(e):"[object ArrayBuffer]"===u.call(e)?new Uint8Array(e):e,p.next_in=0,p.avail_in=p.input.length;do{if(0===p.avail_out&&(p.output=new r.Buf8(f),p.next_out=0,p.avail_out=f),(n=i.inflate(p,s.Z_NO_FLUSH))===s.Z_NEED_DICT&&A&&(h="string"==typeof A?o.string2buf(A):"[object ArrayBuffer]"===u.call(A)?new Uint8Array(A):A,n=i.inflateSetDictionary(this.strm,h)),n===s.Z_BUF_ERROR&&!0===g&&(n=s.Z_OK,g=!1),n!==s.Z_STREAM_END&&n!==s.Z_OK)return this.onEnd(n),this.ended=!0,!1;p.next_out&&(0!==p.avail_out&&n!==s.Z_STREAM_END&&(0!==p.avail_in||a!==s.Z_FINISH&&a!==s.Z_SYNC_FLUSH)||("string"===this.options.to?(l=o.utf8border(p.output,p.next_out),c=p.next_out-l,d=o.buf2string(p.output,l),p.next_out=c,p.avail_out=f-c,c&&r.arraySet(p.output,p.output,l,c,0),this.onData(d)):this.onData(r.shrinkBuf(p.output,p.next_out)))),0===p.avail_in&&0===p.avail_out&&(g=!0)}while((p.avail_in>0||0===p.avail_out)&&n!==s.Z_STREAM_END);return n===s.Z_STREAM_END&&(a=s.Z_FINISH),a===s.Z_FINISH?(n=i.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===s.Z_OK):a!==s.Z_SYNC_FLUSH||(this.onEnd(s.Z_OK),p.avail_out=0,!0)},d.prototype.onData=function(e){this.chunks.push(e)},d.prototype.onEnd=function(e){e===s.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):r.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Inflate=d,n.inflate=h,n.inflateRaw=function(e,t){return(t=t||{}).raw=!0,h(e,t)},n.ungzip=h},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var r={arraySet:function(e,t,n,i,r){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+i),r);else for(var o=0;o<i;o++)e[r+o]=t[n+o]},flattenChunks:function(e){var t,n,i,r,o,s;for(i=0,t=0,n=e.length;t<n;t++)i+=e[t].length;for(s=new Uint8Array(i),r=0,t=0,n=e.length;t<n;t++)s.set(o=e[t],r),r+=o.length;return s}},o={arraySet:function(e,t,n,i,r){for(var o=0;o<i;o++)e[r+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,r)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,o))},n.setTyped(i)},{}],42:[function(e,t,n){"use strict";var i=e("./common"),r=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(c){r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(c){o=!1}for(var s=new i.Buf8(256),a=0;a<256;a++)s[a]=a>=252?6:a>=248?5:a>=240?4:a>=224?3:a>=192?2:1;function l(e,t){if(t<65537&&(e.subarray&&o||!e.subarray&&r))return String.fromCharCode.apply(null,i.shrinkBuf(e,t));for(var n="",s=0;s<t;s++)n+=String.fromCharCode(e[s]);return n}s[254]=s[254]=1,n.string2buf=function(e){var t,n,r,o,s,a=e.length,l=0;for(o=0;o<a;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<a&&56320==(64512&(r=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=new i.Buf8(l),s=0,o=0;s<l;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<a&&56320==(64512&(r=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),n<128?t[s++]=n:n<2048?(t[s++]=192|n>>>6,t[s++]=128|63&n):n<65536?(t[s++]=224|n>>>12,t[s++]=128|n>>>6&63,t[s++]=128|63&n):(t[s++]=240|n>>>18,t[s++]=128|n>>>12&63,t[s++]=128|n>>>6&63,t[s++]=128|63&n);return t},n.buf2binstring=function(e){return l(e,e.length)},n.binstring2buf=function(e){for(var t=new i.Buf8(e.length),n=0,r=t.length;n<r;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,i,r,o,a=t||e.length,c=new Array(2*a);for(i=0,n=0;n<a;)if((r=e[n++])<128)c[i++]=r;else if((o=s[r])>4)c[i++]=65533,n+=o-1;else{for(r&=2===o?31:3===o?15:7;o>1&&n<a;)r=r<<6|63&e[n++],o--;o>1?c[i++]=65533:r<65536?c[i++]=r:(c[i++]=55296|(r-=65536)>>10&1023,c[i++]=56320|1023&r)}return l(c,i)},n.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+s[e[n]]>t?n:t}},{"./common":41}],43:[function(e,t,n){"use strict";t.exports=function(e,t,n,i){for(var r=65535&e|0,o=e>>>16&65535|0,s=0;0!==n;){n-=s=n>2e3?2e3:n;do{o=o+(r=r+t[i++]|0)|0}while(--s);r%=65521,o%=65521}return r|o<<16|0}},{}],44:[function(e,t,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,n){"use strict";var i=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t,n,r){var o=i,s=r+n;e^=-1;for(var a=r;a<s;a++)e=e>>>8^o[255&(e^t[a])];return-1^e}},{}],46:[function(e,t,n){"use strict";var i,r=e("../utils/common"),o=e("./trees"),s=e("./adler32"),a=e("./crc32"),l=e("./messages"),c=-2,u=258,d=262,h=103,p=113,f=666;function A(e,t){return e.msg=l[t],t}function g(e){return(e<<1)-(e>4?9:0)}function m(e){for(var t=e.length;--t>=0;)e[t]=0}function y(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(r.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function v(e,t){o._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,y(e.strm)}function w(e,t){e.pending_buf[e.pending++]=t}function b(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function _(e,t){var n,i,r=e.max_chain_length,o=e.strstart,s=e.prev_length,a=e.nice_match,l=e.strstart>e.w_size-d?e.strstart-(e.w_size-d):0,c=e.window,h=e.w_mask,p=e.prev,f=e.strstart+u,A=c[o+s-1],g=c[o+s];e.prev_length>=e.good_match&&(r>>=2),a>e.lookahead&&(a=e.lookahead);do{if(c[(n=t)+s]===g&&c[n+s-1]===A&&c[n]===c[o]&&c[++n]===c[o+1]){o+=2,n++;do{}while(c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&o<f);if(i=u-(f-o),o=f-u,i>s){if(e.match_start=t,s=i,i>=a)break;A=c[o+s-1],g=c[o+s]}}}while((t=p[t&h])>l&&0!=--r);return s<=e.lookahead?s:e.lookahead}function C(e){var t,n,i,o,l,c,u,h,p,f,A=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=A+(A-d)){r.arraySet(e.window,e.window,A,A,0),e.match_start-=A,e.strstart-=A,e.block_start-=A,t=n=e.hash_size;do{i=e.head[--t],e.head[t]=i>=A?i-A:0}while(--n);t=n=A;do{i=e.prev[--t],e.prev[t]=i>=A?i-A:0}while(--n);o+=A}if(0===e.strm.avail_in)break;if(u=e.window,h=e.strstart+e.lookahead,f=void 0,(f=(c=e.strm).avail_in)>(p=o)&&(f=p),n=0===f?0:(c.avail_in-=f,r.arraySet(u,c.input,c.next_in,f,h),1===c.state.wrap?c.adler=s(c.adler,u,f,h):2===c.state.wrap&&(c.adler=a(c.adler,u,f,h)),c.next_in+=f,c.total_in+=f,f),e.lookahead+=n,e.lookahead+e.insert>=3)for(e.ins_h=e.window[l=e.strstart-e.insert],e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+3-1])&e.hash_mask,e.prev[l&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=l,l++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<d&&0!==e.strm.avail_in)}function E(e,t){for(var n,i;;){if(e.lookahead<d){if(C(e),e.lookahead<d&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-d&&(e.match_length=_(e,n)),e.match_length>=3)if(i=o._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else i=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(v(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(v(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(v(e,!1),0===e.strm.avail_out)?1:2}function S(e,t){for(var n,i,r;;){if(e.lookahead<d){if(C(e),e.lookahead<d&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-d&&(e.match_length=_(e,n),e.match_length<=5&&(1===e.strategy||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-3,i=o._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=r&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,i&&(v(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((i=o._tr_tally(e,0,e.window[e.strstart-1]))&&v(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=o._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(v(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(v(e,!1),0===e.strm.avail_out)?1:2}function T(e,t,n,i,r){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=i,this.func=r}function L(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(1146),this.dyn_dtree=new r.Buf16(122),this.bl_tree=new r.Buf16(78),m(this.dyn_ltree),m(this.dyn_dtree),m(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(16),this.heap=new r.Buf16(573),m(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(573),m(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function x(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:p,e.adler=2===t.wrap?0:1,t.last_flush=0,o._tr_init(t),0):A(e,c)}function I(e){var t,n=x(e);return 0===n&&((t=e.state).window_size=2*t.w_size,m(t.head),t.max_lazy_match=i[t.level].max_lazy,t.good_match=i[t.level].good_length,t.nice_match=i[t.level].nice_length,t.max_chain_length=i[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),n}function B(e,t,n,i,o,s){if(!e)return c;var a=1;if(-1===t&&(t=6),i<0?(a=0,i=-i):i>15&&(a=2,i-=16),o<1||o>9||8!==n||i<8||i>15||t<0||t>9||s<0||s>4)return A(e,c);8===i&&(i=9);var l=new L;return e.state=l,l.strm=e,l.wrap=a,l.gzhead=null,l.w_bits=i,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=o+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+3-1)/3),l.window=new r.Buf8(2*l.w_size),l.head=new r.Buf16(l.hash_size),l.prev=new r.Buf16(l.w_size),l.lit_bufsize=1<<o+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new r.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=s,l.method=n,I(e)}i=[new T(0,0,0,0,function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(C(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var i=e.block_start+n;if((0===e.strstart||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,v(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-d&&(v(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(v(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&v(e,!1),1)}),new T(4,4,8,4,E),new T(4,5,16,8,E),new T(4,6,32,32,E),new T(4,4,16,16,S),new T(8,16,32,32,S),new T(8,16,128,128,S),new T(8,32,128,256,S),new T(32,128,258,1024,S),new T(32,258,258,4096,S)],n.deflateInit=function(e,t){return B(e,t,8,15,8,0)},n.deflateInit2=B,n.deflateReset=I,n.deflateResetKeep=x,n.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?c:(e.state.gzhead=t,0):c},n.deflate=function(e,t){var n,r,s,l;if(!e||!e.state||t>5||t<0)return e?A(e,c):c;if(r=e.state,!e.output||!e.input&&0!==e.avail_in||r.status===f&&4!==t)return A(e,0===e.avail_out?-5:c);if(r.strm=e,n=r.last_flush,r.last_flush=t,42===r.status)if(2===r.wrap)e.adler=0,w(r,31),w(r,139),w(r,8),r.gzhead?(w(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),w(r,255&r.gzhead.time),w(r,r.gzhead.time>>8&255),w(r,r.gzhead.time>>16&255),w(r,r.gzhead.time>>24&255),w(r,9===r.level?2:r.strategy>=2||r.level<2?4:0),w(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(w(r,255&r.gzhead.extra.length),w(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=a(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(w(r,0),w(r,0),w(r,0),w(r,0),w(r,0),w(r,9===r.level?2:r.strategy>=2||r.level<2?4:0),w(r,3),r.status=p);else{var d=8+(r.w_bits-8<<4)<<8;d|=(r.strategy>=2||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(d|=32),d+=31-d%31,r.status=p,b(r,d),0!==r.strstart&&(b(r,e.adler>>>16),b(r,65535&e.adler)),e.adler=1}if(69===r.status)if(r.gzhead.extra){for(s=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>s&&(e.adler=a(e.adler,r.pending_buf,r.pending-s,s)),y(e),s=r.pending,r.pending!==r.pending_buf_size));)w(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>s&&(e.adler=a(e.adler,r.pending_buf,r.pending-s,s)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){s=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>s&&(e.adler=a(e.adler,r.pending_buf,r.pending-s,s)),y(e),s=r.pending,r.pending===r.pending_buf_size)){l=1;break}l=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,w(r,l)}while(0!==l);r.gzhead.hcrc&&r.pending>s&&(e.adler=a(e.adler,r.pending_buf,r.pending-s,s)),0===l&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){s=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>s&&(e.adler=a(e.adler,r.pending_buf,r.pending-s,s)),y(e),s=r.pending,r.pending===r.pending_buf_size)){l=1;break}l=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,w(r,l)}while(0!==l);r.gzhead.hcrc&&r.pending>s&&(e.adler=a(e.adler,r.pending_buf,r.pending-s,s)),0===l&&(r.status=h)}else r.status=h;if(r.status===h&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&y(e),r.pending+2<=r.pending_buf_size&&(w(r,255&e.adler),w(r,e.adler>>8&255),e.adler=0,r.status=p)):r.status=p),0!==r.pending){if(y(e),0===e.avail_out)return r.last_flush=-1,0}else if(0===e.avail_in&&g(t)<=g(n)&&4!==t)return A(e,-5);if(r.status===f&&0!==e.avail_in)return A(e,-5);if(0!==e.avail_in||0!==r.lookahead||0!==t&&r.status!==f){var _=2===r.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(C(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(v(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(v(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(v(e,!1),0===e.strm.avail_out)?1:2}(r,t):3===r.strategy?function(e,t){for(var n,i,r,s,a=e.window;;){if(e.lookahead<=u){if(C(e),e.lookahead<=u&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(i=a[r=e.strstart-1])===a[++r]&&i===a[++r]&&i===a[++r]){s=e.strstart+u;do{}while(i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&r<s);e.match_length=u-(s-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=o._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(v(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(v(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(v(e,!1),0===e.strm.avail_out)?1:2}(r,t):i[r.level].func(r,t);if(3!==_&&4!==_||(r.status=f),1===_||3===_)return 0===e.avail_out&&(r.last_flush=-1),0;if(2===_&&(1===t?o._tr_align(r):5!==t&&(o._tr_stored_block(r,0,0,!1),3===t&&(m(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),y(e),0===e.avail_out))return r.last_flush=-1,0}return 4!==t?0:r.wrap<=0?1:(2===r.wrap?(w(r,255&e.adler),w(r,e.adler>>8&255),w(r,e.adler>>16&255),w(r,e.adler>>24&255),w(r,255&e.total_in),w(r,e.total_in>>8&255),w(r,e.total_in>>16&255),w(r,e.total_in>>24&255)):(b(r,e.adler>>>16),b(r,65535&e.adler)),y(e),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?0:1)},n.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&t!==h&&t!==p&&t!==f?A(e,c):(e.state=null,t===p?A(e,-3):0):c},n.deflateSetDictionary=function(e,t){var n,i,o,a,l,u,d,h,p=t.length;if(!e||!e.state)return c;if(2===(a=(n=e.state).wrap)||1===a&&42!==n.status||n.lookahead)return c;for(1===a&&(e.adler=s(e.adler,t,p,0)),n.wrap=0,p>=n.w_size&&(0===a&&(m(n.head),n.strstart=0,n.block_start=0,n.insert=0),h=new r.Buf8(n.w_size),r.arraySet(h,t,p-n.w_size,n.w_size,0),t=h,p=n.w_size),l=e.avail_in,u=e.next_in,d=e.input,e.avail_in=p,e.next_in=0,e.input=t,C(n);n.lookahead>=3;){i=n.strstart,o=n.lookahead-2;do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+3-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++}while(--o);n.strstart=i,n.lookahead=2,C(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=u,e.input=d,e.avail_in=l,n.wrap=a,0},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t,n){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,n){"use strict";t.exports=function(e,t){var n,i,r,o,s,a,l,c,u,d,h,p,f,A,g,m,y,v,w,b,_,C,E,S,T;S=e.input,r=(i=e.next_in)+(e.avail_in-5),T=e.output,s=(o=e.next_out)-(t-e.avail_out),a=o+(e.avail_out-257),l=(n=e.state).dmax,c=n.wsize,u=n.whave,d=n.wnext,h=n.window,p=n.hold,f=n.bits,A=n.lencode,g=n.distcode,m=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;e:do{f<15&&(p+=S[i++]<<f,p+=S[i++]<<(f+=8),f+=8),v=A[p&m];t:for(;;){if(p>>>=w=v>>>24,f-=w,0==(w=v>>>16&255))T[o++]=65535&v;else{if(!(16&w)){if(0==(64&w)){v=A[(65535&v)+(p&(1<<w)-1)];continue t}if(32&w){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}b=65535&v,(w&=15)&&(f<w&&(p+=S[i++]<<f,f+=8),b+=p&(1<<w)-1,p>>>=w,f-=w),f<15&&(p+=S[i++]<<f,p+=S[i++]<<(f+=8),f+=8),v=g[p&y];n:for(;;){if(p>>>=w=v>>>24,f-=w,!(16&(w=v>>>16&255))){if(0==(64&w)){v=g[(65535&v)+(p&(1<<w)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(_=65535&v,f<(w&=15)&&(p+=S[i++]<<f,(f+=8)<w&&(p+=S[i++]<<f,f+=8)),(_+=p&(1<<w)-1)>l){e.msg="invalid distance too far back",n.mode=30;break e}if(p>>>=w,f-=w,_>(w=o-s)){if((w=_-w)>u&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(C=0,E=h,0===d){if(C+=c-w,w<b){b-=w;do{T[o++]=h[C++]}while(--w);C=o-_,E=T}}else if(d<w){if(C+=c+d-w,(w-=d)<b){b-=w;do{T[o++]=h[C++]}while(--w);if(C=0,d<b){b-=w=d;do{T[o++]=h[C++]}while(--w);C=o-_,E=T}}}else if(C+=d-w,w<b){b-=w;do{T[o++]=h[C++]}while(--w);C=o-_,E=T}for(;b>2;)T[o++]=E[C++],T[o++]=E[C++],T[o++]=E[C++],b-=3;b&&(T[o++]=E[C++],b>1&&(T[o++]=E[C++]))}else{C=o-_;do{T[o++]=T[C++],T[o++]=T[C++],T[o++]=T[C++],b-=3}while(b>2);b&&(T[o++]=T[C++],b>1&&(T[o++]=T[C++]))}break}}break}}while(i<r&&o<a);p&=(1<<(f-=(b=f>>3)<<3))-1,e.next_in=i-=b,e.next_out=o,e.avail_in=i<r?r-i+5:5-(i-r),e.avail_out=o<a?a-o+257:257-(o-a),n.hold=p,n.bits=f}},{}],49:[function(e,t,n){"use strict";var i=e("../utils/common"),r=e("./adler32"),o=e("./crc32"),s=e("./inffast"),a=e("./inftrees"),l=-2,c=12,u=30;function d(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function h(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function p(e){var t;return e&&e.state?(e.total_in=e.total_out=(t=e.state).total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new i.Buf32(852),t.distcode=t.distdyn=new i.Buf32(592),t.sane=1,t.back=-1,0):l}function f(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,p(e)):l}function A(e,t){var n,i;return e&&e.state?(t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?l:(null!==(i=e.state).window&&i.wbits!==t&&(i.window=null),i.wrap=n,i.wbits=t,f(e))):l}function g(e,t){var n,i;return e?(i=new h,e.state=i,i.window=null,0!==(n=A(e,t))&&(e.state=null),n):l}var m,y,v=!0;function w(e){if(v){var t;for(m=new i.Buf32(512),y=new i.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(a(1,e.lens,0,288,m,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;a(2,e.lens,0,32,y,0,e.work,{bits:5}),v=!1}e.lencode=m,e.lenbits=9,e.distcode=y,e.distbits=5}function b(e,t,n,r){var o,s=e.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new i.Buf8(s.wsize)),r>=s.wsize?(i.arraySet(s.window,t,n-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):((o=s.wsize-s.wnext)>r&&(o=r),i.arraySet(s.window,t,n-r,o,s.wnext),(r-=o)?(i.arraySet(s.window,t,n-r,r,0),s.wnext=r,s.whave=s.wsize):(s.wnext+=o,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=o))),0}n.inflateReset=f,n.inflateReset2=A,n.inflateResetKeep=p,n.inflateInit=function(e){return g(e,15)},n.inflateInit2=g,n.inflate=function(e,t){var n,h,p,f,A,g,m,y,v,_,C,E,S,T,L,x,I,B,F,N,D,O,R,M,U=0,P=new i.Buf8(4),H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return l;(n=e.state).mode===c&&(n.mode=13),A=e.next_out,p=e.output,f=e.next_in,h=e.input,y=n.hold,v=n.bits,_=g=e.avail_in,C=m=e.avail_out,O=0;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;v<16;){if(0===g)break e;g--,y+=h[f++]<<v,v+=8}if(2&n.wrap&&35615===y){n.check=0,P[0]=255&y,P[1]=y>>>8&255,n.check=o(n.check,P,2,0),y=0,v=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&y)<<8)+(y>>8))%31){e.msg="incorrect header check",n.mode=u;break}if(8!=(15&y)){e.msg="unknown compression method",n.mode=u;break}if(v-=4,D=8+(15&(y>>>=4)),0===n.wbits)n.wbits=D;else if(D>n.wbits){e.msg="invalid window size",n.mode=u;break}n.dmax=1<<D,e.adler=n.check=1,n.mode=512&y?10:c,y=0,v=0;break;case 2:for(;v<16;){if(0===g)break e;g--,y+=h[f++]<<v,v+=8}if(n.flags=y,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=u;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=u;break}n.head&&(n.head.text=y>>8&1),512&n.flags&&(P[0]=255&y,P[1]=y>>>8&255,n.check=o(n.check,P,2,0)),y=0,v=0,n.mode=3;case 3:for(;v<32;){if(0===g)break e;g--,y+=h[f++]<<v,v+=8}n.head&&(n.head.time=y),512&n.flags&&(P[0]=255&y,P[1]=y>>>8&255,P[2]=y>>>16&255,P[3]=y>>>24&255,n.check=o(n.check,P,4,0)),y=0,v=0,n.mode=4;case 4:for(;v<16;){if(0===g)break e;g--,y+=h[f++]<<v,v+=8}n.head&&(n.head.xflags=255&y,n.head.os=y>>8),512&n.flags&&(P[0]=255&y,P[1]=y>>>8&255,n.check=o(n.check,P,2,0)),y=0,v=0,n.mode=5;case 5:if(1024&n.flags){for(;v<16;){if(0===g)break e;g--,y+=h[f++]<<v,v+=8}n.length=y,n.head&&(n.head.extra_len=y),512&n.flags&&(P[0]=255&y,P[1]=y>>>8&255,n.check=o(n.check,P,2,0)),y=0,v=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((E=n.length)>g&&(E=g),E&&(n.head&&(D=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),i.arraySet(n.head.extra,h,f,E,D)),512&n.flags&&(n.check=o(n.check,h,E,f)),g-=E,f+=E,n.length-=E),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===g)break e;E=0;do{D=h[f+E++],n.head&&D&&n.length<65536&&(n.head.name+=String.fromCharCode(D))}while(D&&E<g);if(512&n.flags&&(n.check=o(n.check,h,E,f)),g-=E,f+=E,D)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===g)break e;E=0;do{D=h[f+E++],n.head&&D&&n.length<65536&&(n.head.comment+=String.fromCharCode(D))}while(D&&E<g);if(512&n.flags&&(n.check=o(n.check,h,E,f)),g-=E,f+=E,D)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;v<16;){if(0===g)break e;g--,y+=h[f++]<<v,v+=8}if(y!==(65535&n.check)){e.msg="header crc mismatch",n.mode=u;break}y=0,v=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=c;break;case 10:for(;v<32;){if(0===g)break e;g--,y+=h[f++]<<v,v+=8}e.adler=n.check=d(y),y=0,v=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=A,e.avail_out=m,e.next_in=f,e.avail_in=g,n.hold=y,n.bits=v,2;e.adler=n.check=1,n.mode=c;case c:if(5===t||6===t)break e;case 13:if(n.last){y>>>=7&v,v-=7&v,n.mode=27;break}for(;v<3;){if(0===g)break e;g--,y+=h[f++]<<v,v+=8}switch(n.last=1&y,v-=1,3&(y>>>=1)){case 0:n.mode=14;break;case 1:if(w(n),n.mode=20,6===t){y>>>=2,v-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=u}y>>>=2,v-=2;break;case 14:for(y>>>=7&v,v-=7&v;v<32;){if(0===g)break e;g--,y+=h[f++]<<v,v+=8}if((65535&y)!=(y>>>16^65535)){e.msg="invalid stored block lengths",n.mode=u;break}if(n.length=65535&y,y=0,v=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(E=n.length){if(E>g&&(E=g),E>m&&(E=m),0===E)break e;i.arraySet(p,h,f,E,A),g-=E,f+=E,m-=E,A+=E,n.length-=E;break}n.mode=c;break;case 17:for(;v<14;){if(0===g)break e;g--,y+=h[f++]<<v,v+=8}if(n.nlen=257+(31&y),v-=5,n.ndist=1+(31&(y>>>=5)),v-=5,n.ncode=4+(15&(y>>>=5)),y>>>=4,v-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=u;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;v<3;){if(0===g)break e;g--,y+=h[f++]<<v,v+=8}n.lens[H[n.have++]]=7&y,y>>>=3,v-=3}for(;n.have<19;)n.lens[H[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,O=a(0,n.lens,0,19,n.lencode,0,n.work,R={bits:n.lenbits}),n.lenbits=R.bits,O){e.msg="invalid code lengths set",n.mode=u;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;x=(U=n.lencode[y&(1<<n.lenbits)-1])>>>16&255,I=65535&U,!((L=U>>>24)<=v);){if(0===g)break e;g--,y+=h[f++]<<v,v+=8}if(I<16)y>>>=L,v-=L,n.lens[n.have++]=I;else{if(16===I){for(M=L+2;v<M;){if(0===g)break e;g--,y+=h[f++]<<v,v+=8}if(y>>>=L,v-=L,0===n.have){e.msg="invalid bit length repeat",n.mode=u;break}D=n.lens[n.have-1],E=3+(3&y),y>>>=2,v-=2}else if(17===I){for(M=L+3;v<M;){if(0===g)break e;g--,y+=h[f++]<<v,v+=8}v-=L,D=0,E=3+(7&(y>>>=L)),y>>>=3,v-=3}else{for(M=L+7;v<M;){if(0===g)break e;g--,y+=h[f++]<<v,v+=8}v-=L,D=0,E=11+(127&(y>>>=L)),y>>>=7,v-=7}if(n.have+E>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=u;break}for(;E--;)n.lens[n.have++]=D}}if(n.mode===u)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=u;break}if(n.lenbits=9,O=a(1,n.lens,0,n.nlen,n.lencode,0,n.work,R={bits:n.lenbits}),n.lenbits=R.bits,O){e.msg="invalid literal/lengths set",n.mode=u;break}if(n.distbits=6,n.distcode=n.distdyn,O=a(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,R={bits:n.distbits}),n.distbits=R.bits,O){e.msg="invalid distances set",n.mode=u;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(g>=6&&m>=258){e.next_out=A,e.avail_out=m,e.next_in=f,e.avail_in=g,n.hold=y,n.bits=v,s(e,C),A=e.next_out,p=e.output,m=e.avail_out,f=e.next_in,h=e.input,g=e.avail_in,y=n.hold,v=n.bits,n.mode===c&&(n.back=-1);break}for(n.back=0;x=(U=n.lencode[y&(1<<n.lenbits)-1])>>>16&255,I=65535&U,!((L=U>>>24)<=v);){if(0===g)break e;g--,y+=h[f++]<<v,v+=8}if(x&&0==(240&x)){for(B=L,F=x,N=I;x=(U=n.lencode[N+((y&(1<<B+F)-1)>>B)])>>>16&255,I=65535&U,!(B+(L=U>>>24)<=v);){if(0===g)break e;g--,y+=h[f++]<<v,v+=8}y>>>=B,v-=B,n.back+=B}if(y>>>=L,v-=L,n.back+=L,n.length=I,0===x){n.mode=26;break}if(32&x){n.back=-1,n.mode=c;break}if(64&x){e.msg="invalid literal/length code",n.mode=u;break}n.extra=15&x,n.mode=22;case 22:if(n.extra){for(M=n.extra;v<M;){if(0===g)break e;g--,y+=h[f++]<<v,v+=8}n.length+=y&(1<<n.extra)-1,y>>>=n.extra,v-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;x=(U=n.distcode[y&(1<<n.distbits)-1])>>>16&255,I=65535&U,!((L=U>>>24)<=v);){if(0===g)break e;g--,y+=h[f++]<<v,v+=8}if(0==(240&x)){for(B=L,F=x,N=I;x=(U=n.distcode[N+((y&(1<<B+F)-1)>>B)])>>>16&255,I=65535&U,!(B+(L=U>>>24)<=v);){if(0===g)break e;g--,y+=h[f++]<<v,v+=8}y>>>=B,v-=B,n.back+=B}if(y>>>=L,v-=L,n.back+=L,64&x){e.msg="invalid distance code",n.mode=u;break}n.offset=I,n.extra=15&x,n.mode=24;case 24:if(n.extra){for(M=n.extra;v<M;){if(0===g)break e;g--,y+=h[f++]<<v,v+=8}n.offset+=y&(1<<n.extra)-1,y>>>=n.extra,v-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=u;break}n.mode=25;case 25:if(0===m)break e;if(n.offset>(E=C-m)){if((E=n.offset-E)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=u;break}S=E>n.wnext?n.wsize-(E-=n.wnext):n.wnext-E,E>n.length&&(E=n.length),T=n.window}else T=p,S=A-n.offset,E=n.length;E>m&&(E=m),m-=E,n.length-=E;do{p[A++]=T[S++]}while(--E);0===n.length&&(n.mode=21);break;case 26:if(0===m)break e;p[A++]=n.length,m--,n.mode=21;break;case 27:if(n.wrap){for(;v<32;){if(0===g)break e;g--,y|=h[f++]<<v,v+=8}if(e.total_out+=C-=m,n.total+=C,C&&(e.adler=n.check=n.flags?o(n.check,p,C,A-C):r(n.check,p,C,A-C)),C=m,(n.flags?y:d(y))!==n.check){e.msg="incorrect data check",n.mode=u;break}y=0,v=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;v<32;){if(0===g)break e;g--,y+=h[f++]<<v,v+=8}if(y!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=u;break}y=0,v=0}n.mode=29;case 29:O=1;break e;case u:O=-3;break e;case 31:return-4;case 32:default:return l}return e.next_out=A,e.avail_out=m,e.next_in=f,e.avail_in=g,n.hold=y,n.bits=v,(n.wsize||C!==e.avail_out&&n.mode<u&&(n.mode<27||4!==t))&&b(e,e.output,e.next_out,C-e.avail_out)?(n.mode=31,-4):(C-=e.avail_out,e.total_in+=_-=e.avail_in,e.total_out+=C,n.total+=C,n.wrap&&C&&(e.adler=n.check=n.flags?o(n.check,p,C,e.next_out-C):r(n.check,p,C,e.next_out-C)),e.data_type=n.bits+(n.last?64:0)+(n.mode===c?128:0)+(20===n.mode||15===n.mode?256:0),(0===_&&0===C||4===t)&&0===O&&(O=-5),O)},n.inflateEnd=function(e){if(!e||!e.state)return l;var t=e.state;return t.window&&(t.window=null),e.state=null,0},n.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?l:(n.head=t,t.done=!1,0):l},n.inflateSetDictionary=function(e,t){var n,i=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?l:11===n.mode&&r(1,t,i,0)!==n.check?-3:b(e,t,i,i)?(n.mode=31,-4):(n.havedict=1,0):l},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t,n){"use strict";var i=e("../utils/common"),r=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],a=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,n,l,c,u,d,h){var p,f,A,g,m,y,v,w,b,_=h.bits,C=0,E=0,S=0,T=0,L=0,x=0,I=0,B=0,F=0,N=0,D=null,O=0,R=new i.Buf16(16),M=new i.Buf16(16),U=null,P=0;for(C=0;C<=15;C++)R[C]=0;for(E=0;E<l;E++)R[t[n+E]]++;for(L=_,T=15;T>=1&&0===R[T];T--);if(L>T&&(L=T),0===T)return c[u++]=20971520,c[u++]=20971520,h.bits=1,0;for(S=1;S<T&&0===R[S];S++);for(L<S&&(L=S),B=1,C=1;C<=15;C++)if(B<<=1,(B-=R[C])<0)return-1;if(B>0&&(0===e||1!==T))return-1;for(M[1]=0,C=1;C<15;C++)M[C+1]=M[C]+R[C];for(E=0;E<l;E++)0!==t[n+E]&&(d[M[t[n+E]]++]=E);if(0===e?(D=U=d,y=19):1===e?(D=r,O-=257,U=o,P-=257,y=256):(D=s,U=a,y=-1),N=0,E=0,C=S,m=u,x=L,I=0,A=-1,g=(F=1<<L)-1,1===e&&F>852||2===e&&F>592)return 1;for(;;){v=C-I,d[E]<y?(w=0,b=d[E]):d[E]>y?(w=U[P+d[E]],b=D[O+d[E]]):(w=96,b=0),p=1<<C-I,S=f=1<<x;do{c[m+(N>>I)+(f-=p)]=v<<24|w<<16|b|0}while(0!==f);for(p=1<<C-1;N&p;)p>>=1;if(0!==p?(N&=p-1,N+=p):N=0,E++,0==--R[C]){if(C===T)break;C=t[n+d[E]]}if(C>L&&(N&g)!==A){for(0===I&&(I=L),m+=S,B=1<<(x=C-I);x+I<T&&!((B-=R[x+I])<=0);)x++,B<<=1;if(F+=1<<x,1===e&&F>852||2===e&&F>592)return 1;c[A=N&g]=L<<24|x<<16|m-u|0}}return 0!==N&&(c[m+N]=C-I<<24|64<<16|0),h.bits=L,0}},{"../utils/common":41}],51:[function(e,t,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,t,n){"use strict";var i=e("../utils/common");function r(e){for(var t=e.length;--t>=0;)e[t]=0}var o=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],s=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],l=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],c=new Array(576);r(c);var u=new Array(60);r(u);var d=new Array(512);r(d);var h=new Array(256);r(h);var p=new Array(29);r(p);var f,A,g,m=new Array(30);function y(e,t,n,i,r){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=e&&e.length}function v(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function w(e){return e<256?d[e]:d[256+(e>>>7)]}function b(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function _(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,b(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function C(e,t,n){_(e,n[2*t],n[2*t+1])}function E(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function S(e,t,n){var i,r,o=new Array(16),s=0;for(i=1;i<=15;i++)o[i]=s=s+n[i-1]<<1;for(r=0;r<=t;r++){var a=e[2*r+1];0!==a&&(e[2*r]=E(o[a]++,a))}}function T(e){var t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function L(e){e.bi_valid>8?b(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function x(e,t,n,i){var r=2*t,o=2*n;return e[r]<e[o]||e[r]===e[o]&&i[t]<=i[n]}function I(e,t,n){for(var i=e.heap[n],r=n<<1;r<=e.heap_len&&(r<e.heap_len&&x(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!x(t,i,e.heap[r],e.depth));)e.heap[n]=e.heap[r],n=r,r<<=1;e.heap[n]=i}function B(e,t,n){var i,r,a,l,c=0;if(0!==e.last_lit)do{i=e.pending_buf[e.d_buf+2*c]<<8|e.pending_buf[e.d_buf+2*c+1],r=e.pending_buf[e.l_buf+c],c++,0===i?C(e,r,t):(C(e,(a=h[r])+256+1,t),0!==(l=o[a])&&_(e,r-=p[a],l),C(e,a=w(--i),n),0!==(l=s[a])&&_(e,i-=m[a],l))}while(c<e.last_lit);C(e,256,t)}function F(e,t){var n,i,r,o=t.dyn_tree,s=t.stat_desc.static_tree,a=t.stat_desc.has_stree,l=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<l;n++)0!==o[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)o[2*(r=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[r]=0,e.opt_len--,a&&(e.static_len-=s[2*r+1]);for(t.max_code=c,n=e.heap_len>>1;n>=1;n--)I(e,o,n);r=l;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],I(e,o,1),i=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=i,o[2*r]=o[2*n]+o[2*i],e.depth[r]=(e.depth[n]>=e.depth[i]?e.depth[n]:e.depth[i])+1,o[2*n+1]=o[2*i+1]=r,e.heap[1]=r++,I(e,o,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,i,r,o,s,a,l=t.dyn_tree,c=t.max_code,u=t.stat_desc.static_tree,d=t.stat_desc.has_stree,h=t.stat_desc.extra_bits,p=t.stat_desc.extra_base,f=t.stat_desc.max_length,A=0;for(o=0;o<=15;o++)e.bl_count[o]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<573;n++)(o=l[2*l[2*(i=e.heap[n])+1]+1]+1)>f&&(o=f,A++),l[2*i+1]=o,i>c||(e.bl_count[o]++,s=0,i>=p&&(s=h[i-p]),e.opt_len+=(a=l[2*i])*(o+s),d&&(e.static_len+=a*(u[2*i+1]+s)));if(0!==A){do{for(o=f-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[f]--,A-=2}while(A>0);for(o=f;0!==o;o--)for(i=e.bl_count[o];0!==i;)(r=e.heap[--n])>c||(l[2*r+1]!==o&&(e.opt_len+=(o-l[2*r+1])*l[2*r],l[2*r+1]=o),i--)}}(e,t),S(o,c,e.bl_count)}function N(e,t,n){var i,r,o=-1,s=t[1],a=0,l=7,c=4;for(0===s&&(l=138,c=3),t[2*(n+1)+1]=65535,i=0;i<=n;i++)r=s,s=t[2*(i+1)+1],++a<l&&r===s||(a<c?e.bl_tree[2*r]+=a:0!==r?(r!==o&&e.bl_tree[2*r]++,e.bl_tree[32]++):a<=10?e.bl_tree[34]++:e.bl_tree[36]++,a=0,o=r,0===s?(l=138,c=3):r===s?(l=6,c=3):(l=7,c=4))}function D(e,t,n){var i,r,o=-1,s=t[1],a=0,l=7,c=4;for(0===s&&(l=138,c=3),i=0;i<=n;i++)if(r=s,s=t[2*(i+1)+1],!(++a<l&&r===s)){if(a<c)do{C(e,r,e.bl_tree)}while(0!=--a);else 0!==r?(r!==o&&(C(e,r,e.bl_tree),a--),C(e,16,e.bl_tree),_(e,a-3,2)):a<=10?(C(e,17,e.bl_tree),_(e,a-3,3)):(C(e,18,e.bl_tree),_(e,a-11,7));a=0,o=r,0===s?(l=138,c=3):r===s?(l=6,c=3):(l=7,c=4)}}r(m);var O=!1;function R(e,t,n,r){_(e,0+(r?1:0),3),function(e,t,n,r){L(e),b(e,n),b(e,~n),i.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n)}n._tr_init=function(e){O||(function(){var e,t,n,i,r,l=new Array(16);for(n=0,i=0;i<28;i++)for(p[i]=n,e=0;e<1<<o[i];e++)h[n++]=i;for(h[n-1]=i,r=0,i=0;i<16;i++)for(m[i]=r,e=0;e<1<<s[i];e++)d[r++]=i;for(r>>=7;i<30;i++)for(m[i]=r<<7,e=0;e<1<<s[i]-7;e++)d[256+r++]=i;for(t=0;t<=15;t++)l[t]=0;for(e=0;e<=143;)c[2*e+1]=8,e++,l[8]++;for(;e<=255;)c[2*e+1]=9,e++,l[9]++;for(;e<=279;)c[2*e+1]=7,e++,l[7]++;for(;e<=287;)c[2*e+1]=8,e++,l[8]++;for(S(c,287,l),e=0;e<30;e++)u[2*e+1]=5,u[2*e]=E(e,5);f=new y(c,o,257,286,15),A=new y(u,s,0,30,15),g=new y(new Array(0),a,0,19,7)}(),O=!0),e.l_desc=new v(e.dyn_ltree,f),e.d_desc=new v(e.dyn_dtree,A),e.bl_desc=new v(e.bl_tree,g),e.bi_buf=0,e.bi_valid=0,T(e)},n._tr_stored_block=R,n._tr_flush_block=function(e,t,n,i){var r,o,s=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),F(e,e.l_desc),F(e,e.d_desc),s=function(e){var t;for(N(e,e.dyn_ltree,e.l_desc.max_code),N(e,e.dyn_dtree,e.d_desc.max_code),F(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*l[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),(o=e.static_len+3+7>>>3)<=(r=e.opt_len+3+7>>>3)&&(r=o)):r=o=n+5,n+4<=r&&-1!==t?R(e,t,n,i):4===e.strategy||o===r?(_(e,2+(i?1:0),3),B(e,c,u)):(_(e,4+(i?1:0),3),function(e,t,n,i){var r;for(_(e,t-257,5),_(e,n-1,5),_(e,i-4,4),r=0;r<i;r++)_(e,e.bl_tree[2*l[r]+1],3);D(e,e.dyn_ltree,t-1),D(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),B(e,e.dyn_ltree,e.dyn_dtree)),T(e),i&&L(e)},n._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(h[n]+256+1)]++,e.dyn_dtree[2*w(t)]++),e.last_lit===e.lit_bufsize-1},n._tr_align=function(e){_(e,2,3),C(e,256,c),function(e){16===e.bi_valid?(b(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},{"../utils/common":41}],53:[function(e,t,n){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,n){"use strict";t.exports="function"==typeof setImmediate?setImmediate:function(){var e=[].slice.apply(arguments);e.splice(1,0,0),setTimeout.apply(null,e)}},{}]},{},[10])(10)}),function(e){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],function(t){return e(t,window,document)}):"object"==typeof exports?module.exports=function(t,n){return t||(t=window),n&&n.fn.dataTable||(n=require("datatables.net")(t,n).$),e(n,t,t.document)}:e(jQuery,window,document)}(function(e,t,n,i){"use strict";var r=e.fn.dataTable,o=0,s=0,a=r.ext.buttons;function l(t,n,i){e.fn.animate?t.stop().fadeIn(n,i):(t.css("display","block"),i&&i.call(t))}function c(t,n,i){e.fn.animate?t.stop().fadeOut(n,i):(t.css("display","none"),i&&i.call(t))}var u,d=function(t,n){if(!(this instanceof d))return function(e){return new d(e,t).container()};void 0===n&&(n={}),!0===n&&(n={}),Array.isArray(n)&&(n={buttons:n}),this.c=e.extend(!0,{},d.defaults,n),n.buttons&&(this.c.buttons=n.buttons),this.s={dt:new r.Api(t),buttons:[],listenKeys:"",namespace:"dtb"+o++},this.dom={container:e("<"+this.c.dom.container.tag+"/>").addClass(this.c.dom.container.className)},this._constructor()};e.extend(d.prototype,{action:function(e,t){var n=this._nodeToButton(e);return t===i?n.conf.action:(n.conf.action=t,this)},active:function(t,n){var r=this._nodeToButton(t),o=this.c.dom.button.active,s=e(r.node);return n===i?s.hasClass(o):(s.toggleClass(o,n===i||n),this)},add:function(e,t){var n=this.s.buttons;if("string"==typeof t){for(var r=t.split("-"),o=this.s,s=0,a=r.length-1;s<a;s++)o=o.buttons[1*r[s]];n=o.buttons,t=1*r[r.length-1]}return this._expandButton(n,e,o!==i,t),this._draw(),this},container:function(){return this.dom.container},disable:function(t){var n=this._nodeToButton(t);return e(n.node).addClass(this.c.dom.button.disabled).attr("disabled",!0),this},destroy:function(){e("body").off("keyup."+this.s.namespace);var t,n,i=this.s.buttons.slice();for(t=0,n=i.length;t<n;t++)this.remove(i[t].node);this.dom.container.remove();var r=this.s.dt.settings()[0];for(t=0,n=r.length;t<n;t++)if(r.inst===this){r.splice(t,1);break}return this},enable:function(t,n){if(!1===n)return this.disable(t);var i=this._nodeToButton(t);return e(i.node).removeClass(this.c.dom.button.disabled).removeAttr("disabled"),this},name:function(){return this.c.name},node:function(t){if(!t)return this.dom.container;var n=this._nodeToButton(t);return e(n.node)},processing:function(t,n){var r=this.s.dt,o=this._nodeToButton(t);return n===i?e(o.node).hasClass("processing"):(e(o.node).toggleClass("processing",n),e(r.table().node()).triggerHandler("buttons-processing.dt",[n,r.button(t),r,e(t),o.conf]),this)},remove:function(t){var n=this._nodeToButton(t),i=this._nodeToHost(t),r=this.s.dt;if(n.buttons.length)for(var o=n.buttons.length-1;o>=0;o--)this.remove(n.buttons[o].node);n.conf.destroy&&n.conf.destroy.call(r.button(t),r,e(t),n.conf),this._removeKey(n.conf),e(n.node).remove();var s=e.inArray(n,i);return i.splice(s,1),this},text:function(t,n){var r=this._nodeToButton(t),o=this.c.dom.collection.buttonLiner,s=r.inCollection&&o&&o.tag?o.tag:this.c.dom.buttonLiner.tag,a=this.s.dt,l=e(r.node),c=function(e){return"function"==typeof e?e(a,l,r.conf):e};return n===i?c(r.conf.text):(r.conf.text=n,s?l.children(s).html(c(n)):l.html(c(n)),this)},_constructor:function(){var t=this,i=this.s.dt,r=i.settings()[0],o=this.c.buttons;r._buttons||(r._buttons=[]),r._buttons.push({inst:this,name:this.c.name});for(var s=0,a=o.length;s<a;s++)this.add(o[s]);i.on("destroy",function(e,n){n===r&&t.destroy()}),e("body").on("keyup."+this.s.namespace,function(e){if(!n.activeElement||n.activeElement===n.body){var i=String.fromCharCode(e.keyCode).toLowerCase();-1!==t.s.listenKeys.toLowerCase().indexOf(i)&&t._keypress(i,e)}})},_addKey:function(t){t.key&&(this.s.listenKeys+=e.isPlainObject(t.key)?t.key.key:t.key)},_draw:function(e,t){e||(e=this.dom.container,t=this.s.buttons),e.children().detach();for(var n=0,i=t.length;n<i;n++)e.append(t[n].inserter),e.append(" "),t[n].buttons&&t[n].buttons.length&&this._draw(t[n].collection,t[n].buttons)},_expandButton:function(t,n,r,o){for(var s=this.s.dt,a=Array.isArray(n)?n:[n],l=0,c=a.length;l<c;l++){var u=this._resolveExtends(a[l]);if(u)if(Array.isArray(u))this._expandButton(t,u,r,o);else{var d=this._buildButton(u,r);d&&(o!==i&&null!==o?(t.splice(o,0,d),o++):t.push(d),d.conf.buttons&&(d.collection=e("<"+this.c.dom.collection.tag+"/>"),d.conf._collection=d.collection,this._expandButton(d.buttons,d.conf.buttons,!0,o)),u.init&&u.init.call(s.button(d.node),s,e(d.node),u))}}},_buildButton:function(t,n){var r=this.c.dom.button,o=this.c.dom.buttonLiner,a=this.c.dom.collection,l=this.s.dt,c=function(e){return"function"==typeof e?e(l,p,t):e};if(n&&a.button&&(r=a.button),n&&a.buttonLiner&&(o=a.buttonLiner),t.available&&!t.available(l,t))return!1;var u=function(t,n,i,r){r.action.call(n.button(i),t,n,i,r),e(n.table().node()).triggerHandler("buttons-action.dt",[n.button(i),n,i,r])},d=t.tag||r.tag,h=t.clickBlurs===i||t.clickBlurs,p=e("<"+d+"/>").addClass(r.className).attr("tabindex",this.s.dt.settings()[0].iTabIndex).attr("aria-controls",this.s.dt.table().node().id).on("click.dtb",function(e){e.preventDefault(),!p.hasClass(r.disabled)&&t.action&&u(e,l,p,t),h&&p.trigger("blur")}).on("keyup.dtb",function(e){13===e.keyCode&&!p.hasClass(r.disabled)&&t.action&&u(e,l,p,t)});if("a"===d.toLowerCase()&&p.attr("href","#"),"button"===d.toLowerCase()&&p.attr("type","button"),o.tag){var f=e("<"+o.tag+"/>").html(c(t.text)).addClass(o.className);"a"===o.tag.toLowerCase()&&f.attr("href","#"),p.append(f)}else p.html(c(t.text));!1===t.enabled&&p.addClass(r.disabled),t.className&&p.addClass(t.className),t.titleAttr&&p.attr("title",c(t.titleAttr)),t.attr&&p.attr(t.attr),t.namespace||(t.namespace=".dt-button-"+s++);var A,g=this.c.dom.buttonContainer;return A=g&&g.tag?e("<"+g.tag+"/>").addClass(g.className).append(p):p,this._addKey(t),this.c.buttonCreated&&(A=this.c.buttonCreated(t,A)),{conf:t,node:p.get(0),inserter:A,buttons:[],inCollection:n,collection:null}},_nodeToButton:function(e,t){t||(t=this.s.buttons);for(var n=0,i=t.length;n<i;n++){if(t[n].node===e)return t[n];if(t[n].buttons.length){var r=this._nodeToButton(e,t[n].buttons);if(r)return r}}},_nodeToHost:function(e,t){t||(t=this.s.buttons);for(var n=0,i=t.length;n<i;n++){if(t[n].node===e)return t;if(t[n].buttons.length){var r=this._nodeToHost(e,t[n].buttons);if(r)return r}}},_keypress:function(t,n){if(!n._buttonsHandled){var i=function(i,r){if(i.key)if(i.key===t)n._buttonsHandled=!0,e(r).click();else if(e.isPlainObject(i.key)){if(i.key.key!==t)return;if(i.key.shiftKey&&!n.shiftKey)return;if(i.key.altKey&&!n.altKey)return;if(i.key.ctrlKey&&!n.ctrlKey)return;if(i.key.metaKey&&!n.metaKey)return;n._buttonsHandled=!0,e(r).click()}},r=function(e){for(var t=0,n=e.length;t<n;t++)i(e[t].conf,e[t].node),e[t].buttons.length&&r(e[t].buttons)};r(this.s.buttons)}},_removeKey:function(t){if(t.key){var n=e.isPlainObject(t.key)?t.key.key:t.key,i=this.s.listenKeys.split(""),r=e.inArray(n,i);i.splice(r,1),this.s.listenKeys=i.join("")}},_resolveExtends:function(t){var n,r,o=this.s.dt,s=function(n){for(var r=0;!e.isPlainObject(n)&&!Array.isArray(n);){if(n===i)return;if("function"==typeof n){if(!(n=n(o,t)))return!1}else if("string"==typeof n){if(!a[n])throw"Unknown button type: "+n;n=a[n]}if(++r>30)throw"Buttons: Too many iterations"}return Array.isArray(n)?n:e.extend({},n)};for(t=s(t);t&&t.extend;){if(!a[t.extend])throw"Cannot extend unknown button type: "+t.extend;var l=s(a[t.extend]);if(Array.isArray(l))return l;if(!l)return!1;var c=l.className;t=e.extend({},l,t),c&&t.className!==c&&(t.className=c+" "+t.className);var u=t.postfixButtons;if(u){for(t.buttons||(t.buttons=[]),n=0,r=u.length;n<r;n++)t.buttons.push(u[n]);t.postfixButtons=null}var d=t.prefixButtons;if(d){for(t.buttons||(t.buttons=[]),n=0,r=d.length;n<r;n++)t.buttons.splice(n,0,d[n]);t.prefixButtons=null}t.extend=l.extend}return t},_popover:function(i,r,o){var s=r,a=this.c,u=e.extend({align:"button-left",autoClose:!1,background:!0,backgroundClassName:"dt-button-background",contentClassName:a.dom.collection.className,collectionLayout:"",collectionTitle:"",dropup:!1,fade:400,rightAlignClassName:"dt-button-right",tag:a.dom.collection.tag},o),h=r.node(),p=function(){c(e(".dt-button-collection"),u.fade,function(){e(this).detach()}),e(s.buttons('[aria-haspopup="true"][aria-expanded="true"]').nodes()).attr("aria-expanded","false"),e("div.dt-button-background").off("click.dtb-collection"),d.background(!1,u.backgroundClassName,u.fade,h),e("body").off(".dtb-collection"),s.off("buttons-action.b-internal")};!1===i&&p();var f=e(s.buttons('[aria-haspopup="true"][aria-expanded="true"]').nodes());f.length&&(h=f.eq(0),p());var A=e("<div/>").addClass("dt-button-collection").addClass(u.collectionLayout).css("display","none");i=e(i).addClass(u.contentClassName).attr("role","menu").appendTo(A),h.attr("aria-expanded","true"),h.parents("body")[0]!==n.body&&(h=n.body.lastChild),u.collectionTitle&&A.prepend('<div class="dt-button-collection-title">'+u.collectionTitle+"</div>"),l(A.insertAfter(h),u.fade);var g=e(r.table().container()),m=A.css("position");if("dt-container"===u.align&&(h=h.parent(),A.css("width",g.width())),"absolute"===m&&(A.hasClass(u.rightAlignClassName)||A.hasClass(u.leftAlignClassName)||"dt-container"===u.align)){var y=h.position();A.css({top:y.top+h.outerHeight(),left:y.left});var v=A.outerHeight(),w=g.offset().top+g.height(),b=(R=y.top+h.outerHeight()+v)-w,_=y.top-v,C=g.offset().top,E=y.top-v-5;(b>C-_||u.dropup)&&-E<C&&A.css("top",E);var S,T,L=g.offset().left,x=L+g.width(),I=(D=A.offset().left)+A.width(),B=(N=h.offset().left)+h.outerWidth(),F=0;A.hasClass(u.rightAlignClassName)?L>D+(F=B-I)&&(F+=(S=L-(D+F))>(T=x-(I+F))?T:S):x<I+(F=L-D)&&(F+=(S=L-(D+F))>(T=x-(I+F))?T:S),A.css("left",A.position().left+F)}else if("absolute"===m){y=h.position(),A.css({top:y.top+h.outerHeight(),left:y.left}),v=A.outerHeight();var N,D,O=h.offset().top,R=(F=0,B=(N=h.offset().left)+h.outerWidth(),I=(D=A.offset().left)+i.width(),E=y.top-v-5,w=g.offset().top+g.height(),y.top+h.outerHeight()+v);_=y.top-v,((b=R-w)>(C=g.offset().top)-_||u.dropup)&&-E<C&&A.css("top",E),F="button-right"===u.align?B-I:N-D,A.css("left",A.position().left+F)}else(O=A.height()/2)>e(t).height()/2&&(O=e(t).height()/2),A.css("marginTop",-1*O);u.background&&d.background(!0,u.backgroundClassName,u.fade,h),e("div.dt-button-background").on("click.dtb-collection",function(){}),e("body").on("click.dtb-collection",function(t){var n=e.fn.addBack?"addBack":"andSelf",r=e(t.target).parent()[0];(!e(t.target).parents()[n]().filter(i).length&&!e(r).hasClass("dt-buttons")||e(t.target).hasClass("dt-button-background"))&&p()}).on("keyup.dtb-collection",function(e){27===e.keyCode&&p()}),u.autoClose&&setTimeout(function(){s.on("buttons-action.b-internal",function(e,t,n,i){i[0]!==h[0]&&p()})},0),e(A).trigger("buttons-popover.dt")}}),d.background=function(t,r,o,s){o===i&&(o=400),s||(s=n.body),t?l(e("<div/>").addClass(r).css("display","none").insertAfter(s),o):c(e("div."+r),o,function(){e(this).removeClass(r).remove()})},d.instanceSelector=function(t,n){if(t===i||null===t)return e.map(n,function(e){return e.inst});var r=[],o=e.map(n,function(e){return e.name}),s=function(t){if(Array.isArray(t))for(var i=0,a=t.length;i<a;i++)s(t[i]);else if("string"==typeof t)if(-1!==t.indexOf(","))s(t.split(","));else{var l=e.inArray(t.trim(),o);-1!==l&&r.push(n[l].inst)}else"number"==typeof t&&r.push(n[t].inst)};return s(t),r},d.buttonSelector=function(t,n){for(var r=[],o=function(e,t,n){for(var r,s,a=0,l=t.length;a<l;a++)(r=t[a])&&(e.push({node:r.node,name:r.conf.name,idx:s=n!==i?n+a:a+""}),r.buttons&&o(e,r.buttons,s+"-"))},s=function(t,n){var a,l,c=[];o(c,n.s.buttons);var u=e.map(c,function(e){return e.node});if(Array.isArray(t)||t instanceof e)for(a=0,l=t.length;a<l;a++)s(t[a],n);else if(null===t||t===i||"*"===t)for(a=0,l=c.length;a<l;a++)r.push({inst:n,node:c[a].node});else if("number"==typeof t)r.push({inst:n,node:n.s.buttons[t].node});else if("string"==typeof t)if(-1!==t.indexOf(",")){var d=t.split(",");for(a=0,l=d.length;a<l;a++)s(d[a].trim(),n)}else if(t.match(/^\d+(\-\d+)*$/)){var h=e.map(c,function(e){return e.idx});r.push({inst:n,node:c[e.inArray(t,h)].node})}else if(-1!==t.indexOf(":name")){var p=t.replace(":name","");for(a=0,l=c.length;a<l;a++)c[a].name===p&&r.push({inst:n,node:c[a].node})}else e(u).filter(t).each(function(){r.push({inst:n,node:this})});else if("object"==typeof t&&t.nodeName){var f=e.inArray(t,u);-1!==f&&r.push({inst:n,node:u[f]})}},a=0,l=t.length;a<l;a++)s(n,t[a]);return r},d.defaults={buttons:["copy","excel","csv","pdf","print"],name:"main",tabIndex:0,dom:{container:{tag:"div",className:"dt-buttons"},collection:{tag:"div",className:""},button:{tag:"ActiveXObject"in t?"a":"button",className:"dt-button",active:"active",disabled:"disabled"},buttonLiner:{tag:"span",className:""}}},d.version="1.6.5",e.extend(a,{collection:{text:function(e){return e.i18n("buttons.collection","Collection")},className:"buttons-collection",init:function(e,t,n){t.attr("aria-expanded",!1)},action:function(e,t,n,i){e.stopPropagation(),i._collection.parents("body").length?this.popover(!1,i):this.popover(i._collection,i)},attr:{"aria-haspopup":!0}},copy:function(e,t){return a.copyHtml5?"copyHtml5":a.copyFlash&&a.copyFlash.available(e,t)?"copyFlash":void 0},csv:function(e,t){return a.csvHtml5&&a.csvHtml5.available(e,t)?"csvHtml5":a.csvFlash&&a.csvFlash.available(e,t)?"csvFlash":void 0},excel:function(e,t){return a.excelHtml5&&a.excelHtml5.available(e,t)?"excelHtml5":a.excelFlash&&a.excelFlash.available(e,t)?"excelFlash":void 0},pdf:function(e,t){return a.pdfHtml5&&a.pdfHtml5.available(e,t)?"pdfHtml5":a.pdfFlash&&a.pdfFlash.available(e,t)?"pdfFlash":void 0},pageLength:function(t){var n=t.settings()[0].aLengthMenu,i=Array.isArray(n[0])?n[0]:n,r=Array.isArray(n[0])?n[1]:n;return{extend:"collection",text:function(e){return e.i18n("buttons.pageLength",{"-1":"Show all rows",_:"Show %d rows"},e.page.len())},className:"buttons-page-length",autoClose:!0,buttons:e.map(i,function(e,t){return{text:r[t],className:"button-page-length",action:function(t,n){n.page.len(e).draw()},init:function(t,n,i){var r=this,o=function(){r.active(t.page.len()===e)};t.on("length.dt"+i.namespace,o),o()},destroy:function(e,t,n){e.off("length.dt"+n.namespace)}}}),init:function(e,t,n){var i=this;e.on("length.dt"+n.namespace,function(){i.text(n.text)})},destroy:function(e,t,n){e.off("length.dt"+n.namespace)}}}}),r.Api.register("buttons()",function(e,t){t===i&&(t=e,e=i),this.selector.buttonGroup=e;var n=this.iterator(!0,"table",function(n){if(n._buttons)return d.buttonSelector(d.instanceSelector(e,n._buttons),t)},!0);return n._groupSelector=e,n}),r.Api.register("button()",function(e,t){var n=this.buttons(e,t);return n.length>1&&n.splice(1,n.length),n}),r.Api.registerPlural("buttons().active()","button().active()",function(e){return e===i?this.map(function(e){return e.inst.active(e.node)}):this.each(function(t){t.inst.active(t.node,e)})}),r.Api.registerPlural("buttons().action()","button().action()",function(e){return e===i?this.map(function(e){return e.inst.action(e.node)}):this.each(function(t){t.inst.action(t.node,e)})}),r.Api.register(["buttons().enable()","button().enable()"],function(e){return this.each(function(t){t.inst.enable(t.node,e)})}),r.Api.register(["buttons().disable()","button().disable()"],function(){return this.each(function(e){e.inst.disable(e.node)})}),r.Api.registerPlural("buttons().nodes()","button().node()",function(){var t=e();return e(this.each(function(e){t=t.add(e.inst.node(e.node))})),t}),r.Api.registerPlural("buttons().processing()","button().processing()",function(e){return e===i?this.map(function(e){return e.inst.processing(e.node)}):this.each(function(t){t.inst.processing(t.node,e)})}),r.Api.registerPlural("buttons().text()","button().text()",function(e){return e===i?this.map(function(e){return e.inst.text(e.node)}):this.each(function(t){t.inst.text(t.node,e)})}),r.Api.registerPlural("buttons().trigger()","button().trigger()",function(){return this.each(function(e){e.inst.node(e.node).trigger("click")})}),r.Api.register("button().popover()",function(e,t){return this.map(function(n){return n.inst._popover(e,this.button(this[0].node),t)})}),r.Api.register("buttons().containers()",function(){var t=e(),n=this._groupSelector;return this.iterator(!0,"table",function(e){if(e._buttons)for(var i=d.instanceSelector(n,e._buttons),r=0,o=i.length;r<o;r++)t=t.add(i[r].container())}),t}),r.Api.register("buttons().container()",function(){return this.containers().eq(0)}),r.Api.register("button().add()",function(e,t){var n=this.context;if(n.length){var i=d.instanceSelector(this._groupSelector,n[0]._buttons);i.length&&i[0].add(t,e)}return this.button(this._groupSelector,e)}),r.Api.register("buttons().destroy()",function(){return this.pluck("inst").unique().each(function(e){e.destroy()}),this}),r.Api.registerPlural("buttons().remove()","buttons().remove()",function(){return this.each(function(e){e.inst.remove(e.node)}),this}),r.Api.register("buttons.info()",function(t,n,r){var o=this;return!1===t?(this.off("destroy.btn-info"),c(e("#datatables_buttons_info"),400,function(){e(this).remove()}),clearTimeout(u),u=null,this):(u&&clearTimeout(u),e("#datatables_buttons_info").length&&e("#datatables_buttons_info").remove(),t=t?"<h2>"+t+"</h2>":"",l(e('<div id="datatables_buttons_info" class="dt-button-info"/>').html(t).append(e("<div/>")["string"==typeof n?"html":"append"](n)).css("display","none").appendTo("body")),r!==i&&0!==r&&(u=setTimeout(function(){o.buttons.info(!1)},r)),this.on("destroy.btn-info",function(){o.buttons.info(!1)}),this)}),r.Api.register("buttons.exportData()",function(e){if(this.context.length)return m(new r.Api(this.context[0]),e)}),r.Api.register("buttons.exportInfo()",function(e){return e||(e={}),{filename:h(e),title:f(e),messageTop:A(this,e.message||e.messageTop,"top"),messageBottom:A(this,e.messageBottom,"bottom")}});var h=function(t){var n="*"===t.filename&&"*"!==t.title&&t.title!==i&&null!==t.title&&""!==t.title?t.title:t.filename;if("function"==typeof n&&(n=n()),n===i||null===n)return null;-1!==n.indexOf("*")&&(n=n.replace("*",e("head > title").text()).trim()),n=n.replace(/[^a-zA-Z0-9_\u00A1-\uFFFF\.,\-_ !\(\)]/g,"");var r=p(t.extension);return r||(r=""),n+r},p=function(e){return null===e||e===i?null:"function"==typeof e?e():e},f=function(t){var n=p(t.title);return null===n?null:-1!==n.indexOf("*")?n.replace("*",e("head > title").text()||"Exported data"):n},A=function(t,n,i){var r=p(n);if(null===r)return null;var o=e("caption",t.table().container()).eq(0);return"*"===r?o.css("caption-side")!==i?null:o.length?o.text():"":r},g=e("<textarea/>")[0],m=function(t,n){var r=e.extend(!0,{},{rows:null,columns:"",modifier:{search:"applied",order:"applied"},orthogonal:"display",stripHtml:!0,stripNewlines:!0,decodeEntities:!0,trim:!0,format:{header:function(e){return o(e)},footer:function(e){return o(e)},body:function(e){return o(e)}},customizeData:null},n),o=function(e){return"string"!=typeof e||(e=(e=e.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"")).replace(/<!\-\-.*?\-\->/g,""),r.stripHtml&&(e=e.replace(/<([^>'"]*('[^']*'|"[^"]*")?)*>/g,"")),r.trim&&(e=e.replace(/^\s+|\s+$/g,"")),r.stripNewlines&&(e=e.replace(/\n/g," ")),r.decodeEntities&&(g.innerHTML=e,e=g.value)),e},s=t.columns(r.columns).indexes().map(function(e){var n=t.column(e).header();return r.format.header(n.innerHTML,e,n)}).toArray(),a=t.table().footer()?t.columns(r.columns).indexes().map(function(e){var n=t.column(e).footer();return r.format.footer(n?n.innerHTML:"",e,n)}).toArray():null,l=e.extend({},r.modifier);t.select&&"function"==typeof t.select.info&&l.selected===i&&t.rows(r.rows,e.extend({selected:!0},l)).any()&&e.extend(l,{selected:!0});for(var c=t.rows(r.rows,l).indexes().toArray(),u=t.cells(c,r.columns),d=u.render(r.orthogonal).toArray(),h=u.nodes().toArray(),p=s.length,f=[],A=0,m=0,y=p>0?d.length/p:0;m<y;m++){for(var v=[p],w=0;w<p;w++)v[w]=r.format.body(d[A],m,w,h[A]),A++;f[m]=v}var b={header:s,footer:a,body:f};return r.customizeData&&r.customizeData(b),b};function y(e,t){var n=new r.Api(e),i=t||n.init().buttons||r.defaults.buttons;return new d(n,i).container()}return e.fn.dataTable.Buttons=d,e.fn.DataTable.Buttons=d,e(n).on("init.dt plugin-init.dt",function(e,t){if("dt"===e.namespace){var n=t.oInit.buttons||r.defaults.buttons;n&&!t._buttons&&new d(t,n).container()}}),r.ext.feature.push({fnInit:y,cFeature:"B"}),r.ext.features&&r.ext.features.register("buttons",y),d}),function(e){"function"==typeof define&&define.amd?define(["jquery","datatables.net","datatables.net-buttons"],function(t){return e(t,window,document)}):"object"==typeof exports?module.exports=function(t,n){return t||(t=window),n&&n.fn.dataTable||(n=require("datatables.net")(t,n).$),n.fn.dataTable.Buttons||require("datatables.net-buttons")(t,n),e(n)}:e(jQuery,window,document)}(function(e,t,n,i){"use strict";var r=e.fn.dataTable;return e.extend(r.ext.buttons,{colvis:function(e,t){return{extend:"collection",text:function(e){return e.i18n("buttons.colvis","Column visibility")},className:"buttons-colvis",buttons:[{extend:"columnsToggle",columns:t.columns,columnText:t.columnText}]}},columnsToggle:function(e,t){return e.columns(t.columns).indexes().map(function(e){return{extend:"columnToggle",columns:e,columnText:t.columnText}}).toArray()},columnToggle:function(e,t){return{extend:"columnVisibility",columns:t.columns,columnText:t.columnText}},columnsVisibility:function(e,t){return e.columns(t.columns).indexes().map(function(e){return{extend:"columnVisibility",columns:e,visibility:t.visibility,columnText:t.columnText}}).toArray()},columnVisibility:{columns:i,text:function(e,t,n){return n._columnText(e,n)},className:"buttons-columnVisibility",action:function(e,t,n,r){var o=t.columns(r.columns),s=o.visible();o.visible(r.visibility!==i?r.visibility:!(s.length&&s[0]))},init:function(e,t,n){var i=this;t.attr("data-cv-idx",n.columns),e.on("column-visibility.dt"+n.namespace,function(t,r){r.bDestroying||r.nTable!=e.settings()[0].nTable||i.active(e.column(n.columns).visible())}).on("column-reorder.dt"+n.namespace,function(t,r,o){1===e.columns(n.columns).count()&&(i.text(n._columnText(e,n)),i.active(e.column(n.columns).visible()))}),this.active(e.column(n.columns).visible())},destroy:function(e,t,n){e.off("column-visibility.dt"+n.namespace).off("column-reorder.dt"+n.namespace)},_columnText:function(e,t){var n=e.column(t.columns).index(),i=e.settings()[0].aoColumns[n].sTitle;return i||(i=e.column(n).header().innerHTML),i=i.replace(/\n/g," ").replace(/<br\s*\/?>/gi," ").replace(/<select(.*?)<\/select>/g,"").replace(/<!\-\-.*?\-\->/g,"").replace(/<.*?>/g,"").replace(/^\s+|\s+$/g,""),t.columnText?t.columnText(e,n,i):i}},colvisRestore:{className:"buttons-colvisRestore",text:function(e){return e.i18n("buttons.colvisRestore","Restore visibility")},init:function(e,t,n){n._visOriginal=e.columns().indexes().map(function(t){return e.column(t).visible()}).toArray()},action:function(e,t,n,i){t.columns().every(function(e){var n=t.colReorder&&t.colReorder.transpose?t.colReorder.transpose(e,"toOriginal"):e;this.visible(i._visOriginal[n])})}},colvisGroup:{className:"buttons-colvisGroup",action:function(e,t,n,i){t.columns(i.show).visible(!0,!1),t.columns(i.hide).visible(!1,!1),t.columns.adjust()},show:[],hide:[]}}),r.Buttons}),function(e){"function"==typeof define&&define.amd?define(["jquery","datatables.net","datatables.net-buttons"],function(t){return e(t,window,document)}):"object"==typeof exports?module.exports=function(t,n){return t||(t=window),n&&n.fn.dataTable||(n=require("datatables.net")(t,n).$),n.fn.dataTable.Buttons||require("datatables.net-buttons")(t,n),e(n,t,t.document)}:e(jQuery,window,document)}(function(e,t,n,i){"use strict";var r=e.fn.dataTable,o={version:"1.0.4-TableTools2",clients:{},moviePath:"",nextId:1,$:function(e){return"string"==typeof e&&(e=n.getElementById(e)),e.addClass||(e.hide=function(){this.style.display="none"},e.show=function(){this.style.display=""},e.addClass=function(e){this.removeClass(e),this.className+=" "+e},e.removeClass=function(e){this.className=this.className.replace(new RegExp("\\s*"+e+"\\s*")," ").replace(/^\s+/,"").replace(/\s+$/,"")},e.hasClass=function(e){return!!this.className.match(new RegExp("\\s*"+e+"\\s*"))}),e},setMoviePath:function(e){this.moviePath=e},dispatch:function(e,t,n){var i=this.clients[e];i&&i.receiveEvent(t,n)},log:function(e){console.log("Flash: "+e)},register:function(e,t){this.clients[e]=t},getDOMObjectPosition:function(e){var t={left:0,top:0,width:e.width?e.width:e.offsetWidth,height:e.height?e.height:e.offsetHeight};for(""!==e.style.width&&(t.width=e.style.width.replace("px","")),""!==e.style.height&&(t.height=e.style.height.replace("px",""));e;)t.left+=e.offsetLeft,t.top+=e.offsetTop,e=e.offsetParent;return t},Client:function(e){this.handlers={},this.id=o.nextId++,this.movieId="ZeroClipboard_TableToolsMovie_"+this.id,o.register(this.id,this),e&&this.glue(e)}};o.Client.prototype={id:0,ready:!1,movie:null,clipText:"",fileName:"",action:"copy",handCursorEnabled:!0,cssEffects:!0,handlers:null,sized:!1,sheetName:"",glue:function(e,t){this.domElement=o.$(e);var i=99;this.domElement.style.zIndex&&(i=parseInt(this.domElement.style.zIndex,10)+1);var r=o.getDOMObjectPosition(this.domElement);this.div=n.createElement("div");var s=this.div.style;s.position="absolute",s.left="0px",s.top="0px",s.width=r.width+"px",s.height=r.height+"px",s.zIndex=i,void 0!==t&&""!==t&&(this.div.title=t),0!==r.width&&0!==r.height&&(this.sized=!0),this.domElement&&(this.domElement.appendChild(this.div),this.div.innerHTML=this.getHTML(r.width,r.height).replace(/&/g,"&amp;"))},positionElement:function(){var e=o.getDOMObjectPosition(this.domElement),t=this.div.style;if(t.position="absolute",t.width=e.width+"px",t.height=e.height+"px",0!==e.width&&0!==e.height){this.sized=!0;var n=this.div.childNodes[0];n.width=e.width,n.height=e.height}},getHTML:function(e,t){var n="",i="id="+this.id+"&width="+e+"&height="+t;return navigator.userAgent.match(/MSIE/)?n+='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="'+(location.href.match(/^https/i)?"https://":"http://")+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=10,0,0,0" width="'+e+'" height="'+t+'" id="'+this.movieId+'" align="middle"><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="false" /><param name="movie" value="'+o.moviePath+'" /><param name="loop" value="false" /><param name="menu" value="false" /><param name="quality" value="best" /><param name="bgcolor" value="#ffffff" /><param name="flashvars" value="'+i+'"/><param name="wmode" value="transparent"/></object>':n+='<embed id="'+this.movieId+'" src="'+o.moviePath+'" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="'+e+'" height="'+t+'" name="'+this.movieId+'" align="middle" allowScriptAccess="always" allowFullScreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="'+i+'" wmode="transparent" />',n},hide:function(){this.div&&(this.div.style.left="-2000px")},show:function(){this.reposition()},destroy:function(){var t=this;this.domElement&&this.div&&(e(this.div).remove(),this.domElement=null,this.div=null,e.each(o.clients,function(e,n){n===t&&delete o.clients[e]}))},reposition:function(e){if(e&&(this.domElement=o.$(e),this.domElement||this.hide()),this.domElement&&this.div){var t=o.getDOMObjectPosition(this.domElement),n=this.div.style;n.left=t.left+"px",n.top=t.top+"px"}},clearText:function(){this.clipText="",this.ready&&this.movie.clearText()},appendText:function(e){this.clipText+=e,this.ready&&this.movie.appendText(e)},setText:function(e){this.clipText=e,this.ready&&this.movie.setText(e)},setFileName:function(e){this.fileName=e,this.ready&&this.movie.setFileName(e)},setSheetData:function(e){this.ready&&this.movie.setSheetData(JSON.stringify(e))},setAction:function(e){this.action=e,this.ready&&this.movie.setAction(e)},addEventListener:function(e,t){e=e.toString().toLowerCase().replace(/^on/,""),this.handlers[e]||(this.handlers[e]=[]),this.handlers[e].push(t)},setHandCursor:function(e){this.handCursorEnabled=e,this.ready&&this.movie.setHandCursor(e)},setCSSEffects:function(e){this.cssEffects=!!e},receiveEvent:function(e,i){var r;switch(e=e.toString().toLowerCase().replace(/^on/,"")){case"load":if(this.movie=n.getElementById(this.movieId),!this.movie)return r=this,void setTimeout(function(){r.receiveEvent("load",null)},1);if(!this.ready&&navigator.userAgent.match(/Firefox/)&&navigator.userAgent.match(/Windows/))return r=this,setTimeout(function(){r.receiveEvent("load",null)},100),void(this.ready=!0);this.ready=!0,this.movie.clearText(),this.movie.appendText(this.clipText),this.movie.setFileName(this.fileName),this.movie.setAction(this.action),this.movie.setHandCursor(this.handCursorEnabled);break;case"mouseover":this.domElement&&this.cssEffects&&this.recoverActive&&this.domElement.addClass("active");break;case"mouseout":this.domElement&&this.cssEffects&&(this.recoverActive=!1,this.domElement.hasClass("active")&&(this.domElement.removeClass("active"),this.recoverActive=!0));break;case"mousedown":this.domElement&&this.cssEffects&&this.domElement.addClass("active");break;case"mouseup":this.domElement&&this.cssEffects&&(this.domElement.removeClass("active"),this.recoverActive=!1)}if(this.handlers[e])for(var o=0,s=this.handlers[e].length;o<s;o++){var a=this.handlers[e][o];"function"==typeof a?a(this,i):"object"==typeof a&&2==a.length?a[0][a[1]](this,i):"string"==typeof a&&t[a](this,i)}}},o.hasFlash=function(){try{if(new ActiveXObject("ShockwaveFlash.ShockwaveFlash"))return!0}catch(e){if(navigator.mimeTypes&&navigator.mimeTypes["application/x-shockwave-flash"]!==i&&navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin)return!0}return!1},t.ZeroClipboard_TableTools=o;var s=function(e,t){t.attr("id"),t.parents("html").length?e.glue(t[0],""):setTimeout(function(){s(e,t)},500)},a=function(e,t){var n=t.match(/[\s\S]{1,8192}/g)||[];e.clearText();for(var i=0,r=n.length;i<r;i++)e.appendText(n[i])},l=function(e){return e.newline?e.newline:navigator.userAgent.match(/Windows/)?"\r\n":"\n"},c=function(e,t){for(var n=l(t),r=e.buttons.exportData(t.exportOptions),o=t.fieldBoundary,s=t.fieldSeparator,a=new RegExp(o,"g"),c=t.escapeChar!==i?t.escapeChar:"\\",u=function(e){for(var t="",n=0,i=e.length;n<i;n++)n>0&&(t+=s),t+=o?o+(""+e[n]).replace(a,c+o)+o:e[n];return t},d=t.header?u(r.header)+n:"",h=t.footer&&r.footer?n+u(r.footer):"",p=[],f=0,A=r.body.length;f<A;f++)p.push(u(r.body[f]));return{str:d+p.join(n)+h,rows:p.length}},u={available:function(){return o.hasFlash()},init:function(e,t,n){o.moviePath=r.Buttons.swfPath;var i=new o.Client;i.setHandCursor(!0),i.addEventListener("mouseDown",function(i){n._fromFlash=!0,e.button(t[0]).trigger(),n._fromFlash=!1}),s(i,t),n._flash=i},destroy:function(e,t,n){n._flash.destroy()},fieldSeparator:",",fieldBoundary:'"',exportOptions:{},title:"*",messageTop:"*",messageBottom:"*",filename:"*",extension:".csv",header:!0,footer:!1};function d(e){for(var t="A".charCodeAt(0),n="Z".charCodeAt(0)-t+1,i="";e>=0;)i=String.fromCharCode(e%n+t)+i,e=Math.floor(e/n)-1;return i}function h(t,n,r){var o=t.createElement(n);return r&&(r.attr&&e(o).attr(r.attr),r.children&&e.each(r.children,function(e,t){o.appendChild(t)}),null!==r.text&&r.text!==i&&o.appendChild(t.createTextNode(r.text))),o}function p(e,t){var n,r,o,s=e.header[t].length;e.footer&&e.footer[t].length>s&&(s=e.footer[t].length);for(var a=0,l=e.body.length;a<l;a++){var c=e.body[a][t];if(-1!==(o=null!==c&&c!==i?c.toString():"").indexOf("\n")?((r=o.split("\n")).sort(function(e,t){return t.length-e.length}),n=r[0].length):n=o.length,n>s&&(s=n),s>40)return 52}return(s*=1.3)>6?s:6}var f,A="";function g(t){f===i&&(f=-1===A.serializeToString(e.parseXML(m["xl/worksheets/sheet1.xml"])).indexOf("xmlns:r")),e.each(t,function(n,i){if(e.isPlainObject(i))g(i);else{if(f){var r,o,s=i.childNodes[0],a=[];for(r=s.attributes.length-1;r>=0;r--){var l=s.attributes[r].nodeName,c=s.attributes[r].nodeValue;-1!==l.indexOf(":")&&(a.push({name:l,value:c}),s.removeAttribute(l))}for(r=0,o=a.length;r<o;r++){var u=i.createAttribute(a[r].name.replace(":","_dt_b_namespace_token_"));u.value=a[r].value,s.setAttributeNode(u)}}var d=A.serializeToString(i);f&&(-1===d.indexOf("<?xml")&&(d='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>'+d),d=d.replace(/_dt_b_namespace_token_/g,":")),d=d.replace(/<([^<>]*?) xmlns=""([^<>]*?)>/g,"<$1 $2>"),t[n]=d}})}A=void 0===t.XMLSerializer?new function(){this.serializeToString=function(e){return e.xml}}:new XMLSerializer;var m={"_rels/.rels":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml"/></Relationships>',"xl/_rels/workbook.xml.rels":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/sheet1.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.xml"/></Relationships>',"[Content_Types].xml":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types"><Default Extension="xml" ContentType="application/xml" /><Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml" /><Default Extension="jpeg" ContentType="image/jpeg" /><Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml" /><Override PartName="/xl/worksheets/sheet1.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml" /><Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml" /></Types>',"xl/workbook.xml":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><workbook xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships"><fileVersion appName="xl" lastEdited="5" lowestEdited="5" rupBuild="24816"/><workbookPr showInkAnnotation="0" autoCompressPictures="0"/><bookViews><workbookView xWindow="0" yWindow="0" windowWidth="25600" windowHeight="19020" tabRatio="500"/></bookViews><sheets><sheet name="" sheetId="1" r:id="rId1"/></sheets></workbook>',"xl/worksheets/sheet1.xml":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"><sheetData/><mergeCells count="0"/></worksheet>',"xl/styles.xml":'<?xml version="1.0" encoding="UTF-8"?><styleSheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"><numFmts count="6"><numFmt numFmtId="164" formatCode="#,##0.00_- [$$-45C]"/><numFmt numFmtId="165" formatCode="&quot;Â£&quot;#,##0.00"/><numFmt numFmtId="166" formatCode="[$â¬-2] #,##0.00"/><numFmt numFmtId="167" formatCode="0.0%"/><numFmt numFmtId="168" formatCode="#,##0;(#,##0)"/><numFmt numFmtId="169" formatCode="#,##0.00;(#,##0.00)"/></numFmts><fonts count="5" x14ac:knownFonts="1"><font><sz val="11" /><name val="Calibri" /></font><font><sz val="11" /><name val="Calibri" /><color rgb="FFFFFFFF" /></font><font><sz val="11" /><name val="Calibri" /><b /></font><font><sz val="11" /><name val="Calibri" /><i /></font><font><sz val="11" /><name val="Calibri" /><u /></font></fonts><fills count="6"><fill><patternFill patternType="none" /></fill><fill><patternFill patternType="none" /></fill><fill><patternFill patternType="solid"><fgColor rgb="FFD9D9D9" /><bgColor indexed="64" /></patternFill></fill><fill><patternFill patternType="solid"><fgColor rgb="FFD99795" /><bgColor indexed="64" /></patternFill></fill><fill><patternFill patternType="solid"><fgColor rgb="ffc6efce" /><bgColor indexed="64" /></patternFill></fill><fill><patternFill patternType="solid"><fgColor rgb="ffc6cfef" /><bgColor indexed="64" /></patternFill></fill></fills><borders count="2"><border><left /><right /><top /><bottom /><diagonal /></border><border diagonalUp="false" diagonalDown="false"><left style="thin"><color auto="1" /></left><right style="thin"><color auto="1" /></right><top style="thin"><color auto="1" /></top><bottom style="thin"><color auto="1" /></bottom><diagonal /></border></borders><cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0" /></cellStyleXfs><cellXfs count="61"><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="3" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="3" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="3" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="3" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="3" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment horizontal="left"/></xf><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment horizontal="center"/></xf><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment horizontal="right"/></xf><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment horizontal="fill"/></xf><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment textRotation="90"/></xf><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment wrapText="1"/></xf><xf numFmtId="9"   fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="164" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="165" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="166" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="167" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="168" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="169" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="3" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="4" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/></cellXfs><cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0" /></cellStyles><dxfs count="0" /><tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4" /></styleSheet>'},y=[{match:/^\-?\d+\.\d%$/,style:60,fmt:function(e){return e/100}},{match:/^\-?\d+\.?\d*%$/,style:56,fmt:function(e){return e/100}},{match:/^\-?\$[\d,]+.?\d*$/,style:57},{match:/^\-?Â£[\d,]+.?\d*$/,style:58},{match:/^\-?â¬[\d,]+.?\d*$/,style:59},{match:/^\([\d,]+\)$/,style:61,fmt:function(e){return-1*e.replace(/[\(\)]/g,"")}},{match:/^\([\d,]+\.\d{2}\)$/,style:62,fmt:function(e){return-1*e.replace(/[\(\)]/g,"")}},{match:/^[\d,]+$/,style:63},{match:/^[\d,]+\.\d{2}$/,style:64}];return r.Buttons.swfPath="//cdn.datatables.net/buttons/"+r.Buttons.version+"/swf/flashExport.swf",r.Api.register("buttons.resize()",function(){e.each(o.clients,function(e,t){t.domElement!==i&&t.domElement.parentNode&&t.positionElement()})}),r.ext.buttons.copyFlash=e.extend({},u,{className:"buttons-copy buttons-flash",text:function(e){return e.i18n("buttons.copy","Copy")},action:function(e,t,n,i){if(i._fromFlash){this.processing(!0);var r=i._flash,o=c(t,i),s=t.buttons.exportInfo(i),u=l(i),d=o.str;s.title&&(d=s.title+u+u+d),s.messageTop&&(d=s.messageTop+u+u+d),s.messageBottom&&(d=d+u+u+s.messageBottom),i.customize&&(d=i.customize(d,i,t)),r.setAction("copy"),a(r,d),this.processing(!1),t.buttons.info(t.i18n("buttons.copyTitle","Copy to clipboard"),t.i18n("buttons.copySuccess",{_:"Copied %d rows to clipboard",1:"Copied 1 row to clipboard"},data.rows),3e3)}},fieldSeparator:"\t",fieldBoundary:""}),r.ext.buttons.csvFlash=e.extend({},u,{className:"buttons-csv buttons-flash",text:function(e){return e.i18n("buttons.csv","CSV")},action:function(e,t,n,i){var r=i._flash,o=c(t,i),s=t.buttons.exportInfo(i),l=i.customize?i.customize(o.str,i,t):o.str;r.setAction("csv"),r.setFileName(s.filename),a(r,l)},escapeChar:'"'}),r.ext.buttons.excelFlash=e.extend({},u,{className:"buttons-excel buttons-flash",text:function(e){return e.i18n("buttons.excel","Excel")},action:function(t,n,r,o){this.processing(!0);var s,l,c=o._flash,u=0,f=e.parseXML(m["xl/worksheets/sheet1.xml"]),A=f.getElementsByTagName("sheetData")[0],v={_rels:{".rels":e.parseXML(m["_rels/.rels"])},xl:{_rels:{"workbook.xml.rels":e.parseXML(m["xl/_rels/workbook.xml.rels"])},"workbook.xml":e.parseXML(m["xl/workbook.xml"]),"styles.xml":e.parseXML(m["xl/styles.xml"]),worksheets:{"sheet1.xml":f}},"[Content_Types].xml":e.parseXML(m["[Content_Types].xml"])},w=n.buttons.exportData(o.exportOptions),b=function(e){l=h(f,"row",{attr:{r:s=u+1}});for(var t=0,n=e.length;t<n;t++){var r=d(t)+""+s,a=null;if(null===e[t]||e[t]===i||""===e[t]){if(!0!==o.createEmptyCells)continue;e[t]=""}e[t]="function"==typeof e[t].trim?e[t].trim():e[t];for(var c=0,p=y.length;c<p;c++){var g=y[c];if(e[t].match&&!e[t].match(/^0\d+/)&&e[t].match(g.match)){var m=e[t].replace(/[^\d\.\-]/g,"");g.fmt&&(m=g.fmt(m)),a=h(f,"c",{attr:{r:r,s:g.style},children:[h(f,"v",{text:m})]});break}}if(!a)if("number"==typeof e[t]||e[t].match&&e[t].match(/^-?\d+(\.\d+)?$/)&&!e[t].match(/^0\d+/))a=h(f,"c",{attr:{t:"n",r:r},children:[h(f,"v",{text:e[t]})]});else{var v=e[t].replace?e[t].replace(/[\x00-\x09\x0B\x0C\x0E-\x1F\x7F-\x9F]/g,""):e[t];a=h(f,"c",{attr:{t:"inlineStr",r:r},children:{row:h(f,"is",{children:{row:h(f,"t",{text:v})}})}})}l.appendChild(a)}A.appendChild(l),u++};e("sheets sheet",v.xl["workbook.xml"]).attr("name",function(e){var t="Sheet1";return e.sheetName&&(t=e.sheetName.replace(/[\[\]\*\/\\\?\:]/g,"")),t}(o)),o.customizeData&&o.customizeData(w);var _=function(t,n){var i=e("mergeCells",f);i[0].appendChild(h(f,"mergeCell",{attr:{ref:"A"+t+":"+d(n)+t}})),i.attr("count",i.attr("count")+1),e("row:eq("+(t-1)+") c",f).attr("s","51")},C=n.buttons.exportInfo(o);C.title&&(b([C.title]),_(u,w.header.length-1)),C.messageTop&&(b([C.messageTop]),_(u,w.header.length-1)),o.header&&(b(w.header),e("row:last c",f).attr("s","2"));for(var E=0,S=w.body.length;E<S;E++)b(w.body[E]);o.footer&&w.footer&&(b(w.footer),e("row:last c",f).attr("s","2")),C.messageBottom&&(b([C.messageBottom]),_(u,w.header.length-1));var T=h(f,"cols");e("worksheet",f).prepend(T);for(var L=0,x=w.header.length;L<x;L++)T.appendChild(h(f,"col",{attr:{min:L+1,max:L+1,width:p(w,L),customWidth:1}}));o.customize&&o.customize(v,o,n),g(v),c.setAction("excel"),c.setFileName(C.filename),c.setSheetData(v),a(c,""),this.processing(!1)},extension:".xlsx",createEmptyCells:!1}),r.ext.buttons.pdfFlash=e.extend({},u,{className:"buttons-pdf buttons-flash",text:function(e){return e.i18n("buttons.pdf","PDF")},action:function(e,t,n,i){this.processing(!0);var r=i._flash,o=t.buttons.exportData(i.exportOptions),s=t.buttons.exportInfo(i),l=t.table().node().offsetWidth,c=t.columns(i.columns).indexes().map(function(e){return t.column(e).header().offsetWidth/l});r.setAction("pdf"),r.setFileName(s.filename),a(r,JSON.stringify({title:s.title||"",messageTop:s.messageTop||"",messageBottom:s.messageBottom||"",colWidth:c.toArray(),orientation:i.orientation,size:i.pageSize,header:i.header?o.header:null,footer:i.footer?o.footer:null,body:o.body})),this.processing(!1)},extension:".pdf",orientation:"portrait",pageSize:"A4",newline:"\n"}),r.Buttons}),function(e){"function"==typeof define&&define.amd?define(["jquery","datatables.net","datatables.net-buttons"],function(t){return e(t,window,document)}):"object"==typeof exports?module.exports=function(t,n,i,r){return t||(t=window),n&&n.fn.dataTable||(n=require("datatables.net")(t,n).$),n.fn.dataTable.Buttons||require("datatables.net-buttons")(t,n),e(n,t,t.document,i,r)}:e(jQuery,window,document)}(function(e,t,n,i,r,o){"use strict";var s=e.fn.dataTable;function a(){return i||t.JSZip}function l(){return r||t.pdfMake}s.Buttons.pdfMake=function(e){if(!e)return l();r=e},s.Buttons.jszip=function(e){if(!e)return a();i=e};var c=function(e){if(!(void 0===e||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var t=function(){return e.URL||e.webkitURL||e},n=e.document.createElementNS("http://www.w3.org/1999/xhtml","a"),i="download"in n,r=/constructor/i.test(e.HTMLElement)||e.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent),a=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},l=function(e){setTimeout(function(){"string"==typeof e?t().revokeObjectURL(e):e.remove()},4e4)},c=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e},u=function(u,d,h){h||(u=c(u));var p,f=this,A="application/octet-stream"===u.type,g=function(){!function(e,t,n){for(var i=(t=[].concat(t)).length;i--;){var r=e["on"+t[i]];if("function"==typeof r)try{r.call(e,e)}catch(o){a(o)}}}(f,"writestart progress write writeend".split(" "))};if(f.readyState=f.INIT,i)return p=t().createObjectURL(u),void setTimeout(function(){n.href=p,n.download=d,function(e){var t=new MouseEvent("click");e.dispatchEvent(t)}(n),g(),l(p),f.readyState=f.DONE});!function(){if((s||A&&r)&&e.FileReader){var n=new FileReader;return n.onloadend=function(){var t=s?n.result:n.result.replace(/^data:[^;]*;/,"data:attachment/file;");e.open(t,"_blank")||(e.location.href=t),t=o,f.readyState=f.DONE,g()},n.readAsDataURL(u),void(f.readyState=f.INIT)}p||(p=t().createObjectURL(u)),A?e.location.href=p:e.open(p,"_blank")||(e.location.href=p),f.readyState=f.DONE,g(),l(p)}()},d=u.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,n){return t=t||e.name||"download",n||(e=c(e)),navigator.msSaveOrOpenBlob(e,t)}:(d.abort=function(){},d.readyState=d.INIT=0,d.WRITING=1,d.DONE=2,d.error=d.onwritestart=d.onprogress=d.onwrite=d.onabort=d.onerror=d.onwriteend=null,function(e,t,n){return new u(e,t||e.name||"download",n)})}}("undefined"!=typeof self&&self||void 0!==t&&t||this.content);s.fileSave=c;var u=function(e){var t="Sheet1";return e.sheetName&&(t=e.sheetName.replace(/[\[\]\*\/\\\?\:]/g,"")),t},d=function(e){return e.newline?e.newline:navigator.userAgent.match(/Windows/)?"\r\n":"\n"},h=function(e,t){for(var n=d(t),i=e.buttons.exportData(t.exportOptions),r=t.fieldBoundary,s=t.fieldSeparator,a=new RegExp(r,"g"),l=t.escapeChar!==o?t.escapeChar:"\\",c=function(e){for(var t="",n=0,i=e.length;n<i;n++)n>0&&(t+=s),t+=r?r+(""+e[n]).replace(a,l+r)+r:e[n];return t},u=t.header?c(i.header)+n:"",h=t.footer&&i.footer?n+c(i.footer):"",p=[],f=0,A=i.body.length;f<A;f++)p.push(c(i.body[f]));return{str:u+p.join(n)+h,rows:p.length}},p=function(){if(-1===navigator.userAgent.indexOf("Safari")||-1!==navigator.userAgent.indexOf("Chrome")||-1!==navigator.userAgent.indexOf("Opera"))return!1;var e=navigator.userAgent.match(/AppleWebKit\/(\d+\.\d+)/);return!!(e&&e.length>1&&1*e[1]<603.1)};function f(e){for(var t="A".charCodeAt(0),n="Z".charCodeAt(0)-t+1,i="";e>=0;)i=String.fromCharCode(e%n+t)+i,e=Math.floor(e/n)-1;return i}try{var A,g=new XMLSerializer}catch(_){}function m(n,i){A===o&&(A=-1===g.serializeToString((new t.DOMParser).parseFromString(w["xl/worksheets/sheet1.xml"],"text/xml")).indexOf("xmlns:r")),e.each(i,function(t,i){if(e.isPlainObject(i))m(n.folder(t),i);else{if(A){var r,o,s=i.childNodes[0],a=[];for(r=s.attributes.length-1;r>=0;r--){var l=s.attributes[r].nodeName,c=s.attributes[r].nodeValue;-1!==l.indexOf(":")&&(a.push({name:l,value:c}),s.removeAttribute(l))}for(r=0,o=a.length;r<o;r++){var u=i.createAttribute(a[r].name.replace(":","_dt_b_namespace_token_"));u.value=a[r].value,s.setAttributeNode(u)}}var d=g.serializeToString(i);A&&(-1===d.indexOf("<?xml")&&(d='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>'+d),d=(d=d.replace(/_dt_b_namespace_token_/g,":")).replace(/xmlns:NS[\d]+="" NS[\d]+:/g,"")),d=d.replace(/<([^<>]*?) xmlns=""([^<>]*?)>/g,"<$1 $2>"),n.file(t,d)}})}function y(t,n,i){var r=t.createElement(n);return i&&(i.attr&&e(r).attr(i.attr),i.children&&e.each(i.children,function(e,t){r.appendChild(t)}),null!==i.text&&i.text!==o&&r.appendChild(t.createTextNode(i.text))),r}function v(e,t){var n,i,r,s=e.header[t].length;e.footer&&e.footer[t].length>s&&(s=e.footer[t].length);for(var a=0,l=e.body.length;a<l;a++){var c=e.body[a][t];if(-1!==(r=null!==c&&c!==o?c.toString():"").indexOf("\n")?((i=r.split("\n")).sort(function(e,t){return t.length-e.length}),n=i[0].length):n=r.length,n>s&&(s=n),s>40)return 54}return(s*=1.35)>6?s:6}var w={"_rels/.rels":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml"/></Relationships>',"xl/_rels/workbook.xml.rels":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/sheet1.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.xml"/></Relationships>',"[Content_Types].xml":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types"><Default Extension="xml" ContentType="application/xml" /><Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml" /><Default Extension="jpeg" ContentType="image/jpeg" /><Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml" /><Override PartName="/xl/worksheets/sheet1.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml" /><Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml" /></Types>',"xl/workbook.xml":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><workbook xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships"><fileVersion appName="xl" lastEdited="5" lowestEdited="5" rupBuild="24816"/><workbookPr showInkAnnotation="0" autoCompressPictures="0"/><bookViews><workbookView xWindow="0" yWindow="0" windowWidth="25600" windowHeight="19020" tabRatio="500"/></bookViews><sheets><sheet name="Sheet1" sheetId="1" r:id="rId1"/></sheets><definedNames/></workbook>',"xl/worksheets/sheet1.xml":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"><sheetData/><mergeCells count="0"/></worksheet>',"xl/styles.xml":'<?xml version="1.0" encoding="UTF-8"?><styleSheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"><numFmts count="6"><numFmt numFmtId="164" formatCode="#,##0.00_- [$$-45C]"/><numFmt numFmtId="165" formatCode="&quot;Â£&quot;#,##0.00"/><numFmt numFmtId="166" formatCode="[$â¬-2] #,##0.00"/><numFmt numFmtId="167" formatCode="0.0%"/><numFmt numFmtId="168" formatCode="#,##0;(#,##0)"/><numFmt numFmtId="169" formatCode="#,##0.00;(#,##0.00)"/></numFmts><fonts count="5" x14ac:knownFonts="1"><font><sz val="11" /><name val="Calibri" /></font><font><sz val="11" /><name val="Calibri" /><color rgb="FFFFFFFF" /></font><font><sz val="11" /><name val="Calibri" /><b /></font><font><sz val="11" /><name val="Calibri" /><i /></font><font><sz val="11" /><name val="Calibri" /><u /></font></fonts><fills count="6"><fill><patternFill patternType="none" /></fill><fill><patternFill patternType="none" /></fill><fill><patternFill patternType="solid"><fgColor rgb="FFD9D9D9" /><bgColor indexed="64" /></patternFill></fill><fill><patternFill patternType="solid"><fgColor rgb="FFD99795" /><bgColor indexed="64" /></patternFill></fill><fill><patternFill patternType="solid"><fgColor rgb="ffc6efce" /><bgColor indexed="64" /></patternFill></fill><fill><patternFill patternType="solid"><fgColor rgb="ffc6cfef" /><bgColor indexed="64" /></patternFill></fill></fills><borders count="2"><border><left /><right /><top /><bottom /><diagonal /></border><border diagonalUp="false" diagonalDown="false"><left style="thin"><color auto="1" /></left><right style="thin"><color auto="1" /></right><top style="thin"><color auto="1" /></top><bottom style="thin"><color auto="1" /></bottom><diagonal /></border></borders><cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0" /></cellStyleXfs><cellXfs count="68"><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="3" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="3" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="3" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="3" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="3" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment horizontal="left"/></xf><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment horizontal="center"/></xf><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment horizontal="right"/></xf><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment horizontal="fill"/></xf><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment textRotation="90"/></xf><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment wrapText="1"/></xf><xf numFmtId="9"   fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="164" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="165" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="166" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="167" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="168" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="169" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="3" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="4" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="1" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="2" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="14" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/></cellXfs><cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0" /></cellStyles><dxfs count="0" /><tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4" /></styleSheet>'},b=[{match:/^\-?\d+\.\d%$/,style:60,fmt:function(e){return e/100}},{match:/^\-?\d+\.?\d*%$/,style:56,fmt:function(e){return e/100}},{match:/^\-?\$[\d,]+.?\d*$/,style:57},{match:/^\-?Â£[\d,]+.?\d*$/,style:58},{match:/^\-?â¬[\d,]+.?\d*$/,style:59},{match:/^\-?\d+$/,style:65},{match:/^\-?\d+\.\d{2}$/,style:66},{match:/^\([\d,]+\)$/,style:61,fmt:function(e){return-1*e.replace(/[\(\)]/g,"")}},{match:/^\([\d,]+\.\d{2}\)$/,style:62,fmt:function(e){return-1*e.replace(/[\(\)]/g,"")}},{match:/^\-?[\d,]+$/,style:63},{match:/^\-?[\d,]+\.\d{2}$/,style:64},{match:/^[\d]{4}\-[\d]{2}\-[\d]{2}$/,style:67,fmt:function(e){return Math.round(25569+Date.parse(e)/864e5)}}];return s.ext.buttons.copyHtml5={className:"buttons-copy buttons-html5",text:function(e){return e.i18n("buttons.copy","Copy")},action:function(t,i,r,o){this.processing(!0);var s=this,a=h(i,o),l=i.buttons.exportInfo(o),c=d(o),u=a.str,p=e("<div/>").css({height:1,width:1,overflow:"hidden",position:"fixed",top:0,left:0});l.title&&(u=l.title+c+c+u),l.messageTop&&(u=l.messageTop+c+c+u),l.messageBottom&&(u=u+c+c+l.messageBottom),o.customize&&(u=o.customize(u,o,i));var f=e("<textarea readonly/>").val(u).appendTo(p);if(n.queryCommandSupported("copy")){p.appendTo(i.table().container()),f[0].focus(),f[0].select();try{var A=n.execCommand("copy");if(p.remove(),A)return i.buttons.info(i.i18n("buttons.copyTitle","Copy to clipboard"),i.i18n("buttons.copySuccess",{1:"Copied one row to clipboard",_:"Copied %d rows to clipboard"},a.rows),2e3),void this.processing(!1)}catch(_){}}var g=e("<span>"+i.i18n("buttons.copyKeys","Press <i>ctrl</i> or <i>â</i> + <i>C</i> to copy the table data<br>to your system clipboard.<br><br>To cancel, click this message or press escape.")+"</span>").append(p);i.buttons.info(i.i18n("buttons.copyTitle","Copy to clipboard"),g,0),f[0].focus(),f[0].select();var m=e(g).closest(".dt-button-info"),y=function(){m.off("click.buttons-copy"),e(n).off(".buttons-copy"),i.buttons.info(!1)};m.on("click.buttons-copy",y),e(n).on("keydown.buttons-copy",function(e){27===e.keyCode&&(y(),s.processing(!1))}).on("copy.buttons-copy cut.buttons-copy",function(){y(),s.processing(!1)})},exportOptions:{},fieldSeparator:"\t",fieldBoundary:"",header:!0,footer:!1,title:"*",messageTop:"*",messageBottom:"*"},s.ext.buttons.csvHtml5={bom:!1,className:"buttons-csv buttons-html5",available:function(){return t.FileReader!==o&&t.Blob},text:function(e){return e.i18n("buttons.csv","CSV")},action:function(e,t,i,r){this.processing(!0);var o=h(t,r).str,s=t.buttons.exportInfo(r),a=r.charset;r.customize&&(o=r.customize(o,r,t)),!1!==a?(a||(a=n.characterSet||n.charset),a&&(a=";charset="+a)):a="",r.bom&&(o="\ufeff"+o),c(new Blob([o],{type:"text/csv"+a}),s.filename,!0),this.processing(!1)},filename:"*",extension:".csv",exportOptions:{},fieldSeparator:",",fieldBoundary:'"',escapeChar:'"',charset:null,header:!0,footer:!1},s.ext.buttons.excelHtml5={className:"buttons-excel buttons-html5",available:function(){return t.FileReader!==o&&a()!==o&&!p()&&g},text:function(e){return e.i18n("buttons.excel","Excel")},action:function(t,n,i,r){this.processing(!0);var s,l,d,h,p=this,A=0,g=function(t){return e.parseXML(w[t])},_=g("xl/worksheets/sheet1.xml"),C=_.getElementsByTagName("sheetData")[0],E={_rels:{".rels":g("_rels/.rels")},xl:{_rels:{"workbook.xml.rels":g("xl/_rels/workbook.xml.rels")},"workbook.xml":g("xl/workbook.xml"),"styles.xml":g("xl/styles.xml"),worksheets:{"sheet1.xml":_}},"[Content_Types].xml":g("[Content_Types].xml")},S=n.buttons.exportData(r.exportOptions),T=function(e){h=y(_,"row",{attr:{r:d=A+1}});for(var t=0,n=e.length;t<n;t++){var i=f(t)+""+d,s=null;if(null===e[t]||e[t]===o||""===e[t]){if(!0!==r.createEmptyCells)continue;e[t]=""}var a=e[t];e[t]="function"==typeof e[t].trim?e[t].trim():e[t];for(var l=0,c=b.length;l<c;l++){var u=b[l];if(e[t].match&&!e[t].match(/^0\d+/)&&e[t].match(u.match)){var p=e[t].replace(/[^\d\.\-]/g,"");u.fmt&&(p=u.fmt(p)),s=y(_,"c",{attr:{r:i,s:u.style},children:[y(_,"v",{text:p})]});break}}if(!s)if("number"==typeof e[t]||e[t].match&&e[t].match(/^-?\d+(\.\d+)?$/)&&!e[t].match(/^0\d+/))s=y(_,"c",{attr:{t:"n",r:i},children:[y(_,"v",{text:e[t]})]});else{var g=a.replace?a.replace(/[\x00-\x09\x0B\x0C\x0E-\x1F\x7F-\x9F]/g,""):a;s=y(_,"c",{attr:{t:"inlineStr",r:i},children:{row:y(_,"is",{children:{row:y(_,"t",{text:g,attr:{"xml:space":"preserve"}})}})}})}h.appendChild(s)}C.appendChild(h),A++};r.customizeData&&r.customizeData(S);var L=function(t,n){var i=e("mergeCells",_);i[0].appendChild(y(_,"mergeCell",{attr:{ref:"A"+t+":"+f(n)+t}})),i.attr("count",parseFloat(i.attr("count"))+1),e("row:eq("+(t-1)+") c",_).attr("s","51")},x=n.buttons.exportInfo(r);x.title&&(T([x.title]),L(A,S.header.length-1)),x.messageTop&&(T([x.messageTop]),L(A,S.header.length-1)),r.header&&(T(S.header),e("row:last c",_).attr("s","2")),s=A;for(var I=0,B=S.body.length;I<B;I++)T(S.body[I]);l=A,r.footer&&S.footer&&(T(S.footer),e("row:last c",_).attr("s","2")),x.messageBottom&&(T([x.messageBottom]),L(A,S.header.length-1));var F=y(_,"cols");e("worksheet",_).prepend(F);for(var N=0,D=S.header.length;N<D;N++)F.appendChild(y(_,"col",{attr:{min:N+1,max:N+1,width:v(S,N),customWidth:1}}));var O=E.xl["workbook.xml"];e("sheets sheet",O).attr("name",u(r)),r.autoFilter&&(e("mergeCells",_).before(y(_,"autoFilter",{attr:{ref:"A"+s+":"+f(S.header.length-1)+l}})),e("definedNames",O).append(y(O,"definedName",{attr:{name:"_xlnm._FilterDatabase",localSheetId:"0",hidden:1},text:u(r)+"!$A$"+s+":"+f(S.header.length-1)+l}))),r.customize&&r.customize(E,r,n),0===e("mergeCells",_).children().length&&e("mergeCells",_).remove();var R=new(a()),M={type:"blob",mimeType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};m(R,E),R.generateAsync?R.generateAsync(M).then(function(e){c(e,x.filename),p.processing(!1)}):(c(R.generate(M),x.filename),this.processing(!1))},filename:"*",extension:".xlsx",exportOptions:{},header:!0,footer:!1,title:"*",messageTop:"*",messageBottom:"*",createEmptyCells:!1,autoFilter:!1,sheetName:""},s.ext.buttons.pdfHtml5={className:"buttons-pdf buttons-html5",available:function(){return t.FileReader!==o&&l()},text:function(e){return e.i18n("buttons.pdf","PDF")},action:function(t,n,i,r){this.processing(!0);var s=n.buttons.exportData(r.exportOptions),a=n.buttons.exportInfo(r),c=[];r.header&&c.push(e.map(s.header,function(e){return{text:"string"==typeof e?e:e+"",style:"tableHeader"}}));for(var u=0,d=s.body.length;u<d;u++)c.push(e.map(s.body[u],function(e){return null!==e&&e!==o||(e=""),{text:"string"==typeof e?e:e+"",style:u%2?"tableBodyEven":"tableBodyOdd"}}));r.footer&&s.footer&&c.push(e.map(s.footer,function(e){return{text:"string"==typeof e?e:e+"",style:"tableFooter"}}));var h={pageSize:r.pageSize,pageOrientation:r.orientation,content:[{table:{headerRows:1,body:c},layout:"noBorders"}],styles:{tableHeader:{bold:!0,fontSize:11,color:"white",fillColor:"#2d4154",alignment:"center"},tableBodyEven:{},tableBodyOdd:{fillColor:"#f3f3f3"},tableFooter:{bold:!0,fontSize:11,color:"white",fillColor:"#2d4154"},title:{alignment:"center",fontSize:15},message:{}},defaultStyle:{fontSize:10}};a.messageTop&&h.content.unshift({text:a.messageTop,style:"message",margin:[0,0,0,12]}),a.messageBottom&&h.content.push({text:a.messageBottom,style:"message",margin:[0,0,0,12]}),a.title&&h.content.unshift({text:a.title,style:"title",margin:[0,0,0,12]}),r.customize&&r.customize(h,r,n);var f=l().createPdf(h);"open"!==r.download||p()?f.download(a.filename):f.open(),this.processing(!1)},title:"*",filename:"*",extension:".pdf",exportOptions:{},orientation:"portrait",pageSize:"A4",header:!0,footer:!1,messageTop:"*",messageBottom:"*",customize:null,download:"download"},s.Buttons}),function(e){"function"==typeof define&&define.amd?define(["jquery","datatables.net","datatables.net-buttons"],function(t){return e(t,window,document)}):"object"==typeof exports?module.exports=function(t,n){return t||(t=window),n&&n.fn.dataTable||(n=require("datatables.net")(t,n).$),n.fn.dataTable.Buttons||require("datatables.net-buttons")(t,n),e(n,t,t.document)}:e(jQuery,window,document)}(function(e,t,n,i){"use strict";var r=e.fn.dataTable,o=n.createElement("a"),s=function(e){o.href=e;var t=o.host;return-1===t.indexOf("/")&&0!==o.pathname.indexOf("/")&&(t+="/"),o.protocol+"//"+t+o.pathname+o.search};return r.ext.buttons.print={className:"buttons-print",text:function(e){return e.i18n("buttons.print","Print")},action:function(n,r,o,a){var l=r.buttons.exportData(e.extend({decodeEntities:!1},a.exportOptions)),c=r.buttons.exportInfo(a),u=r.columns(a.exportOptions.columns).flatten().map(function(e){return r.settings()[0].aoColumns[r.column(e).index()].sClass}).toArray(),d=function(e,t){for(var n="<tr>",r=0,o=e.length;r<o;r++)n+="<"+t+" "+(u[r]?'class="'+u[r]+'"':"")+">"+(null===e[r]||e[r]===i?"":e[r])+"</"+t+">";return n+"</tr>"},h='<table class="'+r.table().node().className+'">';a.header&&(h+="<thead>"+d(l.header,"th")+"</thead>"),h+="<tbody>";for(var p=0,f=l.body.length;p<f;p++)h+=d(l.body[p],"td");h+="</tbody>",a.footer&&l.footer&&(h+="<tfoot>"+d(l.footer,"th")+"</tfoot>"),h+="</table>";var A=t.open("","");A.document.close();var g="<title>"+c.title+"</title>";e("style, link").each(function(){var t;g+=("link"===(t=e(this).clone()[0]).nodeName.toLowerCase()&&(t.href=s(t.href)),t.outerHTML)});try{A.document.head.innerHTML=g}catch(n){e(A.document.head).html(g)}A.document.body.innerHTML="<h1>"+c.title+"</h1><div>"+(c.messageTop||"")+"</div>"+h+"<div>"+(c.messageBottom||"")+"</div>",e(A.document.body).addClass("dt-print-view"),e("img",A.document.body).each(function(e,t){t.setAttribute("src",s(t.getAttribute("src")))}),a.customize&&a.customize(A,a,r);var m=function(){a.autoPrint&&(A.print(),A.close())};navigator.userAgent.match(/Trident\/\d.\d/)?m():A.setTimeout(m,1e3)},title:"*",messageTop:"*",messageBottom:"*",exportOptions:{},header:!0,footer:!1,autoPrint:!0,customize:null},r.Buttons}),(WebDataRocksToolbar=function(e,t,n,i,r){this.pivot=t,this.pivotContainer=e,this.width="number"==typeof i||0>i.indexOf("px")&&0>i.indexOf("%")?i+"px":i,this.Labels=r}).prototype.getTabs=function(){var e=[],t=this.Labels;return e.push({title:t.connect,id:"wdr-tab-connect",icon:this.icons.connect,menu:[{title:t.connect_local_csv,id:"wdr-tab-connect-local-csv",handler:this.connectLocalCSVHandler,mobile:!1,icon:this.icons.connect_csv},{title:t.connect_local_json,id:"wdr-tab-connect-local-json",handler:this.connectLocalJSONHandler,mobile:!1,icon:this.icons.connect_json},{title:this.osUtils.isMobile?t.connect_remote_csv_mobile:t.connect_remote_csv,id:"wdr-tab-connect-remote-csv",handler:this.connectRemoteCSV,icon:this.icons.connect_csv},{title:this.osUtils.isMobile?t.connect_remote_json_mobile:t.connect_remote_json,id:"wdr-tab-connect-remote-json",handler:this.connectRemoteJSON,icon:this.icons.connect_json}]}),e.push({title:t.open,id:"wdr-tab-open",icon:this.icons.open,menu:[{title:t.local_report,id:"wdr-tab-open-local-report",handler:this.openLocalReport,mobile:!1,icon:this.icons.open_local},{title:this.osUtils.isMobile?t.remote_report_mobile:t.remote_report,id:"wdr-tab-open-remote-report",handler:this.openRemoteReport,icon:this.icons.open_remote}]}),e.push({title:t.save,id:"wdr-tab-save",handler:this.saveHandler,mobile:!1,icon:this.icons.save}),e.push({title:t.export,id:"wdr-tab-export",mobile:!1,icon:this.icons.export,menu:[{title:t.export_print,id:"wdr-tab-export-print",handler:this.printHandler,icon:this.icons.export_print},{title:t.export_html,id:"wdr-tab-export-html",handler:this.exportHandler,args:"html",icon:this.icons.export_html},{title:t.export_excel,id:"wdr-tab-export-excel",handler:this.exportHandler,args:"excel",icon:this.icons.export_excel},{title:t.export_pdf,id:"wdr-tab-export-pdf",handler:this.exportHandler,args:"pdf",icon:this.icons.export_pdf}]}),e.push({title:t.format,id:"wdr-tab-format",icon:this.icons.format,rightGroup:!0,menu:[{title:this.osUtils.isMobile?t.format_cells_mobile:t.format_cells,id:"wdr-tab-format-cells",handler:this.formatCellsHandler,icon:this.icons.format_number},{title:this.osUtils.isMobile?t.conditional_formatting_mobile:t.conditional_formatting,id:"wdr-tab-format-conditional",handler:this.conditionalFormattingHandler,icon:this.icons.format_conditional}]}),e.push({title:t.options,id:"wdr-tab-options",handler:this.optionsHandler,icon:this.icons.options,rightGroup:!0}),e.push({title:t.fields,id:"wdr-tab-fields",handler:this.fieldsHandler,icon:this.icons.fields,rightGroup:!0}),null!=document.addEventListener&&e.push({title:t.fullscreen,id:"wdr-tab-fullscreen",handler:this.fullscreenHandler,mobile:!1,icon:this.icons.fullscreen,rightGroup:!0}),e},WebDataRocksToolbar.prototype.create=function(){this.popupManager=new WebDataRocksToolbar.PopupManager(this),this.dataProvider=this.getTabs(),this.init()},WebDataRocksToolbar.prototype.applyToolbarLayoutClasses=function(){if(!this.osUtils.isMobile){var e=this,t=function(){if(e.toolbarWrapper){var t=e.toolbarWrapper.getBoundingClientRect().width;e.toolbarWrapper.classList.remove("wdr-layout-500"),e.toolbarWrapper.classList.remove("wdr-layout-360"),e.toolbarWrapper.classList.remove("wdr-layout-300"),500>t&&e.toolbarWrapper.classList.add("wdr-layout-500"),360>t&&e.toolbarWrapper.classList.add("wdr-layout-360"),300>t&&e.toolbarWrapper.classList.add("wdr-layout-300")}};t(),window.addEventListener("resize",t)}},WebDataRocksToolbar.prototype.init=function(){this.container=this.pivotContainer,this.container.style.position=""==this.container.style.position?"relative":this.container.style.position,this.toolbarWrapper=document.createElement("div"),this.toolbarWrapper.id="wdr-toolbar-wrapper",this.toolbarWrapper.style.width=this.width,this.osUtils.isMobile&&this.addClass(this.toolbarWrapper,"wdr-mobile"),this.addClass(this.toolbarWrapper,"wdr-toolbar-ui"),this.toolbarWrapper.style.width=this.width;var e=document.createElement("ul");e.id="wdr-toolbar";var t=document.createElement("div");t.classList.add("wdr-toolbar-group-right"),e.appendChild(t);for(var n=0;n<this.dataProvider.length;n++)if(!this.isDisabled(this.dataProvider[n]))if(this.osUtils.isMobile&&null!=this.dataProvider[n].menu&&1!=this.dataProvider[n].collapse)for(var i=0;i<this.dataProvider[n].menu.length;i++)this.isDisabled(this.dataProvider[n].menu[i])||e.appendChild(this.createTab(this.dataProvider[n].menu[i]));else i=this.dataProvider[n].divider?this.createDivider(this.dataProvider[n]):this.createTab(this.dataProvider[n]),t&&this.dataProvider[n].rightGroup?t.appendChild(i):e.appendChild(i);this.toolbarWrapper.appendChild(e),this.container.insertBefore(this.toolbarWrapper,this.container.firstChild),this.updateLabels(this.Labels),this.applyToolbarLayoutClasses()},WebDataRocksToolbar.prototype.updateLabels=function(e){e=this.Labels=e,this.setText(document.querySelector("#wdr-tab-connect > a > span"),e.connect),this.setText(document.querySelector("#wdr-tab-connect-local-csv > a > span"),e.connect_local_csv),this.setText(document.querySelector("#wdr-tab-connect-local-json > a > span"),e.connect_local_json),this.setText(document.querySelector("#wdr-tab-connect-remote-csv > a > span"),this.osUtils.isMobile?e.connect_remote_csv_mobile:e.connect_remote_csv),this.setText(document.querySelector("#wdr-tab-open > a > span"),e.open),this.setText(document.querySelector("#wdr-tab-open-local-report > a > span"),e.local_report),this.setText(document.querySelector("#wdr-tab-open-remote-report > a > span"),this.osUtils.isMobile?e.remote_report_mobile:e.remote_report),this.setText(document.querySelector("#wdr-tab-save > a > span"),e.save),this.setText(document.querySelector("#wdr-tab-format > a > span"),e.format),this.setText(document.querySelector("#wdr-tab-format-cells > a > span"),this.osUtils.isMobile?e.format_cells_mobile:e.format_cells),this.setText(document.querySelector("#wdr-tab-format-conditional > a > span"),this.osUtils.isMobile?e.conditional_formatting_mobile:e.conditional_formatting),this.setText(document.querySelector("#wdr-tab-options > a > span"),e.options),this.setText(document.querySelector("#wdr-tab-fullscreen > a > span"),e.fullscreen),this.setText(document.querySelector("#wdr-tab-export > a > span"),e.export),this.setText(document.querySelector("#wdr-tab-export-print > a > span"),e.export_print),this.setText(document.querySelector("#wdr-tab-export-html > a > span"),e.export_html),this.setText(document.querySelector("#wdr-tab-export-excel > a > span"),e.export_excel),this.setText(document.querySelector("#wdr-tab-export-pdf > a > span"),e.export_pdf),this.setText(document.querySelector("#wdr-tab-fields > a > span"),e.fields)},WebDataRocksToolbar.prototype.icons={connect:'<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="-305.5 396.5 36 36"><title>menu_connect</title><path fill="#555" d="M-274.5 425.409s-.988.277-1.422.761l-3.536-1.783c.189-.509.258-1.066.07-1.572l3.719-1.76a2.36 2.36 0 0 0 3.317.147 2.341 2.341 0 0 0 .157-3.3 2.335 2.335 0 0 0-4.055 1.582c-.009.122-.008.237.001.358l-3.896 1.884a2.281 2.281 0 0 0-1.359-.451 2.338 2.338 0 0 0-2.177 2.481 2.33 2.33 0 0 0 2.177 2.179c.491 0 .967-.156 1.359-.451l3.921 1.892a2.317 2.317 0 0 0 1.981 2.604 2.316 2.316 0 0 0 2.604-1.981c.171-1.269-1-2.432-2.262-2.603a8.794 8.794 0 0 0-.6-.026v.039zM-301.592 413.883c-.008.105-.908.222.092.326v6.836c0 2.587 5.827 5.455 13.177 5.455h1.081c-1.146-3 .303-6.854 3.299-8.155-1.448.172-2.868.069-4.334.069-7.056.009-12.775-2.093-13.315-4.531z"/><path fill="#555" d="M-288.5 416.217c7.377 0 13-2.097 13-4.683v-6.853c0-2.586-5.647-4.682-13-4.682-7.352 0-13 2.104-13 4.69v6.853c0 2.586 5.648 4.675 13 4.675zm.177-15.268c5.903 0 10.691 1.661 10.691 3.741s-4.796 3.741-10.691 3.741c-5.894 0-10.683-1.67-10.683-3.741 0-2.072 4.79-3.741 10.683-3.741z"/></svg>',connect_csv:'<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36"><path d="M11 24l6 0V27h-6V24z"/><path d="M12.8 22L12.8 22l1.2-2.5L15.1 22h1.9l-2-3.9L16.9 14h-1.8l-1 2.5L12.9 14h-1.8l1.9 3.9L11 22H12.8z"/><path d="M19 19h6v3h-6V19z"/><path d="M19 14h6v3L19 17V14z"/><path d="M19 24h6v3h-6V24z"/><path d="M23 4H7v28h22V11L23 4zM8 31V5h14v7h6v19H8L8 31z"/></svg>',connect_json:'<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36"><path d="M23 4H7v28h22V11L23 4zM8 31V5h14v7h6v19H8L8 31z"/><path d="M19 24c0 0.6-0.4 1-1 1 -0.6 0-1-0.4-1-1v-2c0-0.6 0.4-1 1-1 0.6 0 1 0.4 1 1V24zM21 18v-2c0-0.6-0.4 0-1 0 -0.6 0-1-0.4-1-1 0-0.6 0.4-1 1-1 1.7 0 3 0.3 3 2v2c0 1.1 0.9 2 2 2 0.6 0 1 0.4 1 1 0 0.6-0.4 1-1 1 -1.1 0-2 0.9-2 2v2c0 1.7-1.3 2-3 2 -0.6 0-1-0.4-1-1s0.4-1 1-1c0.6 0 1 0.6 1 0v-2c0-1.2 0.5-2.3 1.4-3C21.5 20.3 21 19.2 21 18zM11 20c1.1 0 2-0.9 2-2v-2c0-1.7 1.3-2 3-2 0.6 0 1 0.4 1 1 0 0.6-0.4 1-1 1 -0.6 0-1-0.6-1 0v2c0 1.2-0.5 2.3-1.4 3 0.8 0.7 1.4 1.8 1.4 3v2c0 0.6 0.4 0 1 0 0.6 0 1 0.4 1 1s-0.4 1-1 1c-1.7 0-3-0.3-3-2v-2c0-1.1-0.9-2-2-2 -0.6 0-1-0.4-1-1C10 20.4 10.4 20 11 20z"/><path d="M18 17c0.6 0 1 0.4 1 1s-0.4 1-1 1 -1-0.4-1-1S17.4 17 18 17z"/></svg>',open:'<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="-305.5 396.5 36 36"><title>menu_open</title><path fill="#555" d="M-279.351 408.5h8.976c.064 0 .126-.067.167-.025.021.052.021.055 0 .107l-2.053 20.701c-.01.117-.104.217-.219.217h-30.102c-.116 0-.21-.104-.221-.22l-1.989-16.009c-.022-.041-.022.124 0 .083.042-.054.115.146.178.146h21.198c.87 0 1.665-.726 2.053-1.499l1.812-3.446a.414.414 0 0 1 .2-.055zm-4.052 2.473c.084-.011.162-.052.194-.126l1.813-3.288c.408-.754 1.196-1.059 2.054-1.059h7.842v-2.637c0-1.102-.83-2.166-1.929-2.25-.053 0-.183-.113-.235-.113h-18.328c-.104 0-.188.006-.241-.09.01-1.1-.858-1.91-1.958-1.91h-6.902c-1.226 0-2.406.864-2.406 2.089v9.426l20.096-.042z"/></svg>',open_local:'<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36"><style>.a{fill:none;}</style><path d="M30.9 10.6C30.8 10.4 30.2 10 30 10h-1V8c0-0.4-0.6-1-1-1H15l-1-2H8C7.6 5 7 5.6 7 6v4H6c-0.2 0-0.8 0.4-0.9 0.6 -0.1 0.1-0.2 0.3-0.1 0.5l2.1 19.5C7.2 30.8 7.7 31 8 31h20c0.3 0 0.8-0.2 0.9-0.5l2.1-19.5C31 10.9 31 10.7 30.9 10.6zM28 30H8L6 11h24L28 30z"/><line x1="11" y1="23" x2="11" y2="23" class="a"/><line x1="25" y1="23" x2="25" y2="23" class="a"/><polygon points="11 15 11 23 17 23 17 25 14 25 14 26 22 26 22 25 19 25 19 23 25 23 25 15 "/></svg>',open_remote:'<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36"><path d="M30.9 10.6C30.8 10.4 30.2 10 30 10h-1V8c0-0.4-0.6-1-1-1H15l-1-2H8C7.6 5 7 5.6 7 6v4H6c-0.2 0-0.8 0.4-0.9 0.6 -0.1 0.1-0.2 0.3-0.1 0.5l2.1 19.5C7.2 30.8 7.7 31 8 31h20c0.3 0 0.8-0.2 0.9-0.5l2.1-19.5C31 10.9 31 10.7 30.9 10.6zM28 30H8L6 11h24L28 30z"/><path d="M24.8 18.1l-0.8 1.5c-0.2 0.2-0.5 0.2-0.8 0 -1.3-1.2-3.2-1.9-5.3-1.9 -2.1 0-4 0.7-5.3 1.9 -0.2 0.2-0.5 0.2-0.8 0l-0.8-1.5c-0.1-0.1-0.2-0.2-0.2-0.3 0-0.1 0.1-0.2 0.2-0.3 1.7-1.5 4.1-2.5 6.8-2.5 2.7 0 5.1 0.9 6.8 2.5 0.1 0 0.2 0.2 0.2 0.3C25 17.9 24.9 18 24.8 18.1zM18 19.6c1.5 0 2.8 0.5 3.8 1.4 0.2 0.2 0.2 0.5 0 0.7l-0.8 1.5c-0.2 0.2-0.5 0.2-0.8 0 -0.6-0.5-1.4-0.8-2.3-0.8 -0.9 0-1.7 0.3-2.3 0.8 -0.2 0.2-0.5 0.2-0.8 0l-0.8-1.5c-0.2-0.2-0.2-0.5 0-0.7C15.2 20.1 16.5 19.6 18 19.6zM18 23.4c0.8 0 1.4 0.6 1.4 1.3 0 0.7-0.6 1.3-1.4 1.3 -0.8 0-1.4-0.6-1.4-1.3C16.6 24 17.2 23.4 18 23.4z"/></svg>',save:'<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="-17.5 774.5 36 36"><title>menu_save</title><g fill="#555"><path d="M15.191 783.284l-5.457-5.467a1.101 1.101 0 0 0-.781-.317h-.835c-.2 0-.618.163-.618.363v8.889c0 .618-.245.748-.853.748H-5.638c-.617 0-.862-.14-.862-.748v-8.889c0-.2-.409-.363-.609-.363h-6.283c-.618 0-1.108.499-1.108 1.107v27.785c0 .617.5 1.107 1.108 1.107h27.784c.618 0 1.108-.499 1.108-1.107v-22.337c0-.29-.109-.562-.309-.771zM8.98 801.463c0 .618-.499 1.037-1.107 1.037H-6.873c-.617 0-.627-.357-.627-.966v-8.626c0-.617.019-1.408.627-1.408H7.882c.618 0 1.108.613 1.108 1.223l-.01 8.74z"/><path d="M-4.167 784.5h9.361c.2 0 .306.228.306.028v-6.665c0-.2-.106-.363-.306-.363h-9.361c-.2 0-.333.163-.333.363v6.665c0 .191.124-.028.333-.028zm5.667-4.294c0-.618.392-1.108 1-1.108.618 0 1 .5 1 1.108v1.97c0 .618-.392 1.108-1 1.108-.618 0-1-.5-1-1.108v-1.97zM4.168 796.5h-7.31c-.617 0-1.108.393-1.108 1s.5 1 1.108 1h7.31c.617 0 1.107-.393 1.107-1s-.498-1-1.107-1z"/></g></svg>',export:'<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="-17.5 774.5 36 36"><title>menu_export</title><g fill="#555"><path d="M15.446 795.615l-4.289-6.461c-.346-.515-.803-.654-1.428-.654H7.788c-.186 0-.346-.029-.363.156-.008.076.017.07.059.137l4.76 7.108c.042.06.034.337-.017.38-.025.025-.067.219-.102.219H6.699c-.194 0-.354-.063-.363.125-.305 3.23-3.174 5.495-6.407 5.192-2.81-.263-5.039-2.329-5.3-5.14-.009-.195-.168-.178-.363-.178h-5.401c-.076 0-.144-.281-.144-.357 0-.025.008-.157.017-.175l4.76-7.203c.102-.16.05-.245-.109-.347-.06-.035-.118.082-.187.082h-1.94c-.616 0-1.199.145-1.553.658l-4.664 6.547c-.203.304-.545.586-.545.95v9.216c1 .911 1.267 1.646 2.187 1.629h27.625c.903.009 1.188-.709 1.188-1.611v-9.233c1-.373.157-.735-.054-1.04z"/><path d="M-3.674 783.5H-2.5v10.2c1 1.4 1.764 2.464 3.165 2.371 1.274-.083 1.835-1.097 2.835-2.371v-10.2h1.207c.346 0 .641-.04.65-.387.008-.151-.042-.193-.144-.311l-4.186-5.11c-.228-.287-.642-.302-.929-.073-.042.034-.076.081-.101.115l-4.135 5.172c-.22.271-.187.447.084.668.11.085.244-.074.38-.074z"/></g></svg>',export_print:'<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="-17.5 774.5 36 36"><title>dd_save_print</title><path fill="#555" d="M-5.5 798.685v3.815h11v-7h-11v3.185zm2-1.185h7v1h-7v-1zm0 2h7v1h-7v-1zM5.5 786.308V782.5h-11v7h11z"/><path fill="#555" d="M8.94 786.5H7.5v4h-14v-4h-1.44c-1.493 0-2.56 1.064-2.56 2.558v6.87c0 1.493 1.067 2.572 2.56 2.572h1.44v-4h14v4h1.44c1.493 0 2.56-1.064 2.56-2.557v-6.878c0-1.501-1.074-2.565-2.56-2.565z"/></svg>',export_excel:'<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36"><path d="M24.4 15h-3.8L18 18.6 15.3 15h-3.8l4.5 5.2L11 27h7.3L18 25h-2l2-3L21.1 27H25l-5.1-6.8L24.4 15z"/><path d="M23 4H7v28h22V11L23 4zM8 31V5h14v7h6v19H8L8 31z"/></svg>',export_html:'<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36"><path d="M25.7 20.8l-2.3-2.5c-0.2-0.2-0.4-0.3-0.6-0.3 -0.2 0-0.4 0.1-0.6 0.3 -0.3 0.4-0.3 1 0 1.4l1.7 1.9 -1.7 1.9c-0.2 0.2-0.3 0.4-0.3 0.7 0 0.3 0.1 0.5 0.3 0.7 0.2 0.2 0.4 0.3 0.6 0.3 0.2 0 0.4-0.1 0.6-0.3l2.3-2.5C26.1 21.8 26.1 21.2 25.7 20.8z"/><path d="M14 24c0-0.3-0.1-0.5-0.3-0.7l-1.7-1.9 1.7-1.9c0.3-0.4 0.3-1 0-1.4 -0.2-0.2-0.4-0.3-0.6-0.3 -0.2 0-0.4 0.1-0.6 0.3l-2.3 2.5c-0.3 0.4-0.3 1 0 1.4l2.3 2.5c0.2 0.2 0.4 0.3 0.6 0.3 0.2 0 0.4-0.1 0.6-0.3C13.9 24.5 14 24.3 14 24z"/><path d="M20.4 15.1c-0.1 0-0.2-0.1-0.3-0.1 -0.4 0-0.8 0.3-0.9 0.6l-4.1 11.1c-0.1 0.2-0.1 0.5 0 0.7 0.1 0.2 0.3 0.4 0.5 0.5C15.7 28 15.8 28 16 28c0.4 0 0.8-0.3 0.9-0.6l4.1-11.1C21.1 15.8 20.9 15.2 20.4 15.1z"/><path d="M23 4H7v28h22V11L23 4zM8 31V5h14v7h6v19H8L8 31z"/></svg>',export_pdf:'<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36"><path d="M17.2 17.1L17.2 17.1C17.3 17.1 17.3 17.1 17.2 17.1c0.1-0.5 0.2-0.7 0.2-1V15.8c0.1-0.6 0.1-1 0-1.1 0 0 0 0 0-0.1l-0.1-0.1 0 0 0 0c0 0 0 0.1-0.1 0.1C16.9 15.2 16.9 16 17.2 17.1L17.2 17.1zM13.8 24.8c-0.2 0.1-0.4 0.2-0.6 0.3 -0.8 0.7-1.3 1.5-1.5 1.8l0 0 0 0 0 0C12.5 26.9 13.1 26.2 13.8 24.8 13.9 24.8 13.9 24.8 13.8 24.8 13.9 24.8 13.8 24.8 13.8 24.8zM24.1 23.1c-0.1-0.1-0.6-0.5-2.1-0.5 -0.1 0-0.1 0-0.2 0l0 0c0 0 0 0 0 0.1 0.8 0.3 1.6 0.6 2.1 0.6 0.1 0 0.1 0 0.2 0l0 0h0.1c0 0 0 0 0-0.1l0 0C24.2 23.3 24.1 23.3 24.1 23.1zM24.6 24c-0.2 0.1-0.6 0.2-1 0.2 -0.9 0-2.2-0.2-3.4-0.8 -1.9 0.2-3.4 0.5-4.5 0.9 -0.1 0-0.1 0-0.2 0.1 -1.3 2.4-2.5 3.5-3.4 3.5 -0.2 0-0.3 0-0.4-0.1l-0.6-0.3v-0.1c-0.1-0.2-0.1-0.3-0.1-0.6 0.1-0.6 0.8-1.6 2.1-2.4 0.2-0.1 0.6-0.3 1-0.6 0.3-0.6 0.7-1.2 1.1-2 0.6-1.1 0.9-2.3 1.2-3.3l0 0c-0.4-1.4-0.7-2.1-0.2-3.7 0.1-0.5 0.4-0.9 0.9-0.9h0.2c0.2 0 0.4 0.1 0.7 0.2 0.8 0.8 0.4 2.6 0 4.1 0 0.1 0 0.1 0 0.1 0.4 1.2 1.1 2.3 1.8 2.9 0.3 0.2 0.6 0.5 1 0.7 0.6 0 1-0.1 1.5-0.1 1.3 0 2.2 0.2 2.6 0.8 0.1 0.2 0.1 0.5 0.1 0.7C24.9 23.5 24.8 23.8 24.6 24zM17.3 19.6c-0.2 0.8-0.7 1.7-1.1 2.7 -0.2 0.5-0.4 0.8-0.7 1.2h0.1 0.1l0 0c1.5-0.6 2.8-0.9 3.7-1 -0.2-0.1-0.3-0.2-0.4-0.3C18.4 21.6 17.7 20.7 17.3 19.6z"/><path d="M23 4H7v28h22V11L23 4zM8 31V5h14v7h6v19H8L8 31z"/></svg>',format:'<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="-17.5 774.5 36 36"><title>menu_format</title><g fill="#555"><path d="M15.144 781.92a7.62 7.62 0 0 0-4.238-4.157 4.634 4.634 0 0 0-1.201-.254.99.99 0 0 0-.906.36l-10.797 10.829c-1.462 1.462-2.916 2.908-4.37 4.378a1.347 1.347 0 0 0-.326.596c-.481 2.197-.939 4.402-1.413 6.607a.639.639 0 0 0 .792.793l6.551-1.381c.253-.049.49-.171.67-.359 5.063-5.08 10.127-10.144 15.19-15.207.237-.229.384-.548.4-.882a8.491 8.491 0 0 0-.352-1.323zm-16.825 16.652l-2.54.531a2.367 2.367 0 0 0-1.911-1.87c.18-.906.384-1.813.571-2.729a2.05 2.05 0 0 1 1.078.229 6.007 6.007 0 0 1 2.671 2.605c.139.318.245.653.311.996 0 .157 0 .157-.18.238z"/><path d="M6.568 804.5H-11.5v-18h7.761l1.83-2.118 1.593-1.882h-12.455c-.947 0-1.729 1.241-1.729 2.18v21.097c0 .947.77 1.724 1.726 1.724H8.283c.947 0 2.217-.769 2.217-1.724v-12.488l-4 3.438v7.773h.068z"/></g></svg>',format_number:'<svg xmlns="http://www.w3.org/2000/svg" width="52" height="36" viewBox="0 0 52 36"><path d="M31 19.2v-3.4l2.5-0.4c0.2-0.7 0.5-1.4 0.9-2.1l-1.4-2 2.4-2.4 2 1.4c0.7-0.4 1.4-0.7 2.1-0.9l0.4-2.5h3.4l0.4 2.5c0.7 0.2 1.4 0.5 2.1 0.9l2-1.4 2.4 2.4 -1.4 2c0.4 0.7 0.7 1.4 0.9 2.1L52 15.8v3.4l-2.5 0.4c-0.2 0.7-0.5 1.4-0.9 2.1l1.4 2 -2.4 2.4 -2-1.5c-0.7 0.4-1.4 0.7-2.1 0.9l-0.4 2.5h-3.4l-0.4-2.5c-0.7-0.2-1.4-0.5-2.1-0.9l-2 1.5 -2.4-2.4 1.4-2c-0.4-0.7-0.7-1.4-0.9-2.1L31 19.2zM41.5 21c1.9 0 3.5-1.6 3.5-3.5 0-1.9-1.6-3.5-3.5-3.5 -1.9 0-3.5 1.6-3.5 3.5C38 19.4 39.6 21 41.5 21z"/><path d="M38 30H1V6h36V5H0v26h38V30L38 30z"/><path d="M9.4 21.1c-0.3 0.3-0.7 0.4-1.2 0.4 -0.5 0-0.9-0.2-1.2-0.5s-0.4-0.8-0.4-1.4H5c0 0.9 0.2 1.7 0.7 2.2 0.5 0.6 1.2 0.9 2 1v1.3h1.1v-1.4c0.8-0.1 1.5-0.4 1.9-0.9 0.5-0.5 0.7-1.1 0.7-1.9 0-0.4-0.1-0.8-0.2-1.1 -0.1-0.3-0.3-0.6-0.5-0.8 -0.2-0.2-0.5-0.4-0.8-0.6 -0.3-0.2-0.8-0.4-1.4-0.6 -0.6-0.2-1-0.4-1.2-0.7s-0.4-0.6-0.4-1c0-0.4 0.1-0.8 0.4-1 0.2-0.2 0.6-0.4 1-0.4 0.4 0 0.8 0.2 1 0.5 0.3 0.3 0.4 0.8 0.4 1.4h1.6c0-0.9-0.2-1.6-0.6-2.2 -0.4-0.6-1-0.9-1.8-1v-1.5H7.9v1.5C7.1 12.6 6.5 12.9 6 13.4s-0.7 1.1-0.7 1.9c0 1.1 0.5 2 1.6 2.6 0.3 0.2 0.8 0.4 1.3 0.6 0.6 0.2 1 0.4 1.2 0.7s0.4 0.6 0.4 1C9.8 20.5 9.7 20.8 9.4 21.1z"/><path d="M16.3 12.6h-0.2l-3.8 1.5v1.4l2.4-0.8v8.1h1.6V12.6z"/><path d="M19.9 23.8c0.2-0.5 0.4-1 0.4-1.5l0-1.2h-1.5v1.3c0 0.3-0.1 0.6-0.2 1 -0.1 0.3-0.3 0.7-0.5 1.1l0.9 0.5C19.3 24.7 19.6 24.3 19.9 23.8z"/><path d="M27 16.7c0-1.4-0.3-2.5-0.8-3.2s-1.3-1.1-2.4-1.1c-1.1 0-1.9 0.4-2.4 1.1 -0.5 0.7-0.8 1.8-0.8 3.3v1.8c0 1.4 0.3 2.5 0.8 3.2s1.3 1.1 2.4 1.1c1.1 0 1.9-0.4 2.4-1.1 0.5-0.7 0.8-1.8 0.8-3.3V16.7zM25.4 18.9c0 0.9-0.1 1.6-0.4 2 -0.2 0.4-0.6 0.6-1.2 0.6 -0.5 0-0.9-0.2-1.2-0.7 -0.3-0.5-0.4-1.2-0.4-2.1v-2.3c0-0.9 0.1-1.5 0.4-2 0.3-0.4 0.6-0.6 1.2-0.6 0.5 0 0.9 0.2 1.2 0.7 0.3 0.4 0.4 1.1 0.4 2.1V18.9z"/></svg>',format_conditional:'<svg xmlns="http://www.w3.org/2000/svg" width="52" height="36" viewBox="0 0 52 36"><polygon points="38 5 0 5 0 31 26 31 26 30 1 30 1 6 37 6 37 10 38 10 "/><path d="M9 13H8.6L5 14.4v1.4l2-0.8V23h2V13z"/><path d="M17 22h-4l2.4-2.9c0.6-0.7 1-1.3 1.3-1.8 0.3-0.5 0.4-1.1 0.4-1.5 0-0.8-0.3-1.5-0.8-2 -0.5-0.5-1.2-0.7-2.2-0.7 -0.6 0-1.2 0.1-1.7 0.4s-0.9 0.6-1.1 1C11.1 14.9 11 16 11 16h1.6c0 0 0.1-0.9 0.4-1.3s0.7-0.4 1.2-0.4c0.4 0 0.8 0.2 1 0.5 0.3 0.3 0.4 0.7 0.4 1.1 0 0.4-0.1 0.7-0.3 1.1 -0.2 0.4-0.6 0.8-1.1 1.3L11 21.9V23h6V22z"/><path d="M21 19h0.8c0.6 0 1-0.1 1.3 0.2 0.3 0.3 0.4 0.6 0.4 1.1 0 0.5-0.1 0.8-0.4 1.1 -0.3 0.3-0.6 0.4-1.1 0.4 -0.5 0-0.8-0.3-1.1-0.5C20.6 20.9 20.5 21 20.5 20h-1.5c0 1 0.3 1.6 0.8 2.1s1.3 0.8 2.1 0.8c0.9 0 1.6-0.2 2.2-0.7 0.6-0.5 0.8-1.2 0.8-2.1 0-0.5-0.1-1-0.4-1.4 -0.3-0.4-0.6-0.7-1.1-0.9 0.4-0.2 0.7-0.5 1-0.9 0.3-0.4 0.4-0.8 0.4-1.2 0-0.9-0.3-1.5-0.8-2 -0.5-0.5-1.2-0.7-2.1-0.7 -0.5 0-1 0.1-1.5 0.3 -0.4 0.2-0.8 0.7-1 1.1S19.1 15 19.1 16h1.5c0-1 0.1-0.9 0.4-1.1 0.3-0.3 0.6-0.5 1-0.5 0.5 0 0.8 0.1 1 0.3s0.3 0.6 0.3 1.1c0 0.5-0.1 0.7-0.4 1C22.7 17 22.3 17 21.9 17H21V19z"/><path d="M47.8 7C50.1 7 52 8.9 52 11.2c0 1-0.3 1.8-0.8 2.5l-1.7 1.7L43.6 9.5l1.7-1.7C46 7.3 46.8 7 47.8 7zM30.7 22.4L29 30l7.6-1.7 11.6-11.6 -5.9-5.9L30.7 22.4zM42 17.9l-5.1 5.1 -0.9-0.9 5.1-5L42 17.9z"/></svg>',options:'<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="-17.5 774.5 36 36"><title>menu_options</title><path fill="#555" d="M11.363 789.058l-.76-1.838a33.692 33.692 0 0 0 1.601-4.223l-2.327-2.328a31.444 31.444 0 0 0-4.142 1.691l-1.829-.76a32.88 32.88 0 0 0-1.83-4.101h-3.291a32.106 32.106 0 0 0-1.731 4.133l-1.83.76a33.556 33.556 0 0 0-4.206-1.609l-2.328 2.32a31.563 31.563 0 0 0 1.69 4.141l-.759 1.838a34.366 34.366 0 0 0-4.117 1.838v3.3a32.519 32.519 0 0 0 4.117 1.731l.759 1.829a33.633 33.633 0 0 0-1.608 4.223l2.327 2.328a32.986 32.986 0 0 0 4.133-1.699l1.83.76a31.481 31.481 0 0 0 1.862 4.108h3.291a32.194 32.194 0 0 0 1.732-4.133l1.837-.76a33.57 33.57 0 0 0 4.207 1.609l2.327-2.328a31.481 31.481 0 0 0-1.69-4.141l.76-1.838a32.532 32.532 0 0 0 4.108-1.829v-3.3a30.142 30.142 0 0 0-4.133-1.722zM.5 799.202a6.706 6.706 0 1 1 6.706-6.706A6.71 6.71 0 0 1 .5 799.202z"/></svg>',fields:'<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="-17.5 774.5 36 36"><title>menu_fields</title><g fill="#555"><path d="M11.351 787.279c1.112.367 2.027 1.221 2.55 2.221H13.5v-10.627c0-.744-.089-1.357-.825-1.373h-26.339c-.736.008-.836.612-.836 1.349v21.656c0 .735.093.995.836.995h10.836c-.008 0 .205-1.314.629-2.025-.073-.098-.123.025-.18.025H-12.5v-6h10.563l.83-1.699c.4-.76 1.606-1.258 1.606-1.667V785.5h10.843l.009 1.779zM-1.5 791.5h-11v-6h11v6z"/><path d="M15.805 801.444l-1.602-1.308c0-.237.082-.49.082-.817a2.483 2.483 0 0 0-.082-.817l1.602-1.389a.399.399 0 0 0 .082-.49l-1.528-2.86a.364.364 0 0 0-.278-.123.678.678 0 0 0-.18 0l-1.912.866a6.95 6.95 0 0 0-1.299-.817l-.311-1.989c-.017-.195-.188-.199-.384-.199H6.93c-.147 0-.384.037-.384.199l-.311 2.053c-.458.229-.899.468-1.299.786l-1.912-.834c-.041-.008-.09-.016-.131-.008a.356.356 0 0 0-.319.192l-1.528 2.817c-.082.164-.082.408.082.489l1.749 1.308c0 .237-.082.489-.082.816a2.48 2.48 0 0 0 .082.817l-1.602 1.356a.399.399 0 0 0-.082.49l1.528 2.86a.364.364 0 0 0 .278.123.678.678 0 0 0 .18 0l1.912-.817c.4.318.842.597 1.299.817l.311 2.116a.322.322 0 0 0 .221.4c.033.008.065.017.09.017h3.065c.147 0 .384-.164.384-.327l.311-2.215c.466-.212.907-.49 1.299-.817l1.831.817a.441.441 0 0 0 .54-.163l1.528-2.86c.056-.08-.018-.326-.165-.489zm-7.306.744a2.865 2.865 0 0 1-3.064-2.664c-.114-1.585 1.079-2.95 2.664-3.064a2.867 2.867 0 0 1 3.072 2.868 2.804 2.804 0 0 1-2.672 2.86z"/></g></svg>',fullscreen:'<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="-17.5 774.5 36 36"><title>menu_fullscreen_open</title><g fill="#555"><path d="M-7.5 779.976V777.5h-7v7h3v-2.752l3.758 4.067 1.74-1.846-4.342-4.003 2.844.01zM-7.742 799.096l-3.758 4.101V800.5h-3v7h7v-2h-2.618l-.049-.371 4.124-4.054-1.699-1.979zM8.746 785.913l3.754-4.092v2.679h3v-7h-7v2h2.602l.082.381-4.126 4.041 1.688 1.991zM13.5 800.5v2.598l-.382.074-4.058-4.003-1.882 1.575 4.006 3.756H8.5v3h7v-7h-2zM-4 786.5h9c1.104 0 2.5.908 2.5 2.011v7.996c0 1.103-1.396 1.993-2.5 1.993h-9c-1.104 0-2.5-.891-2.5-1.993v-8.005c0-1.103 1.396-2.002 2.5-2.002z"/></g></svg>'},WebDataRocksToolbar.prototype.connectLocalCSVHandler=function(){this.pivot.connectTo({dataSourceType:"csv",browseForFile:!0})},WebDataRocksToolbar.prototype.connectLocalJSONHandler=function(){this.pivot.connectTo({dataSourceType:"json",browseForFile:!0})},WebDataRocksToolbar.prototype.connectRemoteCSV=function(){this.showConnectToRemoteCSVDialog()},WebDataRocksToolbar.prototype.connectRemoteJSON=function(){this.showConnectToRemoteJSONDialog()},WebDataRocksToolbar.prototype.openLocalReport=function(){this.pivot.open()},WebDataRocksToolbar.prototype.openRemoteReport=function(){this.showOpenRemoteReportDialog()},WebDataRocksToolbar.prototype.saveHandler=function(){this.pivot.save("report.json","file")},WebDataRocksToolbar.prototype.formatCellsHandler=function(){this.showFormatCellsDialog()},WebDataRocksToolbar.prototype.conditionalFormattingHandler=function(){this.showConditionalFormattingDialog()},WebDataRocksToolbar.prototype.optionsHandler=function(){this.showOptionsDialog()},WebDataRocksToolbar.prototype.fieldsHandler=function(){this.pivot.openFieldsList()},WebDataRocksToolbar.prototype.printHandler=function(){this.pivot.print()},WebDataRocksToolbar.prototype.exportHandler=function(e){"pdf"==e?this.showExportPdfDialog():this.pivot.exportTo(e)},WebDataRocksToolbar.prototype.fullscreenHandler=function(){this.toggleFullscreen()},WebDataRocksToolbar.prototype.defaults={},WebDataRocksToolbar.prototype.showConnectToRemoteCSVDialog=function(){var e=this,t=this.Labels,n=this.popupManager.createPopup();n.content.classList.add("wdr-popup-w500"),n.setTitle(t.open_remote_csv),n.setToolbar([{id:"wdr-btn-open",label:t.open,handler:function(){0<i.value.length&&e.pivot.connectTo({filename:i.value,dataSourceType:"csv"})},isPositive:!0},{id:"wdr-btn-cancel",label:t.cancel}]),t=document.createElement("div");var i=document.createElement("input");i.id="wdr-inp-file-url",i.type="text",i.value="https://cdn.webdatarocks.com/data/data.csv",t.appendChild(i),n.setContent(t),this.popupManager.addPopup(n.content)},WebDataRocksToolbar.prototype.showConnectToRemoteJSONDialog=function(){var e=this,t=this.Labels,n=this.popupManager.createPopup();n.content.classList.add("wdr-popup-w500"),n.setTitle(t.open_remote_json),n.setToolbar([{id:"wdr-btn-open",label:t.open,handler:function(){0<i.value.length&&e.pivot.connectTo({filename:i.value,dataSourceType:"json"})},isPositive:!0},{id:"wdr-btn-cancel",label:t.cancel}]),t=document.createElement("div");var i=document.createElement("input");i.id="wdr-inp-file-url",i.type="text",i.value="https://cdn.webdatarocks.com/data/data.json",t.appendChild(i),n.setContent(t),this.popupManager.addPopup(n.content)},WebDataRocksToolbar.prototype.showOpenRemoteReportDialog=function(){var e=this,t=this.Labels,n=this.popupManager.createPopup();n.content.classList.add("wdr-popup-w500"),n.setTitle(t.open_remote_report),n.setToolbar([{id:"wdr-btn-open",label:t.open,handler:function(){0<i.value.length&&e.pivot.load(i.value)},isPositive:!0},{id:"wdr-btn-cancel",label:t.cancel}]),t=document.createElement("div");var i=document.createElement("input");i.type="text";var r=e.pivot.getOptions()||{};i.value=r.grid&&"flat"==r.grid.type?"https://cdn.webdatarocks.com/reports/report-flat.json":"https://cdn.webdatarocks.com/reports/report.json",t.appendChild(i),n.setContent(t),this.popupManager.addPopup(n.content)},WebDataRocksToolbar.prototype.showFormatCellsDialog=function(){var e=this,t=this.Labels,n=function(){l.disabled=c.disabled=u.disabled=d.disabled=p.disabled=f.disabled=A.disabled=m.disabled="empty"==a.value;var t=e.pivot.getFormat(a.value);l.value="left"==t.textAlign||"right"==t.textAlign?t.textAlign:"right",c.value=t.thousandsSeparator,u.value=t.decimalSeparator,d.value=t.decimalPlaces,p.value=t.currencySymbol,f.value=t.currencySymbolAlign,A.value=t.nullValue,m.value=1==t.isPercent},i=this.popupManager.createPopup();i.content.id="wdr-popup-format-cells",i.setTitle(this.osUtils.isMobile?t.format:t.format_cells),i.setToolbar([{id:"wdr-btn-apply",label:t.apply,handler:function(){var t={};""==a.value&&(t.name=""),t.textAlign=l.value,t.thousandsSeparator=c.value,t.decimalSeparator=u.value,t.decimalPlaces=d.value,t.currencySymbol=p.value,t.currencySymbolAlign=f.value,t.nullValue=A.value,t.isPercent="true"==m.value,e.pivot.setFormat(t,""==a.value?null:a.value),e.pivot.refresh()},isPositive:!0},{id:"wdr-btn-cancel",label:t.cancel}],!0);var r=document.createElement("div"),o=document.createElement("div");o.classList.add("wdr-inp-group"),r.appendChild(o);var s=document.createElement("div");s.classList.add("wdr-inp-row"),s.classList.add("wdr-ir-horizontal"),o.appendChild(s),(h=document.createElement("label")).classList.add("wdr-uc"),e.setText(h,t.choose_value),s.appendChild(h);var a=(g=e.createSelect()).select;a.onchange=n,a.options[0]=new Option(t.choose_value,"empty"),a.options[0].disabled=!0,a.options[1]=new Option(t.all_values,""),s.appendChild(g),(s=document.createElement("div")).classList.add("wdr-inp-row"),s.classList.add("wdr-ir-horizontal"),o.appendChild(s),(o=document.createElement("div")).classList.add("wdr-inp-group"),r.appendChild(o),(s=document.createElement("div")).classList.add("wdr-inp-row"),s.classList.add("wdr-ir-horizontal"),o.appendChild(s),h=document.createElement("label"),e.setText(h,t.text_align),s.appendChild(h);var l=(g=e.createSelect()).select;l.options[0]=new Option(t.align_left,"left"),l.options[1]=new Option(t.align_right,"right"),s.appendChild(g),(s=document.createElement("div")).classList.add("wdr-inp-row"),s.classList.add("wdr-ir-horizontal"),o.appendChild(s),h=document.createElement("label"),e.setText(h,t.thousand_separator),s.appendChild(h);var c=(g=e.createSelect()).select;c.options[0]=new Option(t.none,""),c.options[1]=new Option(t.space," "),c.options[2]=new Option(",",","),c.options[3]=new Option(".","."),s.appendChild(g),(s=document.createElement("div")).classList.add("wdr-inp-row"),s.classList.add("wdr-ir-horizontal"),o.appendChild(s),h=document.createElement("label"),e.setText(h,t.decimal_separator),s.appendChild(h);var u=(g=e.createSelect()).select;u.options[0]=new Option(".","."),u.options[1]=new Option(",",","),s.appendChild(g),(s=document.createElement("div")).classList.add("wdr-inp-row"),s.classList.add("wdr-ir-horizontal"),o.appendChild(s),h=document.createElement("label"),e.setText(h,t.decimal_places),s.appendChild(h);for(var d=(g=e.createSelect()).select,h=0;11>h;h++)d.options[h]=new Option(0===h?t.none:h-1,h-1);s.appendChild(g),(s=document.createElement("div")).classList.add("wdr-inp-row"),s.classList.add("wdr-ir-horizontal"),o.appendChild(s),h=document.createElement("label"),e.setText(h,t.currency_symbol),s.appendChild(h);var p=document.createElement("input");p.classList.add("wdr-inp"),p.type="text",s.appendChild(p),(s=document.createElement("div")).classList.add("wdr-inp-row"),s.classList.add("wdr-ir-horizontal"),o.appendChild(s),h=document.createElement("label"),e.setText(h,t.currency_align),s.appendChild(h);var f=(g=e.createSelect()).select;f.options[0]=new Option(t.align_left,"left"),f.options[1]=new Option(t.align_right,"right"),s.appendChild(g),(s=document.createElement("div")).classList.add("wdr-inp-row"),s.classList.add("wdr-ir-horizontal"),o.appendChild(s),h=document.createElement("label"),e.setText(h,t.null_value),s.appendChild(h);var A=document.createElement("input");A.classList.add("wdr-inp"),A.type="text",s.appendChild(A),(s=document.createElement("div")).classList.add("wdr-inp-row"),s.classList.add("wdr-ir-horizontal"),o.appendChild(s),h=document.createElement("label"),e.setText(h,t.is_percent),s.appendChild(h);var g,m=(g=e.createSelect()).select;for(m.options[0]=new Option(t.true_value,!0),m.options[1]=new Option(t.false_value,!1),s.appendChild(g),i.setContent(r),this.popupManager.addPopup(i.content),t=e.pivot.getMeasures(),h=0;h<t.length;h++)a.options[h+2]=new Option(t[h].caption,t[h].uniqueName);n()},WebDataRocksToolbar.prototype.showConditionalFormattingDialog=function(){var e=this,t=this.Labels,n=this.pivot.getAllConditions(),i=function(e){for(var t=e.match(/\W\d+\.*\d*/g),n=[],i=!1,r="",o=0;o<e.length;o++)'"'==e[o]||"'"==e[o]?(i?n.push(r):r="",i=!i):i&&(r+=e[o]);return e=e.match(/<=|>=|<|>|=|=|!=|isNaN/g),null==t&&null==n?{}:{value1:null!=t?t[0].replace(/\s/,""):n[0],value2:null!=t&&1<t.length?t[1].replace(/\s/,""):"",sign:e?e.join(""):""}},r=this.popupManager.createPopup();r.content.id="wdr-popup-conditional",r.setTitle(this.osUtils.isMobile?t.conditional:t.conditional_formatting),r.setToolbar([{id:"wdr-btn-apply",label:t.apply,handler:function(){e.pivot.removeAllConditions();for(var t=0;t<n.length;t++){var i,r=n[t].value1,o=n[t].value2,s="",a=null==o||0==o.length,l="><"===(i=n[t].sign),c="isNaN"===i;if((null==r||0==r.length)&&!c||l&&a||(l&&!a?s="AND(#value > "+r+", #value < "+o+")":c?s="isNaN(#value)":(isNaN(parseFloat(r))&&(r="'"+r+"'"),s="#value "+i+" "+r)),null==(i=s))return;n[t].formula=i,e.pivot.addCondition(n[t])}e.pivot.refresh()},isPositive:!0},{id:"wdr-btn-cancel",label:t.cancel}],!0);var o=document.createElement("a");o.id="wdr-add-btn",o.setAttribute("href","javascript:void(0)"),o.classList.add("wdr-ui-btn"),o.classList.add("wdr-ui-btn-light"),o.classList.add("wdr-button-add"),o.onclick=function(){var t={sign:"<",value1:"0",measures:e.pivot.getMeasures(),format:{fontFamily:"Arial",fontSize:"12px",color:"#000000",backgroundColor:"#FFFFFF"}};n.push(t),s.appendChild(e.createConditionalFormattingItem(t,n)),e.popupManager.centerPopup(r.content)},o.setAttribute("title",t.add_condition),(t=document.createElement("span")).classList.add("wdr-icon"),t.classList.add("wdr-icon-act_add"),o.appendChild(t),r.toolbar.insertBefore(o,r.toolbar.firstChild);var s=document.createElement("div");for(s.classList.add("wdr-popup-content"),s.onclick=function(t){t.target.classList.contains("wdr-cr-delete")&&e.popupManager.centerPopup(r.content)},o=0;o<n.length;o++)t=i(n[o].formula),n[o].value1=t.value1,n[o].value2=t.value2,n[o].sign=t.sign,n[o].measures=e.pivot.getMeasures(),s.appendChild(e.createConditionalFormattingItem(n[o],n));r.setContent(s),this.popupManager.addPopup(r.content)},WebDataRocksToolbar.prototype.defaults.fontSizes="8px 9px 10px 11px 12px 13px 14px".split(" "),WebDataRocksToolbar.prototype.defaults.fonts="Arial;Lucida Sans Unicode;Verdana;Courier New;Palatino Linotype;Tahoma;Impact;Trebuchet MS;Georgia;Times New Roman".split(";"),WebDataRocksToolbar.prototype.defaults.conditions=[{label:"less_than",sign:"<"},{label:"less_than_or_equal",sign:"<="},{label:"greater_than",sign:">"},{label:"greater_than_or_equal",sign:">="},{label:"equal_to",sign:"="},{label:"not_equal_to",sign:"!="},{label:"between",sign:"><"},{label:"is_empty",sign:"isNaN"}],WebDataRocksToolbar.prototype.createConditionalFormattingItem=function(e,t){var n=this,i=this.Labels,r=function(){"sign"in e&&"><"===e.sign?(h.classList.remove("wdr-width120"),h.classList.add("wdr-width50"),h.style.display="inline-block",f.value="value2"in e?e.value2:"0",f.style.display="inline-block",p.style.display="inline-block"):("sign"in e&&"isNaN"===e.sign?h.style.display="none":(h.classList.add("wdr-width120"),h.classList.remove("wdr-width50"),h.style.display="inline-block"),f.style.display="none",p.style.display="none")},o=function(){var t=e.format;null!=t&&(y.style.backgroundColor=t.backgroundColor||"#fff",y.style.color=t.color||"#000",y.style.fontFamily=t.fontFamily||"Arial",y.style.fontSize=t.fontSize||"12px")},s=document.createElement("div");s.classList.add("wdr-condition-row");var a=document.createElement("div");a.classList.add("wdr-wrap-relative"),s.appendChild(a);var l=document.createElement("span");l.classList.add("wdr-cr-delete"),l.classList.add("wdr-icon"),l.classList.add("wdr-icon-act_trash"),l.onclick=function(){var n=t.indexOf(e);-1<n&&t.splice(n,1),s.parentNode.removeChild(s)},a.appendChild(l),(l=document.createElement("div")).classList.add("wdr-cr-inner"),a.appendChild(l);var c=document.createElement("div");c.classList.add("wdr-cr-lbl"),c.classList.add("wdr-width50"),n.setText(c,i.value+":"),l.appendChild(c),(c=n.createSelect()).id="wdr-values";var u=c.select;"measures"in e?(function(e,t){u[0]=new Option(i.all_values,"");for(var r=(r=n.pivot.getOptions()||{}).grid&&"flat"==r.grid.type,o=0;o<e.length;o++)r&&7==e[o].type||(u[u.options.length]=new Option(e[o].caption,e[o].uniqueName));null!=t?u.value=t:u.selectedIndex=0}(e.measures,e.measure),u.disabled=0===e.measures.length):u.disabled=!0,u.onchange=function(){e.measure=u.value},l.appendChild(c),(c=n.createSelect()).id="wdr-conditions";var d=c.select;!function(e){for(var t=0;t<n.defaults.conditions.length;t++)d[t]=new Option(i[n.defaults.conditions[t].label],n.defaults.conditions[t].sign);null!=e?d.value=e:d.selectedIndex=0}("sign"in e?e.sign:null),d.onchange=function(){e.sign=d.value,"sign"in e&&"><"===e.sign?e.value2=0:("sign"in e&&"isNaN"===e.sign&&delete e.value1,delete e.value2),r()},l.appendChild(c);var h=document.createElement("input");h.classList.add("wdr-number-inp"),h.classList.add("wdr-width50"),h.type="number",h.value="value1"in e?e.value1:"0",h.onchange=function(){e.value1=0==h.value.length?"0":h.value},l.appendChild(h);var p=document.createElement("span");p.id="wdr-and-label",p.classList.add("wdr-width20"),n.setText(p,i.and_symbole),l.appendChild(p);var f=document.createElement("input");f.classList.add("wdr-number-inp"),f.classList.add("wdr-width50"),f.type="number",f.value="value2"in e?e.value2:"0",f.onchange=function(){e.value2=0==f.value.length?"0":f.value},l.appendChild(f),r(),(l=document.createElement("div")).classList.add("wdr-cr-inner"),a.appendChild(l),(c=document.createElement("div")).classList.add("wdr-cr-lbl"),c.classList.add("wdr-width50"),n.setText(c,i.format+":"),l.appendChild(c),(c=n.createSelect()).id="wdr-font-family";var A=c.select;!function(e){for(var t=0;t<n.defaults.fonts.length;t++)A[t]=new Option(n.defaults.fonts[t],n.defaults.fonts[t]);A.value=null==e?"Arial":e}(e.hasOwnProperty("format")&&e.format.hasOwnProperty("fontFamily")?e.format.fontFamily:null),A.onchange=function(){null!=e.format&&(e.format.fontFamily=A.value,o())},l.appendChild(c),(c=n.createSelect()).id="wdr-font-size";var g=c.select;!function(e){for(var t=0;t<n.defaults.fontSizes.length;t++)g[t]=new Option(n.defaults.fontSizes[t],n.defaults.fontSizes[t]);g.value=null==e?"12px":e}(e.hasOwnProperty("format")&&e.format.hasOwnProperty("fontSize")?e.format.fontSize:null),g.onchange=function(){null!=e.format&&(e.format.fontSize=g.value,o())},l.appendChild(c);var m=new WebDataRocksToolbar.ColorPicker(this,s);m.setColor(e.hasOwnProperty("format")&&e.format.hasOwnProperty("backgroundColor")?e.format.backgroundColor:"0xFFFFFF","bg"),m.setColor(e.hasOwnProperty("format")&&e.format.hasOwnProperty("color")?e.format.color:"0x000000","font"),m.changeHandler=function(){null!=e.format&&(y.style.color=m.fontColor||"#000",y.style.backgroundColor=m.backgroundColor||"#fff")},m.applyHandler=function(){null!=e.format&&(e.format.color=m.fontColor,e.format.backgroundColor=m.backgroundColor,o())},m.cancelHandler=function(){null!=e.format&&(m.setColor(e.format.hasOwnProperty("backgroundColor")?e.format.backgroundColor:"0xFFFFFF","bg"),m.setColor(e.format.hasOwnProperty("color")?e.format.color:"0x000000","font")),o()},l.appendChild(m.element);var y=document.createElement("input");return y.id="wdr-sample",y.classList.add("wdr-inp"),y.type="number",y.value="73.93",y.style.pointerEvents="none",l.appendChild(y),o(),s},WebDataRocksToolbar.prototype.showOptionsDialog=function(){var e=this,t=this.Labels,n=this.popupManager.createPopup();n.content.id="wdr-popup-options",n.setTitle(this.osUtils.isMobile?t.options:t.layout_options),n.setToolbar([{id:"wdr-btn-apply",label:t.apply,handler:function(){var t,n;c.checked?t="off":d.checked?t="on":h.checked?t="rows":p.checked&&(t="columns"),y.checked?n="off":v.checked?n="on":w.checked?n="rows":b.checked&&(n="columns");var i="compact";g&&g.checked?i="classic":m&&m.checked&&(i="flat"),e.pivot.getOptions(),e.pivot.setOptions({grid:{showGrandTotals:t,showTotals:n,type:i}}),e.pivot.refresh()},isPositive:!0},{id:"wdr-btn-cancel",label:t.cancel}],!0);var i=document.createElement("div");i.classList.add("wdr-popup-content");var r=document.createElement("div");r.classList.add("wdr-ui-row"),i.appendChild(r);var o=document.createElement("div");o.classList.add("wdr-ui-col-2"),r.appendChild(o),(f=document.createElement("div")).classList.add("wdr-title-2"),e.setText(f,t.grand_totals),o.appendChild(f);var s="wdr-grand-totals-"+Date.now();(f=document.createElement("ul")).classList.add("wdr-radiobtn-list"),o.appendChild(f);var a=document.createElement("li"),l=document.createElement("div");l.classList.add("wdr-radio-wrap");var c=document.createElement("input");c.type="radio",c.name=s,c.id="wdr-gt-1",c.value="off",l.appendChild(c);var u=document.createElement("label");u.setAttribute("for","wdr-gt-1"),e.setText(u,t.grand_totals_off),l.appendChild(u),a.appendChild(l),f.appendChild(a),a=document.createElement("li"),(l=document.createElement("div")).classList.add("wdr-radio-wrap");var d=document.createElement("input");d.type="radio",d.name=s,d.id="wdr-gt-2",d.value="on",l.appendChild(d),(u=document.createElement("label")).setAttribute("for","wdr-gt-2"),e.setText(u,t.grand_totals_on),l.appendChild(u),a.appendChild(l),f.appendChild(a),a=document.createElement("li"),(l=document.createElement("div")).classList.add("wdr-radio-wrap");var h=document.createElement("input");h.type="radio",h.name=s,h.id="wdr-gt-3",h.value="rows",l.appendChild(h),(u=document.createElement("label")).setAttribute("for","wdr-gt-3"),e.setText(u,t.grand_totals_on_rows),l.appendChild(u),a.appendChild(l),f.appendChild(a),a=document.createElement("li"),(l=document.createElement("div")).classList.add("wdr-radio-wrap");var p=document.createElement("input");p.type="radio",p.name=s,p.id="wdr-gt-4",p.value="rows",l.appendChild(p),(u=document.createElement("label")).setAttribute("for","wdr-gt-4"),e.setText(u,t.grand_totals_on_columns),l.appendChild(u),a.appendChild(l),f.appendChild(a),(f=document.createElement("div")).classList.add("wdr-title-2"),e.setText(f,t.layout),o.appendChild(f);var f,A="wdr-layout-"+Date.now();(f=document.createElement("ul")).classList.add("wdr-radiobtn-list"),o.appendChild(f),a=document.createElement("li"),(l=document.createElement("div")).classList.add("wdr-radio-wrap"),(s=document.createElement("input")).type="radio",s.name=A,s.id="wdr-lt-1",s.value="compact",l.appendChild(s),(u=document.createElement("label")).setAttribute("for","wdr-lt-1"),e.setText(u,t.compact_view),l.appendChild(u),a.appendChild(l),f.appendChild(a),a=document.createElement("li"),(l=document.createElement("div")).classList.add("wdr-radio-wrap");var g=document.createElement("input");g.type="radio",g.name=A,g.id="wdr-lt-2",g.value="classic",l.appendChild(g),(u=document.createElement("label")).setAttribute("for","wdr-lt-2"),e.setText(u,t.classic_view),l.appendChild(u),a.appendChild(l),f.appendChild(a),o=e.pivot.getReport({withDefaults:!0,withGlobals:!0}),a=document.createElement("li"),(l=document.createElement("div")).classList.add("wdr-radio-wrap");var m=document.createElement("input");m.type="radio",m.name=A,m.id="wdr-lt-3",m.value="flat",l.appendChild(m),(u=document.createElement("label")).setAttribute("for","wdr-lt-3"),e.setText(u,t.flat_view),l.appendChild(u),a.appendChild(l),f.appendChild(a),(o=document.createElement("div")).classList.add("wdr-ui-col-2"),r.appendChild(o),(f=document.createElement("div")).classList.add("wdr-title-2"),e.setText(f,t.subtotals),o.appendChild(f),r="wdr-subtotals-"+Date.now(),(f=document.createElement("ul")).classList.add("wdr-radiobtn-list"),o.appendChild(f),a=document.createElement("li"),(l=document.createElement("div")).classList.add("wdr-radio-wrap");var y=document.createElement("input");y.type="radio",y.name=r,y.id="wdr-st-1",y.value="off",l.appendChild(y),(u=document.createElement("label")).setAttribute("for","wdr-st-1"),e.setText(u,t.subtotals_off),l.appendChild(u),a.appendChild(l),f.appendChild(a),a=document.createElement("li"),(l=document.createElement("div")).classList.add("wdr-radio-wrap");var v=document.createElement("input");v.type="radio",v.name=r,v.id="wdr-st-2",v.value="on",l.appendChild(v),(u=document.createElement("label")).setAttribute("for","wdr-st-2"),e.setText(u,t.subtotals_on),l.appendChild(u),a.appendChild(l),f.appendChild(a),a=document.createElement("li"),(l=document.createElement("div")).classList.add("wdr-radio-wrap");var w=document.createElement("input");w.type="radio",w.name=r,w.id="wdr-st-3",w.value="rows",l.appendChild(w),(u=document.createElement("label")).setAttribute("for","wdr-st-3"),e.setText(u,t.subtotals_on_rows),l.appendChild(u),a.appendChild(l),f.appendChild(a),a=document.createElement("li"),(l=document.createElement("div")).classList.add("wdr-radio-wrap");var b=document.createElement("input");b.type="radio",b.name=r,b.id="wdr-st-4",b.value="columns",l.appendChild(b),(u=document.createElement("label")).setAttribute("for","wdr-st-4"),e.setText(u,t.subtotals_on_columns),l.appendChild(u),a.appendChild(l),f.appendChild(a),n.setContent(i),this.popupManager.addPopup(n.content),"off"==(t=(o=e.pivot.getOptions()||{}).grid||{}).showGrandTotals||0==t.showGrandTotals?c.checked=!0:"on"==t.showGrandTotals||1==t.showGrandTotals?d.checked=!0:"rows"==t.showGrandTotals?h.checked=!0:"columns"==t.showGrandTotals&&(p.checked=!0),"off"==t.showTotals?y.checked=!0:"on"==t.showTotals?v.checked=!0:"rows"==t.showTotals?w.checked=!0:"columns"==t.showTotals&&(b.checked=!0),"flat"==t.type&&m?m.checked=!0:"classic"==t.type&&g?g.checked=!0:s&&(s.checked=!0)},WebDataRocksToolbar.prototype.showExportPdfDialog=function(){var e=this,t=this.Labels,n=this.popupManager.createPopup();n.setTitle(t.choose_page_orientation),n.setToolbar([{id:"wdr-btn-apply",label:t.apply,handler:function(){var t="portrait";a.checked&&(t="landscape"),e.pivot.exportTo("pdf",{pageOrientation:t})},isPositive:!0},{id:"wdr-btn-cancel",label:t.cancel}]);var i=document.createElement("div"),r=document.createElement("ul");r.classList.add("wdr-radiobtn-list"),i.appendChild(r);var o=document.createElement("li");r.appendChild(o);var s=document.createElement("div");s.classList.add("wdr-radio-wrap"),o.appendChild(s),(o=document.createElement("input")).id="wdr-portrait-radio",o.type="radio",o.name="wdr-pdf-orientation",o.checked=!0,s.appendChild(o),(o=document.createElement("label")).setAttribute("for","wdr-portrait-radio"),e.setText(o,t.portrait),s.appendChild(o),o=document.createElement("li"),r.appendChild(o),(s=document.createElement("div")).classList.add("wdr-radio-wrap"),o.appendChild(s);var a=document.createElement("input");a.id="wdr-landscape-radio",a.type="radio",a.name="wdr-pdf-orientation",s.appendChild(a),(o=document.createElement("label")).setAttribute("for","wdr-landscape-radio"),e.setText(o,t.landscape),s.appendChild(o),n.setContent(i),this.popupManager.addPopup(n.content)},WebDataRocksToolbar.prototype.toggleFullscreen=function(){this.isFullscreen()?this.exitFullscreen():this.enterFullscreen(this.container)},WebDataRocksToolbar.prototype.isFullscreen=function(){return document.fullScreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement},WebDataRocksToolbar.prototype.enterFullscreen=function(e){if(e.requestFullscreen||e.webkitRequestFullScreen||e.mozRequestFullScreen||e.msRequestFullscreen&&window==top){if(this.containerStyle={width:this.container.style.width,height:this.container.style.height,position:this.container.style.position,top:this.container.style.top,bottom:this.container.style.bottom,left:this.container.style.left,right:this.container.style.right,marginTop:this.container.style.marginTop,marginLeft:this.container.style.left,toolbarWidth:this.toolbarWrapper.style.width},this.container.style.width="100%",this.container.style.height="100%",this.container.style.position="fixed",this.container.style.top="0px",this.container.style.left="0px",this.toolbarWrapper.style.width="100%",e.requestFullscreen)e.requestFullscreen();else if(e.webkitRequestFullScreen){var t=navigator.userAgent;-1<t.indexOf("Safari")&&-1==t.indexOf("Chrome")?e.webkitRequestFullScreen():e.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}else e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen&&(window==top?e.msRequestFullscreen():alert("Fullscreen mode in IE 11 is not currently supported while Pivot embeded in iframe."));e.addEventListener("fullscreenchange",(function(){window.screenTop||window.screenY||this.isFullscreen()||this.exitFullscreen()}).bind(this),!1),e.addEventListener("webkitfullscreenchange",(function(){window.screenTop||window.screenY||this.isFullscreen()||this.exitFullscreen()}).bind(this),!1),e.addEventListener("mozfullscreenchange",(function(){window.fullScreen||window.innerWidth==screen.width&&window.innerHeight==screen.height||this.exitFullscreen()}).bind(this),!1)}},WebDataRocksToolbar.prototype.exitFullscreen=function(){this.container.style.width=this.containerStyle.width,this.container.style.height=this.containerStyle.height,this.container.style.position=this.containerStyle.position,this.container.style.top=this.containerStyle.top,this.container.style.left=this.containerStyle.left,this.container.style.marginTop=this.containerStyle.marginTop,this.container.style.marginLeft=this.containerStyle.marginLeft,this.toolbarWrapper.style.width=this.containerStyle.toolbarWidth,document.exitFullscreen?document.exitFullscreen():document.cancelFullscreen?document.cancelFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullScreen?document.webkitExitFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()},WebDataRocksToolbar.prototype.nullOrUndefined=function(e){return null==e},WebDataRocksToolbar.prototype.hasClass=function(e,t){return e.className.match(RegExp("(\\s|^)"+t+"(\\s|$)"))},WebDataRocksToolbar.prototype.addClass=function(e,t){this.hasClass(e,t)||(e.className+=" "+t)},WebDataRocksToolbar.prototype.removeClass=function(e,t){this.hasClass(e,t)&&(e.className=e.className.replace(RegExp("(\\s|^)"+t+"(\\s|$)")," "))},WebDataRocksToolbar.prototype.setText=function(e,t){e&&(void 0!==e.innerText&&(e.innerText=t),void 0!==e.textContent&&(e.textContent=t))},WebDataRocksToolbar.prototype.createSelect=function(){var e=document.createElement("div");e.classList.add("wdr-select");var t=document.createElement("select");return e.appendChild(t),e.select=t,e},WebDataRocksToolbar.prototype.createDivider=function(e){return(e=document.createElement("li")).className="wdr-divider",e},WebDataRocksToolbar.prototype.createTab=function(e){var t=document.createElement("li");t.id=e.id;var n=document.createElement("a");e.hasOwnProperty("class_attr")&&n.setAttribute("class",e.class_attr),n.setAttribute("href","javascript:void(0)"),e.icon&&((i=document.createElement("div")).classList.add("wdr-svg-icon"),i.innerHTML=e.icon,n.appendChild(i)),i=document.createElement("span"),this.setText(i,e.title),n.appendChild(i);var i,r=this;return this.nullOrUndefined(i="function"==typeof e.handler?e.handler:this[e.handler])||(n.onclick=function(e,t){return function(){e.call(r,t)}}(i,e.args)),this.nullOrUndefined(this[e.onShowHandler])||(n.onmouseover=function(e){return function(){e.call(r)}}(this[e.onShowHandler])),t.onmouseover=function(){r.showDropdown(this)},t.onmouseout=function(){r.hideDropdown(this)},t.appendChild(n),null==e.menu||this.osUtils.isMobile&&1!=e.collapse||t.appendChild(this.createTabMenu(e.menu)),t},WebDataRocksToolbar.prototype.showDropdown=function(e){var t=e.querySelectorAll(".wdr-dropdown")[0];t&&(t.style.display="block",t.getBoundingClientRect().right>this.toolbarWrapper.getBoundingClientRect().right&&(t.style.right=0,this.addClass(e,"wdr-align-rigth")))},WebDataRocksToolbar.prototype.hideDropdown=function(e){var t=e.querySelectorAll(".wdr-dropdown")[0];t&&(t.style.display="none",t.style.right=null,this.removeClass(e,"wdr-align-rigth"))},WebDataRocksToolbar.prototype.createTabMenu=function(e){var t=document.createElement("div");t.className="wdr-dropdown wdr-shadow-container";var n=document.createElement("ul");n.className="wdr-dropdown-content";for(var i=0;i<e.length;i++)this.isDisabled(e[i])||n.appendChild(e[i].divider?this.createMenuDivider():this.createTab(e[i]));return t.appendChild(n),t},WebDataRocksToolbar.prototype.createMenuDivider=function(){var e=document.createElement("li");return e.className="wdr-v-divider",e},WebDataRocksToolbar.prototype.isDisabled=function(e){return!!this.nullOrUndefined(e)||!1===e.ios&&this.osUtils.isIOS||!1===e.android&&this.osUtils.isAndroid||!1===e.mobile&&this.osUtils.isMobile},WebDataRocksToolbar.prototype.getElementById=function(e,t){var n=function(e,t){for(var i=0;i<e.childNodes.length;i++){var r=e.childNodes[i];if(r.id==t)return r;if(null!=(r=n(r,t)))return r}return null};return n(t||this.toolbarWrapper,e)},WebDataRocksToolbar.prototype.osUtils={isIOS:!(!navigator.userAgent.match(/iPhone|iPad|iPod/i)&&!navigator.platform.match(/iPhone|iPad|iPod/i)),isMac:/Mac/i.test(navigator.platform),isAndroid:!!navigator.userAgent.match(/Android/i),isBlackBerry:/BlackBerry/i.test(navigator.platform),isMobile:navigator.userAgent.match(/iPhone|iPad|iPod/i)||navigator.platform.match(/iPhone|iPad|iPod/i)||navigator.userAgent.match(/Android/i)||/BlackBerry/i.test(navigator.platform)},WebDataRocksToolbar.PopupManager=function(e){this.toolbar=e,this.activePopup=null},WebDataRocksToolbar.PopupManager.prototype.createPopup=function(){return new WebDataRocksToolbar.PopupManager.PopupWindow(this)},WebDataRocksToolbar.PopupManager.prototype.addPopup=function(e){if(null!=e){this.removePopup(),this.modalOverlay=this.createModalOverlay(),this.activePopup=e,this.toolbar.toolbarWrapper.appendChild(e),this.toolbar.toolbarWrapper.appendChild(this.modalOverlay),this.addLayoutClasses(e),this.centerPopup(e);var t=this;e.resizeHandler=function(){e&&(t.addLayoutClasses(e),t.centerPopup(e))},window.addEventListener("resize",e.resizeHandler)}},WebDataRocksToolbar.PopupManager.prototype.addLayoutClasses=function(e){e.classList.remove("wdr-layout-tablet"),e.classList.remove("wdr-layout-mobile"),e.classList.remove("wdr-layout-mobile-small");var t=this.getBoundingRect(this.toolbar.container);768>t.width&&e.classList.add("wdr-layout-tablet"),580>t.width&&e.classList.add("wdr-layout-mobile"),460>t.width&&e.classList.add("wdr-layout-mobile-small")},WebDataRocksToolbar.PopupManager.prototype.centerPopup=function(e){var t=this.getBoundingRect(this.toolbar.container),n=this.getBoundingRect(e),i=this.getBoundingRect(this.toolbar.toolbarWrapper);e.style.zIndex=parseInt(this.modalOverlay.style.zIndex)+1,this.modalOverlay.style.height=t.height+"px",e.style.left=Math.max(0,(i.width-n.width)/2)+"px",e.style.top=Math.max(0,(t.height-n.height)/2)+"px"},WebDataRocksToolbar.PopupManager.prototype.removePopup=function(e){e=e||this.activePopup,null!=this.modalOverlay&&(this.toolbar.toolbarWrapper.removeChild(this.modalOverlay),this.modalOverlay=null),null!=e&&(this.toolbar.toolbarWrapper.removeChild(e),this.activePopup=null,window.removeEventListener("resize",e.resizeHandler))},WebDataRocksToolbar.PopupManager.prototype.getBoundingRect=function(e){var t=e.getBoundingClientRect();return{left:t.left,right:t.right,top:t.top,bottom:t.bottom,width:t.width||e.clientWidth,height:t.height||e.clientHeight}},WebDataRocksToolbar.PopupManager.prototype.createModalOverlay=function(){var e=document.createElement("div");e.className="wdr-modal-overlay",e.id="wdr-popUp-modal-overlay";var t=this;return e.addEventListener("click",function(e){t.removePopup(t.activePopup)}),e},WebDataRocksToolbar.PopupManager.PopupWindow=function(e){this.popupManager=e;var t=document.createElement("div");t.className="wdr-panel-content";var n=document.createElement("div");n.className="wdr-title-bar";var i=document.createElement("div");i.className="wdr-title-text";var r=document.createElement("div");r.className="wdr-toolbox",r.style.clear="both",this.content=document.createElement("div"),this.content.className="wdr-popup wdr-panel wdr-toolbar-ui wdr-ui",this.content.appendChild(t),t.appendChild(n),n.appendChild(i),this.setTitle=function(e){WebDataRocksToolbar.prototype.setText(i,e)},this.setContent=function(e){t.insertBefore(e,n.nextSibling)};var o=this;return this.setToolbar=function(e,s){r.innerHTML="";for(var a=e.length-1;0<=a;a--){var l=document.createElement("a");l.setAttribute("href","javascript:void(0)"),l.className="wdr-ui-btn"+(e[a].isPositive?" wdr-ui-btn-dark":""),e[a].id&&(l.id=e[a].id),WebDataRocksToolbar.prototype.setText(l,e[a].label),l.onclick=function(e){return function(){null!=e&&e.call(),o.popupManager.removePopup()}}(e[a].handler),!0===e[a].disabled?WebDataRocksToolbar.prototype.addClass(l,"wdr-ui-disabled"):WebDataRocksToolbar.prototype.removeClass(l,"wdr-ui-disabled"),e[a].isPositive&&(WebDataRocksToolbar.prototype.osUtils.isMac||WebDataRocksToolbar.prototype.osUtils.isIOS)?r.appendChild(l):r.insertBefore(l,r.firstChild)}s?(r.classList.add("wdr-ui-col"),n.appendChild(r),n.classList.add("wdr-ui-row"),i.classList.add("wdr-ui-col")):t.appendChild(r)},this.toolbar=r,this.titleBar=n,this.title=i,this},WebDataRocksToolbar.ColorPicker=function(e,t){function n(e){e=e.target.getAttribute("data-c"),d.drawShades(d.colors[e]),d.setColor(e,d.currentType,!0)}function i(e){e=e.target.getAttribute("data-c"),d.setColor(e,d.currentType,!0)}function r(e){d.currentType=e,a.classList.remove("wdr-current"),l.classList.remove("wdr-current"),"bg"==e?(l.classList.add("wdr-current"),d.setColor(d.backgroundColor,e,!1)):(a.classList.add("wdr-current"),d.setColor(d.fontColor,e,!1))}function o(){d.closePopup(),d.cancelHandler&&d.cancelHandler()}this.toolbar=e,this.element=document.createElement("div"),this.element.classList.add("wdr-colorpick-wrap"),this.element.classList.add("wdr-width40"),this.colorPickerButton=document.createElement("div"),this.colorPickerButton.classList.add("wdr-colorpick-btn"),this.element.appendChild(this.colorPickerButton),this.colorPickerIcon=document.createElement("span"),this.colorPickerIcon.classList.add("wdr-icon"),this.colorPickerIcon.classList.add("wdr-icon-act_font"),this.colorPickerButton.appendChild(this.colorPickerIcon),this.popup=document.createElement("div"),this.popup.classList.add("wdr-colorpick-popup"),this.popup.onclick=function(e){e.stopPropagation()},t.appendChild(this.popup);var s=document.createElement("div");s.classList.add("wdr-color-targ-switch"),this.popup.appendChild(s);var a=document.createElement("a");a.classList.add("wdr-cts-item"),a.classList.add("wdr-current"),a.href="javascript:void(0);",a.innerHTML=e.Labels.cp_text,a.onclick=function(){r("font")},s.appendChild(a);var l=document.createElement("a");for(var c in l.classList.add("wdr-cts-item"),l.innerHTML=e.Labels.cp_highlight,l.href="javascript:void(0);",l.onclick=function(){r("bg")},s.appendChild(l),(s=document.createElement("div")).classList.add("wdr-cp-sett-row"),this.popup.appendChild(s),this.colorInput=document.createElement("input"),this.colorInput.type="text",this.colorInput.classList.add("wdr-inp"),this.colorInput.classList.add("wdr-width140"),this.colorInput.classList.add("wdr-tac"),this.colorInput.onchange=function(){var e=d.colorInput.value;d.isColor(e)&&d.setColor(e,d.currentType,!0)},s.appendChild(this.colorInput),this.colorPreview=document.createElement("div"),this.colorPreview.classList.add("wdr-cp-curr-color"),this.colorPreview.classList.add("wdr-width140"),s.appendChild(this.colorPreview),this.mainColors=document.createElement("div"),this.mainColors.classList.add("wdr-row-9colors"),this.popup.appendChild(this.mainColors),this.colors){(s=document.createElement("div")).classList.add("wdr-r9c-item"),s.style.backgroundColor=c,s.setAttribute("data-c",c),s.addEventListener("click",n),this.mainColors.appendChild(s);var u=document.createElement("span");u.classList.add("wdr-cp-currentmark"),u.classList.add("wdr-icon"),u.classList.add("wdr-icon-act_check"),s.appendChild(u),(u=document.createElement("span")).classList.add("wdr-r9c-arrow"),u.style.borderTopColor=c,s.appendChild(u)}for(this.shadeColors=document.createElement("div"),this.shadeColors.classList.add("wdr-row-4colors"),this.popup.appendChild(this.shadeColors),c=0;8>c;c++)(s=document.createElement("div")).classList.add("wdr-r4c-item"),s.addEventListener("click",i),this.shadeColors.appendChild(s),(u=document.createElement("span")).classList.add("wdr-cp-currentmark"),u.classList.add("wdr-icon"),u.classList.add("wdr-icon-act_check"),s.appendChild(u);this.drawShades(this.colors["#000000"]),(s=document.createElement("div")).classList.add("wdr-cp-btns-row"),this.popup.appendChild(s),(c=document.createElement("a")).innerHTML=e.Labels.apply,c.classList.add("wdr-ui-btn"),c.classList.add("wdr-ui-btn-dark"),c.addEventListener("click",function(){d.closePopup(),d.applyHandler&&d.applyHandler()}),(u=document.createElement("a")).innerHTML=e.Labels.cancel,u.classList.add("wdr-ui-btn"),u.addEventListener("click",o),WebDataRocksToolbar.prototype.osUtils.isMac||WebDataRocksToolbar.prototype.osUtils.isIOS?(s.appendChild(u),s.appendChild(c)):(s.appendChild(c),s.appendChild(u)),this.currentType="font",this.colorPickerButton.addEventListener("click",function(e){e.stopPropagation(),d.isOpened()?d.closePopup():d.openPopup()}),document.body.addEventListener("click",function(e){o()});var d=this},WebDataRocksToolbar.ColorPicker.prototype.colors={"#000000":"#000000 #212121 #424242 #616161 #757575 #9E9E9E #BDBDBD #FFFFFF".split(" "),"#F44336":"#D32F2F #E53935 #F44336 #EF5350 #E57373 #EF9A9A #FFCDD2 #FFEBEE".split(" "),"#FF9800":"#F57C00 #FB8C00 #FF9800 #FFA726 #FFB74D #FFCC80 #FFE0B2 #FFF3E0".split(" "),"#FFEB3B":"#FBC02D #FDD835 #FFEB3B #FFEE58 #FFF176 #FFF59D #FFF9C4 #FFFDE7".split(" "),"#8BC34A":"#689F38 #7CB342 #8BC34A #9CCC65 #AED581 #C5E1A5 #DCEDC8 #F1F8E9".split(" "),"#009688":"#00796B #00897B #009688 #26A69A #4DB6AC #80CBC4 #B2DFDB #E0F2F1".split(" "),"#03A9F4":"#0288D1 #039BE5 #03A9F4 #29B6F6 #4FC3F7 #81D4FA #B3E5FC #E1F5FE".split(" "),"#3F51B5":"#303F9F #3949AB #3F51B5 #5C6BC0 #7986CB #9FA8DA #C5CAE9 #E8EAF6".split(" "),"#9C27B0":"#7B1FA2 #8E24AA #9C27B0 #AB47BC #BA68C8 #CE93D8 #E1BEE7 #F3E5F5".split(" ")},WebDataRocksToolbar.ColorPicker.prototype.isOpened=function(){return this.popup.parentElement&&this.popup.parentElement.classList.contains("wdr-popup-opened")},WebDataRocksToolbar.ColorPicker.prototype.drawShades=function(e){if(e)for(var t=this.shadeColors.children,n=0;n<t.length;n++){var i=t[n];i.setAttribute("data-c",e[n]),i.style.backgroundColor=e[n],i.style.borderRight="#FFFFFF"==e[n]?"1px solid #d5d5d5":"none",i.style.borderBottom="#FFFFFF"==e[n]?"1px solid #d5d5d5":"none"}},WebDataRocksToolbar.ColorPicker.prototype.setColor=function(e,t,n){"string"==typeof e&&0==e.indexOf("0x")&&(e="#"+e.substr(2)),"bg"==t?(this.backgroundColor=e,this.colorPickerButton.style.backgroundColor=e):(this.fontColor=e,this.colorPickerIcon.style.color=e),this.colorInput.value=e,this.colorPreview.style.backgroundColor=e,this.drawSelected(),n&&this.changeHandler&&this.changeHandler()},WebDataRocksToolbar.ColorPicker.prototype.drawSelected=function(){var e="bg"==this.currentType?this.backgroundColor:this.fontColor,t=this.findMain(e);this.drawShades(this.colors[t]);for(var n=this.mainColors.children,i=0;i<n.length;i++)n[i].classList.remove("wdr-current");for((t=this.mainColors.querySelector("[data-c='"+t+"']"))&&t.classList.add("wdr-current"),n=this.shadeColors.children,i=0;i<n.length;i++)n[i].classList.remove("wdr-current");(e=this.shadeColors.querySelector("[data-c='"+e+"']"))&&e.classList.add("wdr-current")},WebDataRocksToolbar.ColorPicker.prototype.findMain=function(e){for(var t in"string"==typeof e&&0==e.indexOf("0x")&&(e="#"+e.substr(2)),this.colors)if(0<=this.colors[t].indexOf(e))return t},WebDataRocksToolbar.ColorPicker.prototype.isColor=function(e){return e.match(/^#?[0-9A-Fa-f]{6}$/g)},WebDataRocksToolbar.ColorPicker.prototype.closePopup=function(){this.popup.parentElement&&this.popup.parentElement.classList.remove("wdr-popup-opened")},WebDataRocksToolbar.ColorPicker.prototype.openPopup=function(){for(var e=this.toolbar.toolbarWrapper.querySelectorAll(".wdr-colorpick-popup"),t=0;t<e.length;t++)e[t].parentElement.classList.remove("wdr-popup-opened");this.popup.parentElement&&(e=this.toolbar.toolbarWrapper.querySelector("#wdr-popup-conditional .wdr-panel-content"),t=this.getWhere(this.colorPickerButton,e),0>this.getWhere(this.colorPickerButton,document.body).top-this.popup.clientHeight?(this.popup.classList.remove("wdr-arrow-down"),this.popup.classList.add("wdr-arrow-up"),this.popup.style.top=this.colorPickerButton.clientHeight+t.top+11+"px",this.popup.style.bottom=""):(this.popup.classList.add("wdr-arrow-down"),this.popup.classList.remove("wdr-arrow-up"),this.popup.style.bottom=e.clientHeight-t.top+5+"px",this.popup.style.top=""),this.popup.style.left=t.left+this.colorPickerButton.clientWidth/2+2+"px",this.popup.parentElement.classList.add("wdr-popup-opened"))},WebDataRocksToolbar.ColorPicker.prototype.getWhere=function(e,t){var n=0,i=0;if(e.offsetParent){n=e.offsetLeft,i=e.offsetTop;for(var r=e;(r=r.parentNode)&&r!=t;)n-=0,i-=r.scrollTop?r.scrollTop:0;for(;(e=e.offsetParent)&&e!=t;)n+=e.offsetLeft,i+=e.offsetTop}return{top:i+0,left:n+0}},function(e,t){"function"==typeof define&&define.amd&&define("webdatarocks",[],t),e.WebDataRocks=t()}(window,function(){return function(e){var t,n,i,r,o,s,a=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});!function(e){var t=function(){function e(e,t,n){void 0===t&&(t=null),void 0===n&&(n=null),this.type=e,this.target=t,this.data=n}return e.isNativeType=function(e){return-1<"fullscreenchange mozfullscreenchange webkitfullscreenchange MSFullscreenChange focusin focusout touchstart touchmove touchend touchenter touchleave touchcancel".split(" ").indexOf(e)},e.COMPLETE="event_complete",e.CONNECTED="event_connected",e.PROGRESS="event_progress",e.SELECT="event_select",e.CHANGE="event_change",e.ERROR="event_error",e.OPENED="event_opened",e.CLOSED="event_closed",e.CANCEL="event_cancel",e.OPEN="event_open",e.CLOSE="event_close",e.RESIZE="event_resize",e}();e._Event=t,t=function(){function t(){this.dispatchActive=!1,this._listeners=[],this._addedListeners=[],this._deletedListeners=[]}return t.prototype.areListenersEqual=function(e,t){return e.type==t.type&&e.handler==t.handler},t.prototype.hasEventListener=function(e,t){if(s.nullOrUndefined(this._listeners[e]))return!1;for(var n=0;n<this._listeners[e].length;n++)if(this.areListenersEqual(this._listeners[e][n],t))return!0;return!1},t.prototype.addEventListener=function(e,t,n){if(void 0===n&&(n=0),!this.hasEventListener(e,t={type:e,handler:t,priority:n}))if(this.dispatchActive)s.nullOrUndefined(this._addedListeners[e])&&(this._addedListeners[e]=[]),this._addedListeners[e].push(t);else if(s.nullOrUndefined(this._listeners[e])&&(this._listeners[e]=[]),0==this._listeners[e].length)this._listeners[e].push(t);else{this._listeners[e][this._listeners[e].length-1].priority>=n&&this._listeners[e].push(t);for(var i=0;i<this._listeners[e].length;i++)if(this._listeners[e][i].priority<n){this._listeners[e].splice(i,0,t);break}}},t.prototype.removeEventListener=function(e,t){if(!s.nullOrUndefined(this._listeners[e])){for(var n={type:e,handler:t},i=this._listeners[e].slice(0),r=[],o=0;o<i.length;o++)this.areListenersEqual(i[o],n)?this.dispatchActive&&(s.nullOrUndefined(this._deletedListeners[e])&&(this._deletedListeners[e]=[]),this._deletedListeners[e].push(i[o])):r.push(i[o]);this._listeners[e]=r}},t.prototype.removeAllEventListeners=function(e){void 0===e?(this._listeners=[],this._addedListeners=[],this._deletedListeners=[]):(s.nullOrUndefined(this._listeners)||(this._listeners[e]=[]),s.nullOrUndefined(this._addedListeners)||(this._addedListeners[e]=[]),s.nullOrUndefined(this._deletedListeners)||(this._deletedListeners[e]=[]))},t.prototype.dispatch=function(e){if(!s.nullOrUndefined(this._listeners[e.type])){this.dispatchActive=!0;for(var t=this._listeners[e.type].slice(0),n=0;n<t.length;n++){if(!s.nullOrUndefined(this._deletedListeners[e.type])){var i,o=!1;for(i in this._deletedListeners[e.type])this.areListenersEqual(t[n],this._deletedListeners[e.type][i])&&(o=!0);if(o)continue}t[n].handler.call(this,e instanceof r.model.APIEvent?e.data:e)}for(var a in delete this._deletedListeners[e.type],this._addedListeners){if(s.nullOrUndefined(this._listeners[a]))t=[];else{if(!(this._listeners[a]instanceof Array))continue;t=this._listeners[a].slice(0)}if(!s.nullOrUndefined(this._addedListeners[a]))for(n=0;n<this._addedListeners[a].length;n++)if(0==t.length)t.push(this._addedListeners[a][n]);else for(t[t.length-1].priority==this._addedListeners[a][n].priority&&t.push(this._addedListeners[a][n]),e=0;e<t.length;e++)if(t[e].priority<this._addedListeners[a][n].priority){t.splice(e,0,this._addedListeners[a][n]);break}this._listeners[a]=t,this._addedListeners[a]=[]}this.dispatchActive=!1}},t.prototype.dispatchWith=function(t,n,i){t=new e._Event(t,null==n?this:n,i),this.dispatch(t)},t}(),e.EventDispatcher=t}(t||(t={})),function(e){var t,n;t=e.dragndrop||(e.dragndrop={}),n=function(){function t(){var e=this;this.distance=5,this._lastDraggable=null,s.fmdocument.addEventListener("mousemove",function(t){return e.onMouseMove(t)}),s.fmdocument.addEventListener("touchmove",function(t){return e.onTouchMove(t)},!1),s.fmdocument.addEventListener("mouseup",function(t){return e.onMouseUp(t)}),s.fmdocument.addEventListener("touchend",function(t){return e.onTouchEnd(t)}),s.fmdocument.addEventListener("touchcancel",function(t){return e.onTouchEnd(t)})}return t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.dispose=function(){t.instance=null},t.prototype.makeDraggable=function(e,t){var n=this;e.addClass("wdr-draggable");var i=function(i){t.handle&&!i.target.matches(t.handle)||n.dragElement==e||(null!=n.dragElement&&n.stopDrag(t,i),n.dragElement=e,n.dragOptions=t,n.startX=n.getX(i),n.startY=n.getY(i))};e.addEventListener("mousedown",i),e.addEventListener("touchstart",i)},t.prototype.getX=function(e){return e instanceof MouseEvent?e.clientX:e.changedTouches[0].clientX},t.prototype.getY=function(e){return e instanceof MouseEvent?e.clientY:e.changedTouches[0].clientY},t.prototype.onMouseMove=function(e){1==e.which&&this.dragElement&&(this.dragHelper&&this.dragElement.hasClass("wdr-dragging")?(this.setHelperPosition(e.clientX,e.clientY),this.dragOptions.onDrag&&this.dragOptions.onDrag(this.dragElement,e),e.preventDefault()):s.nullOrUndefined(this.dragOptions.onDragStart)||this.dragOptions.onDragStart(this.dragElement,e)?(this.dragHelper=this.dragOptions.createHelper(this.dragElement),this.dragHelper.css("opacity",0),r._view.PivotView.stage.container.addChild(this.dragHelper),this.setHelperPosition(e.clientX,e.clientY,!0),this.dragElement.addClass("wdr-dragging")):(this.dragElement=null,this.dragHelper.removeFromParent(!0),this.dragHelper=null))},t.prototype.isDistanceOK=function(e,t){return Math.abs(this.startX-e)>this.distance||Math.abs(this.startY-t)>this.distance},t.prototype.setHelperPosition=function(e,t,n){if(void 0===n&&(n=!1),null!=this.dragHelper){var i=r._view.PivotView.stage.container.getOffset();this.dragHelper.position({top:t-i.top,left:e-i.left}),this.isDistanceOK(e,t)&&(this.dragHelper.css("opacity",1),this.dragElement.addClass("wdr-dragging-move")),n&&null!=this.dragElement&&(i=this.dragElement.getOffset(),t=Math.max(0,Math.min(this.dragElement.height,t-i.top)),e=Math.max(0,Math.min(this.dragElement.width,this.dragHelper.width,e-i.left)),this.dragHelper.css("margin-top",-t+"px"),this.dragHelper.css("margin-left",-e+"px"))}},t.prototype.onTouchMove=function(t){if(this.dragElement){var n=t.touches[0];if(this.dragHelper&&this.dragElement.hasClass("wdr-dragging")){if(this.setHelperPosition(n.clientX,n.clientY),this.dragOptions.onDrag&&this.dragOptions.onDrag(this.dragElement,t),t.preventDefault(),n=t.changedTouches[0],n=e.UIElement.convert(document.elementFromPoint(n.clientX,n.clientY))){var i=n.closest(".wdr-droppable");i&&i.droppableOptions&&i.droppableOptions.onDragOver&&(i.droppableOptions.onDragOver(this.dragElement,this.dragHelper,i,t),this._lastDraggable=i)}(null==n||null==i)&&null!=this._lastDraggable&&this._lastDraggable.droppableOptions&&this._lastDraggable.droppableOptions.onDragLeave&&this._lastDraggable.droppableOptions.onDragLeave(this.dragElement,this.dragHelper,this._lastDraggable,t)}else s.nullOrUndefined(this.dragOptions.onDragStart)||this.dragOptions.onDragStart(this.dragElement,t)?(this.dragHelper=this.dragOptions.createHelper(this.dragElement),this.dragHelper.css("opacity",0),r._view.PivotView.stage.container.addChild(this.dragHelper),this.setHelperPosition(n.clientX,n.clientY,!0),this.dragElement.addClass("wdr-dragging")):(this.dragElement=null,this.dragHelper.removeFromParent(!0),this.dragHelper=null)}},t.prototype.onMouseUp=function(e){this.stopDrag(this.dragOptions,e)},t.prototype.onTouchEnd=function(t){for(var n=t.changedTouches[0],i=n=e.UIElement.convert(document.elementFromPoint(n.clientX,n.clientY));n;){if(n.hasClass("wdr-droppable")){s.nullOrEmpty(n.droppableOptions.itemSelector)||(i=i.closest(n.droppableOptions.itemSelector)),n.droppableOptions.onDrop(this.dragElement,n,i,t);break}n=n.parent}this.stopDrag(this.dragOptions,t)},t.prototype.stopDrag=function(e,t){null!=this.dragHelper&&(this.dragHelper.removeFromParent(!0),this.dragHelper=null),null!=this.dragElement&&(this.dragElement.removeClass("wdr-dragging"),this.dragElement.removeClass("wdr-dragging-move"),e.onDragEnd&&this.isDistanceOK(this.getX(t),this.getY(t))&&e.onDragEnd(this.dragElement,t),this.dragElement=null),this._lastDraggable=null,this.startY=this.startX=NaN},t.prototype.makeDroppable=function(t,n,i){var r=this;t.hasClass("wdr-droppable")||(t.addClass("wdr-droppable"),t.addEventListener("mouseenter",function(e){null!=r.dragElement&&1==e.which&&i.onDragEnter&&i.onDragEnter(r.dragElement,r.dragHelper,n,e)}),t.addEventListener("mouseleave",function(e){null!=r.dragElement&&1==e.which&&i.onDragLeave&&i.onDragLeave(r.dragElement,r.dragHelper,n,e)}),t.addEventListener("mouseover",function(e){null!=r.dragElement&&1==e.which&&i.onDragOver&&i.onDragOver(r.dragElement,r.dragHelper,n,e)}),t.addEventListener("mouseup",function(n){if(null!=r.dragElement&&1==n.which){var o=e.UIElement.convert(n.target);s.nullOrEmpty(i.itemSelector)||(o=o.closest(i.itemSelector)),i.onDrop(r.dragElement,t,o,n)}}))},t}(),t.DragManager=n}(i||(i={})),function(e){var n=function(t){function n(n,i){void 0===n&&(n="div"),void 0===i&&(i="");var r=t.call(this)||this;return r.container=new e.UIElement(n),r.container.addClass("wdr-ui "+i),s.browserVersion().isMobile&&r.container.addClass("wdr-ui-mobile"),r.validate(),r}return a(n,t),n.prototype.validate=function(){this.invalidHash={}},n.prototype.invalidate=function(e){void 0===e&&(e="all"),this.invalidHash[e]=!0,this.draw()},n.prototype.isInvalid=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(this.invalidHash.all)return!0;for(t=0;t<e.length;t++)if(this.invalidHash[e[t]])return!0;return!1},n.prototype.draw=function(){this.validate()},n.prototype.validateNow=function(){this.invalidate()},n.prototype.show=function(){this.container.show()},n.prototype.hide=function(){this.container.hide()},n.prototype.getId=function(){return this.container.attr("id")},n.prototype.setId=function(e){this.container.attr("id",e)},n.prototype.getName=function(){return this.name},n.prototype.setName=function(e){this.name=e},n.prototype.html=function(e){return void 0===e?this.container.html():(this.container.html(e),this)},n.prototype.setEnabled=function(e){this.container.toggleClass("wdr-ui-disabled",!e)},n.prototype.getEnabled=function(){return!this.container.hasClass("wdr-ui-disabled")},n.prototype.addClass=function(e){void 0===e&&(e=""),this.container.addClass(e)},n.prototype.removeClass=function(e){this.container.removeClass(e)},Object.defineProperty(n.prototype,"padding",{get:function(){return this.container.padding},set:function(e){},enumerable:!0,configurable:!0}),n.prototype.getWidth=function(e){return this.container.getWidth(e)},n.prototype.setWidth=function(e){this.getWidth()!==e&&(this.container.setWidth(e),this.invalidate("size"))},n.prototype.getHeight=function(e){return void 0===e&&(e=!1),this.container.getHeight(e)},n.prototype.setHeight=function(e){this.getHeight()!==e&&(this.container.setHeight(e),this.invalidate("size"))},n.prototype.isVisible=function(e){return void 0===e&&(e=void 0),void 0!==e&&(e?this.show():this.hide()),this.container.visible},n.prototype.position=function(){return this.container.position()},n.prototype.addChild=function(e,t){void 0===t&&(t=!1),t?this.container.prepend(e.container):this.container.append(e.container)},n.prototype.removeFromParent=function(e){void 0===e&&(e=!1),e?this.container.remove():this.container.detach()},n.prototype.getX=function(){return this.container.left},n.prototype.getY=function(){return this.container.top},n.prototype.hitTestPoint=function(e,t){return e>=this.getX()&&e<=this.getX()+this.getWidth()&&t>=this.getY()&&t<=this.getY()+this.getHeight()},n.prototype.addEventListener=function(e,t){this.container.addEventListener(e,t)},n.prototype.removeEventListener=function(e,t){this.container.removeEventListener(e,t)},n.prototype.dispatch=function(e){this.container.dispatch(e)},n.prototype.dispatchWith=function(e,t,n){this.container.dispatchWith(e,t,n)},n.prototype.addLayoutClasses=function(e){void 0===e&&(e=!1),e=e?this.getWidth(!0):r._view.PivotView.stageWidth,this.container.toggleClass("wdr-layout-tablet",768>e),this.container.toggleClass("wdr-layout-mobile",580>e),this.container.toggleClass("wdr-layout-mobile-small",460>e)},n}(t.EventDispatcher);e.UIComponentBase=n}(i||(i={})),function(e){var n=function(n){function i(e,t){void 0===e&&(e="div"),void 0===t&&(t="");var i=n.call(this)||this;return i.display="block",i.frames=[],i.__handlers=[],i.element="string"==typeof e?document.createElement(e):e,i.addClass("wdr-ui-element"),i.addClass(t),i}return a(i,n),Object.defineProperty(i.prototype,"element",{get:function(){return this._element},set:function(e){(this._element=e)&&(this._element.uielement=this)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"id",{get:function(){return this.element.id},set:function(e){this.element.id=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){return i.convert(this.element.parentElement)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"nodeName",{get:function(){return this._element.nodeName.toLowerCase()},enumerable:!0,configurable:!0}),i.prototype.addChild=function(e){this.element.appendChild(e.element)},i.prototype.children=function(){for(var e=this.element.firstElementChild,t=[];e;)t.push(i.convert(e)),e=e.nextElementSibling;return t},i.prototype.contains=function(e){return this.element.contains(e.element)},i.prototype.append=function(e){return e&&this.addChild(e),this},i.prototype.prepend=function(e){return this.element.insertBefore(e.element,this.element.firstChild),this},i.prototype.before=function(e){return this.element.parentNode&&this.element.parentNode.insertBefore(e.element,this.element),this},i.prototype.after=function(e){return this.element.parentNode&&this.element.nextElementSibling?this.element.parentNode.insertBefore(e.element,this.element.nextElementSibling):this.append(e),this},i.prototype.addComponent=function(e){this.element.appendChild(e.container.element)},i.prototype.removeFromParent=function(e){void 0===e&&(e=!0),e?this.remove():this.detach()},i.prototype.remove=function(){null!=this.element&&(this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.dispose())},i.prototype.detach=function(){if(null!=this.element&&this.element.parentNode){var e=this.element.cloneNode(!0);this.element.parentNode.removeChild(this.element),this.element=e}},i.prototype.removeAllChildren=function(){for(;this.element&&this.element.firstChild;){var e=i.convert(this.element.firstChild);e&&e.dispose&&e.dispose(),this.element.removeChild(this.element.firstChild)}},i.prototype.clone=function(){return i.convert(this.element.cloneNode(!0))},i.convert=function(e){return e&&e.nodeType==Node.ELEMENT_NODE?s.nullOrUndefined(e.uielement)?new i(e):e.uielement:null},i.prototype.get=function(e){var t=this.children();return 0<t.length?t[e]:null},i.prototype.find=function(e,t){if(void 0===t||0==t)return i.convert(this.element.querySelector(e));for(var n=this.element.querySelectorAll(e),r=[],o=0;o<n.length;o++)r.push(i.convert(n[o]));return r},i.prototype.closest=function(e){if(!this.element)return null;for(var t=this.element;null!=t;){if(t.matches){if(t.matches(e))return t==this.element?this:i.convert(t)}else if(t.msMatchesSelector(e))return t==this.element?this:i.convert(t);t=t.parentElement}return null},i.prototype.addClass=function(e){if(!this.element)return this;for(var t=(e=e.trim()).split(" "),n=0;n<t.length;n++)0<t[n].length&&(s.detectBrowser().isMsie?(e=this.element.getAttribute("class"),s.nullOrUndefined(e)?this.element.setAttribute("class",t[n]):-1==e.split(" ").indexOf(t[n])&&this.element.setAttribute("class",e+" "+t[n])):0==this.element.classList.contains(t[n])&&this.element.classList.add(t[n]));return this},i.prototype.removeClass=function(e){if(!this.element)return this;if(0<(e=e.trim()).length)if(s.detectBrowser().isMsie){var t=this.element.getAttribute("class");s.nullOrUndefined(t)||-1<(e=(t=t.split(" ")).indexOf(e))&&(t.splice(e,1),this.element.setAttribute("class",t.join(" ")))}else this.element.classList.contains(e)&&this.element.classList.remove(e);return this},i.prototype.toggleClass=function(e,t){t?this.addClass(e):this.removeClass(e)},i.prototype.hasClass=function(e){return this.element.classList.contains(e)},i.prototype.disableSelection=function(){return this.addClass("wdr-noselect"),this},i.prototype.enableSelection=function(){return this.addClass("wdr-selectable"),this},i.prototype.getWidth=function(e){if(void 0===e&&(e=!1),!this.element)return 0;var t=window.getComputedStyle(this.element);return e=e?0:(parseFloat(t.paddingLeft)||0)+(parseFloat(t.paddingRight)||0),this.element.clientWidth-e},i.prototype.setWidth=function(e){return"number"==typeof e?this.element.style.width=e+"px":"string"==typeof e&&(this.element.style.width=e),this},Object.defineProperty(i.prototype,"width",{get:function(){return this.getWidth()},set:function(e){this.setWidth(e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"padding",{get:function(){var e=window.getComputedStyle(this.element);return{left:parseFloat(e.paddingLeft)||0,right:parseFloat(e.paddingRight)||0,top:parseFloat(e.paddingTop)||0,bottom:parseFloat(e.paddingBottom)||0}},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"borderWidth",{get:function(){var e=window.getComputedStyle(this.element);return{left:parseFloat(e.borderLeftWidth||e.borderWidth)||0,right:parseFloat(e.borderRightWidth||e.borderWidth)||0,top:parseFloat(e.borderTopWidth||e.borderWidth)||0,bottom:parseFloat(e.borderBottomWidth||e.borderWidth)||0}},enumerable:!0,configurable:!0}),i.prototype.getHeight=function(e){void 0===e&&(e=!1);var t=window.getComputedStyle(this.element);return e=e?0:(parseFloat(t.paddingTop)||0)+(parseFloat(t.paddingBottom)||0),0>this.element.clientHeight-e?0:this.element.clientHeight-e},i.prototype.setHeight=function(e){return"number"==typeof e?this.element.style.height=e+"px":"string"==typeof e&&(this.element.style.height=e),this},Object.defineProperty(i.prototype,"height",{get:function(){return this.getHeight()},set:function(e){this.setHeight(e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"left",{get:function(){return this.element.getBoundingClientRect().left},set:function(e){this.element.style.left=e+"px"},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"top",{get:function(){return this.element.getBoundingClientRect().top},set:function(e){this.element.style.top=e+"px"},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"right",{get:function(){return this.element.getBoundingClientRect().right},set:function(e){this.element.style.right=e+"px"},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"bottom",{get:function(){return this.element.getBoundingClientRect().bottom},set:function(e){this.element.style.bottom=e+"px"},enumerable:!0,configurable:!0}),i.prototype.outerHtml=function(){return this.element.outerHTML},i.prototype.html=function(e){return void 0===e?this.element.innerHTML:(this.element.innerHTML=e,this)},i.prototype.empty=function(){this.html("")},i.prototype.clear=function(){this.empty()},i.prototype.text=function(e){return void 0===e?this.element.textContent:("input"==this.element.tagName.toLowerCase()?this.element.value=e:this.element.textContent=e,this)},i.prototype.focus=function(){return this.element.focus(),this},i.prototype.blur=function(){return this.element.blur(),this},i.prototype.show=function(){this.element.style.display=this.display},i.prototype.hide=function(){this.element.style.display="none"},Object.defineProperty(i.prototype,"x",{get:function(){return this.element.offsetLeft},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"y",{get:function(){return this.element.offsetTop},enumerable:!0,configurable:!0}),i.prototype.offset=function(e){if(void 0===e)return this.getOffset();this.css("left",e.left+"px"),this.css("top",e.top+"px")},i.prototype.getBoundingClientRect=function(){return this.element.getBoundingClientRect()},i.prototype.position=function(e){if(void 0===e)return{top:this.y,left:this.x};this.offset(e)},i.prototype.attr=function(e,t){if(void 0===t)return this.element.getAttribute(e);try{this.element.setAttribute(e,t)}catch(n){this.element.attributes[e]=t}return this},i.prototype.removeAttr=function(e){return this.element.removeAttribute(e),this},i.prototype.css=function(e,t){return void 0===t?window.getComputedStyle(this.element)[i.toCamelCase(e)]:(this.element.style[i.toCamelCase(e)]=t,this)},i.toCamelCase=function(e){var t=e.split("-");if(1<t.length){for(e=1;e<t.length;e++)t[e]=t[e].charAt(0).toUpperCase()+t[e].substr(1);return t.join("")}return e},i.prototype.val=function(){return"input"==this.element.tagName.toLowerCase()||"textarea"==this.element.tagName.toLowerCase()?this.element.value:this.element.textContent},i.prototype.requestAnimationFrame=function(e){var t=0;return window.requestAnimationFrame?t=window.requestAnimationFrame(e):window.msRequestAnimationFrame?t=window.msRequestAnimationFrame(e):window.mozRequestAnimationFrame?t=window.mozRequestAnimationFrame(e):window.webkitRequestAnimationFrame?t=window.webkitRequestAnimationFrame(e):e.call(null),this.frames.push(t),t},i.prototype.cancelAnimationFrame=function(e){this.frames.splice(this.frames.indexOf(e),1),0!=e&&(null!=window.cancelAnimationFrame?window.cancelAnimationFrame(e):null!=window.msCancelRequestAnimationFrame?window.msCancelRequestAnimationFrame(e):null!=window.mozCancelAnimationFrame?window.mozCancelAnimationFrame(e):null!=window.webkitCancelAnimationFrame&&window.webkitCancelAnimationFrame(e))},Object.defineProperty(i.prototype,"visible",{get:function(){return this.element&&"none"!=this.css("display")},set:function(e){e?this.show():this.hide()},enumerable:!0,configurable:!0}),i.prototype.getOffset=function(e){if(void 0===e&&(e=null),null==e)return this.element.getBoundingClientRect();for(var t=0,n=0,i=this.element;i&&i!=e&&!isNaN(i.offsetLeft)&&!isNaN(i.offsetTop);)t+=i.offsetLeft-i.scrollLeft,n+=i.offsetTop-i.scrollTop,i=i.offsetParent;return{top:n,left:t}},i.prototype.getScrollTop=function(){return this.element.scrollTop},i.prototype.setScrollTop=function(e){return this.element.scrollTop=e,this},i.prototype.setScrollLeft=function(e){return this.element.scrollLeft=e,this},i.prototype.addEventListener=function(e,i,r){void 0!==this.element["on"+e]||t._Event.isNativeType(e)?(s.nullOrUndefined(this.__handlers[e])&&(this.__handlers[e]=[]),this.__handlers[e][i.toString()]=function(e){i(e)},this.element.addEventListener(e,this.__handlers[e][i.toString()],r)):n.prototype.addEventListener.call(this,e,i,r)},i.prototype.removeEventListener=function(e,i,r){void 0!==this.element["on"+e]||t._Event.isNativeType(e)?this.__handlers[e]&&this.element.removeEventListener(e,this.__handlers[e][i.toString()],r):n.prototype.removeEventListener.call(this,e,i)},i.prototype.dispatch=function(e){n.prototype.dispatch.call(this,e)},i.prototype.removeAllEventListeners=function(e){for(var t in this.__handlers)if(void 0===e||e==t)for(var i in this.__handlers[t])try{this.element.removeEventListener(t,this.__handlers[t][i],!0),this.element.removeEventListener(t,this.__handlers[t][i],!1)}catch(r){console.error(r)}this.__handlers=[],n.prototype.removeAllEventListeners.call(this,t)},i.prototype.dispose=function(){this.removeAllEventListeners(),this.removeAllChildren(),this._element=this._element.uielement=null;for(var e=0;e<this.frames.length;e++)this.cancelAnimationFrame(this.frames[e]);this.frames=[],this._resizableHelper&&this._resizableHelper.dispose()},i.prototype.refresh=function(){this.html(this.html())},i.prototype.draggable=function(t){e.dragndrop.DragManager.getInstance().makeDraggable(this,t)},i.prototype.droppable=function(t,n){this._droppableOptions=t,e.dragndrop.DragManager.getInstance().makeDroppable(this,n||this,t)},Object.defineProperty(i.prototype,"droppableOptions",{get:function(){return this._droppableOptions},enumerable:!0,configurable:!0}),i.prototype.index=function(){for(var e=0,t=this.element;t=t.previousElementSibling;)e++;return e},i.prototype.resizable=function(t){this._resizableHelper=new e.resizable.ResizableHelper(this,t)},i}(t.EventDispatcher);e.UIElement=n}(i||(i={})),function(e){var n=function(e){function n(t){void 0===t&&(t="");var n=e.call(this,"a","wdr-ui-btn")||this;return n.mouseDownTimeout=0,n.repeatDelay=50,n.addClass(t),n.container.addEventListener("click",function(e){return n.onClick(e)}),n.container.addEventListener("mousedown",function(e){return n.onMouseDown()}),n.container.addEventListener("mouseup",function(e){return n.onMouseUp()}),n.container.addEventListener("mouseout",function(e){return n.onMouseOut()}),n.container.display="inline-block",n}return a(n,e),n.prototype.onClick=function(e){this.getEnabled()&&this.dispatchWith(n.CLICK_EVENT,this),e.stopImmediatePropagation()},n.prototype.onMouseDown=function(){var e=this;this.container.toggleClass("wdr-ui-pressed",!0),this.mouseDownTimeout=s.fmSetInterval(function(){return e.dispatchMouseDown()},this.getRepeatDelay())},n.prototype.dispatchMouseDown=function(){this.dispatch(new t._Event(n.MOUSE_DOWN_EVENT,this))},n.prototype.onMouseUp=function(){this.container.toggleClass("wdr-ui-pressed",!1),s.fmClearInterval(this.mouseDownTimeout)},n.prototype.onMouseOut=function(){this.container.toggleClass("wdr-ui-pressed",!1),s.fmClearInterval(this.mouseDownTimeout)},n.prototype.getLabel=function(){return this.label},n.prototype.setRepeatDelay=function(e){this.repeatDelay=e},n.prototype.getRepeatDelay=function(){return this.repeatDelay},n.prototype.setLabel=function(e){this.label!=e&&(this.label=e,this.container.text(this.label))},n.MOUSE_DOWN_EVENT="buttonmousedown",n.CLICK_EVENT="buttonclick",n}(e.UIComponentBase);e.UIButton=n}(i||(i={})),function(e){var t=function(e){function t(t){void 0===t&&(t="");var n=e.call(this,"span","wdr-ui wdr-ui-label")||this;return n.container.display="inline-block",n.setLabel(t),n}return a(t,e),t.prototype.getLabel=function(){return this.label},t.prototype.setLabel=function(e,t){void 0===t&&(t=!1),this.label!=e&&(this.label=e,t?this.container.html(this.label):this.container.text(this.label))},t.prototype.setSelectable=function(e){e?this.container.enableSelection():this.container.disableSelection()},t}(e.UIComponentBase);e.UILabel=t}(i||(i={})),function(e){var n=function(n){function i(){var e=n.call(this,"textarea","wdr-ui-text-area")||this;return e.container.addEventListener("keypress",function(t){return e.onKeyPressed(t)}),e.container.addEventListener("keyup",function(t){return e.onKeyUp(t)}),e.container.addEventListener("paste",function(t){return e.onInputPaste(t)}),e}return a(i,n),i.prototype.onKeyUp=function(e){this.dispatchChange()},i.prototype.onInputPaste=function(e){this.dispatchChange()},i.prototype.dispatchChange=function(){this.dispatch(new t._Event(e.UITextInput.CHANGE_EVENT,this))},i.prototype.getText=function(){return this.container.val()},i.prototype.setText=function(e){this.getText()!=e&&(this.container.element.value=e,this.dispatchChange())},i.prototype.clear=function(){this.setText("")},i.prototype.insertText=function(e){var t=this.getSelectionBeginIndex(),n=this.getSelectionEndIndex(),i=(i=this.getText()).substr(0,t)+e+i.substr(t);this.setText(i),this.setSelection(t+e.length,n+e.length)},i.prototype.setSelection=function(e,t){void 0===t&&(t=-1),this.container.element.focus(),this.container.element.setSelectionRange(e,0>t?e:t)},i.prototype.getSelectionBeginIndex=function(){return this.container.element.selectionStart},i.prototype.getSelectionEndIndex=function(){return this.container.element.selectionEnd},i.prototype.selectAll=function(){this.setSelection(0,this.getText().length)},i.prototype.onKeyPressed=function(e){e.ctrlKey?(this.dispatchWith(i.EVENT_CTRL_ENTER),e.preventDefault()):13==e.keyCode&&(this.dispatchWith(i.EVENT_ENTER),e.preventDefault())},i.EVENT_ENTER="ntr",i.EVENT_CTRL_ENTER="ntl",i}(e.UIComponentBase);e.UITextArea=n}(i||(i={})),function(e){var n=function(e){function n(){var t=e.call(this,"input","wdr-ui-text-input")||this;return t.text="",t.prompt="",t.changeDelay=0,t.changeDispatched=!0,t.container.display="inline-block",t.container.attr("type","text"),t.container.attr("data-placeholder",""),t.container.addEventListener("focusin",function(e){return t.onFocusIn()}),t.container.addEventListener("focusout",function(e){return t.onFocusOut()}),t.container.addEventListener("keyup",function(e){return t.onKeyUp(e)}),t.container.addEventListener("keypress",function(e){return t.onKeyPressed(e)}),t.container.addEventListener("paste",function(e){return t.onInputPaste(e)}),t}return a(n,e),n.getChar=function(e){return null==e.which?32>e.keyCode?null:String.fromCharCode(e.keyCode):0!=e.which&&0!=e.charCode?32>e.which?null:String.fromCharCode(e.which):null},n.prototype.onKeyPressed=function(e){if(13==e.keyCode&&this.dispatchWith(n.EVENT_ENTER),!(s.nullOrUndefined(this.restrictRule)||e.ctrlKey||e.altKey||e.metaKey)){var t=n.getChar(e);null!=t&&!1===this.restrictRule.test(t)&&e.preventDefault()}},n.prototype.onKeyUp=function(e){this.container.val()!==this.text&&(this.text=this.container.val(),this.dispatchChange())},n.prototype.onInputPaste=function(e){this.container.val()!==this.text&&(this.text=this.container.val(),this.dispatchChange())},n.prototype.dispatchChange=function(){var e=this;0<this.changeDelay?this.changeDispatched&&(this.changeDispatched=!1,s.fmSetTimeout(function(){return e._dispatchChange()},this.changeDelay)):this._dispatchChange()},n.prototype._dispatchChange=function(){this.changeDispatched=!0,this.dispatch(new t._Event(n.CHANGE_EVENT,this,this.text))},n.prototype.onFocusIn=function(){0==this.text.length&&(this.container.text(""),this.enablePrompt(!1))},n.prototype.onFocusOut=function(){this.enablePrompt(0==this.text.length)},n.prototype.getText=function(){return this.text=this.container.val()==this.prompt?this.text:this.container.val()},n.prototype.setText=function(e){this.text!=e&&(this.text=e,this.container.text(this.text),this.enablePrompt(0==this.text.length))},n.prototype.clear=function(e){void 0===e&&(e=!0),this.setText(""),e&&this._dispatchChange()},n.prototype.setPrompt=function(e){e!=this.prompt&&(this.prompt=e,this.container.attr("data-placeholder",this.prompt),this.enablePrompt(0==this.text.length))},n.prototype.enablePrompt=function(e){this.container.text(e?this.prompt:this.text),this.container.toggleClass("wdr-ui-prompt",e)},n.prototype.getPrompt=function(){return this.prompt},n.prototype.setRestriction=function(e){this.restrictRule=e},n.prototype.getRestriction=function(){return this.restrictRule},n.prototype.setChangeDelay=function(e){this.changeDelay=e},n.prototype.getChangeDelay=function(){return this.changeDelay},n.prototype.getType=function(){return this.container.attr("type")},n.prototype.setType=function(e){this.container.attr("type",e)},n.CHANGE_EVENT="_",n.EVENT_ENTER="ntr",n}(e.UIComponentBase);e.UITextInput=n}(i||(i={})),function(e){var n=function(n){function i(){var t=n.call(this)||this;return t.container.display="inline-block",t.container.hasClass("wdr-ui-btn")&&t.container.removeClass("wdr-ui-btn"),t.container.addClass("wdr-ui-toggle-btn"),t.selected=0,t.addEventListener(e.UIButton.CLICK_EVENT,function(){return t.onClick()}),t}return a(i,n),i.prototype.onClick=function(){this.getEnabled()&&(this.toggle(),this.dispatchWith(t._Event.CHANGE,this))},i.prototype.toggle=function(){this.selected=1==this.selected?0:1,this.container.toggleClass("wdr-selected",1==this.selected)},i.prototype.setSelection=function(e){this.selected==e||1<e||-1>e||(this.selected=e,this.container.toggleClass("wdr-selected",1==this.selected))},i.prototype.getSelection=function(){return this.selected},i}(e.UIButton);e.UIToggleButton=n}(i||(i={})),function(e){var t=function(t){function n(){var n=t.call(this)||this;return n.container.display="inline-block",n.container.hasClass("wdr-ui-toggle-btn")&&n.container.removeClass("wdr-ui-toggle-btn"),n.container.addClass("wdr-ui-checkbox"),n.labelHolder=new e.UILabel("Label"),n.container.append(n.labelHolder.container),n}return a(n,t),n.prototype.toggle=function(){t.prototype.toggle.call(this),this.container.toggleClass("wdr-ui-semi-selected",-1==this.getSelection())},n.prototype.setLabel=function(e,t){void 0===t&&(t=!1),null!=this.labelHolder&&this.labelHolder.setLabel(e,t)},n.prototype.getLabel=function(){return null!=this.labelHolder?this.labelHolder.getLabel():""},n.prototype.setSelection=function(e){this.getSelection()==e||1<e||-1>e||(t.prototype.setSelection.call(this,e),this.container.toggleClass("wdr-ui-semi-selected",-1==this.getSelection()))},Object.defineProperty(n.prototype,"checked",{get:function(){return 1==this.getSelection()},set:function(e){this.setSelection(e?1:0)},enumerable:!0,configurable:!0}),n.SELECTED=1,n.UNSELECTED=0,n.SEMI_SELECTED=-1,n}(e.UIToggleButton);e.UICheckBox=t}(i||(i={})),function(e){var t=function(e){function t(){var n=e.call(this,"div","wdr-ui-divider")||this;return n.mouseMoveHandler=function(e){return n.onMouseMove(e)},n.mouseDownHandler=function(e){return n.onMouseDown(e)},n.mouseUpHandler=function(e){return n.onMouseUp(e)},n.direction=t.HORIZONTAL,n.addEventListener("mousedown",n.mouseDownHandler),s.fmdocument.addEventListener("mouseup",n.mouseUpHandler),n.container.disableSelection(),n}return a(t,e),t.prototype.onMouseDown=function(e){this._height=this.direction==t.HORIZONTAL?this.getHeight():this.getWidth(),this._baseOffset=this.container.parent.getOffset(),s.fmdocument.addEventListener("mousemove",this.mouseMoveHandler),e.preventDefault(),e.stopImmediatePropagation()},t.prototype.onMouseMove=function(e){if(this.direction==t.HORIZONTAL){var n=e.clientY-this._baseOffset.top;if(this._containment&&(n<this._containment[1]||n>this._containment[3]))return;this.container.css("top",n-this._height/2+"px"),this.dispatchWith(t.EVENT_MOVED,this,{top:n})}this.direction==t.VERTICAL&&(e=e.clientX-this._baseOffset.left,this._containment&&(e<this._containment[0]||e>this._containment[2])||(this.container.css("left",e-this._height/2+"px"),this.dispatchWith(t.EVENT_MOVED,this,{left:e})))},t.prototype.onMouseUp=function(e){s.fmdocument.removeEventListener("mousemove",this.mouseMoveHandler)},Object.defineProperty(t.prototype,"direction",{get:function(){return this._direction},set:function(e){this._direction=e,this.container.toggleClass("wdr-ui-horizontal",this._direction==t.HORIZONTAL),this.container.toggleClass("wdr-ui-vertical",this._direction==t.VERTICAL),this.container.css("position","absolute")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"containment",{set:function(e){this._containment=e},enumerable:!0,configurable:!0}),t.HORIZONTAL=0,t.VERTICAL=1,t.EVENT_MOVED="divider_moved_event",t}(e.UIComponentBase);e.UIDivider=t}(i||(i={})),function(e){var t=function(e){function t(){return e.call(this,"div","wdr-ui-modal-overlay")||this}return a(t,e),t.prototype.setTransparent=function(e){this.container.toggleClass("wdr-ui-opaque",!1),this.container.toggleClass("wdr-ui-transparent",e)},t.prototype.setOpaque=function(e){this.container.toggleClass("wdr-ui-transparent",!1),this.container.toggleClass("wdr-ui-opaque",e)},t}(e.UIComponentBase);e.UIModalOverlay=t}(i||(i={})),function(e){var t,n;t=e.containers||(e.containers={}),n=function(e){function t(t){return void 0===t&&(t="wdr-ui-container"),e.call(this,"div",t)||this}return a(t,e),t.prototype.removeChild=function(e){this.contains(e)&&e.container.detach()},t.prototype.contains=function(e){return!s.nullOrUndefined(e)&&this.container.contains(e.container)},t.prototype.getWidth=function(){return this.container.width},t.prototype.getHeight=function(){return this.container.height},t.prototype.removeAllChildren=function(){for(var e=this.container.children(),t=e.length-1;0<=t;t--)e[t].removeFromParent()},t}(e.UIComponentBase),t.UIContainer=n}(i||(i={})),function(e){!function(e){var t=function(e){function t(){return e.call(this,"wdr-ui-border-container")||this}return a(t,e),t}(e.UIContainer);e.UIBorderContainer=t}(e.containers||(e.containers={}))}(i||(i={})),function(e){!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.container.addClass("wdr-ui-window"),t.hide(),t}return a(t,e),t.prototype.setPosition=function(e,t){this.container.offset({left:Math.floor(e),top:Math.floor(t)}),this.container.css("position","absolute")},t.prototype.getPosition=function(){return this.container.offset()},t}(e.UIContainer);e.UIWindow=t}(e.containers||(e.containers={}))}(i||(i={})),function(e){!function(e){var t=function(e){function t(){return e.call(this,"wdr-ui-hgroup")||this}return a(t,e),t}(e.UIContainer);e.UIHGroup=t}(e.containers||(e.containers={}))}(i||(i={})),function(e){!function(e){var t=function(e){function t(){return e.call(this,"wdr-ui-vgroup")||this}return a(t,e),t}(e.UIContainer);e.UIVGroup=t}(e.containers||(e.containers={}))}(i||(i={})),function(e){!function(e){var t=function(e){function t(){return e.call(this,"wdr-ui-panel")||this}return a(t,e),t}(e.UIContainer);e.UIPanel=t}(e.containers||(e.containers={}))}(i||(i={})),function(e){var n,i;i=function(n){function i(t){var i=n.call(this)||this;return i._overlayClickHandler=function(){return i.onOverlayClick()},i.resizeHandler=function(e){return i.onWindowResize(e)},i.isOpaque=!1,i._modalParent=t,i.container.addClass("wdr-ui-popup"),i.hide(),i._overlay=new e.UIModalOverlay,i._overlay.addEventListener("click",i._overlayClickHandler),i._overlay.hide(),i._modalParent&&i._modalParent.addChild(i._overlay.container),i}return a(i,n),i.prototype.onWindowResize=function(e){var t=this;e.target===window&&(this.container.requestAnimationFrame(function(){return t.centerPosition()}),this.addLayoutClasses())},i.prototype.onOverlayClick=function(){this.close()},i.prototype.open=function(){s.fmwindow.addEventListener("resize",this.resizeHandler),this._overlay.show(),this._overlay.container.toggleClass("wdr-ui-opaque",this.isOpaque),this.show(),this.centerPosition(),this.dispatchWith(t._Event.OPENED),this.addLayoutClasses()},i.prototype.close=function(){s.fmwindow.removeEventListener("resize",this.resizeHandler),this._overlay.hide(),this.hide(),this.dispatchWith(t._Event.CLOSED)},i.prototype.centerPosition=function(){if(t=this._modalParent){var e=Math.max(0,(t.getWidth(!0)-this.container.getWidth(!0)-2)/2),t=Math.max(0,(t.getHeight(!0)-this.container.getHeight(!0)-2)/2);this.setPosition(e,t)}},Object.defineProperty(i.prototype,"overlay",{get:function(){return this._overlay},enumerable:!0,configurable:!0}),i}((n=e.containers||(e.containers={})).UIWindow),n.UIPopup=i}(i||(i={})),function(e){!function(e){var t=function(e){function t(){return e.call(this,"wdr-ui-toolbar")||this}return a(t,e),t}(e.UIContainer);e.UIToolbar=t}(e.containers||(e.containers={}))}(i||(i={})),function(e){var t,n;n=function(t){function n(){var n=t.call(this,"wdr-ui-toolbar-mobile")||this;return n.headerDisplay=new e.UILabel,n.headerDisplay.addClass("wdr-ui-header-display"),n.addChild(n.headerDisplay),n}return a(n,t),n.prototype.setHeader=function(e){this.header!=e&&(this.header=e,this.headerDisplay.setLabel(e))},n.prototype.getHeader=function(){return this.header},n.prototype.setLeftItem=function(e){this.leftItem!=e&&(null!=this.leftItem&&this.leftItem.removeFromParent(),this.leftItem=e,null!=this.leftItem&&(this.leftItem.addClass("wdr-ui-left"),this.addChild(this.leftItem)))},n.prototype.setRightItem=function(e){this.rightItem!=e&&(null!=this.rightItem&&this.rightItem.removeFromParent(),this.rightItem=e,null!=this.rightItem&&(this.rightItem.addClass("wdr-ui-right"),this.addChild(this.rightItem)))},n}((t=e.containers||(e.containers={})).UIContainer),t.UIToolbarMobile=n}(i||(i={})),function(e){!function(e){var t=function(){function e(){this.items=[],this.allItems=[]}return e.prototype.setItems=function(e){this.allItems=e},e.prototype.getItems=function(e,t){if(0>e||t>this.allItems.length+1)return[];this.items.length=0;for(var n=e;n<t;n++)this.items.push(this.allItems[n]);return this.items},e.prototype.getLength=function(){return this.allItems.length},e}();e.SmartDataProvider=t}(e.dataProviders||(e.dataProviders={}))}(i||(i={})),function(e){var n,i;n=e.lists||(e.lists={}),i=function(n){function i(){var e=n.call(this,"ul","wdr-ui-list")||this;return e.rowHeight=s.browserVersion().isMobile?i.DEFAULT_ROW_HEIGHT_MOBILE:i.DEFAULT_ROW_HEIGHT,e.selectedItems=[],e.selectedIndices=[],e.markSelected=!1,e.useCache=!0,e._allowMultipleSelection=!1,e.dataProvider=[],e.itemsCache=[],e.visibleItems=[],e.labelField="label",e.itemRendererFactory=e.defaultItemRendererFactory,e.selectedItem=null,e.selectedIndex=-1,e.container.addEventListener("click",function(t){return e.onItemClick(t)}),e}return a(i,n),i.prototype.getRowHeight=function(){return 0<this.visibleItems.length?this.visibleItems[0].getHeight():this.rowHeight},i.prototype.getStartIdx=function(){return 0},i.prototype.getRowCount=function(){return this.dataProvider.length},i.prototype.draw=function(){this.isInvalid("data")&&this.drawItems(),this.validate()},i.prototype.drawItems=function(){var e=this,t=this.container.getScrollTop();this.removeAllItems();for(var n,i=this.getDataProvider(),r=0;r<i.length;r++)n=this.getItem(i[r],r),this.addItem(n);this.container.setScrollTop(t),this.container.requestAnimationFrame(function(){0<e.visibleItems.length&&(e.rowHeight=e.visibleItems[0].getHeight())})},i.prototype.getItem=function(e,t){var n;return this.useCache&&0<this.itemsCache.length?((n=this.itemsCache.pop()).setData(e),n.setIndex(t)):(n=this.itemRendererFactory(e,t)).setLabelField(this.labelField),n},i.prototype.addItem=function(e){this.visibleItems.push(e),this.addChild(e)},i.prototype.removeAllItems=function(){for(;0<this.visibleItems.length;)this._removeItem(this.visibleItems.pop())},i.prototype.removeItem=function(e){for(var t=0;t<this.visibleItems.length;t++)if(this.visibleItems[t]===e){this.visibleItems.splice(t,1);break}this._removeItem(e)},i.prototype._removeItem=function(e){null!=this.container.find(e.container.element.nodeName)&&e.container.remove()},i.prototype.onItemClick=function(n){if(null!=(n=e.UIElement.convert(n.target).closest("li"))){n=parseInt(n.attr("data-index"));var i=this.getStartIdx()+n,r=this.selectedItem,o=this.selectedIndex;this.setSelectedIndex(n),this.dispatchWith(t._Event.CHANGE,this,{selectedItem:this.selectedItem,selectedIndex:this.selectedIndex,realIndex:i,prevItem:r,prevIndex:o})}},i.prototype.getDataProvider=function(){return this.dataProvider},i.prototype.setDataProvider=function(e,t){void 0===t&&(t=!0),this.dataProvider=e,t&&this.invalidate("data")},i.prototype.getLabelField=function(){return this.labelField},i.prototype.setLabelField=function(e){this.labelField!=e&&(this.labelField=e,this.invalidate("data"))},i.prototype.setItemRendererFactory=function(e){this.itemRendererFactory=e,this.invalidate("data")},i.prototype.validateItemAt=function(e){-1<e&&e<this.visibleItems.length&&this.visibleItems[e].validateNow()},i.prototype.validateItem=function(e,t){void 0===t&&(t="");for(var n,i=0;i<this.visibleItems.length;i++)if(n=this.visibleItems[i].getData(),0==t.length&&n===e||0<t.length&&n.hasOwnProperty(t)&&n[t]==e[t]){this.visibleItems[i].validateNow();break}},i.prototype.getSelectedIndex=function(){return this.selectedIndex},i.prototype.setSelectedIndex=function(e){var t=this.getDataProvider();-1<e&&e<t.length?this.updateSelectedItem(t[e],e):this.updateSelectedItem(null,-1)},i.prototype.getSelectedItem=function(){return this.selectedItem},i.prototype.setSelectedItem=function(e,t){var n=this.getDataProvider();if(s.nullOrUndefined(e)||s.nullOrEmpty(t))-1<n.indexOf(e)&&this.updateSelectedItem(e,n.indexOf(e));else for(var i=0;i<n.length;i++)if(!s.nullOrUndefined(n[i])&&n[i][t]==e[t]){this.updateSelectedItem(n[i],i);break}},i.prototype.updateSelectedItem=function(e,t){if(this.allowMultipleSelection){var n=-1<this.selectedIndices.indexOf(t);!(n=!n)&&2>this.selectedIndices.length||(n?(this.selectedIndices.push(t),this.selectedItems.push(e)):(this.selectedIndices.splice(this.selectedIndices.indexOf(t),1),this.selectedItems.splice(this.selectedItems.indexOf(e),1)),this.markSelected&&(e.isSelected=n,this.validateItemAt(t)))}else this.markSelected&&null!=this.selectedItem&&(this.selectedItem.isSelected=!1,this.validateItemAt(this.selectedIndex)),this.selectedItem=e,this.selectedIndex=t,this.markSelected&&null!=this.selectedItem&&(this.selectedItem.isSelected=!0,this.validateItemAt(this.selectedIndex))},i.prototype.defaultItemRendererFactory=function(t,n){var i=new e.renderers.UIItemRenderer;return i.setData(t),i.setIndex(n),i},i.prototype.getMinHeight=function(){return this.getRowHeight()},i.prototype.getMaxHeight=function(){return this.getRowHeight()*this.getDataProvider().length},Object.defineProperty(i.prototype,"allowMultipleSelection",{get:function(){return this._allowMultipleSelection},set:function(e){this._allowMultipleSelection=e},enumerable:!0,configurable:!0}),i.prototype.getSelectedIndices=function(){return this.selectedIndices},i.prototype.setSelectedIndices=function(e){this.selectedIndices=e,this.selectedItems.length=0,e=this.getDataProvider();for(var t=0;t<e.length;t++)-1<this.selectedIndices.indexOf(t)?(this.selectedItems.push(e[t]),this.markSelected&&(e[t].isSelected=!0,this.validateItemAt(t))):this.markSelected&&(e[t].isSelected=!1,this.validateItemAt(t))},i.prototype.getSelectedItems=function(){return this.selectedItems},i.prototype.setSelectedItems=function(e){this.selectedItems=e,this.selectedIndices.length=0,e=this.getDataProvider();for(var t=0;t<e.length;t++)-1<this.selectedItems.indexOf(e[t])?(this.selectedIndices.push(t),this.markSelected&&(e[t].isSelected=!0,this.validateItemAt(t))):this.markSelected&&(e[t].isSelected=!1,this.validateItemAt(t))},i.prototype.droppable=function(e){this.container.droppable(e,this)},i.DEFAULT_ROW_HEIGHT=21,i.DEFAULT_ROW_HEIGHT_MOBILE=31,i}(e.UIComponentBase),n.UIList=i}(i||(i={})),function(e){var n,i;n=e.lists||(e.lists={}),i=function(i){function r(){var r=i.call(this,"div","wdr-ui-dropdown")||this;return r.prompt="Choose item",r.mouseHandler=function(e){return r.handleMouse(e)},r._allowMultipleSelection=!1,r.container.display="inline-block",r.dropDownBtn=new n.UIDropDownButton,r.dropDownBtn.addEventListener(t._Event.CHANGE,function(){return r.onBtnChange()}),r.dropDownListWrap=new e.UIComponentBase("div","wdr-ui-dropdown-list"),r.dropDownListWrap.hide(),r.dropDownList=new n.UIList,r.dropDownList.markSelected=!0,r.dropDownList.setItemRendererFactory(r.itemRendererFactory),r.dropDownList.addEventListener(t._Event.CHANGE,function(e){return r.onListChange(e)}),r.dropDownListWrap.addChild(r.dropDownList),r.addChild(r.dropDownBtn),r.addChild(r.dropDownListWrap),r}return a(r,i),r.prototype.itemRendererFactory=function(t,n){var i=new e.renderers.SelectItemRenderer;return i.setData(t),i.setIndex(n),i},r.prototype.onListChange=function(e){this.enablePrompt(null==e.data.selectedItem),this.dispatchWith(t._Event.CHANGE,this,e.data),this.allowMultipleSelection||this.close()},r.prototype.onBtnChange=function(){this.dropDownBtn.getSelection()?this.open():this.close()},r.prototype.enablePrompt=function(e){var t=this.dropDownList.getSelectedItem();t=e||this.allowMultipleSelection||null==t?this.prompt:t[this.getLabelField()],this.dropDownBtn.setLabel(t),this.container.toggleClass("wdr-ui-prompt",e)},r.prototype.setPrompt=function(e){this.prompt!==e&&(this.prompt=e,this.enablePrompt(!0))},r.prototype.getPrompt=function(){return this.prompt},r.prototype.open=function(){this.getEnabled()&&(this.dropDownListWrap.show(),this.dropDownList.setWidth(this.dropDownBtn.getWidth(!0)),this.dropDownBtn.setSelection(1),document.body.addEventListener("mousedown",this.mouseHandler))},r.prototype.handleMouse=function(t){null==e.UIElement.convert(t.target).closest(".wdr-ui-dropdown")&&(document.body.removeEventListener("mousedown",this.mouseHandler),this.close())},r.prototype.close=function(){this.getEnabled()&&(this.dropDownListWrap.hide(),this.dropDownBtn.setSelection(0),document.body.removeEventListener("mouseup",this.mouseHandler))},r.prototype.getDataProvider=function(){return this.dropDownList.getDataProvider()},r.prototype.setDataProvider=function(e){this.dropDownList.setDataProvider(e)},r.prototype.getLabelField=function(){return this.dropDownList.getLabelField()},r.prototype.setLabelField=function(e){this.dropDownList.setLabelField(e)},r.prototype.setItemRendererFactory=function(e){this.dropDownList.setItemRendererFactory(e)},r.prototype.validateNow=function(){this.dropDownList.validateNow()},r.prototype.validateItemAt=function(e){this.dropDownList.validateItemAt(e)},r.prototype.getSelectedIndex=function(){return this.dropDownList.getSelectedIndex()},r.prototype.setSelectedIndex=function(e){this.dropDownList.setSelectedIndex(e),this.enablePrompt(null==this.dropDownList.getSelectedItem())},r.prototype.getSelectedIndices=function(){return this.dropDownList.getSelectedIndices()},r.prototype.setSelectedIndices=function(e){this.dropDownList.setSelectedIndices(e),this.enablePrompt(!0)},r.prototype.getSelectedItem=function(){return this.dropDownList.getSelectedItem()},r.prototype.setSelectedItem=function(e,t){this.dropDownList.setSelectedItem(e,t),this.enablePrompt(null==this.dropDownList.getSelectedItem())},r.prototype.getSelectedItems=function(){return this.dropDownList.getSelectedItems()},r.prototype.setSelectedItems=function(e){this.dropDownList.setSelectedItems(e),this.enablePrompt(!0)},r.prototype.show=function(){i.prototype.show.call(this)},r.prototype.getRowHeight=function(){return this.dropDownList.getRowHeight()},r.prototype.getRowCount=function(){return this.dropDownList.getRowCount()},r.prototype.validateItem=function(e,t){},r.prototype.getMinHeight=function(){return 0},r.prototype.getMaxHeight=function(){return 0},Object.defineProperty(r.prototype,"allowMultipleSelection",{get:function(){return this._allowMultipleSelection},set:function(e){this._allowMultipleSelection=e,this.dropDownList.allowMultipleSelection=e,this._allowMultipleSelection?this.dropDownList.container.addClass("wdr-ui-dropdown-multiple-selection-list"):this.dropDownList.container.removeClass("wdr-ui-dropdown-multiple-selection-list")},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"markSelected",{set:function(e){this.dropDownList.markSelected=e},enumerable:!0,configurable:!0}),r}(e.UIComponentBase),n.UIDropDownList=i}(i||(i={})),function(e){var t,n;t=e.lists||(e.lists={}),n=function(n){function i(){var i=n.call(this)||this;return i.addClass("wdr-ui-vlist"),i._list=new t.UIList,i.addChild(i._list),i._placeholder=new e.UIComponentBase("div","wdr-ui-vlist-placeholder"),i.addChild(i._placeholder),i.addEventListener("scroll",function(){return i.onScroll()}),i}return a(i,n),i.prototype.onScroll=function(){this.invalidate("data")},i.prototype.draw=function(){if(this._placeholder.setHeight(Math.min(this.getMaxHeight(),i.MAX_HEIGHT)),this.isInvalid("data")){this._list.setDataProvider(this.getDataProvider());var e=this.getStartIdx()*this.getRowHeight()*this.getScale()-this.getScaleFix();this._list.container.top=Math.min(e,this._placeholder.getHeight()-this._list.container.height)}this.validate()},i.prototype.getScale=function(){return this.getMaxHeight()>i.MAX_HEIGHT?i.MAX_HEIGHT/this.getMaxHeight():1},i.prototype.getStartIdx=function(){return 1!=this.getScale()?Math.floor((this.getScrollPosition()+this.getScaleFix())/this.getScale()/this.getRowHeight()):Math.floor(this.getScrollPosition()/this.getRowHeight())},i.prototype.getScaleFix=function(){return 1!=this.getScale()?(this.getHeight()/this.getScale()-this.getHeight())*(this.getScrollPosition()/i.MAX_HEIGHT)*this.getScale():0},Object.defineProperty(i.prototype,"allowMultipleSelection",{get:function(){return this._list.allowMultipleSelection},set:function(e){this._list.allowMultipleSelection=e},enumerable:!0,configurable:!0}),i.prototype.getLabelField=function(){return this._list.getLabelField()},i.prototype.setLabelField=function(e){this._list.setLabelField(e)},i.prototype.setItemRendererFactory=function(e){this._list.setItemRendererFactory(e)},i.prototype.validateItemAt=function(e){this._list.validateItemAt(e)},i.prototype.validateItem=function(e,t){void 0===t&&(t=""),this._list.validateItem(e,t)},i.prototype.getRowHeight=function(){return 37},i.prototype.getRowCount=function(){return 0<this.getRowHeight()?Math.ceil(this.getHeight()/this.getRowHeight())+1:0},i.prototype.getSelectedIndex=function(){return this._list.getSelectedIndex()},i.prototype.setSelectedIndex=function(e){this._list.setSelectedIndex(e)},i.prototype.getSelectedIndices=function(){return this._list.getSelectedIndices()},i.prototype.setSelectedIndices=function(e){this._list.setSelectedIndices(e)},i.prototype.getSelectedItem=function(){return this._list.getSelectedItem()},i.prototype.setSelectedItem=function(e,t){this._list.setSelectedItem(e,t)},i.prototype.getSelectedItems=function(){return this._list.getSelectedItems()},i.prototype.setSelectedItems=function(e){this._list.setSelectedItems(e)},i.prototype.getMinHeight=function(){return this._list.getRowHeight()},i.prototype.getMaxHeight=function(){return this.getRowHeight()*this.getSmartDataProvider().getLength()},i.prototype.getSmartDataProvider=function(){return this.smartDataProvider},i.prototype.setSmartDataProvider=function(e){this.smartDataProvider=e},i.prototype.getScrollPosition=function(){return this.container.getScrollTop()},i.prototype.setScrollPosition=function(e){this.container.setScrollTop(e)},i.prototype.setDataProvider=function(e){this.getSmartDataProvider()&&(this.getSmartDataProvider().setItems(e),this.setScrollPosition(0),this.invalidate("data"))},i.prototype.getDataProvider=function(){var e=this.getStartIdx(),t=e+this.getRowCount();return this.getSmartDataProvider()?this.getSmartDataProvider().getItems(e,t):[]},i.MAX_HEIGHT=1e6,i}(e.UIComponentBase),t.UIVirtualList=n}(i||(i={})),function(e){var t,n;t=e.lists||(e.lists={}),n=function(t){function n(){var n=t.call(this)||this;return n.addClass("wdr-ui-dropdown-btn"),n.labelDisplay=new e.UILabel,n.addChild(n.labelDisplay),n}return a(n,t),n.prototype.setLabel=function(e){this.labelDisplay.setLabel(e)},n}(e.UIToggleButton),t.UIDropDownButton=n}(i||(i={})),function(e){var t,n;t=e.renderers||(e.renderers={}),n=function(e){function t(){var t=e.call(this,"li")||this;return t.labelField="label",t}return a(t,e),t.prototype.getData=function(){return this.data},t.prototype.setData=function(e){null!=e&&(this.data=e,this.invalidate("data"))},t.prototype.getIndex=function(){return parseInt(this.container.attr("data-index"))},t.prototype.setIndex=function(e){this.container.attr("data-index",e)},t.prototype.getLabelField=function(){return this.labelField},t.prototype.setLabelField=function(e){this.labelField!=e&&(this.labelField=e,this.invalidate("data"))},t.prototype.getLabelFunction=function(){return this.labelFunction},t.prototype.setLabelFunction=function(e){this.labelFunction!=e&&(this.labelFunction=e,this.invalidate("data"))},t.prototype.draw=function(){this.isInvalid("data")&&this.container.text(this.data[this.labelField]),this.validate()},t}(e.UIComponentBase),t.UIItemRenderer=n}(i||(i={})),function(e){var t,n;n=function(t){function n(){return t.call(this)||this}return a(n,t),n.prototype.draw=function(){var t=this.getData();null==this.label&&(this.label=new e.UILabel,this.label.setId("#wdr-text-display"),this.container.append(this.label.container)),this.label.setLabel(t[this.getLabelField()],!0),this.container.toggleClass("wdr-selected",!0===t.isSelected),this.container.toggleClass("wdr-not-selected",!0!==t.isSelected)},n}((t=e.renderers||(e.renderers={})).UIItemRenderer),t.SelectItemRenderer=n}(i||(i={})),function(e){var t,n;t=e.resizable||(e.resizable={}),n=function(){function t(e,t){var n=this;this._mouseDownHandler=function(e){return n.onMouseDown(e)},this._mouseUpHandler=function(e){return n.onMouseUp(e)},this._mouseMoveHandler=function(e){return n.onMouseMove(e)},this.target=e,this.options=t,this.createHandles()}return t.prototype.createHandles=function(){for(var e=0;e<this.options.sides.length;e++)this.createHandle(this.options.sides[e])},t.prototype.createHandle=function(t){var n=new e.UIElement("div","wdr-resizable-handle");return n.addClass("wdr-"+t),n.addEventListener("mousedown",this._mouseDownHandler),this.target.addChild(n),n},t.prototype.onMouseDown=function(t){(t=e.UIElement.convert(t.target)).hasClass("wdr-left")?this._currentSide="left":t.hasClass("wdr-right")&&(this._currentSide="right"),this.startResizing()},t.prototype.onMouseUp=function(e){this.onResize(e.clientX,e.clientY),this.stopResizing()},t.prototype.onMouseMove=function(e){this._boundingRect&&(e.clientX<this._boundingRect.left||e.clientX>this._boundingRect.right||e.clientY<this._boundingRect.top||e.clientY>this._boundingRect.bottom)?this.onMouseUp(e):this.onResize(e.clientX,e.clientY)},t.prototype.onResize=function(e,t){var n={left:this._originalPosition.left,top:this._originalPosition.top},i={width:this._originalSize.width,height:this._originalSize.height};"left"==this._currentSide&&(n.left=e,i.width+=this._originalPosition.left-n.left),"right"==this._currentSide&&(i.width=e-this._originalPosition.left),this.options.resize&&this.options.resize({side:this._currentSide,originalPosition:this._originalPosition,originalSize:this._originalSize,position:n,size:i})},t.prototype.startResizing=function(){document.addEventListener("mousemove",this._mouseMoveHandler),document.addEventListener("mouseup",this._mouseUpHandler),this._originalSize={width:this.target.getWidth(!0),height:this.target.getHeight(!0)},this._originalPosition={left:this.target.getOffset().left,top:this.target.getOffset().top},this._boundingRect=this.options.containtment?this.options.containtment.getBoundingClientRect():null},t.prototype.stopResizing=function(){document.removeEventListener("mousemove",this._mouseMoveHandler),document.removeEventListener("mouseup",this._mouseUpHandler)},t.prototype.dispose=function(){document.removeEventListener("mousemove",this._mouseMoveHandler),document.removeEventListener("mouseup",this._mouseUpHandler)},t}(),t.ResizableHelper=n}(i||(i={})),function(e){!function(e){var t=function(){function e(e,t){void 0===t&&(t=1e3);var n=this;this.touchStartHandler=function(e){return n.onTouchStart(e)},this.touchEndHandler=function(e){return n.onTouchEnd(e)},this.target=e,this.delay=t}return e.prototype.listen=function(e){this.handler=e,this.target.addEventListener("touchstart",this.touchStartHandler),this.target.addEventListener("touchend",this.touchEndHandler)},e.prototype.stop=function(){this.target.removeEventListener("touchstart",this.touchStartHandler),this.target.removeEventListener("touchend",this.touchEndHandler)},e.prototype.onTouchStart=function(e){var t=this;this.timer=s.fmSetTimeout(function(){return t.callHandler(e)},this.delay)},e.prototype.onTouchEnd=function(e){this.timer&&s.fmClearTimeout(this.timer)},e.prototype.callHandler=function(e){this.handler(e,e&&0<e.changedTouches.length?e.changedTouches[0]:null)},e}();e.LongPressListener=t}(e._utils||(e._utils={}))}(i||(i={})),function(e){var t=function(){function e(t,n,i){void 0===n&&(n=0),void 0===i&&(i=e.LITTLE_ENDIAN),this._dynamicSize=!0,this._byteLength=0,this._byteOffset=n,this.buffer=t,this.position=0,this.endianness=i}return Object.defineProperty(e.prototype,"byteOffset",{get:function(){return this._byteOffset},set:function(e){this._byteOffset=e,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._buffer.byteLength},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"byteLength",{get:function(){return this._byteLength-this._byteOffset},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"buffer",{get:function(){return this._trimAlloc(),this._buffer},set:function(e){this._buffer=e,this._dataView=0==this._byteOffset?new DataView(this._buffer):new DataView(this._buffer,this._byteOffset),this._byteLength=this._buffer.byteLength},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataView",{get:function(){return this._dataView},set:function(e){this._byteOffset=e.byteOffset,this._buffer=e.buffer,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._byteOffset+e.byteLength},enumerable:!0,configurable:!0}),e.prototype.seek=function(e){e=Math.max(0,Math.min(this.byteLength,e)),this.position=isNaN(e)||!isFinite(e)?0:e},e.prototype.writeString=function(e){this.writeUint8Array(n.encode(e))},e.prototype.writeUint32=function(e,t){void 0===t&&(t=null),this._realloc(4),this._dataView.setUint32(this.position,e,null==t?this.endianness:t),this.position+=4},e.prototype.writeUint8=function(e){this._realloc(1),this._dataView.setUint8(this.position,e),this.position+=1},e.prototype.writeUint8Array=function(e){if(this._realloc(1*e.length),e instanceof Uint8Array&&0==this.byteOffset+this.position%e.BYTES_PER_ELEMENT)this.memcpy(this._buffer,this.byteOffset+this.position,e.buffer,0,e.byteLength),this.mapUint8Array(e.length);else for(var t=0;t<e.length;t++)this.writeUint8(e[t])},e.prototype.readString=function(e,t){return i.decode(this.mapUint8Array(e))},e.prototype.readUint32=function(){var e=this._dataView.getUint32(this.position,this.endianness);return this.position+=4,e},e.prototype.readUint8=function(){var e=this._dataView.getUint8(this.position);return this.position+=1,e},e.prototype.readUint8Array=function(e){void 0===e&&(e=-1),e=0>e?this.byteLength-this.position:e;var t=new Uint8Array(e);return this.memcpy(t.buffer,0,this.buffer,this.byteOffset+this.position,e*t.BYTES_PER_ELEMENT),this.position+=t.byteLength,t},e.prototype.mapUint8Array=function(e){this._realloc(1*e);var t=new Uint8Array(this._buffer,this.byteOffset+this.position,e);return this.position+=1*e,t},e.prototype._realloc=function(e){if(this._dynamicSize)if((e=this._byteOffset+this.position+e)<=(t=this._buffer.byteLength))e>this._byteLength&&(this._byteLength=e);else{for(1>t&&(t=1);e>t;)t*=2;var t=new ArrayBuffer(t),n=new Uint8Array(this._buffer);new Uint8Array(t,0,n.length).set(n),this.buffer=t,this._byteLength=e}},e.prototype._trimAlloc=function(){if(this._byteLength!=this._buffer.byteLength){var e=new ArrayBuffer(this._byteLength),t=new Uint8Array(e),n=new Uint8Array(this._buffer,0,t.length);t.set(n),this.buffer=e}},e.prototype.memcpy=function(e,t,n,i,r){e=new Uint8Array(e,t,r),n=new Uint8Array(n,i,r),e.set(n)},e.BIG_ENDIAN=!1,e.LITTLE_ENDIAN=!0,e}();e.DataStream=t;var n=function(){function e(){}return e.encode=function(t){t=t?String(t):"";var n,i=[],r=new a(i);for(t=new l(t),null==e.encoder&&(e.encoder=new o);t.get()!==e.EOF_code_point;)e.encoder.encode(r,t);do{n=e.encoder.encode(r,t)}while(n!==e.EOF_byte);return new Uint8Array(i)},e.EOF_byte=-1,e.EOF_code_point=-1,e}();e.TextEncoder=n;var i=function(){function e(){}return e.decode=function(t){t||(t=new Uint8Array(0)),t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength),t=new s(t);var n,i=new c;for(null==e.decoder&&(e.decoder=new r);t.get()!==e.EOF_byte;)null!==(n=e.decoder.decode(t))&&n!==e.EOF_code_point&&i.emit(n);do{null!==(n=e.decoder.decode(t))&&n!==e.EOF_code_point&&i.emit(n)}while(n!==e.EOF_code_point);return i.str()},e.EOF_byte=-1,e.EOF_code_point=-1,e}();e.TextDecoder=i;var r=function(){function e(){this.EOF_code_point=this.EOF_byte=-1,this.utf8_lower_boundary=this.utf8_bytes_seen=this.utf8_bytes_needed=this.utf8_code_point=0}return e.prototype.decode=function(e){var t=e.get();if(t===this.EOF_byte)return this.EOF_code_point;if(e.offset(1),0===this.utf8_bytes_needed){if(this.inRange(t,0,127))return t;if(this.inRange(t,194,223))this.utf8_bytes_needed=1,this.utf8_lower_boundary=128,this.utf8_code_point=t-192;else if(this.inRange(t,224,239))this.utf8_bytes_needed=2,this.utf8_lower_boundary=2048,this.utf8_code_point=t-224;else{if(!this.inRange(t,240,244))return this.EOF_code_point;this.utf8_bytes_needed=3,this.utf8_lower_boundary=65536,this.utf8_code_point=t-240}return this.utf8_code_point*=Math.pow(64,this.utf8_bytes_needed),null}return this.inRange(t,128,191)?(this.utf8_bytes_seen+=1,this.utf8_code_point+=(t-128)*Math.pow(64,this.utf8_bytes_needed-this.utf8_bytes_seen),this.utf8_bytes_seen!==this.utf8_bytes_needed?null:(e=this.utf8_code_point,t=this.utf8_lower_boundary,this.utf8_lower_boundary=this.utf8_bytes_seen=this.utf8_bytes_needed=this.utf8_code_point=0,this.inRange(e,t,1114111)&&!this.inRange(e,55296,57343)?e:this.EOF_code_point)):(this.utf8_lower_boundary=this.utf8_bytes_seen=this.utf8_bytes_needed=this.utf8_code_point=0,e.offset(-1),this.EOF_code_point)},e.prototype.inRange=function(e,t,n){return t<=e&&e<=n},e}();e.UTF8Decoder=r;var o=function(){function e(){this.EOF_code_point=this.EOF_byte=-1}return e.prototype.inRange=function(e,t,n){return t<=e&&e<=n},e.prototype.div=function(e,t){return Math.floor(e/t)},e.prototype.encode=function(e,t){var n,i,r=t.get();if(r===this.EOF_code_point)return this.EOF_byte;if(t.offset(1),this.inRange(r,55296,57343))return this.EOF_code_point;if(this.inRange(r,0,127))return e.emit(r);for(this.inRange(r,128,2047)?(n=1,i=192):this.inRange(r,2048,65535)?(n=2,i=224):this.inRange(r,65536,1114111)&&(n=3,i=240),i=e.emit(this.div(r,Math.pow(64,n))+i);0<n;)i=this.div(r,Math.pow(64,n-1)),i=e.emit(128+i%64),n-=1;return i},e}();e.UTF8Encoder=o;var s=function(){function e(e){this.EOF_byte=-1,this.pos=0,this.bytes=e}return e.prototype.get=function(){return this.pos>=this.bytes.length?this.EOF_byte:Number(this.bytes[this.pos])},e.prototype.offset=function(e){if(this.pos+=e,0>this.pos)throw Error("Seeking past start of the buffer");if(this.pos>this.bytes.length)throw Error("Seeking past EOF")},e.prototype.match=function(e){if(e.length>this.pos+this.bytes.length)return!1;var t;for(t=0;t<e.length;t+=1)if(Number(this.bytes[this.pos+t])!==e[t])return!1;return!0},e}();e.ByteInputStream=s;var a=function(){function e(e){this.EOF_byte=-1,this.pos=0,this.bytes=e}return e.prototype.emit=function(e){var t,n=this.EOF_byte;for(t=0;t<arguments.length;++t)n=Number(arguments[t]),this.bytes[this.pos++]=n;return n},e}();e.ByteOutputStream=a;var l=function(){function e(e){this.pos=0,this.EOF_code_point=-1,this._str=e,this.cps=this.getCps(this._str)}return e.prototype.getCps=function(e){for(var t=[],n=0,i=e.length;n<e.length;){var r=e.charCodeAt(n);if(this.inRange(r,55296,57343))if(this.inRange(r,56320,57343))t.push(65533);else if(n===i-1)t.push(65533);else{var o=e.charCodeAt(n+1);this.inRange(o,56320,57343)?(n+=1,t.push(65536+((r&=1023)<<10)+(o&=1023))):t.push(65533)}else t.push(r);n+=1}return t},e.prototype.inRange=function(e,t,n){return t<=e&&e<=n},e.prototype.offset=function(e){if(this.pos+=e,0>this.pos)throw Error("Seeking past start of the buffer");if(this.pos>this.cps.length)throw Error("Seeking past EOF")},e.prototype.get=function(){return this.pos>=this.cps.length?this.EOF_code_point:this.cps[this.pos]},e}();e.CodePointInputStream=l;var c=function(){function e(){this._str=""}return e.prototype.str=function(){return this._str},e.prototype.emit=function(e){65535>=e?this._str+=String.fromCharCode(e):(e-=65536,this._str+=String.fromCharCode(55296+(e>>10&1023)),this._str+=String.fromCharCode(56320+(1023&e)))},e}();e.CodePointOutputStream=c}(r||(r={})),function(e){var n=function(e){function n(){var t=e.call(this)||this;return t.connected=!1,t}return a(n,e),n.prototype.load=function(e){var t=this;this.url=e,this.connected=!1,this.close(),this.xhr=new XMLHttpRequest,this.xhr.open("GET",e,!0),this.xhr.responseType="arraybuffer",this.xhr.onload=function(e){return t.onComplete(e)},this.xhr.onprogress=function(e){return t.onProgress(e)},this.xhr.onerror=function(e){return t.onError(e)},this.xhr.onreadystatechange=function(e){return t.onReadyStateChange(e)},this.xhr.send()},n.prototype.onComplete=function(e){this.response=this.xhr.response,this.dispatch(new t._Event(t._Event.COMPLETE,this))},n.prototype.onProgress=function(e){this.dispatch(e)},n.prototype.onError=function(e){this.dispatch(e)},n.prototype.onReadyStateChange=function(e){null!=this.xhr&&4===this.xhr.readyState&&200!==this.xhr.status&&this.dispatch(new t._Event(t._Event.ERROR,this,this.xhr.statusText)),null!=this.xhr&&3>this.xhr.readyState&&!this.connected&&(this.connected=!0,this.dispatch(new t._Event(t._Event.CONNECTED)))},n.prototype.close=function(){null!=this.xhr&&this.xhr.abort()},n.prototype.dispose=function(){this.response=null,null!=this.xhr&&(this.xhr.onload=null,this.xhr.onprogress=null,this.xhr.onerror=null,this.xhr.onreadystatechange=null),this.xhr=null},n}(t.EventDispatcher);e.URLBinaryLoader=n}(o||(o={})),function(e){var n=function(e){function n(){var t=e.call(this)||this;return t.dataType=i.TEXT,t.contentType=r.TEXT_PLAIN,t.requestMethod=o.GET,t.connected=!1,t.withCredentials=!1,t._lastProgressTriggered=0,t._lastEvent=null,t.progressInterval=0,t.requestHeaders=[],t.data={},t._bytesLoaded=0,t}return a(n,e),n.prototype.load=function(e,t){var n=this;void 0===t&&(t=null),this.url=e,this._bytesLoaded=0,this.connected=!1,this.processRequestHeader(t),this.close(),this.xhr=new XMLHttpRequest,this.xhr.open(this.requestMethod,this.url,!0),this.xhr.onerror=function(e){return n.onError(e)},this.xhr.onreadystatechange=function(e){return n.onReadyStateChange(e)},this.xhr.onprogress=function(e){return n.onProgress(e)},this.xhr.setRequestHeader("Content-type",this.contentType);for(var i=0;i<this.requestHeaders.length;i++)this.xhr.setRequestHeader(this.requestHeaders[i].header,this.requestHeaders[i].value);this.xhr.send(this.data)},n.prototype.processRequestHeader=function(e){if(this.requestHeaders=[],null!=e)for(var t in e)this.requestHeaders.push(new l(t,e[t]))},n.prototype.getBytesLoaded=function(){return this._bytesLoaded},n.prototype.success=function(){this.response=this.xhr.response||this.xhr.responseText,this._bytesLoaded=this._lastEvent?this._lastEvent.loaded:this.response.length,this.dispatch(new t._Event(t._Event.COMPLETE,this))},n.prototype.onReadyStateChange=function(e){null!=this.xhr&&4===this.xhr.readyState&&(200===this.xhr.status?this.success():this.dispatch(new t._Event(t._Event.ERROR,this,this.xhr.statusText))),null!=this.xhr&&3>this.xhr.readyState&&!this.connected&&(this.connected=!0,this.dispatch(new t._Event(t._Event.CONNECTED)))},n.prototype.onProgress=function(e){s.getTimer()-this._lastProgressTriggered>this.progressInterval?(this.response=this.xhr.response||this.xhr.responseText,this._bytesLoaded=e.loaded,this.dispatch(e),this._lastProgressTriggered=s.getTimer(),this._lastEvent=null):this._lastEvent=e},n.prototype.onError=function(e){this.dispatch(new t._Event(t._Event.ERROR,this))},n.prototype.close=function(){null!=this.xhr&&(this.xhr.onprogress=null,this.xhr.onreadystatechange=null,this.xhr.abort())},n.prototype.dispose=function(){this.data=this.response=null,this.requestHeaders=[],null!=this.xhr&&(this.xhr.onprogress=null,this.xhr.onreadystatechange=null),this._lastProgressTriggered=this._lastEvent=this.xhr=null},n}(t.EventDispatcher);e.URLStream=n;var i=function(){function e(){}return e.TEXT="text",e.XML="xml",e.HTML="html",e.JSON="json",e}();e.DataType=i;var r=function(){function e(){}return e.TEXT_PLAIN="text/plain",e.TEXT_XML="text/xml",e.APPLICATION_JSON="application/json",e.APPLICATION_URLENCODED="application/x-www-form-urlencoded",e}();e.ContentType=r;var o=function(){function e(){}return e.POST="POST",e.GET="GET",e}();e.URLRequestMethod=o;var l=function(e,t){this.header=e,this.value=t};e.URLRequestHeader=l,n=function(){function e(){this.data={}}return e.prototype.toString=function(){var e,t=[];for(e in this.data)t.push(e+"="+this.data[e]);return t.join("&")},e}(),e.URLVariables=n}(o||(o={})),function(e){var n=function(e){function n(){var t=e.call(this)||this;return t.dialogOpened=!1,document.body.onfocus=function(){return t.onFocus()},t}return a(n,e),n.prototype.browse=function(e){var t=this;void 0===e&&(e=[]),this.input=document.createElement("input"),this.input.setAttribute("type","file"),this.input.style.display="none",document.body.appendChild(this.input),this.input.setAttribute("accept",e.join(",")),this.input.addEventListener("change",function(){return t.onChange()}),this.dialogOpened=!0,this.input.click()},n.prototype.onChange=function(){this.dialogOpened=!1,s.nullOrUndefined(this.input.files)||s.nullOrUndefined(this.input.files[0])||(this.file=this.input.files[0],this.dispatchWith(t._Event.SELECT))},n.prototype.onFocus=function(){var e=this;this.dialogOpened&&s.fmSetTimeout(function(){(s.nullOrUndefined(e.input.files)||s.nullOrUndefined(e.input.files[0]))&&e.dispatchWith(t._Event.CANCEL),e.dialogOpened=!1},500)},n.prototype.load=function(e){var t=this;void 0===e&&(e=i.TEXT),null!=this.file&&(this.reader=new FileReader,this.reader.onload=function(e){return t.onLoad(e)},this.reader.onprogress=function(e){return t.onProgress(e)},this.reader.onerror=function(e){return t.onError(e)},e==i.ARRAY_BUFFER?this.reader.readAsArrayBuffer(this.file):this.reader.readAsText(this.file))},n.prototype.onLoad=function(e){this.response=this.reader.result,this.dispatch(new t._Event(t._Event.COMPLETE,this))},n.prototype.onProgress=function(e){this.dispatch(e)},n.prototype.onError=function(e){this.dispatch(e)},n.prototype.dispose=function(){this.reader=this.file=this.response=null},n}(t.EventDispatcher);e.FileReference=n;var i=function(){function e(){}return e.TEXT="TEXT",e.ARRAY_BUFFER="ARRAY_BUFFER",e}();e.ReadMethod=i}(o||(o={})),function(e){var t=function(){function e(){}return Object.defineProperty(e.prototype,"item",{get:function(){return this[0]},enumerable:!0,configurable:!0}),e.prototype.find=function(e){return void 0===this.item?this:this.item.find(e)},e.prototype.text=function(){return void 0===this.item?"":this.item.text()},e.prototype.attr=function(e,t){return void 0===this.item?void 0:t?this.item.attr(e,t):this.item.attr(e)},e.prototype.children=function(){for(var t=new e,i=0;void 0!==this[i];)t[i++]=n.convert(this[i]);return t},e.prototype.push=function(e){return this[this.length]=e,this},Object.defineProperty(e.prototype,"length",{get:function(){for(var e=0;void 0!==this[e];)e++;return e},enumerable:!0,configurable:!0}),e}();e.XMLNodeList=t;var n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return a(n,e),n.prototype.text=function(e){return e||!1===e?(this.textContent=e.toString(),this):e=s.nullOrUndefined(this.textContent)?"":this.textContent},n.prototype.append=function(e){return s.nullOrUndefined(e)||"string"==typeof e&&s.nullOrEmpty(e)||(e instanceof CDATASection||""!=e.textContent)&&this.appendChild(e),this},n.prototype.isEmpty=function(){return""==this.text()},n.prototype.find=function(e){e=this.querySelectorAll(e);for(var i=new t,r=0;r<e.length;r++)i[r]=n.convert(e[r]);return i},n.prototype.attr=function(e,t){return t||!1===t?(this.setAttribute(e,t),this):(null==(t=this.getAttribute(e))&&(t=void 0),t)},n.prototype.getChildren=function(){for(var e=new t,i=this.firstElementChild;i;)i.nodeType===Node.ELEMENT_NODE&&e.push(n.convert(i)),i=i.nextElementSibling;return e},Object.defineProperty(n.prototype,"length",{get:function(){return this.childNodes.length},enumerable:!0,configurable:!0}),n.convert=function(e){return e.find=n.prototype.find,e.append=n.prototype.append,e.text=n.prototype.text,e.attr=n.prototype.attr,e.isEmpty=n.prototype.isEmpty,e.getChildren=n.prototype.getChildren,e},n}(Element);e.XMLNode=n;var i=function(){function e(){throw Error("Singleton")}return e.create=function(t){if(null==t.firstChild){if(t=(new DOMParser).parseFromString(t,"text/xml"),e.isParseError(t))return null;t=t.firstElementChild?t.firstElementChild:t.firstChild}else t=t.firstChild;return n.convert(t)},e.isParseError=function(e){if(!e.getElementsByTagName("parsererror")||!e.getElementsByTagName("parsererror")[0])return!1;var t=e.getElementsByTagName("parsererror")[0].namespaceURI;return 0<e.getElementsByTagNameNS(t,"parsererror").length},e.cdata=function(t){return e.doc.createCDATASection(t)},e.toXMLString=function(t,n){void 0===n&&(n=!1),null==e.serializer&&(e.serializer=new XMLSerializer);var i=e.serializer.serializeToString(t);return 1==n&&(i=e.format(i)),i.trim()},e.format=function(e){var t=(e=e.replace(/>\s{0,}</g,"><").replace(/</g,"~::~<").replace(/\s*xmlns\:/g,"~::~xmlns:").replace(/\s*xmlns\=/g,"~::~xmlns=").split("~::~")).length,n=!1,i=0,r="",o=0,s=["\n"];for(o=0;20>o;o++)s.push(s[o]+"    ");for(o=0;o<t;o++)-1<e[o].search(/<!/)?(r+=s[i]+e[o],n=!0,(-1<e[o].search(/--\x3e/)||-1<e[o].search(/\]>/)||-1<e[o].search(/!DOCTYPE/))&&(n=!1)):-1<e[o].search(/--\x3e/)||-1<e[o].search(/\]>/)?(r+=e[o],n=!1):/^<\w/.exec(e[o-1])&&/^<\/\w/.exec(e[o])&&/^<[\w:\-\.\,]+/.exec(e[o-1])[0]==/^<\/[\w:\-\.\,]+/.exec(e[o])[0].replace("/","")?(r+=e[o],n||i--):r=-1<e[o].search(/<\w/)&&-1==e[o].search(/<\//)&&-1==e[o].search(/\/>/)?r+=n?e[o]:s[i++]+e[o]:-1<e[o].search(/<\w/)&&-1<e[o].search(/<\//)?r+=n?e[o]:s[i]+e[o]:-1<e[o].search(/<\//)?r+=n?e[o]:s[--i]+e[o]:-1<e[o].search(/\/>/)?r+=n?e[o]:s[i]+e[o]:-1<e[o].search(/<\?/)||-1<e[o].search(/xmlns\:/)||-1<e[o].search(/xmlns\=/)?r+(s[i]+e[o]):r+e[o];return(e=(e="\n"==r[0]?r.slice(1):r).replace(/[\r\n\s]*<\!\[CDATA\[/g,"<![CDATA[")).replace(/]]\x3e\s*/g,"]]>")},e.doc=(new DOMParser).parseFromString("<tmp/>","text/xml"),e}();e.XML=i}(o||(o={})),function(e){var t=function(){function e(){}return e.print=function(e,t,n){void 0===t&&(t=""),void 0===n&&(n="");var r="printer-"+(new Date).getTime(),o=new i.UIElement("iframe").attr("name",r);o.css("width","1px").css("height","1px").css("position","absolute").css("left","-9999px"),i.UIElement.convert(document.body).append(o);var a=(r=window.frames[r]).document;a.open(),a.write("<!DOCTYPE html>"),a.write("<html>"),a.write("<head>"),a.write("<title>"),a.write(n),a.write("</title>"),a.write("<style>"),a.write(t+"body{-webkit-print-color-adjust:exact;}"),a.write("</style>"),a.write("</head>"),a.write("<body>"),a.write(e),a.write("</body>"),a.write("</html>"),a.close(),r.focus(),r.print(),s.fmSetTimeout(function(){o.remove()},2e3)},e}();e.PrintJob=t}(o||(o={})),function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.getInstance=function(){return null==t.instance&&(t.instance=new t),t.instance},Object.defineProperty(t.prototype,"target",{get:function(){return document},enumerable:!0,configurable:!0}),t}(n=function(){function t(){this.listeners={}}return Object.defineProperty(t.prototype,"target",{get:function(){return null},enumerable:!0,configurable:!0}),t.prototype.areListenersEqual=function(e,t){return e.type===t.type&&e.handler===t.handler&&e.useCapture===t.useCapture},t.prototype.hasEventListener=function(t,n){if(e.nullOrUndefined(this.listeners[t]))return!1;for(var i=0;i<this.listeners[t].length;i++)if(this.areListenersEqual(this.listeners[t][i],n))return!0;return!1},t.prototype.addEventListener=function(t,n,i){var r={type:t,handler:n,useCapture:i};this.hasEventListener(t,r)||(e.nullOrUndefined(this.listeners[t])&&(this.listeners[t]=[]),this.listeners[t].push(r),this.target.addEventListener(t,n,i))},t.prototype.removeEventListener=function(e,t,n){for(e in t={type:e,handler:t,useCapture:n},this.listeners){for(var i=[],r=0;r<this.listeners[e].length;r++)this.areListenersEqual(this.listeners[e][r],t)?"boolean"==typeof n?this.target.removeEventListener(e,this.listeners[e][r].handler,n):this.target.removeEventListener(e,this.listeners[e][r].handler):i.push(this.listeners[e][r]);this.listeners[e]=i}},t.prototype.dispose=function(){for(var e in this.listeners)for(var t=0;t<this.listeners[e].length;t++)this.target.removeEventListener(e,this.listeners[e][t].handler,!0),this.target.removeEventListener(e,this.listeners[e][t].handler,!1);this.listeners={}},t}()),n=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.getInstance=function(){return null==t.instance&&(t.instance=new t),t.instance},Object.defineProperty(t.prototype,"target",{get:function(){return window},enumerable:!0,configurable:!0}),t}(n),i=function(){function e(){}return e.dispose=function(){for(;0<e.timeouts.length;)clearTimeout(e.timeouts.pop());for(;0<e.intervals.length;)clearInterval(e.intervals.pop())},e.timeouts=[],e.intervals=[],e}();e.Timers=i,e.fmSetTimeout=function(e,t){var n=setTimeout(e,t);return i.timeouts.push(n),n},e.fmClearTimeout=function(e){clearTimeout(e),i.timeouts.splice(i.timeouts.indexOf(e),1)},e.fmSetInterval=function(e,t){var n=setInterval(e,t);return i.intervals.push(n),n},e.fmClearInterval=function(e){clearInterval(e),i.intervals.splice(i.intervals.indexOf(e),1)},e.fmdocument=t.getInstance(),e.fmwindow=n.getInstance()}(s||(s={})),function(e){var n=function(e){function n(t){var n=e.call(this)||this;return n._scrollListener=function(){return n.scrollListener()},n._dispatchResize=function(){return n._dispatchResize()},n._target=t,n.startListener(n._target.element),n}return a(n,e),n.prototype.resetTriggers=function(e){var t,n=(e=(t=e.__resizeTriggers__).firstElementChild).firstElementChild;(t=t.lastElementChild).scrollLeft=t.scrollWidth,t.scrollTop=t.scrollHeight,n.style.width=e.offsetWidth+1+"px",n.style.height=e.offsetHeight+1+"px",e.scrollLeft=e.scrollWidth,e.scrollTop=e.scrollHeight},n.prototype.checkTriggers=function(e){return e.offsetWidth!=e.__resizeLast__.width||e.offsetHeight!=e.__resizeLast__.height},n.prototype.scrollListener=function(){var e=this;if(null!=this._target){var t=this._target.element;this.resetTriggers(t),t.__resizeRAF__&&this._target.cancelAnimationFrame(t.__resizeRAF__),t.__resizeRAF__=this._target.requestAnimationFrame(function(){e.checkTriggers(t)&&(t.__resizeLast__.width=t.offsetWidth,t.__resizeLast__.height=t.offsetHeight,e.dispatchResize())})}},n.prototype.dispatchResize=function(){this.dispatchWith(t._Event.RESIZE)},n.prototype.startListener=function(e){e.attachEvent?e.attachEvent("onresize",this._dispatchResize):e.__resizeTriggers__||("static"==getComputedStyle(e).position&&(e.style.position="relative"),e.__resizeLast__={},e.__resizeListeners__=[],e.__resizeTriggers__=document.createElement("div"),e.__resizeTriggers__.className="wdr-resize-triggers",e.__resizeTriggers__.innerHTML='<div class="wdr-expand-trigger"><div></div></div><div class="wdr-contract-trigger"></div>',e.appendChild(e.__resizeTriggers__),this.resetTriggers(e),e.addEventListener("scroll",this._scrollListener,!0))},n.prototype.stopListener=function(e){e.detachEvent?e.detachEvent("onresize",this._dispatchResize):(e.removeEventListener("scroll",this._scrollListener),e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__))},n.prototype.dispose=function(){this._target&&this._target.element&&this.stopListener(this._target.element),this._dispatchResize=this._scrollListener=this._target=null},n}(t.EventDispatcher);e.ResizeListener=n}(s||(s={})),function(e){var t=function(){function e(){}return e.isHttpURL=function(e){return null!=e&&(0==e.indexOf("http://")||0==e.indexOf("https://"))},e.isBlobURL=function(e){return null!=e&&0==e.indexOf("blob:http")},e.getUrl=function(t,n){if(void 0===n&&(n=!1),!t)return"()";if(0==(t=t.trim()).length)return"()";if(e.isBlobURL(t))return t;if(n){var i=-1<t.indexOf("?")?"&":"?";t+=i+Math.round(Date.now()/3600)}if(e.isHttpURL(t)||0==t.indexOf("file")||"/"==t.substr(0,1))return t;if(-1!=t.indexOf("..")){for(i=t.split("/");".."==i[0];)0<i.length&&i.shift();"/"==(t="/"+i.join("/")).substr(0,1)&&(t=t.substring(1))}return t},e.addTimestamp=function(e){var t=-1<e.indexOf("?")?"&":"?";return e+(t+Math.round(Date.now()/3600))},e}();e.URLUtils=t}(s||(s={})),function(e){var t=function(){function e(){}return e.isUTCFormat=function(e){return"UTC:"==e.slice(0,4)},e.format=function(t,n){var i=!1;"UTC:"==n.slice(0,4)&&(n=n.slice(4),i=!0);var r=t[(d=i?"getUTC":"get")+"Date"](),o=t[d+"Day"](),s=t[d+"Month"](),a=t[d+"FullYear"](),l=t[d+"Hours"](),c=t[d+"Minutes"](),u=t[d+"Seconds"](),d=t[d+"Milliseconds"](),h=i?0:t.getTimezoneOffset(),p={d:r,dd:e.pad(r),ddd:e.i18n.dayNames[o],dddd:e.i18n.dayNames[o+7],D:r,DD:e.pad(r),DDD:e.i18n.dayNames[o],DDDD:e.i18n.dayNames[o+7],M:s+1,MM:e.pad(s+1),MMM:e.i18n.monthNames[s],MMMM:e.i18n.monthNames[s+12],yy:String(a).slice(2),yyyy:a,YY:String(a).slice(2),YYYY:a,h:l%12||12,hh:e.pad(l%12||12),H:l,HH:e.pad(l),m:c,mm:e.pad(c),s:u,ss:e.pad(u),l:e.pad(d,3),L:e.pad(99<d?Math.round(d/10):d),t:12>l?"a":"p",tt:12>l?"am":"pm",T:12>l?"A":"P",TT:12>l?"AM":"PM",Z:i?"UTC":(String(t).match(e.timezone)||[""]).pop().replace(e.timezoneClip,""),o:(0<h?"-":"+")+e.pad(100*Math.floor(Math.abs(h)/60)+Math.abs(h)%60,4),S:["th","st","nd","rd"][3<r%10?0:(10!=r%100-r%10?1:0)*r%10]};return n.replace(e.token,function(e){return e in p?p[e]:e.slice(1,e.length-1)})},e.pad=function(e,t){var n=""+e;for(t=t||2;n.length<t;)n="0"+n;return n},e.setDayNames=function(t,n){e.i18n.dayNames=n.concat(t)},e.setMonthNames=function(t,n){e.i18n.monthNames=n.concat(t)},e.token=/d{1,4}|D{1,4}|m{1,4}|M{1,4}|yy(?:yy)?|YY(?:YY)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,e.timezone=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,e.timezoneClip=/[^-+\dA-Z]/g,e.i18n={dayNames:"Sun Mon Tue Wed Thu Fri Sat Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),monthNames:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec January February March April May June July August September October November December".split(" ")},e}();e.DateFormat=t}(s||(s={})),function(e){function t(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(t=0;t<e.length;t++)if(null==e[t])return!0;return!1}var n=function(){function n(){}return n.toBoolean=function(e){return null!=e&&("true"==e.toLowerCase()||"on"==e.toLowerCase())},n.generateID=function(){var e=(new Date).getTime()-new Date(2012,2,8).getTime();return n.lastGeneratedID==e?e.toString(35)+(n.lastGeneratedIDSuffix++).toString():(n.lastGeneratedID=e,n.lastGeneratedIDSuffix=0,e.toString(35))},n.bind=function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];if(e.nullOrUndefined(t))return t;for(i=0;i<n.length;i++)t=t.replace(RegExp("\\{"+i+"\\}","gi"),null==n[i]?"":n[i].toString());return t},n.concat=function(e,t){if(0==e.length)return t;var n=0<e.length?e.charCodeAt(e.length-1):-1,i=0<e.length?e.charCodeAt(e.length-2):-1,r="";if(-1!=i&&128<i&&256>i&&!(191<i&&224>i))return r=t.charCodeAt(0),r=String.fromCharCode((15&i)<<12|(63&n)<<6|63&r),e.substr(0,e.length-2)+r+t.substr(1);if(!(128>n||256<n)){if(191<n&&224>n)return i=t.charCodeAt(0),r=String.fromCharCode((31&n)<<6|63&i),e.substr(0,e.length-1)+r+t.substr(1);if(256>n)return i=t.charCodeAt(0),r=t.charCodeAt(1),r=String.fromCharCode((15&n)<<12|(63&i)<<6|63&r),e.substr(0,e.length-1)+r+t.substr(2)}return e+t},n.toTime=function(e){if(isNaN(e))return r.model._labels.Labels.INVALID_DATE;var t="",n=0>e;0>e&&(e*=-1);var i=(e=Math.round(e))%60;return t=10>i?"0"+i:i.toString(),t=(10>(i=(e=(e-i)/60)%60)?"0"+i:i.toString())+":"+t,t=(10>(i=(e=(e-i)/60)%24)?"0"+i:i.toString())+":"+t,0<(e=(e-i)/24)&&(t=e.toString()+"d "+t),n&&(t="-"+t),t},n.toDate=function(t,n){if(void 0===n&&(n="dd/MM/yyyy"),isNaN(t)||0==t)return r.model._labels.Labels.INVALID_DATE;var i=new Date(t);return isNaN(i.getTime())?"":e.DateFormat.format(i,n)},n.toDateTime=function(e,t){return void 0===t&&(t="dd/MM/yyyy HH:mm:ss"),n.toDate(e,t)},n.isDate=function(e){return this.matchesISODate(e)&&!isNaN(Date.parse(e))&&(1<e.match(/\d+/).length||1==e.match(/\d+/).length&&new Date(Date.parse(e)).toDateString()!=new Date(Date.parse(e.match(/\d+/)[0])).toDateString())},n.matchesISODate=function(t){return!(e.detectBrowser().isChrome&&!t.match(/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24\:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/i))},n.fromRgbToHex=function(e){if(t(e))return 0;if("#"===e.substr(0,1))return parseInt(e.substr(1),16);"transparent"==e&&(e="rgb(255,255,255)"),e=(e=e.replace(/[^\d,]/g,"")).split(",");var n=parseInt(e[0]),i=parseInt(e[1]),r=parseInt(e[2]);return 0===parseInt(e[3])&&(n=i=r=255),r|i<<8|n<<16},n.strToUint8Arr=function(e){for(var t=new Uint8Array(e.length),n=0,i=e.length;n<i;++n)t[n]=e.charCodeAt(n);return t},n.strToUint8ArrExtended=function(e){for(var t=new r.DataStream(new ArrayBuffer(e.length)),n=0,i=e.length;n<i;++n)t.writeString(e.charAt(n));return t.seek(0),t.readUint8Array(t.byteLength)},n.dataURItoUint8Arr=function(e){return e=-1!==e.split(",")[0].indexOf("base64")?atob(e.split(",")[1]):decodeURI(e.split(",")[1]),n.strToUint8Arr(e)},n.decode2=function(e){var t,n,i,r,o,s;for(t="",i=e.length,n=0;n<i;)switch(r=e[n++],r>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:t+=String.fromCharCode(r);break;case 12:case 13:o=e[n++],t+=String.fromCharCode((31&r)<<6|63&o);break;case 14:o=e[n++],s=e[n++],t+=String.fromCharCode((15&r)<<12|(63&o)<<6|(63&s)<<0)}return t},n.decode=function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return decodeURIComponent(escape(t))},n.contains=function(e,t){return-1<e.toLowerCase().indexOf(t)},n.parseBool=function(e){return"string"==typeof e&&(e=String(e).toLowerCase()),"true"===e||"on"===e||1===e||!0===e},n.toNumber=function(e){return null==e?NaN:"number"==typeof e?e:("string"!=typeof e&&(e=e.toString()),","==r.model.format.FormatManager.getFormat("").thousandsSeparator&&(e=e.replace(/,/gi,"")),e=(e=e.replace(",",".")).replace(/[^[,|\.|\-|\d|e]]*/gi,""),parseFloat(e))},n.trim=function(e,t){if(void 0===t&&(t=null),null==e)return"";for(var i=0;n.isWhitespace(e.charAt(i),t);)++i;for(var r=e.length-1;n.isWhitespace(e.charAt(r),t);)--r;return r>=i?e.slice(i,r+1):""},n.trimLeft=function(e,t){if(void 0===t&&(t=null),null==e)return"";for(var i=0;n.isWhitespace(e.charAt(i),t);)++i;var r=e.length-1;return r>=i?e.slice(i,r+1):""},n.isWhitespace=function(e,t){if(void 0===t&&(t=null),null!=t&&e==t)return!1;switch(e){case" ":case"\t":case"\r":case"\n":case"\f":return!0}return!1},n.isEntity=function(e){for(var t in n.entityMap)if(n.entityMap[t]==e)return!0;return!1},n.escapeHtml=function(e,t){return void 0===t&&(t=!1),e.replace(t?/[<>"'\/]/g:/[&<>"'\/]/g,function(e){return n.entityMap[e]})},n.lastGeneratedIDSuffix=0,n.entityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},n}();e.StringUtils=n,e.nullOrUndefined=t,e.nullOrEmpty=function(e){if(t(e)||"string"!=typeof e||0==e.trim().length)return!0;e=e.trim();for(var n=0;n<e.length;n++)if(0!=e.charCodeAt(n))return!1;return!0},e.strEncode=function(e){return e.replace(/\|/g,"{%7C}")},e.strDecode=function(e){return e.replace(/{%7C}/g,"|")}}(s||(s={})),function(e){var t=function(){function e(){}return e.sortOn=function(t,n,i,r){var o=1==(i>>=1)%2,s=1==(i=i>>1>>1)%2;return i=1==(i>>=1)%2,s?(t=e.sortIndices(t,n,r),o&&t.reverse(),t):(i?e.sortNumeric(t,n):""==n?t.sort():t.sort(function(e,t){return e[n]==t[n]?0:e[n]>t[n]?1:-1}),o&&t.reverse(),t)},e.sort=function(t,n,i){return void 0===n&&(n=0),e.sortOn(t,"",n,i)},e.sortNumeric=function(e,t){e.sort(""==t?function(e,t){return isNaN(e)?1:isNaN(t)?-1:e-t}:function(e,n){return isNaN(e[t])?1:isNaN(n[t])?-1:e[t]-n[t]})},e.sortIndices=function(e,t,n){var i,r=[];for(i in e)r.push([e[i],parseInt(i)]);for(var o in r.sort(""==t?n?function(e,t){return n(e[0],t[0])}:function(e,t){return e[0]==t[0]?0:e[0]>t[0]?1:-1}:n?function(e,i){return n(e[0][t],i[0][t])}:function(e,n){return e[0][t]==n[0][t]?0:e[0][t]>n[0][t]?1:-1}),e=[],r)e.push(r[o][1]);return e},e.find=function(e,t,n){void 0===n&&(n=null);for(var i=e.length-1;-1<i;i--)if(null===n&&e[i]===t||null!==n&&e[i][n]===t)return e[i];return null},e.findIndex=function(e,t,n){void 0===n&&(n=null);for(var i=e.length-1;-1<i;i--)if(null===n&&e[i]===t||null!==n&&e[i][n]===t)return i;return-1},e.insert=function(e,t,n){for(var i=0;i<t.length;i++)e.splice(n+i,0,t[i])},e.CASEINSENSITIVE=1,e.DESCENDING=2,e.UNIQUESORT=4,e.RETURNINDEXEDARRAY=8,e.NUMERIC=16,e}();e.ArrayUtils=t}(s||(s={})),function(e){var t=function(){function t(){this.values={},this.keys=[]}return t.prototype.addItem=function(e,t){void 0===this.values[e]&&this.keys.push(e),this.values[e]=t},t.prototype.addUniqueItem=function(e,t){this.keys.push(e),this.values[e]=t},t.prototype.unshift=function(e,t){this.keys.unshift(e),this.values[e]=t},t.prototype.setItemAt=function(e,t,n){this.keys[n]=e,this.values[e]=t},t.prototype.addItemAt=function(e,t,n){null!=this.getItem(e)&&this.removeItem(e),this.keys.splice(n,0,e),this.values[e]=t},t.prototype.removeItem=function(e){null!=this.getItem(e)&&(this.keys.splice(this.indexOf(e),1),delete this.values[e])},t.prototype.removeItemAt=function(e){var t=this.getKeyAt(e);null!=t&&(this.keys.splice(e,1),delete this.values[t])},Object.defineProperty(t.prototype,"length",{get:function(){return this.keys.length},set:function(e){},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(e){return this.keys.indexOf(e)},t.prototype.keyExists=function(e){return null!=this.values[e]},t.prototype.getItem=function(e){return this.values[e]},t.prototype.getItemAt=function(e){return this.getItem(this.keys[e])},t.prototype.getKeyAt=function(e){return this.keys[e]},t.prototype.moveItemAt=function(e,t){this.keys.splice(t,0,this.keys.splice(e,1)[0])},t.prototype.slice=function(n,i){void 0===n&&(n=0),void 0===i&&(i=0),0==i&&(i=this.length-n);for(var r=new t,o=0;o<i;o++)this.length>o+n&&(e.nullOrUndefined(this.getItemAt(o+n))||r.addItem(this.getKeyAt(o+n),this.getItemAt(o+n)));return r},t.prototype.concat=function(e,n){if(void 0===n&&(n=!0),!n)return this._concat(e),null;var i,r=new t;for(i=0;i<this.length;i++)r.addItem(this.getKeyAt(i),this.getItemAt(i));for(i=0;i<e.length;i++)r.addItem(e.getKeyAt(i),e.getItemAt(i));return r},t.prototype._concat=function(e){var t,n=e.length;for(t=0;t<n;t++)this.addItem(e.getKeyAt(t),e.getItemAt(t))},t.prototype.splice=function(e,n){void 0===n&&(n=0);var i=new t;e+n>this.length&&(n=this.length-e),1>n&&(n=this.length);for(var r=0;r<this.length;r++)(r<e||r>=e+n)&&i.addItem(this.getKeyAt(r),this.getItemAt(r));return i},t.prototype.reverse=function(){var e,n=new t;for(e=this.length-1;-1<e;e--)n.addItem(this.getKeyAt(e),this.getItemAt(e));return n},t.prototype.toArray=function(e){if(void 0===e&&(e=!1),e)return this.keys.slice(0);e=[];for(var t=0;t<this.length;t++)e.push(this.getItemAt(t));return e},t.prototype.toKeyArray=function(e){if(void 0===e&&(e=!1),e)return this.keys.slice(0);e=[];for(var t=0;t<this.length;t++)e.push(this.getKeyAt(t));return e},t.fromArray=function(e){for(var n=new t,i=0;i<e.length;i++)n.addItem(i.toString(),e[i]);return n},t.convert=function(e,n){for(var i=new t,r=0;r<e.length;r++)i.addItem(e[r][n],e[r]);return i},t.prototype.toString=function(){var e,t=[];for(e in this.keys){var n="{"+e+": "+this.getItem(e)+"}";t.push(n)}return t.join(", ")},t}();e.AssociativeArray=t}(s||(s={})),function(e){var t=function(){function e(){this.quotes=[]}return e.prototype.parse=function(e){try{this.quotes=[];for(var t=[],n=!1,i="",r=0;r<e.length;r++){var o=e.charAt(r);'"'==o||"'"==o?(n&&(this.quotes.push(i),t.push(o),i=""),n=!n):n&&(i+=o)}var s;for(e="  "+e,r=0;r<this.quotes.length;r++)if("truestyle"!=this.quotes[r].toLowerCase()){var a=t[r]+this.quotes[r]+t[r],l=e.substring(0,e.indexOf(a)+a.length+2);if((s=/(\w\w\w\()[\'|\"][^\'|^\"]*[\'|\"]/i).test(l))e=e.replace(a,"@"+r);else{s=/(\W)[\'|\"][^\'|^\"]*[\'|\"]/i;var c=(-1!=l.indexOf("#value")||-1!=l.indexOf("#updateDifference")||-1!=l.indexOf("#updatePercent"))&&-1!=l.indexOf("if(");s.test(l)&&!c?e=e.replace(a,"sum(@"+r+")"):(s=/(\W)[\'|\"][^\'|^\"]*[\'|\"]/i,e=e.replace(a,"@"+r))}}e=(e=(e=(e=e.replace(s=/\#value/g,"value()")).replace(s=/\#updateDifference/g,"updateDifference()")).replace(s=/\#updatePercent/g,"updatePercent()")).toLocaleLowerCase();var u=(u=this._parse(e))[1][0]}catch(d){return null}return u},e.prototype._parse=function(e){for(var t=[],n="",i=e.length,r=0;r<e.length;r++){var o=e.charAt(r);if("("==o)n+="$"+t.length+";",o=this._parse(e.slice(r+1)),t.push(o[1]),r=r+o[0]+1;else{if(")"==o){i=r;break}n+=o}}for(e=[],n=n.split(","),r=0;r<n.length;r++)e.push(this._parseOperands(n[r],t));return[i,e]},e.prototype._parseOperands=function(e,t){for(var n=[[" or "," and "],"== != >= <= = > <".split(" "),["-","+"],["/","*"],["^"]],i=0;i<n.length;i++){var r=Number.MIN_VALUE,o=n[i][0];if(3==i){r=e.indexOf(n[i][0]);var s=e.indexOf(n[i][1]);-1!=r&&-1!=s?o=r<s?n[i][0]:n[i][1]:-1!=r?o=n[i][0]:-1!=s&&(o=n[i][1])}else for(s=0;s<n[i].length;s++){var a=e.indexOf(n[i][s]);-1!=a&&a>=r&&(r=a+(o=n[i][s]).length)}if(2<(r=e.split(o)).length&&(s=r[r.length-1],r.pop(),r=[r.join(o),s]),2==r.length)return[o.trim(),[this._parseOperands(r[0],t),this._parseOperands(r[1],t)],!0]}return this._parseElements(e,t)},e.prototype._parseElements=function(e,t){if(-1!=(e=e.trim()).indexOf("$")){var n=(i=e.split("$"))[0],i=parseInt(i[1]);if(0<n.length){var r="string"!=typeof t[i][0];return("min"==n||"max"==n)&&1<t[i].length&&(r=!0,"string"==typeof t[i][0]&&(t[i][0]=["sum",[t[i][0]],!1]),"string"==typeof t[i][1]&&(t[i][1]=["sum",[t[i][1]],!1])),[n,t[i],r]}return t[i][0]}return-1!=e.indexOf("@")?(n=parseInt(e.slice(1)),this.quotes[n]):"truestyle"==e.toLowerCase()||"truestyle"==e.substring(1,e.length-1).toLowerCase()?"truestyle":(n=parseFloat(e),isNaN(n)?0:n)},e}();e.Lexer=t}(s||(s={})),function(e){var t=function(){function e(){}return Object.defineProperty(e,"isMac",{get:function(){return/Mac/i.test(navigator.platform)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isWin",{get:function(){return/Win/i.test(navigator.platform)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isIOS",{get:function(){return/(iPhone|iPod|iPad)/i.test(navigator.platform)||/(iPhone|iPod|iPad)/i.test(navigator.userAgent)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isAnd",{get:function(){return/Android/i.test(navigator.userAgent)},enumerable:!0,configurable:!0}),e}();e.OSUtil=t}(s||(s={})),function(e){var t=function(){function t(){}return t.isEmptyObject=function(t){for(var n in t)if(!e.nullOrUndefined(t[n]))return!1;return!0},t.deepCopy=function(e){if(e instanceof Array)return t.deepCopyArray(e);var n,i={};for(n in e)i[n]="object"!=typeof e[n]?e[n]:t.deepCopy(e[n]);return i},t.deepCopyArray=function(e){for(var n=[],i=0;i<e.length;i++)n[i]="object"!=typeof e[i]?e[i]:t.deepCopy(e[i]);return n},t}();e.ObjectUtils=t}(s||(s={})),function(e){var t=function(){function e(){throw Error("Singleton")}return e.dispose=function(){e.queue=[],e.instance=null,e.runningThread=null},e.addTask=function(t,n,i,r){void 0===i&&(i=null),void 0===r&&(r=null),e.queue.push({taskFunction:t,context:n,args:i,completeCallback:r}),null==e.runningThread&&e.run()},e.run=function(){(e.runningThread=new n(e.queue.shift(),function(){return e.onTaskComplete()})).run()},e.pause=function(){null!=e.runningThread&&e.runningThread.stop()},e.resume=function(){null!=e.runningThread?e.runningThread.run():0<e.queue.length&&e.run()},e.onTaskComplete=function(){e.runningThread=null,0<e.queue.length&&this.run()},e.cancel=function(){null!=e.runningThread&&(e.runningThread.stop(),e.runningThread=null),e.queue=[]},e.isRunning=function(){return null!=e.runningThread},e.adjustTaskSize=function(e,t){return 10<e-50?t=Math.floor(.95*t):-10>e-50&&(t=Math.floor(1.05*t)),Math.max(5,t)},e.queue=[],e}();e.ThreadManager=t;var n=function(){function t(e,t){void 0===t&&(t=null),this.delay=1,this.isComplete=!1,this.task=e,this.completeCallback=t}return t.prototype.run=function(){var t=this;this.currentTimeout=e.fmSetTimeout(function(){return t.doTask()},this.delay)},t.prototype.stop=function(){e.fmClearTimeout(this.currentTimeout)},t.prototype.doTask=function(){var t=this;this.isComplete=this.task.taskFunction.call(this.task.context,this.task.args),1==this.isComplete?this.onComplete():this.currentTimeout=e.fmSetTimeout(function(){return t.doTask()},this.delay)},t.prototype.onComplete=function(){null!=this.completeCallback&&this.completeCallback(),null!=this.task.completeCallback&&this.task.completeCallback()},t.prototype.dispose=function(){this.stop(),this.completeCallback=this.task=null},t}()}(s||(s={})),function(e){function t(){var e=navigator.userAgent.toLowerCase(),t={};if(t.isFirefox=/mozilla/.test(e)&&/firefox/.test(e),t.isChrome=/webkit/.test(e)&&/chrome/.test(e)&&!/edge/.test(e),t.isEdge=/edge/.test(e),t.isSafari=/applewebkit/.test(e)&&/safari/.test(e)&&!/chrome/.test(e),t.isOpera=/opera/.test(e),t.isMsie=/msie/.test(e),t.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone/i.test(e)||/iPad|iPhone|iPod|BlackBerry/i.test(navigator.platform),t.version=NaN,t.isMsie||t.isFirefox||t.isChrome||t.isSafari||t.isOpera||!/trident/.test(e)||(t.isMsie=!0,t.version=11),isNaN(t.version))for(var n=["chrome","firefox","msie","safari","opera"],i=0;i<n.length;i++)try{t.version=parseInt(e.match(RegExp("("+n[i]+")( |/)([0-9]+)"))[3]);break}catch(r){}return t}e.browserVersion=function(){return t()},e.detectBrowser=t,e.isFullscreen=function(){return null!=document.fullscreenElement||null!=document.mozFullScreenElement||null!=document.webkitFullscreenElement||null!=document.msFullscreenElement},e.isHTML5Supported=function(){try{var e;if(e=void 0!==ArrayBuffer){var t;if(t=void 0!==DataView){var n;if(n=void 0!==Uint8Array){var i;if(window.chrome&&navigator.userAgent.match(/chrome.\d*/gi)){var r=navigator.userAgent.match(/chrome.\d*/gi)[0];i=12<=parseInt(r.replace(/[^\d]/g,""))}else i=!0;n=i&&(!window.opera||15<=window.opera.version())&&(!navigator.userAgent.match("Safari/")||!navigator.userAgent.match("Version/5.")&&!navigator.userAgent.match("Version/6.0"))}t=n}e=t}return e}catch(o){return!1}},e.getCookie=function(e){var t=document.cookie,n=t.indexOf(" "+e+"=");return-1==n&&(n=t.indexOf(e+"=")),-1==n?t=null:(n=t.indexOf("=",n)+1,-1==(e=t.indexOf(";",n))&&(e=t.length),t=decodeURI(t.substring(n,e))),t},e.setCookie=function(e,t){var n=new Date;n.setDate(n.getDate()+1825),t=encodeURI(t)+"; expires="+n.toUTCString(),document.cookie=e+"="+t},e.isLandscapeOrientation=function(){return screen.orientation&&-1<screen.orientation.type.indexOf("landscape")},e.isPortraitOrientation=function(){return screen.orientation&&-1<screen.orientation.type.indexOf("portrait")},e.viewportWidth=function(){return Math.max(document.documentElement.clientWidth)},e.viewportHeight=function(){return Math.max(document.documentElement.clientHeight)}}(s||(s={})),function(e){var n=function(n){function r(e,t){void 0===t&&(t=0);var i=n.call(this)||this;return i._currentCount=0,i._delay=0,i._repeatCount=0,i._running=!1,i._delay=e,i._repeatCount=t,i}return a(r,n),r.prototype.onTimer=function(){this._currentCount++,this.dispatch(new t._Event(i.TIMER)),0<this._repeatCount&&this._currentCount>=this._repeatCount&&(this.stop(),this.dispatch(new t._Event(i.TIMER_COMPLETE)))},r.prototype.start=function(){var t=this;this._running||(this._intervalId=e.fmSetInterval(function(){return t.onTimer()},this._delay),this._running=!0)},r.prototype.stop=function(){this._running&&!e.nullOrUndefined(this._intervalId)&&(e.fmClearInterval(this._intervalId),this._running=!1)},r.prototype.reset=function(){this._currentCount=0,this.stop()},Object.defineProperty(r.prototype,"currentCount",{get:function(){return this._currentCount},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"running",{get:function(){return this._running},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"repeatCount",{get:function(){return this._repeatCount},set:function(e){this._repeatCount=e,this._currentCount>=this._repeatCount&&this.stop()},enumerable:!0,configurable:!0}),r}(t.EventDispatcher);e.Timer=n;var i=function(){function e(){}return e.TIMER="timer",e.TIMER_COMPLETE="complete",e}();e.TimerEvent=i,e.getTimer=function(){return"undefined"!=typeof performance&&"function"==typeof window.performance.now?performance.now():(new Date).getTime()}}(s||(s={})),function(e){var n=function(t){function n(r){var o=t.call(this)||this;if(o._isFocused=!1,o._keydownHandler=function(e){return o.onKeyDown(e)},o.inputKeyUpHandler=function(e){return o.onInputKeyUp(e)},null!=n._instance)throw Error("KeyboardListener is singleton");return o.target=r,e.browserVersion().isMobile||(e.fmdocument.addEventListener("keydown",o._keydownHandler),o._inputContainer=new i.UIElement("div"),o._inputContainer.attr("id","pivot-hiddenInputContainer"),o._inputContainer.css("position","fixed").css("left","0px").css("top","0px").css("opacity","0").css("width","0px").css("height","0px"),o._inputContainer.hide(),o._input=new i.UITextArea,o._input.setId("pivot-hiddenInput"),o._input.container.css("width","1px").css("height","1px").css("padding","0px"),o._input.addEventListener("focusin",function(){o._isFocused=!0}),o._input.addEventListener("focusout",function(){o._isFocused=!1}),o._inputContainer.append(o._input.container),r.append(o._inputContainer)),o}return a(n,t),n.getInstance=function(){return null==n._instance&&(n._instance=new n(r._view.PivotView.stage.container)),n._instance},Object.defineProperty(n.prototype,"isFocused",{get:function(){return this._isFocused},enumerable:!0,configurable:!0}),n.prototype.onKeyDown=function(e){var t=new o(o.KEY_DOWN);t.keyCode=e.keyCode,t.altKey=e.altKey,t.ctrlKey=e.ctrlKey,t.metaKey=e.metaKey,t.shiftKey=e.shiftKey,this.dispatch(t)},n.prototype.onInputKeyUp=function(e){this._inputContainer.hide(),this._input.setText(""),this._input.container.blur(),this._input.removeEventListener("keyup",this.inputKeyUpHandler)},n.prototype.copy=function(e){this._inputContainer.show(),this._input.setText(e),this._input.container.focus(),this._input.selectAll(),this._input.container.focus(),this._input.addEventListener("keyup",this.inputKeyUpHandler)},n}(t.EventDispatcher);e.KeyboardListener=n;var o=function(e){function t(t){return e.call(this,t)||this}return a(t,e),t.KEY_DOWN="event_keydown",t}(t._Event);e.KeyboardEvent=o}(s||(s={})),function(e){e.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(null!=console&&null!=console.log)for(t=s.browserVersion().isFirefox&&s.browserVersion().isMobile?0:1;t<e.length;t++);},e.stackTrace=function(){var e=Error();return e&&e.stack?e.stack.substr(77):""}}(r||(r={})),function(e){e.uialert=function(n,i,r,o,s,a){void 0===i&&(i=""),void 0===r&&(r=t.ALERT),void 0===o&&(o=null),void 0===s&&(s=null),void 0===a&&(a=!1),e._view.AlertView.getInstance().openView(n,i,r,o,s,a)};var t=function(){function e(){}return e.ALERT="alert",e.CONFIRMATION="confirmation",e.ERROR="error",e.INFO="info",e}();e.AlertType=t}(r||(r={})),function(e){e.preloader=function(t,n,i,r,o){void 0===t&&(t=!0),e._view.Preloader.getInstance().show(t,n,i,r,o)}}(r||(r={})),function(e){var n,i;n=e.model||(e.model={}),i=function(t){function i(){var r=t.call(this)||this;if(null!=i.instance)throw Error("Singleton");return r.cube_=e.data_.Cube.getInstance(),r.state_=new n._state.StateManager,r}return a(i,t),i.getInstance=function(){return null==this.instance&&(this.instance=new i),this.instance},i.prototype.init=function(t){i.id=t.id?t.id:"",n.JavaScriptHandlers.setHandlers(t),n._labels.LabelsManager.getInstance().reset(),e._view.grid.vo.GridCell.customizeCellFunction=t.customizeCell,this.state_.init(t)},i.prototype.open=function(){this.state_.open()},i.prototype.load=function(e){this.state_.load(e)},i.prototype.save=function(e,t,n,i,r){return void 0===t&&(t=null),void 0===r&&(r=!1),this.state_.save(e,t,n,i,r)},i.prototype.setReport=function(e){this.state_.setReport(e)},i.prototype.getReport=function(e){return void 0===e&&(e={}),this.state_.getReport(e)},i.prototype.clear=function(){this.state_.clear()},i.prototype.checkDataObject=function(e){var t={};return s.nullOrUndefined(e.dataSourceType)||(t.dataSourceType=e.dataSourceType),s.nullOrUndefined(e.filename)||(t.filename=e.filename),s.nullOrUndefined(e.requestHeader)||(t.requestHeader=e.requestHeader),s.nullOrUndefined(e.fieldSeparator)||(t.fieldSeparator=e.fieldSeparator),s.nullOrUndefined(e.recordsetDelimiter)||(t.recordsetDelimiter=e.recordsetDelimiter),s.nullOrUndefined(e.browseForFile)||(t.browseForFile=e.browseForFile),s.nullOrUndefined(e.data)||(t.data=e.data),s.nullOrUndefined(e.ignoreQuotedLineBreaks)||(t.ignoreQuotedLineBreaks=e.ignoreQuotedLineBreaks),s.nullOrUndefined(e.hash)||(t.hash=e.hash),s.nullOrUndefined(e.username)||(t.username=e.username),s.nullOrUndefined(e.password)||(t.password=e.password),t},i.prototype.connectTo=function(e){this.state_.connectTo(this.checkDataObject(e))},i.prototype.updateData=function(e,t){t.partial?this.state_.updateDataPartial(e.data,t):this.state_.updateData(this.checkDataObject(e),t)},i.prototype.getData=function(t,i,r){if(null!=r&&e.Pivot.instance.on("update",function(){e.Pivot.instance.getData(t,r)}),null!=t&&null!=t.slice){var o=t.slice instanceof e.data_._structure.Slice?t.slice:e.data_._structure.Slice.fromObject(n.report.SliceValueObject.fromObject(t.slice),this.cube_.structure_);n.integration.IntegrationDataManager.getInstance().selectData(o,i)}else i((o=n.integration.IntegrationDataManager.getInstance().getData()).toObject())},i.prototype.getAllConditions=function(){return n.condition.ConditionManager.getObjects()},i.prototype.getCondition=function(e){return(e=n.condition.ConditionManager.get(e))?e.toObject():null},i.prototype.addCondition=function(e){n.condition.ConditionManager.add(n.condition.vo.ConditionValueObject.fromObject(e))},i.prototype.removeCondition=function(e){n.condition.ConditionManager.remove(e)},i.prototype.removeAllConditions=function(){n.condition.ConditionManager.removeAll()},i.prototype.addCalculatedMeasure=function(e){this.cube_.addCalculatedMeasure(e)},i.prototype.removeCalculatedMeasure=function(e){this.cube_.removeCalculatedMeasure(e)},i.prototype.removeAllCalculatedMeasures=function(){this.cube_.removeAllCalculatedMeasures()},i.prototype.expandAllData=function(t){void 0===t&&(t=!0),this.cube_.slice_.expandAll=!0,this.cube_.slice_.drillAll=t,this.cube_.slice_.clearExpands(),this.cube_.slice_.clearDrills(),e.data_.dataprovider_.DataProviderFactory.dispose(),this.refresh()},i.prototype.expandData=function(e){this.dataProvider_.expandData(e)},i.prototype.collapseAllData=function(){this.cube_.slice_.expandAll=!1,this.cube_.slice_.drillAll=!1,this.cube_.slice_.columnAxis.expandedTuples=[],this.cube_.slice_.columnAxis.drilledTuples=[],this.cube_.slice_.rowAxis.expandedTuples=[],this.cube_.slice_.rowAxis.drilledTuples=[],e.data_.dataprovider_.DataProviderFactory.dispose(),this.refresh()},i.prototype.collapseData=function(e){this.dataProvider_.collapseData(e)},i.prototype.setOptions=function(e){null!=e.localSettingsUrl&&delete e.localSettingsUrl,null!=e.zoom&&delete e.zoom,n._options.OptionsManager.setOptions(e,!1)},i.prototype.print=function(e){n.printing.PrintingManager.getInstance().print(e)},i.prototype.exportTo=function(e,t,i){void 0===t&&(t=null),void 0===i&&(i=null),n._export.ExportManager.exportTo(e,t,i)},i.prototype.getFilter=function(e){if(null==this.cube_||null==this.cube_.structure_)return[];var t=[];if((e=this.cube_.structure_.allHierarchies(!1).getItem(e))&&e.hasFilter())for(var n=e.filter,i=0;i<n.length;i++){var r=n.getItemAt(i);t.push({caption:r.caption,uniqueName:r.uniqueName,hierarchyName:e.uniqueName,parentMember:r.parent.uniqueName})}return t},i.prototype.getFilterProperties=function(t){if(null==this.cube_||null==this.cube_.structure_)return[];var n={};if(n.type=e.data_.consts.FilterType.NONE,n.members=[],(t=this.cube_.structure_.allHierarchies(!1).getItem(t))&&t.hasFilter()){if(t.hasMembersFilter()){n.type="members";for(var i=t.filterMembers,r=0;r<i.length;r++){var o=i.getItemAt(r);n.members.push({caption:o.caption,uniqueName:o.uniqueName,hierarchyName:t.uniqueName,parentMember:o.parent.uniqueName})}}t.hasValuesFilter()&&(n.type=t.filterType,n.quantity=t.filterQuantity,n.measure=t.filterMeasureName,n.measureName=t.filterMeasureName)}return n},i.prototype.setFilter=function(t,i,r){if(void 0===r&&(r=!1),t=this.cube_.structure_.allHierarchies(!1).getItem(t)){var o={};o.members=i,o.negation=r,e.data_._structure.GenericHierarchy.filterFromObject(o,t),n.JavaScriptHandlers.getInstance().dispatch(new n.APIEvent(n.JavaScriptHandlers.REPORT_CHANGE)),this.cube_.filter()}},i.prototype.clearFilter=function(e){(e=this.cube_.structure_.allHierarchies(!1).getItem(e))&&(e.clearFilter(),this.cube_.select())},i.prototype.getRows=function(){if(null==this.cube_||null==this.cube_.slice_)return[];for(var e=this.cube_.slice_.rows,t=[],n=0;n<e.length;n++){var i=e.getItemAt(n);t.push({caption:i.caption,uniqueName:i.uniqueName,sort:i.sortName,folder:i.folder})}return t},i.prototype.getColumns=function(){if(null==this.cube_||null==this.cube_.slice_)return[];for(var e=this.cube_.slice_.columns,t=[],n=0;n<e.length;n++){var i=e.getItemAt(n);t.push({caption:i.caption,uniqueName:i.uniqueName,sort:i.sortName,folder:i.folder})}return t},i.prototype.getPages=function(){if(null==this.cube_||null==this.cube_.slice_)return[];for(var e=this.cube_.slice_.pages,t=[],n=0;n<e.length;n++){var i=e.getItemAt(n);t.push({caption:i.caption,uniqueName:i.uniqueName,sort:i.sortName,folder:i.folder})}return t},i.prototype.getMeasures=function(){if(null==this.cube_||null==this.cube_.slice_)return[];var t,i,r,o=[];if(n._options.OptionsManager.flatView){var s=this.cube_.slice_.flatten();for(t=0;t<s.length;t++)i=s.getItemAt(t),(i=this.cube_.structure_.hierarchyToMeasure(i.uniqueName))&&((r=e.data_._structure.GenericMeasure.toObject(i)).availableAggregations=[],r.availableAggregationsCaptions=[],r.caption=r.grandTotalCaption=i.originalCaption,o.push(r))}else for(s=this.cube_.slice_.measures_,t=0;t<s.length;t++){i=s.getItemAt(t),r=e.data_._structure.GenericMeasure.toObject(i);var a=i.availableAggregations;0!=i.availableAggregations.length||i.calculated||(a=e.data_.consts.AggregationName.ALL_AGGREGATIONS),r.availableAggregations=a,r.availableAggregationsCaptions=e.data_.consts.AggregationName.aggregationCaptions(a),o.push(r)}return o},i.prototype.getAllMeasures=function(){if(null==this.cube_||null==this.cube_.structure_)return[];for(var t=this.cube_.structure_.measures_,i=[],r=0;r<t.length;r++){var o=t.getItemAt(r),s=e.data_._structure.GenericMeasure.toObject(o);if(n._options.OptionsManager.flatView)s.availableAggregations=[],s.availableAggregationsCaptions=[],s.caption=s.grandTotalCaption=o.originalCaption;else{var a=o.availableAggregations;0!=o.availableAggregations.length||o.calculated||(a=e.data_.consts.AggregationName.ALL_AGGREGATIONS),s.availableAggregations=a,s.availableAggregationsCaptions=e.data_.consts.AggregationName.aggregationCaptions(a)}i.push(s)}return i},i.prototype.replaceHierarchyCaption=function(e){this.cube_.structure_.allHierarchies(!1).getItem(e.name).label=e.caption},i.prototype.getAllHierarchies=function(){if(null==this.cube_||null==this.cube_.structure_)return[];for(var e=this.cube_.structure_.allHierarchies(!1),t=[],n=0;n<e.length;n++){var i=e.getItemAt(n);t.push({caption:i.caption,uniqueName:i.uniqueName,folder:i.folder})}return t},i.prototype.sortValues=function(e,t,n,i){null!=(e=this.cube_.slice_.axes.getItem(e))&&((i=this.cube_.structure_.measures_.getItem(i))&&(e.sortType=t,e.sortTuple=n,e.sortMeasure=i),this.cube_.sort())},i.prototype.setSort=function(t,i){var r=this.cube_.structure_.allHierarchies(!1).getItem(t);if(r){var o=this.cube_.slice_.axes.getItem(e.data_.consts.AxisName.COLUMNS_AXIS),s=this.cube_.slice_.axes.getItem(e.data_.consts.AxisName.ROWS_AXIS);-1!=o.hierarchies.indexOf(r.uniqueName)?this.cube_.clearSortValues(s):-1!=s.hierarchies.indexOf(r.uniqueName)&&this.cube_.clearSortValues(o),r.sortName=i,n._options.OptionsManager.flatView&&(this.dataProvider_.columnSortType=i,this.dataProvider_.columnSortTuple=this.dataProvider_.getColumnTupleByName(r.uniqueName),this.dataProvider_.columnSortMeasure=this.cube_.structure_.hierarchyToMeasure(r.uniqueName))}this.cube_.select()},i.prototype.getSort=function(e){return null==this.cube_||null==this.cube_.structure_?"":null!=(e=this.cube_.structure_.allHierarchies(!1).getItem(e))?e.sortName:""},i.prototype.setTopX=function(t,i,r){t=this.cube_.structure_.allHierarchies(!1).getItem(t);var o=n._options.OptionsManager.flatView?this.cube_.structure_.measures_.getItem(r):this.cube_.slice_.measures_.getItem(r);t&&o&&!t.isMeasures&&(t.filterType=e.data_.consts.FilterType.TOP,t.filterQuantity=i,t.filterMeasureName=r,t.sortName=e.data_.consts.SortType.UNSORTED,i=this.cube_.slice_.findAxis(e.data_.consts.AxisName.ROWS_AXIS),r=this.cube_.slice_.findAxis(e.data_.consts.AxisName.COLUMNS_AXIS),-1!=i.hierarchies.indexOf(t.uniqueName)&&(r.sortTuple=[],r.sortType=e.data_.consts.SortType.DESC,r.sortMeasure=this.cube_.slice_.measures_.getItem(t.filterMeasureName)),-1!=r.hierarchies.indexOf(t.uniqueName)&&(i.sortTuple=[],i.sortType=e.data_.consts.SortType.DESC,i.sortMeasure=this.cube_.slice_.measures_.getItem(t.filterMeasureName))),this.cube_.filter()},i.prototype.setBottomX=function(t,i,r){t=this.cube_.structure_.allHierarchies(!1).getItem(t);var o=n._options.OptionsManager.flatView?this.cube_.structure_.measures_.getItem(r):this.cube_.slice_.measures_.getItem(r);t&&o&&!t.isMeasures&&(t.filterType=e.data_.consts.FilterType.BOTTOM,t.filterQuantity=i,t.filterMeasureName=r,t.sortName=e.data_.consts.SortType.UNSORTED,i=this.cube_.slice_.findAxis(e.data_.consts.AxisName.ROWS_AXIS),r=this.cube_.slice_.findAxis(e.data_.consts.AxisName.COLUMNS_AXIS),-1!=i.hierarchies.indexOf(t.uniqueName)&&(r.sortTuple=[],r.sortType=e.data_.consts.SortType.ASC,r.sortMeasure=this.cube_.slice_.measures_.getItem(t.filterMeasureName)),-1!=r.hierarchies.indexOf(t.uniqueName)&&(i.sortTuple=[],i.sortType=e.data_.consts.SortType.ASC,i.sortMeasure=this.cube_.slice_.measures_.getItem(t.filterMeasureName))),this.cube_.filter()},i.prototype.getMembers=function(e,t,n){return null==this.cube_||null==this.cube_.structure_?[]:(t=[],(e=this.cube_.structure_.allHierarchies(!1).getItem(e))&&(t=this.getAllChildren(e.allMember),null!=n&&n(t)),t)},i.prototype.getChildrenByMember=function(e,t){for(var n=""==t?e.allMember.children:e.findMember(t).children,i=[],r=0;r<n.length;r++){var o=n.getItemAt(r);o.uniqueName!=e.allMemberName&&i.push({caption:o.caption,uniqueName:o.uniqueName,hierarchyName:e.uniqueName,parentMember:o.parent.isAll?"(All)":o.parent.uniqueName,isLeaf:o.level.num==o.hierarchy_.levels_.length-1})}return i},i.prototype.getAllChildren=function(e){e=e.hierarchy_.sortChildren(e,!1);for(var t=[],i=0;i<e.length;i++){var r=e.getItemAt(i),o=r.level.num==r.hierarchy_.levels_.length-1,s=[];1==r.children.length&&r.children.getItemAt(0).caption==n._labels.Labels.MEMBER_BLANK||(s=this.getAllChildren(r)),t.push({caption:r.caption,uniqueName:r.uniqueName,hierarchyName:r.hierarchy_.uniqueName,children:s,parentMember:r.parent.isAll?"(All)":r.parent.uniqueName,isLeaf:o})}return t},i.prototype.runQuery=function(e){this.state_.runQuery(e)},i.prototype.getOptions=function(){return n._options.OptionsManager.getOptions(!0,!0).toObject()},i.prototype.getFormat=function(e){return((e=this.cube_&&this.cube_.structure_?this.cube_.structure_.findMeasure(e):null)?e.getFormat():n.format.FormatManager.getFormat("")).toObject(!0)},i.prototype.setFormat=function(t,i){t.hasOwnProperty("name")||(t.name=s.StringUtils.generateID());try{n.format.FormatManager.setFormat(t)}catch(a){return void e.uialert("Can't add format. Component's configuration requires more parameters.")}try{var r=this.cube_.structure_.findMeasure(i);if(r&&(r.format=t.name),""!=t.name&&(""==i||null==i))for(var o=0;o<this.cube_.structure_.measures_.length;o++)(r=this.cube_.structure_.measures_.getItemAt(o)).format=t.name}catch(l){e.uialert("List of measures is empty. There is nothing to format.")}},i.prototype.refresh=function(){this.cube_.filter()},i.prototype.dispose=function(){e.data_.dataprovider_.DataProviderFactory.dispose(),this.cube_&&this.cube_.dispose(),this.state_&&this.state_.dispose(),this.dataProvider_=this.state_=this.cube_=null,i.instance=null},i.id="WebDataRocks",i}(t.EventDispatcher),n.PivotModel=i}(r||(r={})),function(e){!function(e){var n=function(e,t){void 0===t&&(t=null),this.type=e,this.data=t};e.APIEvent=n,n=function(e){function t(){var n=e.call(this)||this;if(null!=t.instance)throw Error("Singleton");return n}return a(t,e),t.getInstance=function(){return null==t.instance&&(t.instance=new t),t.instance},t.dispose=function(){t.instance=null},t.toTypes=function(e){return t.isValidType(e)?e:""},t.isValidType=function(e){return-1<t.types.indexOf(e)},t.prototype.addEventListener=function(n,i,r){void 0===r&&(r=0),n=t.toTypes(n),t.isValidType(n)&&e.prototype.addEventListener.call(this,n,i,r)},t.prototype.removeEventListener=function(n,i){n=t.toTypes(n),t.isValidType(n)&&e.prototype.removeEventListener.call(this,n,i)},t.setHandlers=function(e){t.setHandler(t.READY,e[t.READY]),t.setHandler(t.OPENING_REPORT_FILE,e[t.OPENING_REPORT_FILE]),t.setHandler(t.LOADING_REPORT_FILE,e[t.LOADING_REPORT_FILE]),t.setHandler(t.REPORT_FILE_LOADED,e[t.REPORT_FILE_LOADED]),t.setHandler(t.REPORT_FILE_ERROR,e[t.REPORT_FILE_ERROR]),t.setHandler(t.REPORT_FILE_CANCELLED,e[t.REPORT_FILE_CANCELLED]),t.setHandler(t.REPORT_CHANGE,e[t.REPORT_CHANGE]),t.setHandler(t.LOADING_DATA,e[t.LOADING_DATA]),t.setHandler(t.DATA_LOADED,e[t.DATA_LOADED]),t.setHandler(t.DATA_ERROR,e[t.DATA_ERROR]),t.setHandler(t.DATA_FILE_CANCELLED,e[t.DATA_FILE_CANCELLED]),t.setHandler(t.DATA_CHANGED,e[t.DATA_CHANGED]),t.setHandler(t.RUNNING_QUERY,e[t.RUNNING_QUERY]),t.setHandler(t.QUERY_COMPLETE,e[t.QUERY_COMPLETE]),t.setHandler(t.QUERY_ERROR,e[t.QUERY_ERROR]),t.setHandler(t.LOADING_LOCALIZATION,e[t.LOADING_LOCALIZATION]),t.setHandler(t.LOCALIZATION_LOADED,e[t.LOCALIZATION_LOADED]),t.setHandler(t.LOCALIZATION_ERROR,e[t.LOCALIZATION_ERROR]),t.setHandler(t.REPORT_COMPLETE,e[t.REPORT_COMPLETE]),t.setHandler(t.PRINT_START,e[t.PRINT_START]),t.setHandler(t.PRINT_COMPLETE,e[t.PRINT_COMPLETE]),t.setHandler(t.EXPORT_START,e[t.EXPORT_START]),t.setHandler(t.EXPORT_COMPLETE,e[t.EXPORT_COMPLETE]),t.setHandler(t.UPDATE,e[t.UPDATE]),t.setHandler(t.BEFORE_GRID_DRAW,e[t.BEFORE_GRID_DRAW]),t.setHandler(t.AFTER_GRID_DRAW,e[t.AFTER_GRID_DRAW]),t.setHandler(t.CELL_CLICK,e[t.CELL_CLICK]),t.setHandler(t.CELL_DOUBLE_CLICK,e[t.CELL_DOUBLE_CLICK]),t.setHandler(t.FILTER_OPEN,e[t.FILTER_OPEN]),t.setHandler(t.FILDS_LIST_OPEN,e[t.FILDS_LIST_OPEN]),t.setHandler(t.FILDS_LIST_CLOSE,e[t.FILDS_LIST_CLOSE]),t.setHandler(t.BEFORE_TOOLBAR_CREATED,e[t.BEFORE_TOOLBAR_CREATED])},t.setHandler=function(e,n){if(n){"string"==typeof n&&(n=t.getFunctionByName(n));var i=n;e!=t.BEFORE_TOOLBAR_CREATED&&e!=t.BEFORE_GRID_DRAW&&e!=t.AFTER_GRID_DRAW&&(i=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];s.fmSetTimeout(function(){n.apply(null,e)},1)}),t.getInstance().addEventListener(e,i)}},t.getFunctionByName=function(e,t){void 0===t&&(t=window);for(var n=e.split("."),i=n.pop(),r=0;r<n.length;r++){if(null==t)return null;t=t[n[r]]}return t[i]},t.OPENING_REPORT_FILE="openingreportfile",t.LOADING_REPORT_FILE="loadingreportfile",t.REPORT_FILE_LOADED="reportfileloaded",t.REPORT_FILE_ERROR="reportfileerror",t.REPORT_FILE_CANCELLED="reportfilecancelled",t.LOADING_DATA="loadingdata",t.DATA_LOADED="dataloaded",t.DATA_ERROR="dataerror",t.DATA_FILE_CANCELLED="datafilecancelled",t.DATA_CHANGED="datachanged",t.RUNNING_QUERY="runningquery",t.QUERY_COMPLETE="querycomplete",t.QUERY_ERROR="queryerror",t.LOADING_LOCALIZATION="loadinglocalization",t.LOCALIZATION_LOADED="localizationloaded",t.LOCALIZATION_ERROR="localizationerror",t.REPORT_COMPLETE="reportcomplete",t.REPORT_CHANGE="reportchange",t.EXPORT_START="exportstart",t.EXPORT_COMPLETE="exportcomplete",t.PRINT_START="printstart",t.PRINT_COMPLETE="printcomplete",t.types=[t.READY="ready",t.OPENING_REPORT_FILE,t.LOADING_REPORT_FILE,t.REPORT_FILE_LOADED,t.REPORT_FILE_ERROR,t.REPORT_FILE_CANCELLED,t.LOADING_DATA,t.DATA_LOADED,t.DATA_ERROR,t.DATA_FILE_CANCELLED,t.DATA_CHANGED,t.RUNNING_QUERY,t.QUERY_COMPLETE,t.QUERY_ERROR,t.LOADING_LOCALIZATION,t.LOCALIZATION_LOADED,t.LOCALIZATION_ERROR,t.REPORT_COMPLETE,t.REPORT_CHANGE,t.PRINT_START,t.PRINT_COMPLETE,t.EXPORT_START,t.EXPORT_COMPLETE,t.UPDATE="update",t.BEFORE_GRID_DRAW="beforegriddraw",t.AFTER_GRID_DRAW="aftergriddraw",t.CELL_CLICK="cellclick",t.CELL_DOUBLE_CLICK="celldoubleclick",t.FILTER_OPEN="filteropen",t.FILDS_LIST_OPEN="fieldslistopen",t.FILDS_LIST_CLOSE="fieldslistclose",t.BEFORE_TOOLBAR_CREATED="beforetoolbarcreated"],t}(t.EventDispatcher),e.JavaScriptHandlers=n}(e.model||(e.model={}))}(r||(r={})),function(e){!function(e){var t=function(){function e(){}return e.valid=function(e){return null==e||-1==(e=e.toLowerCase()).indexOf("<script")&&-1==e.indexOf("javascript:")&&-1==e.indexOf("<iframe")&&-1==e.indexOf("<object")&&-1==e.indexOf("expression(")&&-1==e.indexOf("onmouseover")&&-1==e.indexOf("onerror")},e.validate=function(e,t){return void 0===t&&(t=!1),s.StringUtils.escapeHtml(e,t)},e}();e.XSSCheck=t}(e.model||(e.model={}))}(r||(r={})),function(e){var t,n,i;t=e.model||(e.model={}),n=t.integration||(t.integration={}),i=function(){function i(){}return i.getInstance=function(){return null==i.instance&&(i.instance=new i),i.instance},i.dispose=function(){i.instance=null},i.prototype.getData=function(){var t=e.data_.dataprovider_.DataProviderFactory.getDataProvider();return this.composeData(t)},i.prototype.selectData=function(t,n){var i=e.data_.Cube.getInstance(),r=e.data_.LocalDataStorage.clone(i.localDataStorage);r.slice_=t,r.filter(),r.select(),(i=new e.data_.dataprovider_.ChartDataProvider).reset(),i.dataStorage=r,i.slice=t,i.load(),n((r=this.composeData(i)).toObject()),i.reset()},i.prototype.composeData=function(e){var i=new n.OutputDataValueObject;if(null==e.slice)return i;i.slice=e.slice.toObject(),i.meta={vAmount:e.slice.measures_.length,formats:[]};var r=0,o=0;if(e.dataLoaded&&!e.isEmpty){var s,a;s="on"==t._options.OptionsManager.showGrandTotals||"rows"==t._options.OptionsManager.showGrandTotals?e.dataWidth-1:e.dataWidth,a="on"==t._options.OptionsManager.showGrandTotals||"columns"==t._options.OptionsManager.showGrandTotals?e.dataHeight-1:e.dataHeight;var l,c,u,d=NaN,h="";h="",i.data=[],l=[],c=[],u={};for(var p=0;p<e.measures.length;p++){d=e.measures.getItemAt(p),i.meta["v"+p+"Name"]=d.caption;var f=t.PivotModel.getInstance().getFormat(d.uniqueName);i.meta.formats.push(f),d=e.getValue(l,c,d),u["v"+p]=d}for(i.data.push(u),f=0;f<a;f++){for(u={},l=e.getRowTuple(f),r=Math.max(r,l.length),c=[],p=e.rowsOnly,d=0;d<l.length;d++){var A=d,g=(h=p.getItemAt(A)).members.getItemAt(g=l[d]);i.meta["r"+A+"Name"]=h.caption,h=this.getDataFromMember(g),u["r"+A]=h}for(p=0;p<e.measures.length;p++)d=e.measures.getItemAt(p),d=e.getValue(l,c,d),u["v"+p]=d;i.data.push(u)}for(var m=0;m<s;m++){for(u={},l=[],c=e.getColumnTuple(m),o=Math.max(o,c.length),p=e.columnsOnly,d=0;d<c.length;d++)g=(h=p.getItemAt(A=d)).members.getItemAt(g=c[d]),i.meta["c"+A+"Name"]=h.caption,h=this.getDataFromMember(g),u["c"+A]=h;for(p=0;p<e.measures.length;p++)d=e.measures.getItemAt(p),d=e.getValue(l,c,d),u["v"+p]=d;i.data.push(u)}for(f=0;f<a;f++)for(l=e.getRowTuple(f),r=Math.max(r,l.length),m=0;m<s;m++){for(c=e.getColumnTuple(m),o=Math.max(o,c.length),u={},p=e.rowsOnly,d=0;d<l.length;d++)g=(h=p.getItemAt(A=d)).members.getItemAt(g=l[d]),h=this.getDataFromMember(g),u["r"+A]=h;for(p=e.columnsOnly,d=0;d<c.length;d++)g=(h=p.getItemAt(A=d)).members.getItemAt(g=c[d]),h=this.getDataFromMember(g),u["c"+A]=h;for(p=0;p<e.measures.length;p++)d=e.measures.getItemAt(p),d=e.getValue(l,c,d),u["v"+p]=d;i.data.push(u)}}return i.meta.rAmount=r,i.meta.cAmount=o,i},i.prototype.getDataFromMember=function(t){return t.level.type==e.data_.types.LevelType.NUMBER||t.level.type==e.data_.types.LevelType.TIME?t.levelOrdinal:t.level.type==e.data_.types.LevelType.TIME_DATE?Date.parse(t.caption):t.level.type==e.data_.types.LevelType.DAY?isNaN(parseFloat(t.caption))?t.caption:parseFloat(t.caption):t.caption},i}(),n.IntegrationDataManager=i}(r||(r={})),function(e){!function(e){!function(e){var t=function(){function e(){this.slice={},this.meta={},this.data=[]}return e.prototype.toObject=function(){var e,t={};for(e in this)"slice"!=e&&"function"!=typeof this[e]&&(t[e]=this[e]);return t},e}();e.OutputDataValueObject=t}(e.integration||(e.integration={}))}(e.model||(e.model={}))}(r||(r={})),function(e){!function(e){!function(e){var t=function(){function e(){}return e.DEFAULT_EXPORT_TITLE="WebDataRocks Reporting Tool",e}();e.Labels=t}(e._labels||(e._labels={}))}(e.model||(e.model={}))}(r||(r={})),function(e){!function(e){!function(e){var t=function(){function t(){}return t.prototype.load=function(e,t,n){var i=this;this.successHandler=t,this.errorHandler=n,this.xhr=new XMLHttpRequest,this.xhr.open("GET",e,!0),this.xhr.onerror=function(e){return i.onError(e)},this.xhr.onreadystatechange=function(e){return i.onReadyStateChange(e)},this.xhr.send()},t.prototype.onReadyStateChange=function(e){null!=this.xhr&&4===this.xhr.readyState&&(200===this.xhr.status?this.success():this.errorHandler())},t.prototype.success=function(){this.xhr.response&&null==this.xhr.response.error?null!=this.successHandler&&this.onLoaded(this.xhr.response):this.errorHandler&&this.errorHandler()},t.prototype.onError=function(e){null!=this.errorHandler&&this.errorHandler()},t.prototype.onLoaded=function(t){try{var n=JSON.parse(t);this.successHandler(e.LabelsValueObject.fromObject(n))}catch(i){console.error(i),this.errorHandler()}},t}();e.LabelsLoader=t}(e._labels||(e._labels={}))}(e.model||(e.model={}))}(r||(r={})),function(e){!function(e){!function(e){var t=function(){function t(){if(null!=t.instance)throw Error("Singleton");this.defaults=new e.LabelsValueObject,this.defaults.setDefaults()}return t.getInstance=function(){return null==t.instance&&(t.instance=new t),t.instance},t.dispose=function(){e.Labels.MONTHS_LABELS=null,e.Labels.MONTHS_LABELS_SHORT=null,e.Labels.WEEKDAYS_LABELS=null,e.Labels.WEEKDAYS_LABELS_SHORT=null,e.Labels.QUARTER_LABELS=null,t.instance.defaults=null,t.instance.globals=null,t.instance.reports=null,t.instance=null},t.prototype.getReportLocalization=function(){return this.reports},t.prototype.setReportLocalization=function(e){this.reports!=e&&(this.reports=e,this.updateLabels())},t.prototype.updateLabels=function(){e.Labels.FIELDS_LIST_FLAT_HIERARCHY_BOX=this.getLabel("fieldsList/flatHierarchyBox"),e.Labels.FIELDS_LIST_HIERARCHY_BOX=this.getLabel("fieldsList/hierarchyBox"),e.Labels.FIELDS_LIST_FILTER_BOX=this.getLabel("fieldsList/filterBox"),e.Labels.FIELDS_LIST_ROW_BOX=this.getLabel("fieldsList/rowBox"),e.Labels.FIELDS_LIST_COLUMN_BOX=this.getLabel("fieldsList/columnBox"),e.Labels.FIELDS_LIST_MEASURE_BOX=this.getLabel("fieldsList/measureBox"),e.Labels.FIELDS_LIST_VALUES=this.getLabel("fieldsList/values"),e.Labels.FIELDS_LIST_ADD_CALCULATED_MEASURE=this.getLabel("fieldsList/addCalculatedMeasure"),e.Labels.FIELDS_LIST_EXPAND_ALL=this.getLabel("fieldsList/expandAll"),e.Labels.FIELDS_LIST_COLLAPSE_ALL=this.getLabel("fieldsList/collapseAll"),e.Labels.FIELDS_LIST_FORMULAS_GROUP_NAME=this.getLabel("fieldsList/formulasGroupName"),e.Labels.FIELDS_LIST_ALL_FIELDS=this.getLabel("fieldsList/allFields"),e.Labels.FIELDS_LIST_ROWS=this.getLabel("fieldsList/rows"),e.Labels.FIELDS_LIST_COLUMNS=this.getLabel("fieldsList/columns"),e.Labels.FIELDS_LIST_FILTERS=this.getLabel("fieldsList/filters"),e.Labels.FIELDS_LIST_DROP_FIELD=this.getLabel("fieldsList/dropField"),e.Labels.FIELDS_LIST_TITLE=this.getLabel("fieldsList/title"),e.Labels.FIELDS_LIST_SUBTITLE=this.getLabel("fieldsList/subtitle"),e.Labels.FILTER_ALL=this.getLabel("filter/all"),e.Labels.FILTER_MULTIPLE_ITEMS=this.getLabel("filter/multipleItems"),e.Labels.FILTER_SELECT_ALL=this.getLabel("filter/selectAll"),e.Labels.FILTER_SELECT_ALL_RESULTS=this.getLabel("filter/selectAllResults"),e.Labels.FILTER_TOP=this.getLabel("filter/top"),e.Labels.FILTER_BOTTOM=this.getLabel("filter/bottom"),e.Labels.FILTER_ASC_SORT=this.getLabel("filter/ascSort"),e.Labels.FILTER_DESC_SORT=this.getLabel("filter/descSort"),e.Labels.FILTER_TOP_X=this.getLabel("filter/topX"),e.Labels.FILTER_TOP_X_CLEAR=this.getLabel("filter/clearTopX"),e.Labels.FILTER_SEARCH=this.getLabel("filter/search"),e.Labels.FILTER_AMOUNT_SELECTED=this.getLabel("filter/amountSelected"),e.Labels.FILTER_AMOUNT_FOUND=this.getLabel("filter/amountFound"),e.Labels.FILTER_SORT=this.getLabel("filter/sort"),e.Labels.DRILL_THROUGH_TITLE=this.getLabel("drillThrough/title"),e.Labels.DRILL_THROUGH_ROW=this.getLabel("drillThrough/row"),e.Labels.DRILL_THROUGH_COLUMN=this.getLabel("drillThrough/column"),e.Labels.DRILL_THROUGH_VALUE=this.getLabel("drillThrough/value"),e.Labels.CALCULATED_VIEW_TITLE=this.getLabel("calculatedView/title"),e.Labels.CALCULATED_VIEW_MEASURE_BOX=this.getLabel("calculatedView/measureBox"),e.Labels.CALCULATED_VIEW_MEASURE_NAME=this.getLabel("calculatedView/measureName"),e.Labels.CALCULATED_VIEW_FORMULA=this.getLabel("calculatedView/formula"),e.Labels.CALCULATED_VIEW_FORMULA_PROMPT=this.getLabel("calculatedView/formulaPrompt"),e.Labels.CALCULATED_VIEW_CALCULATE_INDI_VALUES=this.getLabel("calculatedView/calculateIndividualValues"),e.Labels.CALCULATED_VIEW_REMOVE_VALUE=this.getLabel("calculatedView/removeValue"),e.Labels.CALCULATED_VIEW_REMOVE_VALUE_TITLE=this.getLabel("calculatedView/removeValueTitle"),e.Labels.CALCULATED_VIEW_REMOVE_VALUE_MESSAGE=this.getLabel("calculatedView/removeValueMessage"),e.Labels.CALCULATED_VIEW_HEADER=this.getLabel("calculatedView/header"),e.Labels.CALCULATED_VIEW_ALL_VALUES=this.getLabel("calculatedView/allValues"),e.Labels.GRID_TOTAL=this.getLabel("grid/total"),e.Labels.GRID_TOTALS=this.getLabel("grid/totals"),e.Labels.GRID_GRAND_TOTAL=this.getLabel("grid/grandTotal"),e.Labels.MEMBER_BLANK=this.getLabel("grid/blankMember"),e.Labels.INVALID_DATE=this.getLabel("grid/dateInvalidCaption"),e.Labels.TOOLTIPS_ROW=this.getLabel("tooltips/row"),e.Labels.TOOLTIPS_COLUMN=this.getLabel("tooltips/column"),e.Labels.TOOLTIPS_HEADER_RESIZE=this.getLabel("tooltips/headerResize"),e.Labels.TOOLTIPS_HEADER_FIT=this.getLabel("tooltips/headerFit"),e.Labels.TOOLTIPS_FILTER_ICON=this.getLabel("tooltips/filterIcon"),e.Labels.TOOLTIPS_FILTERED=this.getLabel("tooltips/filtered"),e.Labels.TOOLTIPS_EXPAND_ICON=this.getLabel("tooltips/expandIcon"),e.Labels.TOOLTIPS_COLLAPSE_ICON=this.getLabel("tooltips/collapseIcon"),e.Labels.TOOLTIPS_DRILL_DOWN=this.getLabel("tooltips/drillDown"),e.Labels.TOOLTIPS_DRILL_UP=this.getLabel("tooltips/drillUp"),e.Labels.TOOLTIPS_SORT_ICON=this.getLabel("tooltips/sortIcon"),e.Labels.TOOLTIPS_SORTED_DESC=this.getLabel("tooltips/sortedDescIcon"),e.Labels.TOOLTIPS_SORTED_ASC=this.getLabel("tooltips/sortedAscIcon"),e.Labels.TOOLTIPS_CLOSE=this.getLabel("tooltips/close"),e.Labels.SUM_CAPTION=this.getLabel("aggregations/sum/caption"),e.Labels.SUM_TOTAL_CAPTION=this.getLabel("aggregations/sum/totalCaption"),e.Labels.SUM_GRAND_TOTAL_CAPTION=this.getLabel("aggregations/sum/grandTotalCaption"),e.Labels.COUNT_CAPTION=this.getLabel("aggregations/count/caption"),e.Labels.COUNT_TOTAL_CAPTION=this.getLabel("aggregations/count/totalCaption"),e.Labels.COUNT_GRAND_TOTAL_CAPTION=this.getLabel("aggregations/count/grandTotalCaption"),e.Labels.DISTINCT_COUNT_CAPTION=this.getLabel("aggregations/distinctCount/caption"),e.Labels.DISTINCT_COUNT_TOTAL_CAPTION=this.getLabel("aggregations/distinctCount/totalCaption"),e.Labels.DISTINCT_COUNT_GRAND_TOTAL_CAPTION=this.getLabel("aggregations/distinctCount/grandTotalCaption"),e.Labels.DIFFERENCE_CAPTION=this.getLabel("aggregations/difference/caption"),e.Labels.DIFFERENCE_TOTAL_CAPTION=this.getLabel("aggregations/difference/totalCaption"),e.Labels.DIFFERENCE_GRAND_TOTAL_CAPTION=this.getLabel("aggregations/difference/grandTotalCaption"),e.Labels.PERCENT_DIFFERENCE_CAPTION=this.getLabel("aggregations/percentDifference/caption"),e.Labels.PERCENT_DIFFERENCE_TOTAL_CAPTION=this.getLabel("aggregations/percentDifference/totalCaption"),e.Labels.PERCENT_DIFFERENCE_GRAND_TOTAL_CAPTION=this.getLabel("aggregations/percentDifference/grandTotalCaption"),e.Labels.AVERAGE_CAPTION=this.getLabel("aggregations/average/caption"),e.Labels.AVERAGE_TOTAL_CAPTION=this.getLabel("aggregations/average/totalCaption"),e.Labels.AVERAGE_GRAND_TOTAL_CAPTION=this.getLabel("aggregations/average/grandTotalCaption"),e.Labels.PRODUCT_CAPTION=this.getLabel("aggregations/product/caption"),e.Labels.PRODUCT_TOTAL_CAPTION=this.getLabel("aggregations/product/totalCaption"),e.Labels.PRODUCT_GRAND_TOTAL_CAPTION=this.getLabel("aggregations/product/grandTotalCaption"),e.Labels.MIN_CAPTION=this.getLabel("aggregations/min/caption"),e.Labels.MIN_TOTAL_CAPTION=this.getLabel("aggregations/min/totalCaption"),e.Labels.MIN_GRAND_TOTAL_CAPTION=this.getLabel("aggregations/min/grandTotalCaption"),e.Labels.MAX_CAPTION=this.getLabel("aggregations/max/caption"),e.Labels.MAX_TOTAL_CAPTION=this.getLabel("aggregations/max/totalCaption"),e.Labels.MAX_GRAND_TOTAL_CAPTION=this.getLabel("aggregations/max/grandTotalCaption"),e.Labels.PERCENT_CAPTION=this.getLabel("aggregations/percent/caption"),e.Labels.PERCENT_TOTAL_CAPTION=this.getLabel("aggregations/percent/totalCaption"),e.Labels.PERCENT_GRAND_TOTAL_CAPTION=this.getLabel("aggregations/percent/grandTotalCaption"),e.Labels.PERCENT_COLUMN_CAPTION=this.getLabel("aggregations/percentOfColumn/caption"),e.Labels.PERCENT_COLUMN_TOTAL_CAPTION=this.getLabel("aggregations/percentOfColumn/totalCaption"),e.Labels.PERCENT_COLUMN_GRAND_TOTAL_CAPTION=this.getLabel("aggregations/percentOfColumn/grandTotalCaption"),e.Labels.PERCENT_ROW_CAPTION=this.getLabel("aggregations/percentOfRow/caption"),e.Labels.PERCENT_ROW_TOTAL_CAPTION=this.getLabel("aggregations/percentOfRow/totalCaption"),e.Labels.PERCENT_ROW_GRAND_TOTAL_CAPTION=this.getLabel("aggregations/percentOfRow/grandTotalCaption"),e.Labels.INDEX_CAPTION=this.getLabel("aggregations/index/caption"),e.Labels.INDEX_TOTAL_CAPTION=this.getLabel("aggregations/index/totalCaption"),e.Labels.INDEX_GRAND_TOTAL_CAPTION=this.getLabel("aggregations/index/grandTotalCaption"),e.Labels.NONE_CAPTION=this.getLabel("aggregations/none/caption"),e.Labels.MEDIAN_CAPTION=this.getLabel("aggregations/median/caption"),e.Labels.MEDIAN_TOTAL_CAPTION=this.getLabel("aggregations/median/totalCaption"),e.Labels.MEDIAN_GRAND_TOTAL_CAPTION=this.getLabel("aggregations/median/grandTotalCaption"),e.Labels.STDEVP_CAPTION=this.getLabel("aggregations/stdevp/caption"),e.Labels.STDEVP_TOTAL_CAPTION=this.getLabel("aggregations/stdevp/totalCaption"),e.Labels.STDEVP_GRAND_TOTAL_CAPTION=this.getLabel("aggregations/stdevp/grandTotalCaption"),e.Labels.STDEVS_CAPTION=this.getLabel("aggregations/stdevs/caption"),e.Labels.STDEVS_TOTAL_CAPTION=this.getLabel("aggregations/stdevs/totalCaption"),e.Labels.STDEVS_GRAND_TOTAL_CAPTION=this.getLabel("aggregations/stdevs/grandTotalCaption"),e.Labels.RUNNING_TOTALS_CAPTION=this.getLabel("aggregations/runningTotals/caption"),e.Labels.RUNNING_TOTALS_TOTAL_CAPTION=this.getLabel("aggregations/runningTotals/totalCaption"),e.Labels.RUNNING_TOTALS_GRAND_TOTAL_CAPTION=this.getLabel("aggregations/runningTotals/grandTotalCaption"),e.Labels.ERROR=this.getLabel("messages/error"),e.Labels.WARNING=this.getLabel("messages/warning"),e.Labels.LIMITATION=this.getLabel("messages/limitation"),e.Labels.BROWSE=this.getLabel("messages/browse"),e.Labels.CONFIRMATION=this.getLabel("messages/confirmation"),e.Labels.REPORT_FILE_TYPE=this.getLabel("messages/reportFileType"),e.Labels.MESSAGE_LOADING=this.getLabel("messages/loading"),e.Labels.MESSAGE_LOADING_CONFIGURATION=this.getLabel("messages/loadingConfiguration"),e.Labels.MESSAGE_LOADING_DATA=this.getLabel("messages/loadingData"),e.Labels.MESSAGE_LOADING_WAITING=this.getLabel("messages/waiting"),e.Labels.MESSAGE_LOADING_PROGRESS=this.getLabel("messages/progress"),e.Labels.MESSAGE_LOADING_PROGRESS_UNKNOWN=this.getLabel("messages/progressUnknown"),e.Labels.MESSAGE_ANALYZING_DATA=this.getLabel("messages/analyzing"),e.Labels.MESSAGE_ANALYZING_PROGRESS=this.getLabel("messages/analyzingProgress"),e.Labels.MESSAGE_ANALYZING_RECORDS=this.getLabel("messages/analyzingRecords"),e.Labels.MESSAGE_SAVING=this.getLabel("messages/saving"),e.Labels.MESSAGE_LOADING_DIMENSIONS=this.getLabel("messages/loadingDimensions"),e.Labels.MESSAGE_LOADING_HIERARCHIES=this.getLabel("messages/loadingHierarchies"),e.Labels.MESSAGE_LOADING_MEASURES=this.getLabel("messages/loadingMeasures"),e.Labels.MESSAGE_LOADING_MEMBERS=this.getLabel("messages/loadingMembers"),e.Labels.MESSAGE_LOADING_LEVELS=this.getLabel("messages/loadingLevels"),e.Labels.MESSAGE_FULLSCREEN=this.getLabel("messages/fullscreen"),e.Labels.MESSAGE_EXPORT_COMPLETE=this.getLabel("messages/exportComplete"),e.Labels.MESSAGE_EXPORT_PROGRESS=this.getLabel("messages/exportProgress"),e.Labels.MESSAGE_EXPORT_ERROR=this.getLabel("messages/exportError"),e.Labels.MESSAGE_GENERATING_PDF=this.getLabel("messages/generatingPDF"),e.Labels.MESSAGE_PLEASE_WAIT=this.getLabel("messages/pleaseWait"),e.Labels.MESSAGE_PAGES_WERE_GENERATED=this.getLabel("messages/pagesWereGenerated"),e.Labels.MESSAGE_UPLOADING=this.getLabel("messages/uploading"),e.Labels.MESSAGE_CANT_SAVE_FILE=this.getLabel("messages/cantSaveFile"),e.Labels.MESSAGE_CANT_WRITE_TO_CLIPBOARD=this.getLabel("messages/cantSaveToClipboard"),e.Labels.MESSAGE_SAVE_REPORT_TO_FILE=this.getLabel("messages/saveReportToFile"),e.Labels.MESSAGE_LOAD_REPORT_FROM_FILE=this.getLabel("messages/loadReportFromFile"),e.Labels.MESSAGE_INPUT_NEW_NAME=this.getLabel("messages/inputNewName"),e.Labels.MESSAGE_INPUT_REPORT_NAME=this.getLabel("messages/inputReportName"),e.Labels.MESSAGE_INVALID_DATASOURCE=this.getLabel("messages/invalidDataSource"),e.Labels.MESSAGE_DATA_STREAM_ERROR=this.getLabel("messages/dataStreamError"),e.Labels.MESSAGE_UNABLE_TO_OPEN_FILE=this.getLabel("messages/unableToOpenFile"),e.Labels.MESSAGE_DOUBLE_FILE_BROWSING_SESSION=this.getLabel("messages/unableTwoFileBrowsingSessions"),e.Labels.MESSAGE_INAPPROPRIATE_FILE_FORMAT=this.getLabel("messages/inappropriateFileFormat"),e.Labels.MESSAGE_INVALID_JSON_DATA=this.getLabel("messages/invalidJSONdata"),e.Labels.MESSAGE_WRONG_FORMULA_FORMAT=this.getLabel("messages/wrongFormulaFormat"),e.Labels.MESSAGE_EXCEL_PDF_EXPORT_LIMITATION=this.getLabel("messages/excelPdfExportLimitation"),e.Labels.MESSAGE_EXPORT_LIMITATION=this.getLabel("messages/excelExportLimitation"),e.Labels.MESSAGE_NO_DATA_AVAILABLE=this.getLabel("messages/noDataAvailable"),e.Labels.MESSAGE_SAVE_DATA_TO_FILE=this.getLabel("messages/saveDataToFile"),e.Labels.MESSAGE_DATA_WAS_UPDATED=this.getLabel("messages/dataWasUpdated"),e.Labels.MESSAGE_OCSV_INCOMPATIBLE=this.getLabel("messages/ocsvIncompatible"),e.Labels.MESSAGE_UNKNOWN_ERROR=this.getLabel("messages/unknownError"),e.Labels.MESSAGE_INVALID_REPORT_FORMAT=this.getLabel("messages/invalidReportFormat"),e.Labels.MESSAGE_CSV_HEADER_PARSING_ERROR=this.getLabel("messages/csvHeaderParsingError"),e.Labels.MESSAGE_TOO_MANY_COLUMNS_IN_CLASSIC_MODE=this.getLabel("messages/tooManyColumnsInClassicMode"),e.Labels.MESSAGE_CANT_EXPAND=this.getLabel("messages/cantExpand"),e.Labels.MESSAGE_CANT_EXPAND_TITLE=this.getLabel("messages/cantExpandTitle"),e.Labels.MESSAGE_NO_GOOGLE_CLIENT_KEY=this.getLabel("messages/noGoogleClientKey"),e.Labels.BUTTON_OK=this.getLabel("buttons/ok"),e.Labels.BUTTON_APPLY=this.getLabel("buttons/apply"),e.Labels.BUTTON_CANCEL=this.getLabel("buttons/cancel"),e.Labels.BUTTON_SAVE=this.getLabel("buttons/save"),e.Labels.BUTTON_CLEAR=this.getLabel("buttons/clear"),e.Labels.BUTTON_SELECT=this.getLabel("buttons/select"),e.Labels.BUTTON_YES=this.getLabel("buttons/yes"),e.Labels.BUTTON_NO=this.getLabel("buttons/no"),e.Labels.CONTEXT_MENU_CLEAR_SORTING=this.getLabel("contextMenu/clearSorting"),e.Labels.CONTEXT_MENU_COLLAPSE=this.getLabel("contextMenu/collapse"),e.Labels.CONTEXT_MENU_DRILL_THROUGH=this.getLabel("contextMenu/drillThrough"),e.Labels.CONTEXT_MENU_EXPAND=this.getLabel("contextMenu/expand"),e.Labels.CONTEXT_MENU_OPEN_FILTER=this.getLabel("contextMenu/openFilter"),e.Labels.CONTEXT_MENU_SORT_COLUMN_ASC=this.getLabel("contextMenu/sortColumnAsc"),e.Labels.CONTEXT_MENU_SORT_COLUMN_DESC=this.getLabel("contextMenu/sortColumnDesc"),e.Labels.CONTEXT_MENU_SORT_ROW_ASC=this.getLabel("contextMenu/sortRowAsc"),e.Labels.CONTEXT_MENU_SORT_ROW_DESC=this.getLabel("contextMenu/sortRowDesc"),e.Labels.YEAR=this.getLabel("date/year"),e.Labels.QUARTER=this.getLabel("date/quarter"),e.Labels.MONTH=this.getLabel("date/month"),e.Labels.DAY=this.getLabel("date/day"),e.Labels.QUARTER_LABELS=[this.getLabel("quarters/q1"),this.getLabel("quarters/q2"),this.getLabel("quarters/q3"),this.getLabel("quarters/q4")],e.Labels.MONTHS_LABELS=[this.getLabel("months/january"),this.getLabel("months/february"),this.getLabel("months/march"),this.getLabel("months/april"),this.getLabel("months/may"),this.getLabel("months/june"),this.getLabel("months/july"),this.getLabel("months/august"),this.getLabel("months/september"),this.getLabel("months/october"),this.getLabel("months/november"),this.getLabel("months/december")],e.Labels.MONTHS_LABELS_SHORT=[this.getLabel("monthsShort/january"),this.getLabel("monthsShort/february"),this.getLabel("monthsShort/march"),this.getLabel("monthsShort/april"),this.getLabel("monthsShort/may"),this.getLabel("monthsShort/june"),this.getLabel("monthsShort/july"),this.getLabel("monthsShort/august"),this.getLabel("monthsShort/september"),this.getLabel("monthsShort/october"),this.getLabel("monthsShort/november"),this.getLabel("monthsShort/december")],e.Labels.WEEKDAYS_LABELS=[this.getLabel("weekdays/first"),this.getLabel("weekdays/second"),this.getLabel("weekdays/third"),this.getLabel("weekdays/fourth"),this.getLabel("weekdays/fifth"),this.getLabel("weekdays/sixth"),this.getLabel("weekdays/seventh")],e.Labels.WEEKDAYS_LABELS_SHORT=[this.getLabel("weekdaysShort/first"),this.getLabel("weekdaysShort/second"),this.getLabel("weekdaysShort/third"),this.getLabel("weekdaysShort/fourth"),this.getLabel("weekdaysShort/fifth"),this.getLabel("weekdaysShort/sixth"),this.getLabel("weekdaysShort/seventh")],s.DateFormat.setDayNames(e.Labels.WEEKDAYS_LABELS,e.Labels.WEEKDAYS_LABELS_SHORT),s.DateFormat.setMonthNames(e.Labels.MONTHS_LABELS,e.Labels.MONTHS_LABELS_SHORT)},t.prototype.getLabel=function(e){if(0==s.nullOrUndefined(this.reports)){var t=this.reports.getLabel(e);if(0==s.nullOrUndefined(t))return t}return 0==s.nullOrUndefined(this.globals)&&(t=this.globals.getLabel(e),0==s.nullOrUndefined(t))?t:this.defaults.getLabel(e)},t.prototype.reset=function(){this.reports=null,this.updateLabels()},t.prototype.load=function(t,n,i){var r=this;void 0===i&&(i=!1);try{"string"==typeof t&&0==s.nullOrEmpty(t)?(new e.LabelsLoader).load(s.URLUtils.getUrl(t,!0),function(e){r.onLoadingComplete(e,i),null!=n&&n(!0)},function(){null!=n&&n(!1)}):(t instanceof Object?this.onLoadingComplete(e.LabelsValueObject.fromObject(t),i):this.reset(),null!=n&&n(!0))}catch(o){console.error(o),null!=n&&n(!1)}},t.prototype.onLoadingComplete=function(e,t){void 0===t&&(t=!1),t?this.globals=e:this.reports=e,this.updateLabels()},t.prototype.generateLocalization=function(){var t=new e.LabelsValueObject;return t.setDefaults(),t.merge(this.globals),t.toObject()},t.prototype.getCurrentLocalization=function(){var t=new e.LabelsValueObject;return t.setDefaults(),t.merge(this.globals),this.reports&&t.merge(this.reports),t},t}();e.LabelsManager=t}(e._labels||(e._labels={}))}(e.model||(e.model={}))}(r||(r={})),function(e){!function(e){!function(e){var t=function(){function e(){this.fieldsList={flatHierarchyBox:null,hierarchyBox:null,filterBox:null,rowBox:null,columnBox:null,measureBox:null,values:null,addCalculatedMeasure:null,expandAll:null,collapseAll:null,formulasGroupName:null,allFields:null,rows:null,columns:null,filters:null,dropField:null,title:null,subtitle:null},this.filter={all:null,multipleItems:null,selectAll:null,selectAllResults:null,top:null,bottom:null,ascSort:null,descSort:null,topX:null,clearTopX:null,measuresPrompt:null,search:null,amountSelected:null,amountFound:null,sort:null},this.drillThrough={title:null,row:null,column:null,value:null},this.calculatedView={title:null,measureBox:null,measureName:null,formula:null,formulaPrompt:null,calculateIndividualValues:null,removeValue:null,removeValueTitle:null,removeValueMessage:null,header:null,allValues:null},this.grid={total:null,totals:null,grandTotal:null,blankMember:null,dateInvalidCaption:null},this.tooltips={row:null,column:null,headerResize:null,headerFit:null,filterIcon:null,filtered:null,expandIcon:null,collapseIcon:null,drillDown:null,drillUp:null,sortIcon:null,sortedDescIcon:null,sortedAscIcon:null,close:null},this.aggregations={sum:{caption:null,totalCaption:null,grandTotalCaption:null},count:{caption:null,totalCaption:null,grandTotalCaption:null},distinctCount:{caption:null,totalCaption:null,grandTotalCaption:null},difference:{caption:null,totalCaption:null,grandTotalCaption:null},percentDifference:{caption:null,totalCaption:null,grandTotalCaption:null},average:{caption:null,totalCaption:null,grandTotalCaption:null},product:{caption:null,totalCaption:null,grandTotalCaption:null},min:{caption:null,totalCaption:null,grandTotalCaption:null},max:{caption:null,totalCaption:null,grandTotalCaption:null},percent:{caption:null,totalCaption:null,grandTotalCaption:null},percentOfColumn:{caption:null,totalCaption:null,grandTotalCaption:null},percentOfRow:{caption:null,totalCaption:null,grandTotalCaption:null},index:{caption:null,totalCaption:null,grandTotalCaption:null},none:{caption:null},median:{caption:null,totalCaption:null,grandTotalCaption:null},stdevp:{caption:null,totalCaption:null,grandTotalCaption:null},stdevs:{caption:null,totalCaption:null,grandTotalCaption:null},runningTotals:{caption:null,totalCaption:null,grandTotalCaption:null}},this.messages={error:null,warning:null,limitation:null,browse:null,confirmation:null,reportFileType:null,loading:null,loadingConfiguration:null,loadingData:null,waiting:null,progress:null,progressUnknown:null,analyzing:null,analyzingProgress:null,analyzingRecords:null,saving:null,loadingDimensions:null,loadingHierarchies:null,loadingMeasures:null,loadingMembers:null,loadingLevels:null,loadingProperties:null,fullscreen:null,exportComplete:null,exportProgress:null,exportError:null,generatingPDF:null,pleaseWait:null,pagesWereGenerated:null,uploading:null,cantSaveFile:null,cantSaveToClipboard:null,saveReportToFile:null,loadReportFromFile:null,inputNewName:null,inputReportName:null,invalidDataSource:null,dataStreamError:null,unableToOpenFile:null,unableTwoFileBrowsingSessions:null,noGoogleClientKey:null,inappropriateFileFormat:null,invalidJSONdata:null,wrongFormulaFormat:null,excelPdfExportLimitation:null,excelExportLimitation:null,noDataAvailable:null,saveDataToFile:null,dataWasUpdated:null,ocsvIncompatible:null,unknownError:null,invalidReportFormat:null,csvHeaderParsingError:null,tooManyColumnsInClassicMode:null,cantExpand:null,cantExpandTitle:null},this.buttons={ok:null,apply:null,cancel:null,save:null,clear:null,select:null,yes:null,no:null},this.contextMenu={clearSorting:null,collapse:null,drillThrough:null,expand:null,openFilter:null,sortColumnAsc:null,sortColumnDesc:null,sortRowAsc:null,sortRowDesc:null},this.date={year:null,quarter:null,month:null,day:null},this.quarters={q1:null,q2:null,q3:null,q4:null},this.months={january:null,february:null,march:null,april:null,may:null,june:null,july:null,august:null,september:null,october:null,november:null,december:null},this.monthsShort={january:null,february:null,march:null,april:null,may:null,june:null,july:null,august:null,september:null,october:null,november:null,december:null},this.weekdays={first:null,second:null,third:null,fourth:null,fifth:null,sixth:null,seventh:null},this.weekdaysShort={first:null,second:null,third:null,fourth:null,fifth:null,sixth:null,seventh:null},this.toolbar={connect:null,connect_local_csv:null,connect_local_json:null,connect_remote_csv:null,connect_remote_csv_mobile:null,connect_remote_json:null,connect_remote_json_mobile:null,connect_google_drive:null,open:null,local_report:null,remote_report:null,remote_report_mobile:null,save:null,save_json:null,load_json:null,grid:null,grid_flat:null,grid_classic:null,grid_compact:null,format:null,format_cells:null,format_cells_mobile:null,conditional_formatting:null,conditional_formatting_mobile:null,options:null,fullscreen:null,minimize:null,export:null,export_print:null,export_html:null,export_csv:null,export_excel:null,export_image:null,export_pdf:null,fields:null,ok:null,apply:null,done:null,cancel:null,value:null,delete:null,if:null,then:null,open_remote_csv:null,open_remote_json:null,csv:null,open_remote_report:null,choose_value:null,text_align:null,align_left:null,align_right:null,none:null,space:null,thousand_separator:null,decimal_separator:null,decimal_places:null,currency_symbol:null,currency_align:null,null_value:null,is_percent:null,true_value:null,false_value:null,conditional:null,add_condition:null,less_than:null,less_than_or_equal:null,greater_than:null,greater_than_or_equal:null,equal_to:null,not_equal_to:null,between:null,is_empty:null,all_values:null,and:null,and_symbole:null,cp_text:null,cp_highlight:null,layout_options:null,layout:null,compact_view:null,classic_view:null,flat_view:null,grand_totals:null,grand_totals_off:null,grand_totals_on:null,grand_totals_on_rows:null,grand_totals_on_columns:null,subtotals:null,subtotals_off:null,subtotals_on:null,subtotals_on_rows:null,subtotals_on_columns:null,choose_page_orientation:null,landscape:null,portrait:null,message_error:null,message_no_google_client_id:null}}return e.prototype.setDefaults=function(){this.fieldsList.flatHierarchyBox="Select and arrange columns",this.fieldsList.hierarchyBox="Drag Dimensions",this.fieldsList.filterBox="Drop & Arrange Report Filter",this.fieldsList.rowBox="Drop & Arrange Rows",this.fieldsList.columnBox="Drop & Arrange Columns",this.fieldsList.measureBox="Drop & Arrange Values",this.fieldsList.values="Values",this.fieldsList.allFields="All Fields",this.fieldsList.rows="Rows",this.fieldsList.columns="Columns",this.fieldsList.filters="Report Filters",this.fieldsList.dropField="Drop field here",this.fieldsList.addCalculatedMeasure="Add calculated value",this.fieldsList.expandAll="Expand All",this.fieldsList.collapseAll="Collapse All",this.fieldsList.formulasGroupName="Calculated Values",this.fieldsList.title="Fields",this.fieldsList.subtitle="Drag and drop fields to arrange",this.filter.ascSort="Az",this.filter.descSort="zA",this.filter.topX="Top 10",this.filter.clearTopX="Clear",this.filter.top="Top",this.filter.bottom="Bottom",this.filter.measuresPrompt="Choose value",this.filter.search="Search",this.filter.selectAll="Select All",this.filter.selectAllResults="Select All Results",this.filter.amountSelected="{0} of {1} selected",this.filter.amountFound="{0} of {1} found are selected",this.filter.multipleItems="Multiple Items",this.filter.all="All",this.filter.sort="Sort:",this.drillThrough.title="Details",this.drillThrough.row="Row: <b>{0}</b>",this.drillThrough.column="Column: <b>{0}</b>",this.drillThrough.value="{0}: <b>{1}</b>",this.calculatedView.title="Calculated Value",this.calculatedView.measureBox="Drag values to formula",this.calculatedView.measureName="Value name",this.calculatedView.formula="Formula",this.calculatedView.formulaPrompt="Drop values and edit formula here",this.calculatedView.calculateIndividualValues="Calculate individual values",this.calculatedView.removeValue="Remove",this.calculatedView.removeValueTitle="Remove {0}?",this.calculatedView.removeValueMessage="Are you sure you want to remove this calculated value?",this.calculatedView.header="Add calculated value",this.calculatedView.allValues="All values",this.grid.total="Total",this.grid.totals="Totals",this.grid.grandTotal="Grand Total",this.grid.blankMember="(blank)",this.grid.dateInvalidCaption="Invalid date",this.tooltips.row="Row:",this.tooltips.column="Column:",this.tooltips.headerResize="Drag to resize",this.tooltips.headerFit="Double click to fit",this.tooltips.filterIcon="Click to filter",this.tooltips.filtered="Filtered",this.tooltips.expandIcon="Click to expand",this.tooltips.collapseIcon="Click to collapse",this.tooltips.drillDown="Click to drill down",this.tooltips.drillUp="Click to drill up",this.tooltips.sortIcon="Click to sort Desc",this.tooltips.sortedDescIcon="Click to sort Asc",this.tooltips.sortedAscIcon="Click to sort Desc",this.tooltips.close="Click to close",this.aggregations.sum.caption="Sum",this.aggregations.sum.totalCaption="Sum of {0}",this.aggregations.sum.grandTotalCaption="Total Sum of {0}",this.aggregations.count.caption="Count",this.aggregations.count.totalCaption="Count of {0}",this.aggregations.count.grandTotalCaption="Total Count of {0}",this.aggregations.distinctCount.caption="Distinct Count",this.aggregations.distinctCount.totalCaption="Distinct Count of {0}",this.aggregations.distinctCount.grandTotalCaption="Total Distinct Count of {0}",this.aggregations.average.caption="Average",this.aggregations.average.totalCaption="Average of {0}",this.aggregations.average.grandTotalCaption="Total Average of {0}",this.aggregations.product.caption="Product",this.aggregations.product.totalCaption="Product of {0}",this.aggregations.product.grandTotalCaption="Total Product of {0}",this.aggregations.min.caption="Min",this.aggregations.min.totalCaption="Min of {0}",this.aggregations.min.grandTotalCaption="Total Min of {0}",this.aggregations.max.caption="Max",this.aggregations.max.totalCaption="Max of {0}",this.aggregations.max.grandTotalCaption="Total Max of {0}",this.aggregations.percent.caption="% of Grand Total",this.aggregations.percent.totalCaption="% of Grand Total of {0}",this.aggregations.percent.grandTotalCaption="Total % of Grand Total of {0}",this.aggregations.percentOfColumn.caption="% of Column",this.aggregations.percentOfColumn.totalCaption="% of Column of {0}",this.aggregations.percentOfColumn.grandTotalCaption="Total % of Column of {0}",this.aggregations.percentOfRow.caption="% of Row",this.aggregations.percentOfRow.totalCaption="% of Row of {0}",this.aggregations.percentOfRow.grandTotalCaption="Total % of Row of {0}",this.aggregations.index.caption="Index",this.aggregations.index.totalCaption="Index of {0}",this.aggregations.index.grandTotalCaption="Index of {0}",this.aggregations.difference.caption="Difference",this.aggregations.difference.totalCaption="Difference of {0}",this.aggregations.difference.grandTotalCaption="Difference of {0}",this.aggregations.percentDifference.caption="% Difference",this.aggregations.percentDifference.totalCaption="% Difference of {0}",this.aggregations.percentDifference.grandTotalCaption="% Difference of {0}",this.aggregations.none.caption="No Calculation",this.aggregations.median.caption="Median",this.aggregations.median.totalCaption="Median of {0}",this.aggregations.median.grandTotalCaption="Total Median of {0}",this.aggregations.stdevp.caption="Population StDev",this.aggregations.stdevp.totalCaption="Population StDev of {0}",this.aggregations.stdevp.grandTotalCaption="Total Population StDev of {0}",this.aggregations.stdevs.caption="Sample StDev",this.aggregations.stdevs.totalCaption="Sample StDev of {0}",this.aggregations.stdevs.grandTotalCaption="Total Sample StDev of {0}",this.aggregations.runningTotals.caption="Running Totals",this.aggregations.runningTotals.totalCaption="Running Totals of {0}",this.aggregations.runningTotals.grandTotalCaption="Running Totals of {0}",this.messages.error="Error!",this.messages.warning="Warning!",this.messages.limitation="Limitation!",this.messages.browse="Browse",this.messages.confirmation="Confirmation",this.messages.reportFileType="WebDataRocks report file",this.messages.loading="Loading...",this.messages.loadingConfiguration="",this.messages.loadingData="Loading data...",this.messages.uploading="Uploading...",this.messages.waiting="Waiting for the response {0} sec.",this.messages.progress="{0}K",this.messages.progressUnknown="loaded {0}K",this.messages.analyzing="Analyzing data...",this.messages.analyzingProgress="{0} records of {1} ({2}%)",this.messages.analyzingRecords="{0} records",this.messages.saving="Saving...",this.messages.loadingDimensions="Loading dimensions...",this.messages.loadingHierarchies="Loading hierarchies...",this.messages.loadingMeasures="Loading measures...",this.messages.loadingMembers="Loading members...",this.messages.loadingLevels="Loading levels...",this.messages.fullscreen="Open report in full screen?",this.messages.exportComplete='Export data is created, please click "Save" button to save the _data.',this.messages.generatingPDF="Generating PDF",this.messages.pleaseWait="Please wait.",this.messages.pagesWereGenerated="pages were generated.",this.messages.exportProgress="Export in progress...",this.messages.exportError="Failed to export. An unexpected error occurred.",this.messages.cantSaveFile="Cannot save file.",this.messages.cantSaveToClipboard="Error: Cannot write to the clipboard.",this.messages.saveReportToFile='Report is ready to be saved to file, please click "Save" button to save the report.',this.messages.saveDataToFile='Data is ready to be saved to file, please click "Save" button to save the file.',this.messages.loadReportFromFile="Select report file to be loaded.",this.messages.inputNewName="Input new name",this.messages.inputReportName="Please input report name",this.messages.dataStreamError="Stream error occurred while loading '{0}'",this.messages.unableToOpenFile="Unable to open file {0}.<br/><br/>It seems that this file doesn't exist or 'Access-Control-Allow-Origin' header is absent in the resource requested.",this.messages.unableTwoFileBrowsingSessions="Browse file dialog is already opened.",this.messages.noGoogleClientKey="Please enter Google Client Key in index.html file.",this.messages.wrongFormulaFormat="Wrong formula format. Please check.",this.messages.inappropriateFileFormat="The data file is of inappropriate format.",this.messages.invalidJSONdata="JSON data is invalid.",this.messages.excelPdfExportLimitation="Export to Microsoft Excel or PDF is not available in the current edition.",this.messages.excelExportLimitation="Export is not available in the current edition.",this.messages.noDataAvailable="Data source is empty. Please check the CSV file.",this.messages.csvHeaderParsingError="CSV header parsing error.",this.messages.dataWasUpdated="Data source has been updated on the server. Refresh the report?",this.messages.ocsvIncompatible="Unable to read data source. It seems that OCSV file was compressed with a newer version. Please update the component to version {0} or newer.",this.messages.unknownError="Unknown error occurred.",this.messages.invalidReportFormat="Invalid report format or access to file is denied.",this.messages.tooManyColumnsInClassicMode="Too many columns for classic form. Switched layout to compact form.",this.messages.cantExpand="Some fields cannot be expanded. Please narrow down the data set.",this.messages.cantExpandTitle="Data set is too large",this.buttons.ok="OK",this.buttons.apply="Apply",this.buttons.cancel="Cancel",this.buttons.save="Save",this.buttons.clear="Clear",this.buttons.select="Select",this.buttons.yes="Yes",this.buttons.no="No",this.contextMenu.drillThrough="Drill through",this.contextMenu.openFilter="Open filter",this.contextMenu.collapse="Collapse",this.contextMenu.expand="Expand",this.contextMenu.sortRowDesc="Sort row desc",this.contextMenu.sortRowAsc="Sort row asc",this.contextMenu.clearSorting="Clear sorting",this.contextMenu.sortColumnDesc="Sort column desc",this.contextMenu.sortColumnAsc="Sort column asc",this.date.year="Year",this.date.quarter="Quarter",this.date.month="Month",this.date.day="Day",this.quarters.q1="Quarter 1",this.quarters.q2="Quarter 2",this.quarters.q3="Quarter 3",this.quarters.q4="Quarter 4",this.months.january="January",this.months.february="February",this.months.march="March",this.months.april="April",this.months.may="May",this.months.june="June",this.months.july="July",this.months.august="August",this.months.september="September",this.months.october="October",this.months.november="November",this.months.december="December",this.monthsShort.january="Jan",this.monthsShort.february="Feb",this.monthsShort.march="Mar",this.monthsShort.april="Apr",this.monthsShort.may="May",this.monthsShort.june="Jun",this.monthsShort.july="Jul",this.monthsShort.august="Aug",this.monthsShort.september="Sep",this.monthsShort.october="Oct",this.monthsShort.november="Nov",this.monthsShort.december="Dec",this.weekdays.first="Sunday",this.weekdays.second="Monday",this.weekdays.third="Tuesday",this.weekdays.fourth="Wednesday",this.weekdays.fifth="Thursday",this.weekdays.sixth="Friday",this.weekdays.seventh="Saturday",this.weekdaysShort.first="Sun",this.weekdaysShort.second="Mon",this.weekdaysShort.third="Tue",this.weekdaysShort.fourth="Wed",this.weekdaysShort.fifth="Thu",this.weekdaysShort.sixth="Fri",this.weekdaysShort.seventh="Sat",this.toolbar.connect="Connect",this.toolbar.connect_local_csv="To local CSV",this.toolbar.connect_local_json="To local JSON",this.toolbar.connect_google_drive="To Google Drive",this.toolbar.connect_remote_csv="To remote CSV",this.toolbar.connect_remote_csv_mobile="CSV",this.toolbar.connect_remote_json="To remote JSON",this.toolbar.connect_remote_json_mobile="JSON",this.toolbar.open="Open",this.toolbar.local_report="Local report",this.toolbar.remote_report="Remote report",this.toolbar.remote_report_mobile="Report",this.toolbar.save="Save",this.toolbar.load_json="JSON report",this.toolbar.grid="Grid",this.toolbar.grid_flat="Flat",this.toolbar.grid_classic="Classic",this.toolbar.grid_compact="Compact",this.toolbar.format="Format",this.toolbar.format_cells="Format cells",this.toolbar.format_cells_mobile="Format",this.toolbar.conditional_formatting="Conditional formatting",this.toolbar.conditional_formatting_mobile="Conditional",this.toolbar.options="Options",this.toolbar.fullscreen="Fullscreen",this.toolbar.minimize="Minimize",this.toolbar.export="Export",this.toolbar.export_print="Print",this.toolbar.export_html="To HTML",this.toolbar.export_csv="To CSV",this.toolbar.export_excel="To Excel",this.toolbar.export_image="To Image",this.toolbar.export_pdf="To PDF",this.toolbar.fields="Fields",this.toolbar.ok="OK",this.toolbar.apply="Apply",this.toolbar.done="Done",this.toolbar.cancel="Cancel",this.toolbar.value="Value",this.toolbar.delete="Delete",this.toolbar.if="If",this.toolbar.then="Then",this.toolbar.open_remote_csv="Open remote CSV",this.toolbar.open_remote_json="Open remote JSON",this.toolbar.csv="CSV",this.toolbar.credentials="credentials",this.toolbar.username="Username",this.toolbar.password="Password",this.toolbar.open_remote_report="Open remote report",this.toolbar.choose_value="Choose value",this.toolbar.text_align="Text align",this.toolbar.align_left="left",this.toolbar.align_right="right",this.toolbar.none="None",this.toolbar.space="(Space)",this.toolbar.thousand_separator="Thousand separator",this.toolbar.decimal_separator="Decimal separator",this.toolbar.decimal_places="Decimal places",this.toolbar.currency_symbol="Currency symbol",this.toolbar.currency_align="Currency align",this.toolbar.null_value="Null value",this.toolbar.is_percent="Format as percent",this.toolbar.true_value="true",this.toolbar.false_value="false",this.toolbar.conditional="Conditional",this.toolbar.add_condition="Add condition",this.toolbar.less_than="Less than",this.toolbar.less_than_or_equal="Less than or equal to",this.toolbar.greater_than="Greater than",this.toolbar.greater_than_or_equal="Greater than or equal to",this.toolbar.equal_to="Equal to",this.toolbar.not_equal_to="Not equal to",this.toolbar.between="Between",this.toolbar.is_empty="Empty",this.toolbar.all_values="All values",this.toolbar.and="and",this.toolbar.and_symbole="&",this.toolbar.cp_text="Text",this.toolbar.cp_highlight="Highlight",this.toolbar.layout_options="Layout options",this.toolbar.layout="Layout",this.toolbar.compact_view="Compact form",this.toolbar.classic_view="Classic form",this.toolbar.flat_view="Flat form",this.toolbar.grand_totals="Grand totals",this.toolbar.grand_totals_off="Do not show grand totals",this.toolbar.grand_totals_on="Show grand totals",this.toolbar.grand_totals_on_rows="Show for rows only",this.toolbar.grand_totals_on_columns="Show for columns only",this.toolbar.subtotals="Subtotals",this.toolbar.subtotals_off="Do not show subtotals",this.toolbar.subtotals_on="Show subtotals",this.toolbar.subtotals_on_rows="Show subtotal rows only",this.toolbar.subtotals_on_columns="Show subtotal columns only",this.toolbar.choose_page_orientation="Choose page orientation",this.toolbar.landscape="Landscape",this.toolbar.portrait="Portrait",this.toolbar.message_error=this.messages.error,this.toolbar.message_no_google_client_id=this.messages.noGoogleClientKey},e.prototype.getLabel=function(e){return 1==(e=e.split("/")).length?this[e[0]]:2!=e.length||s.nullOrUndefined(this[e[0]])||s.nullOrUndefined(this[e[0]][e[1]])?3!=e.length||s.nullOrUndefined(this[e[0]])||s.nullOrUndefined(this[e[0]][e[1]])||s.nullOrUndefined(this[e[0]][e[1]][e[2]])?null:this[e[0]][e[1]][e[2]]:this[e[0]][e[1]]},e.prototype.merge=function(t){e.nodeFromObject(t,this)},e.prototype.toObject=function(){var e,t={};for(e in this)this[e]instanceof Function||s.nullOrUndefined(this[e])||(t[e]=this[e]);return JSON.stringify(t,null,2)},e.fromObject=function(t){var n=new e;return e.nodeFromObject(t,n),n},e.nodeFromObject=function(t,n){if(!s.nullOrUndefined(t)&&!s.nullOrUndefined(n)&&t instanceof Object)for(var i in t){var r=t[i];s.nullOrUndefined(r)||("string"==typeof r?n[i]=r:r instanceof Object&&e.nodeFromObject(r,n[i]))}},e}();e.LabelsValueObject=t}(e._labels||(e._labels={}))}(e.model||(e.model={}))}(r||(r={})),function(e){!function(e){!function(e){var n=function(){function e(){}return e.REPORT_FILE_LOADED="load",e.REPORT_FILE_FAILED="fail",e.REPORT_FILE_CANCELLED="cancel",e}();e.ReportEvent=n;var i=function(e){function t(t){var i=e.call(this,n.REPORT_FILE_LOADED)||this;return i.report=t,i}return a(t,e),t}(t._Event);e.ReportFileLoadedEvent=i,i=function(e){function t(t){var i=e.call(this,n.REPORT_FILE_FAILED)||this;return i.message=t,i}return a(t,e),t}(t._Event),e.ReportFileFailedEvent=i}(e.report||(e.report={}))}(e.model||(e.model={}))}(r||(r={})),function(e){var n,i,r;n=e.model||(e.model={}),i=n.report||(n.report={}),r=function(l){function c(){var e=l.call(this)||this;return e.defaultFilename="report.json",e}return a(c,l),c.prototype.open=function(){var e=this;this.localReportLoader=new i.LocalReportLoader,this.localReportLoader.addEventListener(i.ReportEvent.REPORT_FILE_LOADED,function(t){return e.onReportFileLoaded(t)}),this.localReportLoader.addEventListener(i.ReportEvent.REPORT_FILE_FAILED,function(t){return e.onReportFileFailed(t)}),this.localReportLoader.addEventListener(i.ReportEvent.REPORT_FILE_CANCELLED,function(){return e.onReportFileCancelled()}),this.localReportLoader.load()},c.prototype.load=function(t){var r=this;e.preloader(!0,n._labels.Labels.MESSAGE_LOADING),this.urlReportLoader=new i.UrlReportLoader,this.urlReportLoader.addEventListener(i.ReportEvent.REPORT_FILE_LOADED,function(e){return r.onReportFileLoaded(e)}),this.urlReportLoader.addEventListener(i.ReportEvent.REPORT_FILE_FAILED,function(e){return r.onReportFileFailed(e)}),this.urlReportLoader.load(s.URLUtils.addTimestamp(t))},c.prototype.cancel=function(){this.localReportLoader&&(this.localReportLoader.removeAllEventListeners(i.ReportEvent.REPORT_FILE_LOADED),this.localReportLoader.removeAllEventListeners(i.ReportEvent.REPORT_FILE_FAILED),this.localReportLoader=null),this.urlReportLoader&&(this.urlReportLoader.removeAllEventListeners(i.ReportEvent.REPORT_FILE_LOADED),this.urlReportLoader.removeAllEventListeners(i.ReportEvent.REPORT_FILE_FAILED),this.urlReportLoader=null),this.removeAllEventListeners(i.ReportEvent.REPORT_FILE_LOADED),this.removeAllEventListeners(i.ReportEvent.REPORT_FILE_FAILED)},c.prototype.onReportFileLoaded=function(e){this.dispatch(new i.ReportFileLoadedEvent(e.report))},c.prototype.onReportFileFailed=function(t){e.uialert(t.message,n._labels.Labels.ERROR,e.AlertType.ERROR),this.dispatchWith(i.ReportEvent.REPORT_FILE_FAILED)},c.prototype.onReportFileCancelled=function(){this.dispatchWith(i.ReportEvent.REPORT_FILE_CANCELLED)},c.prototype.save=function(t,n,r,o,s,a){var l=this;void 0===n&&(n=null),void 0===s&&(s=!1),this.saveCallbackHandler=r,r=!1;var c="string"==typeof t?t:null,u=o;switch(o=s,t instanceof Object&&(t.hasOwnProperty("filename")&&(c=t.filename),t.hasOwnProperty("destination")&&(n=t.destination),t.hasOwnProperty("url")&&(u=t.url),t.hasOwnProperty("embedData")&&(o=t.embedData)),null!=c&&""!=c||(c=this.defaultFilename),a.connectionInfo.dataSourceType==e.data_.consts.DataSourceType.CSV&&a.options.gridType!=e._view.grid.GridType.FLAT&&(a.connectionInfo instanceof e.data_.vo.FileConnectionInfo&&a.connectionInfo.browseForFile||a.connectionInfo.embedded||o)&&((t=new e.data_.vo.CSVConnectionInfo).embedded=!0,a.connectionInfo=t,r=!0),n=null==n?i.DestinationType.FILE:n.toLowerCase()){case i.DestinationType.SERVER:r?(new e.data_.csv.CSVSaver).getData(function(e){return l.saveToServer(u,c,a,e)}):this.saveToServer(u,c,a);break;case i.DestinationType.FILE:r?(new e.data_.csv.CSVSaver).getData(function(e){return l.saveToFile(c,a,e)}):this.saveToFile(c,a);break;default:r?(new e.data_.csv.CSVSaver).getData(function(e){return l.saveToFile(c,a,e)}):this.saveToFile(c,a)}return null},c.prototype.dispatchReportSaved=function(e){if(null!=this.saveCallbackHandler)try{this.saveCallbackHandler(e)}catch(c){this.saveCallbackHandler("Error! "+c)}},c.prototype.defineReportType=function(e){return JSON.stringify(e.toObject(),null,4)},c.prototype.saveToFile=function(t,i,o){void 0===o&&(o=null);var s=[this.defineReportType(i)];null!=o&&(s.push("\n"),s.push(o));try{var a=this;e.uialert(n._labels.Labels.MESSAGE_SAVE_REPORT_TO_FILE,n._labels.Labels.CONFIRMATION,e.AlertType.CONFIRMATION,[n._labels.Labels.BUTTON_SAVE,n._labels.Labels.BUTTON_CANCEL],[function(){var e=new Blob(s,{type:"text/js;charset=utf-8"});savingAs(e,t),a.dispatchReportSaved(!0)},function(){a.dispatchReportSaved(!1)}])}catch(r){e.uialert(n._labels.Labels.MESSAGE_CANT_SAVE_FILE,n._labels.Labels.ERROR,e.AlertType.ERROR),this.dispatchReportSaved(!1)}},c.prototype.saveToServer=function(i,r,a,l){var c=this;void 0===l&&(l=null),s.nullOrEmpty(i)&&e.uialert("Report cannot be saved. Save report url is empty.",n._labels.Labels.WARNING,e.AlertType.ERROR);var u=new o.URLVariables;u.data.name=r,u.data.report=null==l?this.defineReportType(a):this.defineReportType(a)+"\n"+l,u.data.type="json";var d=new o.URLStream;return d.data=u.toString(),d.contentType=o.ContentType.APPLICATION_URLENCODED,d.requestMethod=o.URLRequestMethod.POST,d.addEventListener(t._Event.COMPLETE,function(){return c.onSaveComplete(d)}),d.addEventListener(t._Event.ERROR,function(){return c.onError(d)}),d.load(i),e.preloader(!0,n._labels.Labels.MESSAGE_UPLOADING),null},c.prototype.onSaveComplete=function(t){e.preloader(!1),this.dispatchReportSaved(t.response)},c.prototype.onError=function(t){e.preloader(!1),this.dispatchReportSaved(!1),t=n.XSSCheck.valid(t.url)?t.url:n.XSSCheck.validate(t.url),e.uialert(n._labels.Labels.MESSAGE_CANT_SAVE_FILE+s.StringUtils.bind(' (<a href="{0}">{0}</a>)',t),n._labels.Labels.ERROR,e.AlertType.ERROR)},c}(t.EventDispatcher),i.ReportManager=r}(r||(r={})),function(e){var t,n,i;t=e.model||(e.model={}),n=t.report||(t.report={}),i=function(){function i(){this.withDefaults=!1,this.connectionInfo=new e.data_.vo.ConnectionInfo,this.slice=new n.SliceValueObject,this.options=new t._options.vo.OptionsValueObject,this.formats=[],this.conditions=[],this.columnSizes={},this.rowSizes={},this.columnHeaderSizes=[],this.rowHeaderSizes=[],this.rowFilterSizes=[],this.columnSizesByIdx={},this.rowSizesByIdx={},this.customFields=[],this.labels={},this.localization=null}return i.fromObject=function(r){if(null==r)return null;r instanceof i||(r=i.toPlainObject(r));var o=new i;return o.connectionInfo=e.data_.vo.ConnectionInfo.fromObject(null!=r.connectionInfo?r.connectionInfo:r),o.options=t._options.vo.OptionsValueObject.fromObject(null!=r.options?r.options:r),o.slice=n.SliceValueObject.fromObject(null!=r.slice?r.slice:r,o.connectionInfo,o.options.gridType==e._view.grid.GridType.FLAT),null!=r.formats&&r.formats.length&&(o.formats=r.formats),null!=r.conditions&&r.conditions.length&&(o.conditions=r.conditions),null!=r.columnSizes&&"string"!=typeof r.columnSizes&&(o.columnSizes=r.columnSizes),null!=r.rowSizes&&"string"!=typeof r.rowSizes&&(o.rowSizes=r.rowSizes),null!=r.columnHeaderSizes&&"string"!=typeof r.columnHeaderSizes&&(o.columnHeaderSizes=r.columnHeaderSizes),null!=r.rowHeaderSizes&&"string"!=typeof r.rowHeaderSizes&&(o.rowHeaderSizes=r.rowHeaderSizes),null!=r.rowFilterSizes&&"string"!=typeof r.rowFilterSizes&&(o.rowFilterSizes=r.rowFilterSizes),null!=r.columnSizesByIdx&&(o.columnSizesByIdx=r.columnSizesByIdx),null!=r.rowSizesByIdx&&(o.rowSizesByIdx=r.rowSizesByIdx),null!=r.customFields&&(o.customFields=r.customFields),null!=r.localization&&(o.localization=r.localization),o},i.prototype.toObject=function(){var e={},t=this.connectionInfo.toObject(this.withDefaults);if(s.ObjectUtils.isEmptyObject(t)||(e.dataSource=t),t=this.slice.toObject(this.withDefaults),s.ObjectUtils.isEmptyObject(t)||(e.slice=t),t=this.options.toObject(),s.ObjectUtils.isEmptyObject(t)||(e.options=t),0<(t=this.composeConditionsObject()).length&&(e.conditions=t),null!=this.formats&&0!=this.formats.length){t=[];for(var n=!this.options.saveAllFormats&&5<this.formats.length,i=0;i<this.formats.length;i++){var r=this.formats[i];""!=r.name&&(null==this.slice.formatsInUse[r.name]||n&&!this.slice.formatsInUse[r.name])||t.push(r)}e.formats=t}return t=this.composeTableSizesObject(),s.ObjectUtils.isEmptyObject(t)||(e.tableSizes=t),null!=this.customFields&&0!=this.customFields.length&&(e.customFields=this.customFields),null!=this.localization&&""!=this.localization&&(e.localization=this.localization),e},i.prototype.composeConditionsObject=function(){for(var e=[],t=0;t<this.conditions.length;t++){var n=this.conditions[t],i={};i.formula=n.formula,-1<n.row&&(i.row=n.row),-1<n.column&&(i.column=n.column),-1<n.isTotal&&(i.isTotal=1==n.isTotal),n.measure&&0<n.measure.length&&(i.measure=n.measure),n.hierarchy&&0<n.hierarchy.length&&(i.hierarchy=n.hierarchy),n.member&&0<n.member.length&&(i.member=n.member),n.format&&!s.ObjectUtils.isEmptyObject(n.format)&&(i.format=n.format),e.push(i)}return e},i.prototype.composeTableSizesObject=function(){var e,t,i,r,o={};if(null!=this.columnHeaderSizes&&!s.ObjectUtils.isEmptyObject(this.columnHeaderSizes)||null!=this.columnSizes&&!s.ObjectUtils.isEmptyObject(this.columnSizes)){if(o.columns=[],null!=this.columnHeaderSizes&&!s.ObjectUtils.isEmptyObject(this.columnHeaderSizes))for(t=0;t<this.columnHeaderSizes.length;t++)null!=this.columnHeaderSizes[t]&&o.columns.push({idx:t,width:this.columnHeaderSizes[t]});if(t=n.SliceValueObject.findMeasure(this.slice.columns),null!=this.columnSizes&&!s.ObjectUtils.isEmptyObject(this.columnSizes))for(e in this.columnSizes)i=e.split(","),0<=t?(r=i.pop(),o.columns.push({tuple:i,measure:r,width:this.columnSizes[e]})):o.columns.push({tuple:i,width:this.columnSizes[e]})}if(null!=this.rowFilterSizes&&!s.ObjectUtils.isEmptyObject(this.rowFilterSizes)||null!=this.rowHeaderSizes&&!s.ObjectUtils.isEmptyObject(this.rowHeaderSizes)||null!=this.rowSizes&&!s.ObjectUtils.isEmptyObject(this.rowSizes)){if(o.rows=[],null!=this.rowFilterSizes&&!s.ObjectUtils.isEmptyObject(this.rowFilterSizes))for(t=0;t<this.rowFilterSizes.length;t++)null!=this.rowFilterSizes[t]&&o.rows.push({idx:t,height:this.rowFilterSizes[t]});if(null!=this.rowHeaderSizes&&!s.ObjectUtils.isEmptyObject(this.rowHeaderSizes))for(t=0;t<this.rowHeaderSizes.length;t++)null!=this.rowHeaderSizes[t]&&o.rows.push({idx:t,height:this.rowHeaderSizes[t]});if(t=n.SliceValueObject.findMeasure(this.slice.rows),null!=this.rowSizes&&!s.ObjectUtils.isEmptyObject(this.rowSizes))for(e in this.rowSizes)i=e.split(","),0<=t?(r=i.pop(),o.rows.push({tuple:i,measure:r,height:this.rowSizes[e]})):o.rows.push({tuple:i,height:this.rowSizes[e]})}return o},i.toPlainObject=function(i){var r={};if(null==i)return r;if(null!=i.columnSizes&&(r.columnSizes=i.columnSizes),null!=i.rowSizes&&(r.rowSizes=i.rowSizes),null!=i.columnHeaderSizes&&(r.columnHeaderSizes=i.columnHeaderSizes),null!=i.rowHeaderSizes&&(r.rowHeaderSizes=i.rowHeaderSizes),null!=i.rowFilterSizes&&(r.rowFilterSizes=i.rowFilterSizes),null!=i.rowSizesByIdx&&(r.rowSizesByIdx=i.rowSizesByIdx),null!=i.columnSizesByIdx&&(r.columnSizesByIdx=i.columnSizesByIdx),null!=i.customFields&&(r.customFields=i.customFields),null!=i.labels&&(r.labels=i.labels),r.connectionInfo=e.data_.vo.ConnectionInfo.toPlainObject(null!=i.connectionInfo?i.connectionInfo:i),r.slice=n.SliceValueObject.toPlainObject(null!=i.slice?i.slice:i),r.options=t._options.vo.OptionsValueObject.toPlainObject(null!=i.options?i.options:i),null!=i.formats&&0<i.formats.length&&(r.formats=i.formats),null!=i.conditions&&0<i.conditions.length&&(r.conditions=i.conditions),null!=i.tableSizes){var o,s;if(null!=i.tableSizes.columns){var a=i.tableSizes.columns;for(o=0;o<a.length;o++)null!=a[o].idx&&(null==r.columnSizesByIdx&&(r.columnSizesByIdx={}),r.columnSizesByIdx[parseInt(a[o].idx)]=parseInt(a[o].width)),(null!=a[o].tuple||null!=a[o].measure)&&(null==r.columnSizes&&(r.columnSizes={}),s=null==a[o].tuple?[]:a[o].tuple.slice(),null!=a[o].measure&&s.push(a[o].measure),r.columnSizes[s.join(",")]=parseInt(a[o].width))}if(null!=i.tableSizes.rows)for(a=i.tableSizes.rows,o=0;o<a.length;o++)null!=a[o].idx&&(null==r.rowSizesByIdx&&(r.rowSizesByIdx={}),r.rowSizesByIdx[parseInt(a[o].idx)]=parseInt(a[o].height)),(null!=a[o].tuple||null!=a[o].measure)&&(null==r.rowSizes&&(r.rowSizes={}),s=null==a[o].tuple?[]:a[o].tuple.slice(),null!=a[o].measure&&s.push(a[o].measure),r.rowSizes[s.join(",")]=parseInt(a[o].height))}return null!=i.localization&&(r.localization=i.localization),r},i.prototype.merge=function(n){if(s.nullOrUndefined(n))return this;n=i.toPlainObject(n);var r,o=i.toPlainObject(this);for(r in n)n.hasOwnProperty(r)&&("connectionInfo"==r?e.data_.vo.ConnectionInfo.fromObject(n.connectionInfo).isEmpty||(o[r]=n[r]):"options"==r?(this.options.mergeWith(n[r]),o[r]=t._options.vo.OptionsValueObject.toPlainObject(this.options)):o[r]=n[r]);return i.fromObject(o)},i}(),n.ReportValueObject=i}(r||(r={})),function(e){var n,i,r;n=e.model||(e.model={}),i=n.report||(n.report={}),r=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return a(r,t),r.prototype.dispatchReportLoaded=function(e){this.dispatch(e?new i.ReportFileLoadedEvent(e):new i.ReportFileFailedEvent(n._labels.Labels.MESSAGE_INVALID_REPORT_FORMAT))},r.prototype.parseReport=function(e){try{var n=e.indexOf("/**----**");return JSON.parse(-1<n?e.substring(0,n):e)}catch(t){return console.error(t),null}},r.prototype.getStringByteLength=function(t){var n=new e.DataStream(new ArrayBuffer(0),0,e.DataStream.BIG_ENDIAN);return n.writeString(t),n.byteLength},r}(t.EventDispatcher),i.ReportLoader=r}(r||(r={})),function(e){var n,i,r;n=e.model||(e.model={}),r=function(r){function l(){var e=r.call(this)||this;return e.counter=0,e.embeddedStartDataSign="\x3c!--",e.embeddedDataJSONStartSign="/**----**",e}return a(l,r),l.prototype.load=function(e){var n=this;this.url=e,this.bytesLoaded=0,this.loader=new o.URLStream,this.loader.dataType=o.DataType.TEXT,this.loader.addEventListener(t._Event.PROGRESS,function(e){return n.onProgress(e)}),this.loader.addEventListener(t._Event.COMPLETE,function(){return n.onLoaded()}),this.loader.addEventListener(t._Event.ERROR,function(){return n.onError()}),this.loader.load(e)},l.prototype.onProgress=function(e){e=0,null!=this.loader&&-1<(e=this.loader.response.indexOf("</config>"))&&e+this.embeddedDataJSONStartSign.length+1<this.loader.response.length&&this.onLoaded()},l.prototype.onLoaded=function(){if(null!=this.loader){this.loader.removeAllEventListeners(t._Event.COMPLETE);var n=this.parseReport(this.loader.response);if(n instanceof i.ReportValueObject){if(n.connectionInfo instanceof e.data_.vo.CSVConnectionInfo&&1==n.connectionInfo.embedded){var r=n.connectionInfo;r.filename=this.loader.url,r.embeddedDataOffset=this.getStringByteLength(this.loader.response.substring(0,this.loader.response.indexOf("</config>")+9)+"\n"),this.loader.response.indexOf(this.embeddedStartDataSign),n.connectionInfo=r}}else s.nullOrUndefined(n)||s.nullOrUndefined(n.dataSource)||1!=n.dataSource.embedded||(n.dataSource.filename=this.loader.url,n.dataSource.embeddedDataOffset=this.getStringByteLength(this.loader.response.substring(0,this.loader.response.indexOf(this.embeddedDataJSONStartSign))));this.dispatchReportLoaded(n),this.dispose()}},l.prototype.onError=function(){this.loader.removeAllEventListeners(t._Event.PROGRESS),this.loader.removeAllEventListeners(t._Event.COMPLETE),this.loader.removeAllEventListeners(t._Event.ERROR);var e=n.XSSCheck.valid(this.url)?this.url:n.XSSCheck.validate(this.url);e=s.StringUtils.bind(n._labels.Labels.MESSAGE_UNABLE_TO_OPEN_FILE,e),this.dispatch(new i.ReportFileFailedEvent(e)),this.dispose()},l.prototype.dispose=function(){null!=this.loader&&(this.loader.removeAllEventListeners(),this.loader.dispose(),this.loader=null)},l}((i=n.report||(n.report={})).ReportLoader),i.UrlReportLoader=r}(r||(r={})),function(e){var n,i,r;n=e.model||(e.model={}),r=function(r){function l(){return r.call(this)||this}return a(l,r),l.prototype.load=function(){var e=this;this.file=new o.FileReference,this.file.addEventListener(t._Event.SELECT,function(){return e.onSelected()}),this.file.addEventListener(t._Event.COMPLETE,function(){return e.onLoaded()}),this.file.addEventListener(t._Event.CANCEL,function(){return e.onCancel()}),this.file.addEventListener(t._Event.ERROR,function(){return e.onError()}),this.file.browse([".json",".js"])},l.prototype.onSelected=function(){null!=this.file&&this.file.load(o.ReadMethod.ARRAY_BUFFER)},l.prototype.onLoaded=function(){try{var t=new e.DataStream(this.file.response,0,e.DataStream.BIG_ENDIAN),r=t.readString(t.byteLength),o=this.parseReport(r);if(o instanceof i.ReportValueObject){if(o.connectionInfo instanceof e.data_.vo.CSVConnectionInfo&&1==o.connectionInfo.embedded){var a=o.connectionInfo;a.embeddedDataToLoad=this.file.response,a.embeddedDataOffset=this.getStringByteLength(r.substring(0,r.indexOf("</config>")+9)+"\n"),o.connectionInfo=a}}else s.nullOrUndefined(o)||s.nullOrUndefined(o.dataSource)||1!=o.dataSource.embedded||(o.dataSource.embeddedDataToLoad=this.file.response,o.dataSource.embeddedDataOffset=this.getStringByteLength(r.substring(0,r.indexOf("/**----**"))));this.dispatchReportLoaded(o),this.dispose()}catch(n){console.error(n),this.onError()}},l.prototype.onError=function(){var e=s.StringUtils.bind(n._labels.Labels.MESSAGE_UNABLE_TO_OPEN_FILE,"");this.dispatch(new i.ReportFileFailedEvent(e)),this.dispose()},l.prototype.onCancel=function(){this.dispatchWith(i.ReportEvent.REPORT_FILE_CANCELLED),this.dispose()},l.prototype.dispose=function(){null!=this.file&&(this.file.removeAllEventListeners(),this.file.dispose(),this.file=null)},l}((i=n.report||(n.report={})).ReportLoader),i.LocalReportLoader=r}(r||(r={})),function(e){!function(e){!function(e){var t=function(){function e(){}return e.validType=function(t){return t==e.FILE||t==e.SERVER||t==e.BINARY||t==e.PLAIN},e.FILE="file",e.SERVER="server",e.BINARY="binary",e.PLAIN="plain",e}();e.DestinationType=t}(e.report||(e.report={}))}(e.model||(e.model={}))}(r||(r={})),function(e){!function(e){!function(e){var t=function(){function e(){}return e.customFields=[],e}();e.CustomFieldsManager=t}(e.report||(e.report={}))}(e.model||(e.model={}))}(r||(r={})),function(e){var t,n,i;n=(t=e.model||(e.model={})).report||(t.report={}),i=function(){function n(){this.rows=[],this.columns=[],this.pages=[],this.measures=[],this.rowSorting={},this.columnSorting={},this.expandedRows=[],this.expandedColumns=[],this.drilledRows=[],this.drilledColumns=[],this.drillAll=this.expandAll=!1,this.flatOrder=[],this.formatsInUse={}}return n.prototype.normalizeSlice=function(e){if(0<=n.findMeasure(e.rows)){var t=n.findMeasure(e.columns);0<=t&&(e.columns[t]=e.columns[0],e.columns.shift())}},n.findMeasure=function(t){for(var n=e.data_.Cube.MEASURES_NAME,i=0;i<t.length;i++)if(t[i].uniqueName==n)return i;return-1},n.readExpandedFromObject=function(e){for(var t,n=[],i=0;i<e.length;i++){if((t=[]).push(null!=e[i].measure?e[i].measure:""),null!=e[i].tuple)for(var r=0;r<e[i].tuple.length;r++)t.push(e[i].tuple[r]);n.push(t)}return n},n.readDrilledFromObject=function(e){for(var t,n=[],i=0;i<e.length;i++){if((t=[]).push(null!=e[i].level?e[i].level:""),t.push(null!=e[i].measure?e[i].measure:-1),null!=e[i].tuple){t.push(e[i].tuple[e[i].tuple.length-1]);for(var r=0;r<e[i].tuple.length;r++)t.push(e[i].tuple[r])}n.push(t)}return n},n.fromObject=function(e,i,r){if(void 0===i&&(i=null),void 0===r&&(r=!1),null==e)return null;e instanceof n||(e=n.toPlainObject(e));var o=new n;return null!=e.measures&&e.measures.length&&(o.measures=e.measures),null==i&&t.PivotModel.getInstance(),null!=e.pages&&e.pages.length&&(o.pages=n.hierarchiesFromObject(e.pages)),null!=e.columns&&e.columns.length&&(o.columns=n.hierarchiesFromObject(e.columns,r)),null!=e.rows&&e.rows.length&&(o.rows=n.hierarchiesFromObject(e.rows,r)),null!=e.flatOrder&&e.flatOrder.length&&(o.flatOrder=e.flatOrder),o.normalizeSlice(o),null!=e.rowSorting&&(o.rowSorting=e.rowSorting),null!=e.columnSorting&&(o.columnSorting=e.columnSorting),null!=e.expandAll&&(o.expandAll=e.expandAll),null!=e.expandedRows&&e.expandedRows.length&&(o.expandedRows=e.expandedRows),null!=e.expandedColumns&&e.expandedColumns.length&&(o.expandedColumns=e.expandedColumns),null!=e.drillAll&&(o.drillAll=e.drillAll),null!=e.drilledRows&&e.drilledRows.length&&(o.drilledRows=e.drilledRows),null!=e.drilledColumns&&e.drilledColumns.length&&(o.drilledColumns=e.drilledColumns),o},n.hierarchiesFromObject=function(t,n){void 0===n&&(n=!1);for(var i=[],r=0;r<t.length;r++)for(var o in i[r]={},n&&!t[r].sort&&(t[r].sort=e.data_.consts.SortType.UNSORTED),t[r])"sort"==o?i[r].sortName=t[r].sort:i[r][o]=t[r][o];return i},n.prototype.toObject=function(t){void 0===t&&(t=!1);var n,i={},r=[];for(n=0;n<this.pages.length;n++)r.push(this.hierarchyToJSON(this.pages[n],t));for(0<r.length&&(i.reportFilters=r),r=[],n=0;n<this.rows.length;n++)r.push(this.hierarchyToJSON(this.rows[n],t));for(0<r.length&&(i.rows=r),r=[],n=0;n<this.columns.length;n++)r.push(this.hierarchyToJSON(this.columns[n],t));for(0<r.length&&(i.columns=r),r=[],n=0;n<this.measures.length;n++)r.push(this.measureToJSON(this.measures[n],t));return 0<r.length&&(i.measures=r),(null!=this.rowSorting&&null!=this.rowSorting.type&&this.rowSorting.type!=e.data_.consts.SortType.UNSORTED||null!=this.columnSorting&&this.columnSorting.type&&this.columnSorting.type!=e.data_.consts.SortType.UNSORTED)&&(i.sorting={},null!=this.rowSorting&&null!=this.rowSorting.type&&this.rowSorting.type!=e.data_.consts.SortType.UNSORTED&&(i.sorting.row=this.rowSorting),null!=this.columnSorting&&this.columnSorting.type&&this.columnSorting.type!=e.data_.consts.SortType.UNSORTED&&(i.sorting.column=this.columnSorting)),n={},(t||this.expandAll)&&(n.expandAll=this.expandAll),0<this.expandedRows.length&&(n.rows=this.expandedElementsToJSON(this.expandedRows)),0<this.expandedColumns.length&&(n.columns=this.expandedElementsToJSON(this.expandedColumns)),s.ObjectUtils.isEmptyObject(n)||(i.expands=n),n={},(t||this.drillAll)&&(n.drillAll=this.drillAll),0<this.drilledRows.length&&(n.rows=this.drilledElementsToJSON(this.drilledRows)),0<this.drilledColumns.length&&(n.columns=this.drilledElementsToJSON(this.drilledColumns)),s.ObjectUtils.isEmptyObject(n)||(i.drills=n),0<this.flatOrder.length&&(i.flatOrder=this.flatOrder),i},n.prototype.expandedElementsToJSON=function(e){for(var t,n,i,r=[],o=0;o<e.length;o++)t={},i=(n=e[o].slice(0)).shift(),0!=n.length&&(t.tuple=n,""!=i&&(t.measure=i),r.push(t));return r},n.prototype.drilledElementsToJSON=function(e){for(var t,n,i,r,o=[],s=0;s<e.length;s++)t={},n=(r=e[s].slice(0)).shift(),i=r.shift(),r.shift(),0!=r.length&&(t.tuple=r,""!=i&&(t.measure=i),""!=n&&(t.level=n),o.push(t));return o},n.prototype.measureToJSON=function(t,n){var i={};return i.uniqueName=t.uniqueName,null!=t.formula&&""!=t.formula?(i.formula=t.formula,t.individual&&(i.individual=!0),i.caption=t.caption):(n||t.aggregation!=e.data_.consts.AggregationName.NONE)&&(i.aggregation=t.aggregation),(n||0==t.active)&&(i.active=t.active),null!=t.format&&""!=t.format&&(i.format=t.format,this.formatsInUse[t.format]=t.active),null!=t.availableAggregations&&0<t.availableAggregations.length&&(i.availableAggregations=t.availableAggregations),i},n.prototype.hierarchyToJSON=function(t,n){var i={};if(i.uniqueName=t.uniqueName,null!=t.activeLevelName&&(i.levelName=t.activeLevelName),null!=t.filter&&(i.filter={},null!=t.filter.type&&t.filter.type!=e.data_.consts.FilterType.NONE&&(i.filter={type:t.filter.type,quantity:t.filter.quantity,measure:t.filter.measure}),null!=t.filter.members)){var r="string"==typeof t.filter.members?t.filter.members.split(","):t.filter.members;0<r.length&&(i.filter.members=r,!0===t.filter.negation&&(i.filter.negation=t.filter.negation))}return t.filterEnabled||(i.filterEnabled=!0),t.uniqueName!=e.data_.Cube.MEASURES_NAME&&t.sortName&&(n||t.sortName!=e.data_._structure.GenericHierarchy.DEFAULT_SORT_NAME)&&(i.sort=t.sortName),t.uniqueName!=e.data_.Cube.MEASURES_NAME&&t.sortAs&&(i.sortAs=t.sortAs),i},n.toPlainObject=function(e){var t={};return null==e||(null!=e.pages&&(t.pages=e.pages),null!=e.reportFilters&&(t.pages=e.reportFilters),null!=e.rows&&(t.rows=e.rows),null!=e.columns&&(t.columns=e.columns),null!=e.measures&&(t.measures=e.measures),null!=e.rowSorting&&(t.rowSorting=e.rowSorting,null!=t.rowSorting.tuple&&"string"==typeof t.rowSorting.tuple&&(t.rowSorting.tuple=t.rowSorting.tuple.split(","))),null!=e.sorting&&null!=e.sorting.row&&(t.rowSorting=e.sorting.row),null!=e.columnSorting&&(t.columnSorting=e.columnSorting,null!=t.columnSorting.tuple&&"string"==typeof t.columnSorting.tuple&&(t.columnSorting.tuple=t.columnSorting.tuple.split(","))),null!=e.sorting&&null!=e.sorting.column&&(t.columnSorting=e.sorting.column),null!=e.expandAll&&(t.expandAll=e.expandAll),null!=e.expandedRows&&(t.expandedRows=e.expandedRows),null!=e.expandedColumns&&(t.expandedColumns=e.expandedColumns),null!=e.expands&&(null!=e.expands.expandAll&&(t.expandAll=e.expands.expandAll),null!=e.expands.rows&&(t.expandedRows=n.readExpandedFromObject(e.expands.rows)),null!=e.expands.columns&&(t.expandedColumns=n.readExpandedFromObject(e.expands.columns))),null!=e.drillAll&&(t.drillAll=e.drillAll),null!=e.drilledRows&&(t.drilledRows=e.drilledRows),null!=e.drilledColumns&&(t.drilledColumns=e.drilledColumns),null!=e.drills&&(null!=e.drills.drillAll&&(t.drillAll=e.drills.drillAll),null!=e.drills.rows&&(t.drilledRows=n.readDrilledFromObject(e.drills.rows)),null!=e.drills.columns&&(t.drilledColumns=n.readDrilledFromObject(e.drills.columns))),null!=e.flatOrder&&(t.flatOrder=e.flatOrder),null!=e.slice&&(null!=(e=e.slice).pages&&e.pages.length&&(t.pages=e.pages),null!=e.reportFilters&&e.reportFilters.length&&(t.pages=e.reportFilters),null!=e.rows&&e.rows.length&&(t.rows=e.rows),null!=e.columns&&e.columns.length&&(t.columns=e.columns),null!=e.measures&&e.measures.length&&(t.measures=e.measures),null!=e.sorting&&null!=e.sorting.row&&(t.rowSorting=e.sorting.row),null!=e.sorting&&null!=e.sorting.column&&(t.columnSorting=e.sorting.column),null!=e.expands&&(null!=e.expands.expandAll&&(t.expandAll=e.expands.expandAll),null!=e.expands.rows&&(t.expandedRows=n.readExpandedFromObject(e.expands.rows)),null!=e.expands.columns&&(t.expandedColumns=n.readExpandedFromObject(e.expands.columns))),null!=e.drills&&(null!=e.drills.drillAll&&(t.drillAll=e.drills.drillAll),null!=e.drills.rows&&(t.drilledRows=n.readDrilledFromObject(e.drills.rows)),null!=e.drills.columns&&(t.drilledColumns=n.readDrilledFromObject(e.drills.columns))),null!=e.flatOrder&&e.flatOrder.length&&(t.flatOrder=e.flatOrder))),t},n}(),n.SliceValueObject=i}(r||(r={})),function(e){var t,n,i,r;i=(n=(t=e.model||(e.model={}))._state||(t._state={})).vo||(n.vo={}),r=function(){function n(){this.formats=new s.AssociativeArray,this.conditions=new s.AssociativeArray,this.customFields=[],this.rowSizes={},this.columnSizes={},this.startTableRow=0,this.rowHeaderSizes={},this.columnHeaderSizes={},this.rowFilterSizes={},this.expandedRows=[],this.expandedColumns=[],this.drilledRows=[],this.drilledColumns=[],this.localization=null,this.labels={},this.withGlobals=this.withDefaults=!1}return n.toReport=function(n){var i,r,o=new t.report.ReportValueObject;if(o.withDefaults=n.withDefaults,o.connectionInfo=n._connectionInfo,n._slice){var s,a=e.data_._structure.Axis.toObject(n._slice.findAxis(e.data_.consts.AxisName.ROWS_AXIS)),l=e.data_._structure.Axis.toObject(n._slice.findAxis(e.data_.consts.AxisName.COLUMNS_AXIS));for(i=e.data_._structure.Axis.toObject(n._slice.findAxis(e.data_.consts.AxisName.PAGES_AXIS)),o.slice=new t.report.SliceValueObject,o.slice.rows=a.hierarchies,o.slice.columns=l.hierarchies,o.slice.pages=i.hierarchies,o.slice.measures=[],i=0;i<n._slice.measures_.length;i++)s=n._slice.measures_.getItemAt(i),(s=e.data_._structure.GenericMeasure.toObject(s)).active=!0,o.slice.measures.push(s);for(i=0;i<n._structure.measures_.length;i++)s=n._structure.measures_.getItemAt(i),n._slice.measures_.keyExists(s.uniqueName)||s.hasDefaultParams()||((s=e.data_._structure.GenericMeasure.toObject(s)).active=!1,o.slice.measures.push(s));o.slice.rowSorting=a.sort,o.slice.columnSorting=l.sort,o.slice.expandAll=n._slice.expandAll,o.slice.expandedRows=n.expandedRows,o.slice.expandedColumns=n.expandedColumns,o.slice.drillAll=n._slice.drillAll,o.slice.drilledRows=n.drilledRows,o.slice.drilledColumns=n.drilledColumns,o.slice.flatOrder=n._slice.flatOrder}for(o.options=n._options,a=[],i=0;i<n.formats.length;i++)a[i]=n.formats.getItemAt(i).toObject();for(o.formats=a,a=[],i=0;i<n.conditions.length;i++)a[i]=t.condition.vo.ConditionValueObject.toObject(n.conditions.getItemAt(i));for(r in o.conditions=a,o.customFields=n.customFields,o.labels=n.labels,i={},n.columnSizes)i[r]=n.columnSizes[r];for(r in o.columnSizes=i,a=[],n.columnHeaderSizes)a[i=parseInt(r)]=n.columnHeaderSizes[r];for(r in o.columnHeaderSizes=a,i={},n.rowSizes)i[r]=n.rowSizes[r];for(r in o.rowSizes=i,a=[],n.rowHeaderSizes)a[(i=parseInt(r))+n.startTableRow]=n.rowHeaderSizes[r];if(o.rowHeaderSizes=a,a=[],0!=n.startTableRow)for(r in n.rowFilterSizes)a[i=parseInt(r)]=n.rowFilterSizes[r];return o.rowFilterSizes=a,o.localization=n.localization,o},n}(),i.StateValueObject=r}(r||(r={})),function(e){var t,n,r;n=(t=e.model||(e.model={})).printing||(t.printing={}),r=function(){function n(){var e=this;this.MARGINS=25,this._printInProgress=!1,this.printCompletedHandler=function(){return e.onPrintCompleted()},this.footerHeight=this.headerHeight=0}return n.getInstance=function(){return null==n._instance&&(n._instance=new n),n._instance},n.dispose=function(){n._instance=null},n.prototype.print=function(n){void 0===n&&(n=null),this._printInProgress||(this._printInProgress=!0,this._options=n||new t.printing.PrintOptions,t.PivotModel.getInstance().addEventListener(e.PivotEvent.PRINT_COMPLETE,this.printCompletedHandler),t.PivotModel.getInstance().dispatchWith(e.PivotEvent.PRINT))},n.prototype.onPrintCompleted=function(){t.PivotModel.getInstance().removeEventListener(e.PivotEvent.PRINT_COMPLETE,this.printCompletedHandler),this._printInProgress=!1},n.prototype.run=function(e,t){this.grid=e,this.dataProvider=t,this.gridLayout=null!=e?e.gridLayout:null,this.start()},n.prototype.start=function(){var e=this;this.pageNumber=0,this._pageWidth=576-2*this.MARGINS,this._pageHeight=756-2*this.MARGINS,this.pages=new i.UIElement("div"),this.stylesList=[],this.rowsShift=this.columnsShift=0,s.ThreadManager.addTask(this.generatePageColumn,this,null,function(){return e.finish()})},n.prototype.clear=function(){this._printInProgress=!1,this.columnsShift=this.pageNumber=this.rowsShift=this.columnsShift=0,this.pages=this.printSprite=null,this.footerHeight=this.headerHeight=0},n.prototype.generatePageColumn=function(){return this.addColumn()},n.prototype.addColumn=function(){if(null==this.printSprite)this.printSprite=this.createPage(),this.printTable=this.printSprite.find("table");else if(!(this.printSprite.getWidth(!0)<=this._pageWidth&&0!=this.columnsShift)&&(this.printSprite.getWidth(!0)>this._pageWidth&&(this.columnsShift--,this.printSprite.find("td:last-child").remove()),this.addPageToPJ(),this.printSprite=this.createPage(),this.printTable=this.printSprite.find("table"),0==this.grid.isFlatTable)){var e=this.columnsShift;0!=this.columnsShift&&(this.columnsShift=0,this.addColumnOnPage(),this.columnsShift=e,this.columnsShift+1<=this.dataProvider.extendedDataWidth-(this.grid.isFlatTable?1:0)&&(this.columnsShift+=1))}return this.addColumnOnPage(),1==this.shift()&&(this.addPageToPJ(),!0)},n.prototype.createPage=function(){var e=new i.UIElement("div").addClass("page");if(e.css("position","absolute").css("left","-9999px"),null!=this._options.header){var n=this.createHeaderFooter(this._options.header);e.append(n)}var r=new i.UIElement("table");if(0==this.pageNumber&&0<t._options.OptionsManager.gridTitle.length&&r.append(new i.UIElement("caption").text(t._options.OptionsManager.gridTitle)),e.append(r),null!=this._options.footer){var o=this.createHeaderFooter(this._options.footer);e.append(o)}return this.grid.container.append(e),this.headerHeight=null!=n?n.getHeight():0,this.footerHeight=null!=o?o.getHeight():0,e},n.prototype.createHeaderFooter=function(e){var t=new i.UIElement("div");return e=(e=e.replace(/##PAGE-NUMBER##/gi,(this.pageNumber+1).toString())).replace(/##CURRENT-DATE##/gi,(new Date).toLocaleString()),t.html(e),t},n.prototype.addPageToPJ=function(){return this.pageNumber++,e.preloader(!0,t._labels.Labels.MESSAGE_PLEASE_WAIT,this.pageNumber+" "+t._labels.Labels.MESSAGE_PAGES_WERE_GENERATED,!0),this.rowHeightSum>this._pageHeight&&(this._rowIdx--,this.printSprite.find("tr:last-child").remove()),this.printSprite.detach(),this.printSprite.css("position","").css("left",""),this.pages.append(this.printSprite),!1},n.prototype.shift=function(){return++this.columnsShift,this.columnsShift>this.dataProvider.extendedDataWidth-(this.grid.isFlatTable?1:0)&&(this.columnsShift=0,this.rowsShift+=this._rowIdx-this.grid.FIRST_DATA_ROW),1e3<=this.pageNumber||this.rowsShift>=this.dataProvider.extendedDataHeight},n.prototype.addColumnOnPage=function(){this.rowHeightSum=0;var e=this.grid.START_HEADERS_COLUMN+this.columnsShift,t=this._pageHeight-this.headerHeight-this.footerHeight;for(this._rowIdx=this.grid.START_TABLE_ROW;this.rowHeightSum<=t&&this._rowIdx<this.dataProvider.extendedDataHeight+this.grid.FIRST_DATA_ROW-this.rowsShift;this._rowIdx++){this.rowIndex=this._rowIdx<this.grid.FIRST_DATA_ROW?this._rowIdx:this._rowIdx+this.rowsShift;var n=this.gridLayout.getCell(this.rowIndex,e,!0,!0);if(this.rowHeightSum+=this.addCell(this._rowIdx,this.columnsShift,n),this.rowHeightSum>=t)break}},n.prototype.addCell=function(e,t,n){for(t=0<(t=this.printTable.find("tr",!0)).length?t[e]:null;null==t;)this.printTable.append(new i.UIElement("tr")),t=this.printTable.find("tr",!0)[e];if(e="<td {0}>"+(n?n.getLabel():"")+"</td>",null==n)e=s.StringUtils.bind(e,"class='cell'");else{var r="",o="";n.isCustomized&&(o=n.style.getStyleString(),r=n.style.getCustomClassString(),this.appendStylesList(n.style.customStyleNames)),""!=(r=n.isRowHeader?r+" rowHeaderCell level"+n.level:n.isColumnHeader?r+" columnHeaderCell":n.isFilterHeader?r+" filterHeaderCell":n.isTotal&&""!=n.getLabel()?r+" totalCell":r+" cell").trim()&&(r="class='"+r.trim()+"'"),""!=o.trim()&&(o="style='"+o.trim()+"maxWidth:400px'"),e=s.StringUtils.bind(e,r+" "+o)}return t.element.innerHTML+=e,t.getHeight(!0)+4},n.prototype.appendStylesList=function(e){for(var t=0;t<e.length;t++)0>this.stylesList.indexOf(e[t])&&this.stylesList.push(e[t])},n.prototype.finish=function(){e.preloader(!0,t._labels.Labels.MESSAGE_PLEASE_WAIT,"Sending pages to printer...",!1,!0),o.PrintJob.print(this.pages.html(),this.generateStyle(),t._options.OptionsManager.gridTitle),e.preloader(!1),t.PivotModel.getInstance().dispatchWith(e.PivotEvent.PRINT_COMPLETE),this.clear()},n.prototype.generateStyle=function(){var t="",n=i.UIElement.convert(this.gridLayout.element),r=n.find("#wdr-data-sheet");for(t=(t=(t=(t=(t=(t=(t=(t+=s.StringUtils.bind("table{width:100%;border-collapse:collapse;{0}}\n",e._view.grid.vo.StyleValueObject.fromItemToString(n,["font-family","font-size"])))+s.StringUtils.bind("caption{{0}}\n",e._view.grid.vo.StyleValueObject.fromClassToString(e._view.grid.vo.GridStyleName.TITLE,n)))+s.StringUtils.bind("td{white-space:nowrap;{0}}\n",s.browserVersion().isChrome?"":"border: 1px solid #eee;"))+s.StringUtils.bind(".cell{{0}}\n",e._view.grid.vo.StyleValueObject.fromClassToString(e._view.grid.vo.GridStyleName.CELL,r)))+s.StringUtils.bind(".totalCell{{0}}\n",e._view.grid.vo.StyleValueObject.fromClassToString(e._view.grid.vo.GridStyleName.CELL+" "+e._view.grid.vo.GridStyleName.TOTAL,r)))+s.StringUtils.bind(".rowHeaderCell{{0}}\n",e._view.grid.vo.StyleValueObject.fromClassToString(e._view.grid.vo.GridStyleName.CELL+" "+e._view.grid.vo.GridStyleName.HEADER+" "+e._view.grid.vo.GridStyleName.HEADER_ROW,n)))+s.StringUtils.bind(".columnHeaderCell{{0}}\n",e._view.grid.vo.StyleValueObject.fromClassToString(e._view.grid.vo.GridStyleName.CELL+" "+e._view.grid.vo.GridStyleName.HEADER+" "+e._view.grid.vo.GridStyleName.HEADER_COLUMN,n)))+s.StringUtils.bind(".filterHeaderCell{{0}}\n",e._view.grid.vo.StyleValueObject.fromClassToString(e._view.grid.vo.GridStyleName.CELL+" "+e._view.grid.vo.GridStyleName.HEADER+" "+e._view.grid.vo.GridStyleName.FILTER_HEADER,n)),r=1;20>=r;r++)t+=s.StringUtils.bind(".level{0}{{1}}\n",r,e._view.grid.vo.StyleValueObject.fromClassToString(e._view.grid.vo.GridStyleName.HEADER_ROW+" "+e._view.grid.vo.GridStyleName.LEVEL+r,n,["padding-left"]));for(r=0;r<this.stylesList.length;r++)t+=s.StringUtils.bind(".{0}{{1}}\n",this.stylesList[r],e._view.grid.vo.StyleValueObject.fromClassToString(this.stylesList[r],n));return(t=(t+".page:not(:last-child), svg { page-break-after: always; }").replace(/background-color:rgb\(33, 33, 33\)/g,"background-color:rgb(255, 255, 255)")).replace(/background-color:rgb\(66, 66, 66\)/g,"background-color:rgb(247, 247, 247)")},n}(),n.PrintingManager=r}(r||(r={})),function(e){!function(e){!function(e){var t=function(){function e(){}return e.fromObject=function(t){var n=new e;return null!=t&&(null!=t.header&&(n.header=t.header),null!=t.footer&&(n.footer=t.footer)),n},e}();e.PrintOptions=t}(e.printing||(e.printing={}))}(e.model||(e.model={}))}(r||(r={})),function(e){var n,i,r;n=e.model||(e.model={}),i=n._options||(n._options={}),r=function(r){function o(){var e=r.call(this)||this;if((o._defaults=new i.vo.OptionsValueObject).setDefaults(),o._options=new i.vo.OptionsValueObject,o.instance)throw Error("Singleton");return e}return a(o,r),o.getInstance=function(){return s.nullOrUndefined(o.instance)&&(o.instance=new o),o.instance},o.dispose=function(){o._globals._defaults=null,o._globals=null,o._options=null,o._defaults=null,o.instance=null},o.setGlobalOptions=function(e){o._globals=e},o.getOptions=function(e,t){void 0===e&&(e=!1),void 0===t&&(t=!1);var n=new i.vo.OptionsValueObject;return e&&n.mergeWith(o._defaults),t&&n.mergeWith(o._globals),n.mergeWith(o._options),e||n.cleanFromDefaults(),n},o.clear=function(){this._options=new i.vo.OptionsValueObject},o.setOptions=function(t,n){if(void 0===n&&(n=!0),s.nullOrUndefined(o._options)||n){var r=o.configuratorOpened;(o._options=new i.vo.OptionsValueObject).configuratorOpened=r}r=i.vo.OptionsValueObject.toPlainObject(t);var a=!1;o.dispatchSuspended=!0;var l,c=o.getOptions(!0,!0);for(l in r)if(null!=c[l]&&r[l]!=c[l]&&(a=!0,o.optionAffectDataProvider(l))){o.optionAffectedDataProvider=!0;break}o._options.mergeWith(r),e.data_._structure.GenericHierarchy.DEFAULT_SORT_NAME=o.defaultHierarchySortName,o.dispatchSuspended=!1,a&&o.dispatchReportChange()},o.optionAffectDataProvider=function(e){return-1<o._optionsAffectDataProvider.indexOf(e)},o.getOption=function(e){return null!=o._options[e]?o._options[e]:o._globals&&null!=o._globals[e]?o._globals[e]:o._defaults[e]},Object.defineProperty(o,"configuratorOpened",{get:function(){return o._options.configuratorOpened},set:function(e){o._options.configuratorOpened=e},enumerable:!0,configurable:!0}),Object.defineProperty(o,"configuratorActive",{get:function(){return o.getOption("configuratorActive")},set:function(e){o._options.configuratorActive!=e&&(o.configuratorOpened=o._options.configuratorActive=e,o.dispatchReportChange())},enumerable:!0,configurable:!0}),Object.defineProperty(o,"configuratorButton",{get:function(){return o.getOption("configuratorButton")},set:function(e){o._options.configuratorButton!=e&&(o._options.configuratorButton=e,o.dispatchReportChange())},enumerable:!0,configurable:!0}),Object.defineProperty(o,"classicView",{get:function(){return o.getOption("gridType")==e._view.grid.GridType.CLASSIC},set:function(t){o._options.gridType!=e._view.grid.GridType.CLASSIC&&(o._options.gridType=e._view.grid.GridType.CLASSIC,o.optionAffectedDataProvider=o.optionAffectDataProvider("gridType"),o.dispatchReportChange())},enumerable:!0,configurable:!0}),Object.defineProperty(o,"flatView",{get:function(){return o.getOption("gridType")==e._view.grid.GridType.FLAT},set:function(t){o._options.gridType!=e._view.grid.GridType.FLAT&&(o._options.gridType=e._view.grid.GridType.FLAT,o.optionAffectedDataProvider=o.optionAffectDataProvider("gridType"),o.dispatchReportChange())},enumerable:!0,configurable:!0}),Object.defineProperty(o,"gridType",{get:function(){return o.getOption("gridType")},set:function(e){o._options.gridType!=e&&(o._options.gridType=e,o.dispatchReportChange())},enumerable:!0,configurable:!0}),Object.defineProperty(o,"gridTitle",{get:function(){return o.getOption("gridTitle")},set:function(e){o._options.gridTitle!=e&&(o._options.gridTitle=e,o.dispatchReportChange())},enumerable:!0,configurable:!0}),Object.defineProperty(o,"showFilter",{get:function(){return o.getOption("showFilter")},set:function(e){o._options.showFilter!=e&&(o._options.showFilter=e,o.dispatchReportChange())},enumerable:!0,configurable:!0}),Object.defineProperty(o,"showDefaultSlice",{get:function(){return o.getOption("showDefaultSlice")},set:function(e){o._options.showDefaultSlice!=e&&(o._options.showDefaultSlice=e,o.dispatchReportChange())},enumerable:!0,configurable:!0}),Object.defineProperty(o,"showEmptyData",{get:function(){return o.getOption("showEmptyData")},set:function(e){o._options.showEmptyData!=e&&(o._options.showEmptyData=e,o.dispatchReportChange())},enumerable:!0,configurable:!0}),Object.defineProperty(o,"showAggregations",{get:function(){return o.getOption("showAggregations")},set:function(e){o._options.showAggregations!=e&&(o._options.showAggregations=e,o.dispatchReportChange())},enumerable:!0,configurable:!0}),Object.defineProperty(o,"showHierarchyCaptions",{get:function(){return o.getOption("showHierarchyCaptions")},set:function(e){o._options.showHierarchyCaptions!=e&&(o._options.showHierarchyCaptions=e,o.dispatchReportChange())},enumerable:!0,configurable:!0}),Object.defineProperty(o,"showExtraTotalLabels",{get:function(){return o.getOption("showExtraTotalLabels")},set:function(e){o._options.showExtraTotalLabels!=e&&(o._options.showExtraTotalLabels=e,o.dispatchReportChange())},enumerable:!0,configurable:!0}),Object.defineProperty(o,"showHeaders",{get:function(){return o.getOption("showHeaders")},set:function(e){o._options.showHeaders!=e&&(o._options.showHeaders=e,o.dispatchReportChange())},enumerable:!0,configurable:!0}),Object.defineProperty(o,"sorting",{get:function(){return o.getOption("sorting")},set:function(e){o._options.sorting!=e&&(o._options.sorting=e,o.dispatchReportChange())},enumerable:!0,configurable:!0}),Object.defineProperty(o,"drillThrough",{get:function(){return o.getOption("drillThrough")},set:function(e){o._options.drillThrough!=e&&(o._options.drillThrough=e,o.dispatchReportChange())},enumerable:!0,configurable:!0}),Object.defineProperty(o,"showDrillThroughConfigurator",{get:function(){return o.getOption("showDrillThroughConfigurator")},set:function(e){o._options.showDrillThroughConfigurator!=e&&(o._options.showDrillThroughConfigurator=e,o.dispatchReportChange())},enumerable:!0,configurable:!0}),Object.defineProperty(o,"showHierarchies",{get:function(){return o.getOption("showHierarchies")},set:function(e){o._options.showHierarchies!=e&&(o._options.showHierarchies=e,o.dispatchReportChange())},enumerable:!0,configurable:!0}),Object.defineProperty(o,"saveAllFormats",{get:function(){return o.getOption("saveAllFormats")},set:function(e){o._options.saveAllFormats!=e&&(o._options.saveAllFormats=e,o.dispatchReportChange())},enumerable:!0,configurable:!0}),Object.defineProperty(o,"showTotals",{get:function(){return o.getOption("showTotals")},set:function(e){o._options.showTotals!=e&&(o._options.showTotals=e,o.optionAffectedDataProvider=o.optionAffectDataProvider("showTotals"),o.dispatchReportChange())},enumerable:!0,configurable:!0}),Object.defineProperty(o,"showAutoCalculationBar",{get:function(){return o.getOption("showAutoCalculationBar")},set:function(e){if(o._options.showAutoCalculationBar!=e){var t=!s.nullOrUndefined(o._options.showAutoCalculationBar);o._options.showAutoCalculationBar=e,t&&o.dispatchReportChange()}},enumerable:!0,configurable:!0}),Object.defineProperty(o,"showGrandTotals",{get:function(){return o.getOption("showGrandTotals")},set:function(e){o._options.showGrandTotals!=e&&(o._options.showGrandTotals=e,o.optionAffectedDataProvider=o.optionAffectDataProvider("showGrandTotals"),o.dispatchReportChange())},enumerable:!0,configurable:!0}),Object.defineProperty(o,"datePattern",{get:function(){return o.getOption("datePattern")},set:function(e){o._options.datePattern!=e&&(o._options.datePattern=e,o.dispatchReportChange())},enumerable:!0,configurable:!0}),Object.defineProperty(o,"dateTimePattern",{get:function(){return o.getOption("dateTimePattern")},set:function(e){o._options.dateTimePattern!=e&&(o._options.dateTimePattern=e,o.dispatchReportChange())},enumerable:!0,configurable:!0}),Object.defineProperty(o,"showCalculatedValuesButton",{get:function(){return o.getOption("showCalculatedValuesButton")},set:function(e){o._options.showCalculatedValuesButton!=e&&(o._options.showCalculatedValuesButton=e,o.dispatchReportChange())},enumerable:!0,configurable:!0}),Object.defineProperty(o,"selectEmptyCells",{get:function(){return o.getOption("selectEmptyCells")},set:function(e){o._options.selectEmptyCells!=e&&(o._options.selectEmptyCells=e,o.dispatchReportChange())},enumerable:!0,configurable:!0}),Object.defineProperty(o,"defaultHierarchySortName",{get:function(){return o.getOption("defaultHierarchySortName")},set:function(e){o._options.defaultHierarchySortName!=e&&(o._options.defaultHierarchySortName=e,o.dispatchReportChange())},enumerable:!0,configurable:!0}),Object.defineProperty(o,"showAggregationLabels",{get:function(){return o.getOption("showAggregationLabels")},set:function(e){o._options.showAggregationLabels!=e&&(o._options.showAggregationLabels=e,o.dispatchReportChange())},enumerable:!0,configurable:!0}),Object.defineProperty(o,"grandTotalsPosition",{get:function(){return o.getOption("grandTotalsPosition")},set:function(e){o._options.grandTotalsPosition!=e&&(o._options.grandTotalsPosition=e,o.optionAffectedDataProvider=o.optionAffectDataProvider("grandTotalsPosition"),o.dispatchReportChange())},enumerable:!0,configurable:!0}),Object.defineProperty(o,"showReportFiltersArea",{get:function(){return o.getOption("showReportFiltersArea")},set:function(e){o._options.showReportFiltersArea!=e&&(o._options.showReportFiltersArea=e,o.dispatchReportChange())},enumerable:!0,configurable:!0}),o.dispatchReportChange=function(){o.dispatchSuspended||o.getInstance().dispatch(new t._Event(n._state.StateEvent.REPORT_CHANGED))},o.optionAffectedDataProvider=!1,o.dispatchSuspended=!1,o._optionsAffectDataProvider=["gridType","showTotals","showGrandTotals","grandTotalsPosition"],o.defaultDatePattern="dd/MM/yyyy",o.defaultDateTimePattern="dd/MM/yyyy HH:mm:ss",o}(t.EventDispatcher),i.OptionsManager=r}(r||(r={})),function(e){var t;!function(t){!function(t){var n=function(){function t(){this._defaults={configuratorActive:!1,configuratorOpened:!1,configuratorButton:!0,gridType:e._view.grid.GridType.COMPACT,gridTitle:"",showFilter:!0,showDefaultSlice:!0,showEmptyData:!0,showAggregations:!0,showHierarchyCaptions:!0,drillthroughMaxRows:1e3,showHeaders:!0,showReportFiltersArea:!0,showExtraTotalLabels:!1,drillThrough:!0,showDrillThroughConfigurator:!0,sorting:"on",showHierarchies:!0,saveAllFormats:!1,showTotals:"on",showGrandTotals:"on",showAutoCalculationBar:!0,datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy HH:mm:ss",showCalculatedValuesButton:!0,selectEmptyCells:!0,defaultHierarchySortName:e.data_.consts.SortType.ASC,showAggregationLabels:!0,grandTotalsPosition:"top"}}return t.prototype.setDefaults=function(){for(var e in this._defaults)this[e]=this._defaults[e]},t.prototype.cleanFromDefaults=function(){for(var e in this._defaults)this[e]==this._defaults[e]&&(this[e]=void 0)},t.fromObject=function(e){var n=new t;return null==e||(null!=e.options&&(e=e.options),e instanceof t||(e=t.toPlainObject(e)),null!=e.configuratorActive&&(n.configuratorActive=e.configuratorActive),null!=e.configuratorButton&&(n.configuratorButton=e.configuratorButton),null!=e.gridTitle&&(n.gridTitle=e.gridTitle),null!=e.gridType&&(n.gridType=e.gridType),null!=e.showFilter&&(n.showFilter=e.showFilter),null!=e.showDefaultSlice&&(n.showDefaultSlice=e.showDefaultSlice),null!=e.showEmptyData&&(n.showEmptyData=e.showEmptyData),null!=e.showAggregations&&(n.showAggregations=e.showAggregations),null!=e.showHierarchyCaptions&&(n.showHierarchyCaptions=e.showHierarchyCaptions),null!=e.showHeaders&&(n.showHeaders=e.showHeaders),null!=e.showReportFiltersArea&&(n.showReportFiltersArea=e.showReportFiltersArea),null!=e.showExtraTotalLabels&&(n.showExtraTotalLabels=e.showExtraTotalLabels),null!=e.drillThrough&&(n.drillThrough=e.drillThrough),null!=e.showDrillThroughConfigurator&&(n.showDrillThroughConfigurator=e.showDrillThroughConfigurator),null!=e.sorting&&(n.sorting=e.sorting,"true"==n.sorting.toString().toLowerCase()&&(n.sorting="on"),"false"==n.sorting.toString().toLowerCase()&&(n.sorting="off")),null!=e.showHierarchies&&(n.showHierarchies=e.showHierarchies),null!=e.saveAllFormats&&(n.saveAllFormats=e.saveAllFormats),null!=e.showTotals&&(n.showTotals=e.showTotals,"true"==n.showTotals.toString().toLowerCase()&&(n.showTotals="on"),"false"==n.showTotals.toString().toLowerCase()&&(n.showTotals="off")),null!=e.showGrandTotals&&(n.showGrandTotals=e.showGrandTotals,"true"==n.showGrandTotals.toString().toLowerCase()&&(n.showGrandTotals="on"),"false"==n.showGrandTotals.toString().toLowerCase()&&(n.showGrandTotals="off")),null!=e.showAutoCalculationBar&&(n.showAutoCalculationBar=e.showAutoCalculationBar),null!=e.datePattern&&(n.datePattern=e.datePattern),null!=e.dateTimePattern&&(n.dateTimePattern=e.dateTimePattern),null!=e.showCalculatedValuesButton&&(n.showCalculatedValuesButton=e.showCalculatedValuesButton),null!=e.selectEmptyCells&&(n.selectEmptyCells=e.selectEmptyCells),null!=e.defaultHierarchySortName&&(n.defaultHierarchySortName=e.defaultHierarchySortName),null!=e.showAggregationLabels&&(n.showAggregationLabels=e.showAggregationLabels),null!=e.grandTotalsPosition&&(n.grandTotalsPosition=e.grandTotalsPosition)),n},t.toPlainObject=function(e){var t={};return null==e||(null!=e.configuratorActive&&(t.configuratorActive=e.configuratorActive),null!=e.configuratorButton&&(t.configuratorButton=e.configuratorButton),null!=e.showAggregations&&(t.showAggregations=e.showAggregations),null!=e.showCalculatedValuesButton&&(t.showCalculatedValuesButton=e.showCalculatedValuesButton),null!=e.drillThrough&&(t.drillThrough=e.drillThrough),null!=e.showDrillThroughConfigurator&&(t.showDrillThroughConfigurator=e.showDrillThroughConfigurator),null!=e.sorting&&(t.sorting=e.sorting),null!=e.datePattern&&(t.datePattern=e.datePattern),null!=e.dateTimePattern&&(t.dateTimePattern=e.dateTimePattern),null!=e.saveAllFormats&&(t.saveAllFormats=e.saveAllFormats),null!=e.showDefaultSlice&&(t.showDefaultSlice=e.showDefaultSlice),null!=e.showEmptyData&&(t.showEmptyData=e.showEmptyData),null!=e.defaultHierarchySortName&&(t.defaultHierarchySortName=e.defaultHierarchySortName),null!=e.selectEmptyCells&&(t.selectEmptyCells=e.selectEmptyCells),null!=e.showAggregationLabels&&(t.showAggregationLabels=e.showAggregationLabels),null!=e.classicView&&(t.classicView=e.classicView),null!=e.flatView&&(t.flatView=e.flatView),null!=e.gridType&&(t.gridType=e.gridType),null!=e.gridTitle&&(t.gridTitle=e.gridTitle),null!=e.showFilter&&(t.showFilter=e.showFilter),null!=e.showHeaders&&(t.showHeaders=e.showHeaders),null!=e.showTotals&&(t.showTotals=e.showTotals),null!=e.showGrandTotals&&(t.showGrandTotals=e.showGrandTotals),null!=e.showAutoCalculationBar&&(t.showAutoCalculationBar=e.showAutoCalculationBar),null!=e.grandTotalsPosition&&(t.grandTotalsPosition=e.grandTotalsPosition),null!=e.showExtraTotalLabels&&(t.showExtraTotalLabels=e.showExtraTotalLabels),null!=e.showHierarchies&&(t.showHierarchies=e.showHierarchies),null!=e.showHierarchyCaptions&&(t.showHierarchyCaptions=e.showHierarchyCaptions),null!=e.drillthroughMaxRows&&(t.drillthroughMaxRows=e.drillthroughMaxRows),null!=e.showReportFiltersArea&&(t.showReportFiltersArea=e.showReportFiltersArea),null!=e.grid&&(null!=(e=e.grid).type&&(t.gridType=e.type),null!=e.title&&(t.gridTitle=e.title),null!=e.showFilter&&(t.showFilter=e.showFilter),null!=e.showHeaders&&(t.showHeaders=e.showHeaders),null!=e.showAutoCalculationBar&&(t.showAutoCalculationBar=e.showAutoCalculationBar),null!=e.showTotals&&(t.showTotals=e.showTotals,"true"==t.showTotals.toString().toLowerCase()&&(t.showTotals="on"),"false"==t.showTotals.toString().toLowerCase()&&(t.showTotals="off")),null!=e.showGrandTotals&&(t.showGrandTotals=e.showGrandTotals,"true"==t.showGrandTotals.toString().toLowerCase()&&(t.showGrandTotals="on"),"false"==t.showGrandTotals.toString().toLowerCase()&&(t.showGrandTotals="off")),null!=e.grandTotalsPosition&&(t.grandTotalsPosition=e.grandTotalsPosition),null!=e.showExtraTotalLabels&&(t.showExtraTotalLabels=e.showExtraTotalLabels),null!=e.showHierarchies&&(t.showHierarchies=e.showHierarchies),null!=e.showHierarchyCaptions&&(t.showHierarchyCaptions=e.showHierarchyCaptions),null!=e.drillthroughMaxRows&&(t.drillthroughMaxRows=e.drillthroughMaxRows),null!=e.showReportFiltersArea&&(t.showReportFiltersArea=e.showReportFiltersArea))),t},t.prototype.toObject=function(){var t={},n={};return this.gridType===e._view.grid.GridType.COMPACT?n.type=e._view.grid.GridType.COMPACT:this.gridType===e._view.grid.GridType.CLASSIC?n.type=e._view.grid.GridType.CLASSIC:this.gridType===e._view.grid.GridType.FLAT&&(n.type=e._view.grid.GridType.FLAT),null!=this.gridTitle&&(n.title=this.gridTitle),null!=this.showFilter&&(n.showFilter=this.showFilter),null!=this.showHeaders&&(n.showHeaders=this.showHeaders),null!=this.showTotals&&(n.showTotals=this.showTotals),null!=this.showGrandTotals&&(n.showGrandTotals=this.showGrandTotals),null!=this.grandTotalsPosition&&(n.grandTotalsPosition=this.grandTotalsPosition),null!=this.showExtraTotalLabels&&(n.showExtraTotalLabels=this.showExtraTotalLabels),null!=this.showHierarchies&&(n.showHierarchies=this.showHierarchies),null!=this.showHierarchyCaptions&&(n.showHierarchyCaptions=this.showHierarchyCaptions),null!=this.drillthroughMaxRows&&(n.drillthroughMaxRows=this.drillthroughMaxRows),null!=this.showReportFiltersArea&&(n.showReportFiltersArea=this.showReportFiltersArea),null!=this.showAutoCalculationBar&&(n.showAutoCalculationBar=this.showAutoCalculationBar),s.ObjectUtils.isEmptyObject(n)||(t.grid=n),null!=this.configuratorActive&&(t.configuratorActive=this.configuratorActive),null!=this.configuratorButton&&(t.configuratorButton=this.configuratorButton),null!=this.showAggregations&&(t.showAggregations=this.showAggregations),null!=this.showCalculatedValuesButton&&(t.showCalculatedValuesButton=this.showCalculatedValuesButton),null!=this.drillThrough&&(t.drillThrough=this.drillThrough),null!=this.showDrillThroughConfigurator&&(t.showDrillThroughConfigurator=this.showDrillThroughConfigurator),null!=this.sorting&&(t.sorting=this.sorting),null!=this.datePattern&&(t.datePattern=this.datePattern),null!=this.dateTimePattern&&(t.dateTimePattern=this.dateTimePattern),null!=this.saveAllFormats&&(t.saveAllFormats=this.saveAllFormats),null!=this.showDefaultSlice&&(t.showDefaultSlice=this.showDefaultSlice),null!=this.showEmptyData&&(t.showEmptyData=this.showEmptyData),null!=this.defaultHierarchySortName&&(t.defaultHierarchySortName=this.defaultHierarchySortName),null!=this.selectEmptyCells&&(t.selectEmptyCells=this.selectEmptyCells),null!=this.showAggregationLabels&&(t.showAggregationLabels=this.showAggregationLabels),t},t.prototype.mergeWith=function(e){for(var t in e)this._defaults.hasOwnProperty(t)&&null!=e[t]&&(this[t]=e[t])},t}();t.OptionsValueObject=n}(t.vo||(t.vo={}))}((t=e.model||(e.model={}))._options||(t._options={}))}(r||(r={})),function(e){!function(e){var n,i;n=e.condition||(e.condition={}),i=function(t){function n(){var e=t.call(this)||this;if(null!=n.instance)throw Error("Singleton");return e}return a(n,t),n.getInstance=function(){return null==n.instance&&(n.instance=new n),n.instance},n.dispose=function(){n.conditions=null,n.instance=null},n.add=function(e){null!=e&&(n.conditions.addItem(e.id,e),this.dispatchReportChange())},n.get=function(e){return n.conditions.getItem(e)},n.remove=function(e){n.conditions.removeItem(e),this.dispatchReportChange()},n.removeAll=function(){n.conditions=new s.AssociativeArray,this.dispatchReportChange()},n.getObjects=function(){for(var e=[],t=0;t<n.conditions.length;t++){var i=n.conditions.getItemAt(t);i.isUpdate||e.push(i.toObject())}return e},n.dispatchReportChange=function(){n.getInstance().dispatchWith(e._state.StateEvent.REPORT_CHANGED)},n.conditions=new s.AssociativeArray,n}(t.EventDispatcher),n.ConditionManager=i}(e.model||(e.model={}))}(r||(r={})),function(e){var t;!function(t){!function(t){var n=function(){function t(){this.id="",this.column=this.row=-1,this.formula=this.hierarchy=this.member=this.measure="",this.params=[]}return Object.defineProperty(t.prototype,"isUpdate",{get:function(){return-1<this.formula.toLowerCase().indexOf(e.data_.consts.FunctionName.UPDATE_DIFFERENCE)||-1<this.formula.toLowerCase().indexOf(e.data_.consts.FunctionName.UPDATE_PERCENT)},enumerable:!0,configurable:!0}),t.prototype.toObject=function(){var e={};return e.id=this.id,e.row=this.row,e.column=this.column,void 0!==this.isTotal&&(e.isTotal=this.isTotal),e.measure=this.measure,e.member=this.member,e.hierarchy=this.hierarchy,e.formula=this.formula,null!=this.format&&(e.format=this.format.toObject(),e.formatCSS=this.format.toString()),e},t.toObject=function(e){return e.toObject()},t.fromObject=function(e){var n=new t;return n.id=null!=e.id?e.id:s.StringUtils.generateID(),null!=e.row&&(n.row=e.row),null!=e.column&&(n.column=e.column),null!=e.isTotal&&(1!=e.isTotal&&1!=e.isTotal||(n.isTotal=!0),0!=e.isTotal&&0!=e.isTotal||(n.isTotal=!1)),null!=e.measure&&(n.measure=e.measure),n.formula=e.formula,null!=e.trueStyle&&null==e.format&&(e.format=e.trueStyle),null!=e.format&&(n.format="string"==typeof e.format?i.fromString(e.format):i.fromObject(e.format)),e=new s.Lexer,n.params=e.parse(n.formula),null==n.params?null:n},t}();t.ConditionValueObject=n;var i=function(){function e(){}return e.fromObject=function(t){var n=new e;return null==t||(null!=t.backgroundColor&&(n.backgroundColor=e.color(t.backgroundColor)),null!=t.color&&(n.color=e.color(t.color)),null!=t.fontFamily&&(n.fontFamily=t.fontFamily),null!=t.fontSize&&(n.fontSize=e.size(t.fontSize)),null!=t.italic&&t.italic&&(n.fontStyle="italic"),null!=t.fontStyle&&(n.fontStyle=t.fontStyle),null!=t.bold&&t.bold&&(n.fontWeight="bold"),null!=t.fontWeight&&(n.fontWeight=t.fontWeight),null!=t.padding&&(n.padding=e.size(Math.round(1.5*t.padding))),null!=t.textAlign&&(n.textAlign=t.textAlign),null!=t.textIndent&&(n.textIndent=e.size(t.textIndent))),n},e.fromString=function(t){var n={};if(null!=(t=t.split(";")))for(var i=0;i<t.length;i++){var r=t[i].split(":")[0],o=t[i].split(":")[1];""!=r&&(n[r]=o)}return e.fromObject(n)},e.prototype.toObject=function(){var e={};return null!=this.backgroundColor&&(e.backgroundColor=this.backgroundColor),null!=this.color&&(e.color=this.color),null!=this.fontFamily&&(e.fontFamily=this.fontFamily),null!=this.fontSize&&(e.fontSize=this.fontSize),null!=this.fontStyle&&(e.fontStyle=this.fontStyle),null!=this.fontWeight&&(e.fontWeight=this.fontWeight),null!=this.padding&&(e.padding=this.padding),null!=this.textAlign&&(e.textAlign=this.textAlign),null!=this.textIndent&&(e.textIndent=this.textIndent),e},e.prototype.toCSSObject=function(){var e={};return null!=this.backgroundColor&&(e["background-color"]=this.backgroundColor),null!=this.color&&(e.color=this.color),null!=this.fontFamily&&(e["font-family"]=this.fontFamily),null!=this.fontSize&&(e["font-size"]=this.fontSize),null!=this.fontStyle&&(e["font-style"]=this.fontStyle),null!=this.fontWeight&&(e["font-weight"]=this.fontWeight),null!=this.padding&&(e.padding=this.padding),null!=this.textAlign&&(e["text-align"]=this.textAlign),null!=this.textIndent&&(e["text-indent"]=this.textIndent),e},e.prototype.toString=function(){var e,t="",n=this.toCSSObject();for(e in n)t+=e+":"+n[e]+";";return t},e.color=function(e){return e.replace("0x","#")},e.size=function(e){return"number"==typeof e?e+"px":"string"==typeof e&&0>e.indexOf("px")?e.trim()+"px":e},e}();t.CSSValueObject=i}(t.vo||(t.vo={}))}((t=e.model||(e.model={})).condition||(t.condition={}))}(r||(r={})),function(e){var n,i,r;i=(n=e.model||(e.model={})).sizes||(n.sizes={}),r=function(t){function i(){var e=t.call(this)||this;if(null!=i.instance)throw Error("Singleton");return e}return a(i,t),i.getInstance=function(){return null==i.instance&&(i.instance=new i),i.instance},i.dispose=function(){i.rowFilterSizes=null,i.rowHeaderSizes=null,i.rowSizes=null,i.rowSizesByIdx=null,i._rowSizesNamed=null,i._rowSizesNamedToApply=null,i.columnHeaderSizes=null,i.columnSizes=null,i.columnSizesByIdx=null,i._columnSizesNamed=null,i._columnSizesNamedToApply=null,i.instance=null},Object.defineProperty(i,"rowSizesNamed",{get:function(){return this._rowSizesNamed=i.toNamedSizes(e.data_.consts.AxisName.ROWS_AXIS)},enumerable:!0,configurable:!0}),Object.defineProperty(i,"columnSizesNamed",{get:function(){return this._columnSizesNamed=i.toNamedSizes(e.data_.consts.AxisName.COLUMNS_AXIS)},enumerable:!0,configurable:!0}),i.clear=function(){i.rowSizes={},i.columnSizes={},i._rowSizesNamedToApply={},i._rowSizesNamed={},i._columnSizesNamedToApply={},i._columnSizesNamed={},i.rowSizesByIdx={},i.columnSizesByIdx={},i.rowHeaderSizes={},i.columnHeaderSizes={},i.rowFilterSizes={}},i.applySizes=function(e,t,n,r,o,s,a){i.basedOnNamesArray(e)||i.basedOnNamesArray(t)?(i._rowSizesNamedToApply=i.convertSizes(e),i._columnSizesNamedToApply=i.convertSizes(t),i.processSizes()):(i.basedOnNamesObject(e)||i.basedOnNamesObject(t))&&(i._rowSizesNamedToApply=e,i._columnSizesNamedToApply=t,i.processSizes()),i.rowSizesByIdx=n,i.columnSizesByIdx=r,i.rowHeaderSizes=o,i.columnHeaderSizes=s,i.rowFilterSizes=a},i.processSizes=function(){n.PivotModel.getInstance().state_.reportState==n._state.StateEvent.REPORT_COMPLETE?this.onDataLoaded():e.data_.Cube.getInstance().addEventListener(e.data_.DataEvent.QUERY_COMPLETE,i.onDataLoaded,1)},i.basedOnNamesArray=function(e){var t,n=/[A-Za-z]+/;for(t in e)if(-1<e[t].toString().search(n))return!0;return!1},i.basedOnNamesObject=function(e){var t,n=/[A-Za-z]+/;for(t in e)if(-1<t.toString().search(n))return!0;return!1},i.convertSizes=function(e){var t={};if(null!=e)for(var n in e){var i=e[n];if(i instanceof Array&&0<i.length){var r=parseInt(i.pop());t[i.toString()]=r}}return t},i.onDataLoaded=function(){e.data_.Cube.getInstance().removeEventListener(e.data_.DataEvent.QUERY_COMPLETE,i.onDataLoaded),i.rowSizes=i.fromNamedSizes(e.data_.consts.AxisName.ROWS_AXIS),i._rowSizesNamedToApply={},i.columnSizes=i.fromNamedSizes(e.data_.consts.AxisName.COLUMNS_AXIS),i._columnSizesNamedToApply={}},i.fromNamedSizes=function(t){var r,o={},s=t==e.data_.consts.AxisName.ROWS_AXIS?i._rowSizesNamedToApply:i._columnSizesNamedToApply;for(r in s){var a,l=r.split(","),c=s[r],u=e.data_.Cube.getInstance().slice_.axes.getItem(t).hasMeasures;u&&!n._options.OptionsManager.flatView&&(a=l[l.length-1],l.splice(l.length-1,1));for(var d=!1,h=[],p=0;p<l.length;p++)if(n._options.OptionsManager.flatView)if(t==e.data_.consts.AxisName.ROWS_AXIS)h.push(l[p]);else{var f=l[p];if(-1==(f=e.data_.Cube.getInstance().localDataStorage.keys.indexOf(f))){d=!0;break}h.push(f)}else{if(f=l[p],null==(f=(t==e.data_.consts.AxisName.ROWS_AXIS?e.data_.Cube.getInstance().slice_.rowsOnly.getItemAt(p):e.data_.Cube.getInstance().slice_.columnsOnly.getItemAt(p)).members.getItem(f))){d=!0;break}h.push(f.isAll?"":f.ordinal.toString())}if(!d){if(u&&!n._options.OptionsManager.flatView){if(l=e.data_.Cube.getInstance().slice_.measures_.indexOf(a),""!=a&&-1==l)continue;h.push(l)}o[h.toString()]=c}}return o},i.toNamedSizes=function(t){var r,o={},s=t==e.data_.consts.AxisName.ROWS_AXIS?i.rowSizes:i.columnSizes;for(r in s){var a,l=r.split(","),c=s[r],u=e.data_.Cube.getInstance().slice_.axes.getItem(t).hasMeasures;u&&!n._options.OptionsManager.flatView&&(a=parseInt(l[l.length-1]),l.splice(l.length-1,1));for(var d=!1,h=[],p=0;p<l.length;p++)if(n._options.OptionsManager.flatView)if(t==e.data_.consts.AxisName.ROWS_AXIS)h.push(l[p]);else{var f=""===l[p]?0:parseInt(l[p]);if(null==(f=e.data_.Cube.getInstance().localDataStorage.keys[f])){d=!0;break}h.push(f)}else{f=""===l[p]?0:parseInt(l[p]);var A=t==e.data_.consts.AxisName.ROWS_AXIS?e.data_.Cube.getInstance().slice_.rowsOnly.getItemAt(p):e.data_.Cube.getInstance().slice_.columnsOnly.getItemAt(p);if(null==A){d=!0;break}if(null==(f=A.members.getItemAt(f))){d=!0;break}h.push(f.uniqueName)}if(!d){if(u&&!n._options.OptionsManager.flatView){if(a>=e.data_.Cube.getInstance().slice_.measures_.length)continue;-1==a&&1==e.data_.Cube.getInstance().slice_.measures_.length&&(a=0),h.push(e.data_.Cube.getInstance().slice_.measures_.getKeyAt(a))}o[h.toString()]=c}}return o},i.rowSizes={},i.columnSizes={},i._rowSizesNamedToApply={},i._rowSizesNamed={},i._columnSizesNamedToApply={},i._columnSizesNamed={},i.startTableRow=0,i.rowSizesByIdx={},i.columnSizesByIdx={},i.rowHeaderSizes={},i.columnHeaderSizes={},i.rowFilterSizes={},i}(t.EventDispatcher),i.SizesManager=r}(r||(r={})),function(e){var n,r,o;n=e.model||(e.model={}),r=n._export||(n._export={}),o=function(){function o(){}return o.run=function(i,r,a,l){var c=this;e.preloader(!0,n._labels.Labels.MESSAGE_PLEASE_WAIT,"...",!0,!0),o.clear(),o.grid=i,o.dataHeight=l,o.dataWidth=a,o.coords=i.gridLayout.coords,o.exportOptions=r,o.pdf=new jsPDF(r.pageOrientation,"mm","a4",!s.browserVersion().isMsie),o.pageHeight=o.fullPageHeight-2*o.PAGE_MARGIN,o.pageWidth=o.fullPageWidth-2*o.PAGE_MARGIN,o.totalColumnCount=o.grid.FIRST_DATA_COLUMN+a,o.totalRowCount=o.grid.FIRST_DATA_ROW+l,o.widthSize={},o.currentYPos=o.PAGE_MARGIN;try{o.calculateColumnCount(),o.getStyles(),o.createHeaderAndFooter(o.exportOptions.header,o.exportOptions.footer,function(){return c.onHeaderAndFooterCreated()})}catch(u){console.error("Export PDF error:",u),e.uialert(n._labels.Labels.MESSAGE_EXPORT_ERROR,n._labels.Labels.ERROR,e.AlertType.ERROR),e.preloader(!1),n.PivotModel.getInstance().dispatch(new t._Event(e.PivotEvent.EXPORT_COMPLETE)),o.clear()}},o.createHeaderAndFooter=function(t,n,s){try{o.headerHeight=0,o.footerHeight=0;var a=null==t,l=null==n;if(a&&l)s();else{if(!a){t=(t=t.replace(/##PAGE-NUMBER##/gi,(o.pageNumber+1).toString())).replace(/##CURRENT-DATE##/gi,(new Date).toLocaleString());var c=new i.UIElement("div");c.css("position","absolute"),c.css("background","white"),c.setWidth(o.mm2px(o.fullPageWidth-2*o.HEADER_FOOTER_MARGIN)),c.html(t),e._view.PivotView.stage.container.prepend(c),html2canvas(c.element).then(function(e){c.remove(),o.headerImage=e,o.headerHeight=o.px2mm(e.height),a=!0,l&&s()})}if(!l){n=(n=n.replace(/##PAGE-NUMBER##/gi,(o.pageNumber+1).toString())).replace(/##CURRENT-DATE##/gi,(new Date).toLocaleString());var u=new i.UIElement("div");u.css("position","absolute"),u.css("background","white"),u.setWidth(o.mm2px(o.fullPageWidth-2*o.HEADER_FOOTER_MARGIN)),u.html(n),e._view.PivotView.stage.container.prepend(u),html2canvas(u.element).then(function(e){u.remove(),o.footerImage=e,o.footerHeight=o.px2mm(e.height),l=!0,a&&s()})}}}catch(r){o.headerImage=null,o.headerHeight=0,o.footerImage=null,o.footerHeight=0,s()}},o.addHeader=function(e,t){e.addImage(t,"JPEG",o.HEADER_FOOTER_MARGIN,o.HEADER_FOOTER_MARGIN)},o.addFooter=function(e,t){e.addImage(t,"JPEG",o.HEADER_FOOTER_MARGIN,o.fullPageHeight-o.footerHeight-o.HEADER_FOOTER_MARGIN)},o.addHeaderAndFooter=function(){null!=o.headerImage&&o.addHeader(o.pdf,o.headerImage),null!=o.footerImage&&o.addFooter(o.pdf,o.footerImage),o.pageHeight=o.fullPageHeight,o.pageHeight-=0==o.headerHeight?o.PAGE_MARGIN:o.headerHeight+2*o.HEADER_FOOTER_MARGIN,o.pageHeight-=0==o.footerHeight?o.PAGE_MARGIN:o.footerHeight+2*o.HEADER_FOOTER_MARGIN,o.currentYPos=0==o.headerHeight?o.PAGE_MARGIN:o.headerHeight+2*o.HEADER_FOOTER_MARGIN},Object.defineProperty(o,"fullPageHeight",{get:function(){return"portrait"===o.exportOptions.pageOrientation?297:210},enumerable:!0,configurable:!0}),Object.defineProperty(o,"fullPageWidth",{get:function(){return"portrait"===o.exportOptions.pageOrientation?210:297},enumerable:!0,configurable:!0}),o.onHeaderAndFooterCreated=function(){o.addHeaderAndFooter(),o.addTitle(n._options.OptionsManager.gridTitle,o.pdf),s.nullOrEmpty(n._options.OptionsManager.gridTitle)||0!=o.pageNumber||(o.currentYPos+=5),o.preprocessData(),s.ThreadManager.addTask(o.generateRow,null,null,function(){return o.onPdfGenerated()})},o.addTitle=function(e,t){if(!s.nullOrEmpty(e)){t.setTextColor(0,0,0),t.setFontStyle("bold"),t.setFontSize(12);var n=12*t.getStringUnitWidth(e)/t.internal.scaleFactor;t.text(e,(t.internal.pageSize.width-n)/2,o.currentYPos)}},o.getStyles=function(){var t=o.grid.gridLayout,n=t.find("#wdr-data-sheet");o.cellStyle=e._view.grid.vo.StyleValueObject.fromClass(e._view.grid.vo.GridStyleName.CELL,n),o.totalCellStyle=e._view.grid.vo.StyleValueObject.fromClass(e._view.grid.vo.GridStyleName.CELL+" "+e._view.grid.vo.GridStyleName.TOTAL,n),o.rowHeaderCellStyle=e._view.grid.vo.StyleValueObject.fromClass(e._view.grid.vo.GridStyleName.CELL+" "+e._view.grid.vo.GridStyleName.HEADER+" "+e._view.grid.vo.GridStyleName.HEADER_ROW,i.UIElement.convert(t.element)),o.columnHeaderCellStyle=e._view.grid.vo.StyleValueObject.fromClass(e._view.grid.vo.GridStyleName.CELL+" "+e._view.grid.vo.GridStyleName.HEADER+" "+e._view.grid.vo.GridStyleName.HEADER_COLUMN,i.UIElement.convert(t.element)),o.filterHeaderCellStyle=e._view.grid.vo.StyleValueObject.fromClass(e._view.grid.vo.GridStyleName.CELL+" "+e._view.grid.vo.GridStyleName.HEADER+" "+e._view.grid.vo.GridStyleName.FILTER_HEADER,i.UIElement.convert(t.element))},o.getColumnWidth=function(e){return.9*((e=o.pixel2mm(o.grid.gridLayout.coords.getColWidth(e)))<o.pageWidth?e:o.pageWidth-1)},o.setDefaultCellStyle=function(t,n){if(null!=t&&t.isCustomized){var i=0<t.style.customStyleNames.length?e._view.grid.vo.StyleValueObject.fromClass(t.style.getCustomClassString()):e._view.grid.vo.StyleValueObject.fromString(t.style.getStyleString());i.merge(n),n=i}return n.color=n.color||"rgb(0,0,0)","rgb(33, 33, 33)"==n.backgroundColor&&(n.color="rgb(242, 242, 242)"),n.backgroundColor=n.backgroundColor||"rgb(0,0,0,0)",n.borderColor=n.borderColor||"rgb(222,222,222)",n.fontSize=n.fontSize||11,n},o.getOptionsForCell=function(t){return{fontSize:.85*t.fontSize,fontName:null==t.fontFamily?o.FONT_NAME:t.fontFamily,fontStyle:e._view.grid.vo.FontStylePDFType.getFontStyle(parseFloat(t.fontWeight))}},o.preprocessData=function(){o.heigthSize=Array(o.totalRowCount);for(var t,n=0,i=0,r=0;i<o.totalRowCount;){r=n=0;for(var s=.8*Math.max(o.px2mm(o.coords.getRowHeight(i)),6);n<o.totalColumnCount;){t=o.grid.gridLayout.getCell(i,n,!0,!0);var a=new e._view.grid.vo.StyleValueObject;if(a=o.cellStyle.clone(),a=o.setDefaultCellStyle(t,a),null!=t){var l=t.getLabel();"number"==typeof l&&(t.value=l,l+="",t.numeric=!0),l=l.replace(/<(?:.|\n)*?>/gi,""),t=null!=o.widthSize&&null!=o.widthSize[n]?o.widthSize[n]:o.getColumnWidth(n),a=o.pdf.splitTextToSize(l,t,o.getOptionsForCell(a)),r=(a=(a=1>(a=o.px2mm(1<a.length?a.length*(11+2*o.PADDING)-2*o.PADDING:11*a.length-o.PADDING)/s)?s:(a+1)*s)>o.pageHeight/2?(o.pageHeight-1)/2:a)>r?a:r}n++}o.heigthSize[i]=r,i++}},o.generateRow=function(){if(o._addingHeaderFooter)return!1;for(var t=s.getTimer(),i=0;i<o.BLOCK_SIZE;i++){if(o.pageIsFilled&&(o.addNewPage(),o._addingHeaderFooter))return!1;var r,a=0,l=o.PAGE_MARGIN,c=(a=!1,""),u=o.currentRowIdx-o.currentStartRowIdx<o.grid.FIRST_DATA_ROW&&o.currentRowIdx>o.grid.START_HEADERS_COLUMN?o.currentRowIdx-o.currentStartRowIdx:o.currentRowIdx,d=o.heigthSize[u];for(o.currentColIdx=o.currentStartColIdx;o.currentColIdx<o.currentColumnCount+o.currentStartColIdx;){if(r=(a=!n._options.OptionsManager.flatView&&o.currentColIdx==o.currentStartColIdx&&o.currentColIdx>o.grid.START_HEADERS_COLUMN)?o.grid.START_HEADERS_COLUMN:o.currentColIdx,o.allRowsGenerated()||!(o.rowsHeightSum+d<=o.pageHeight)){o.pageIsFilled=!0;break}if(.9*(l+(a=null!=o.widthSize&&null!=o.widthSize[r]?o.widthSize[r]:o.getColumnWidth(r)))>o.pageWidth)break;r=o.grid.gridLayout.getCell(u,r,!0,!0),"number"==typeof(c=s.nullOrUndefined(r)?"":r.getLabel())&&(r.value=c,c+="",r.numeric=!0);var h=(c=c.replace(/<(?:.|\n)*?>/gi,"")).match(/&#(\d{3,4});/gi);if(h)for(var p,f=0;f<h.length;f++)p=parseInt(h[f].substring(2,h[f].length-1)),c=c.replace(h[f],String.fromCharCode(p));h=[c],f=new e._view.grid.vo.StyleValueObject,null!=r&&r.isRowHeader?(f=o.rowHeaderCellStyle.clone(),f=o.setDefaultCellStyle(r,f),h=o.pdf.splitTextToSize(c,a,o.getOptionsForCell(f))):null!=r&&r.isColumnHeader?(f=o.columnHeaderCellStyle.clone(),f=o.setDefaultCellStyle(r,f),h=o.pdf.splitTextToSize(c,a,o.getOptionsForCell(f))):null!=r&&r.isFilterHeader?(f=o.filterHeaderCellStyle.clone(),f=o.setDefaultCellStyle(r,f)):null!=r&&r.isTotal&&""!=r.getLabel()?(f=o.totalCellStyle.clone(),f=o.setDefaultCellStyle(r,f)):(f=o.cellStyle.clone(),f=o.setDefaultCellStyle(r,f),h=o.pdf.splitTextToSize(c,a,o.getOptionsForCell(f)));var A=o.px2mm(1<(p=h.length)?h.length*(f.fontSize+2*o.PADDING)-2*o.PADDING:h.length*f.fontSize-o.PADDING);A>o.pageHeight/2&&(A=(o.pageHeight-20)/2,p=Math.floor(o.mm2px(A)/(f.fontSize+2*o.PADDING))),f.fontSize*=.7;var g=e._view.grid.vo.StyleValueObject.parseRGB(f.backgroundColor);if(o.pdf.setFillColor(g[0],g[1],g[2],0!=g[3]?void 0:0),g=e._view.grid.vo.StyleValueObject.parseRGB(f.borderColor),o.pdf.setDrawColor(g[0],g[1],g[2],0!=g[3]?void 0:0),g=e._view.grid.vo.StyleValueObject.parseRGB(f.color),o.pdf.setTextColor(g[0],g[1],g[2]),o.pdf.setFontStyle("bold"==f.fontWeight?"bold":"normal"),o.pdf.setFontSize(f.fontSize),o.pdf.rect(l,o.currentYPos,a,d,"FD"),A=o.currentYPos+(d-A)/2+o.PADDING,"right"==f.textAlign)if(1<h.length)for(i=0;i<p;i++)o.pdf.text(h[i],l+a-o.PADDING,A,null,null,"right"),A+=2*o.PADDING;else o.pdf.text(c,l+a-o.PADDING,A,null,null,"right");else if(1<h.length)for(i=0;i<p;i++)o.pdf.text(h[i],l+(f=!n._options.OptionsManager.classicView&&null!=r&&0<r.level?(r.level+1)*o.PADDING:o.PADDING),A),A+=2*o.PADDING;else o.pdf.text(c,l+(f=!n._options.OptionsManager.classicView&&null!=r&&0<r.level?(r.level+1)*o.PADDING:o.PADDING),A);o.currentColIdx++,l+=a}if(o.pageIsFilled||(o.currentYPos+=d,o.rowsHeightSum+=d,o.currentRowIdx++),o.allColumnsGenerated()&&o.allRowsGenerated())break}return o.BLOCK_SIZE=s.ThreadManager.adjustTaskSize(s.getTimer()-t,o.BLOCK_SIZE),o.allColumnsGenerated()&&o.allRowsGenerated()},o.allColumnsGenerated=function(){return o.currentStartColIdx+o.currentColumnCount>=o.dataWidth+o.grid.FIRST_DATA_COLUMN},o.allRowsGenerated=function(){return o.currentRowIdx>=o.dataHeight+o.grid.FIRST_DATA_ROW},o.addNewPage=function(){o.pdf.addPage(),o.pageNumber++,o.pageIsFilled=!1,o._addingHeaderFooter=!0,o.createHeaderAndFooter(o.exportOptions.header,o.exportOptions.footer,function(){o._addingHeaderFooter=!1,o.addHeaderAndFooter()}),o.rowsHeightSum=0,1<o.pageNumber&&(o.shiftRows(),o.shiftColumns()),e.preloader(!0,n._labels.Labels.MESSAGE_PLEASE_WAIT,o.pageNumber+1+" "+n._labels.Labels.MESSAGE_PAGES_WERE_GENERATED,!0)},o.shiftRows=function(){o.allColumnsGenerated()&&!o.allRowsGenerated()?o.currentStartRowIdx=o.currentRowIdx-=o.grid.FIRST_DATA_ROW:o.currentRowIdx=o.currentStartRowIdx},o.shiftColumns=function(){o.allColumnsGenerated()?o.allRowsGenerated()||(o.currentStartColIdx=0,o.currentColIdx=0):o.currentColIdx=o.currentStartColIdx+=o.currentColumnCount,o.calculateColumnCount()},o.calculateColumnCount=function(){o.currentColumnCount=0;var e=o.currentStartColIdx,t=0,i=0;for(!n._options.OptionsManager.flatView&&o.currentStartColIdx>=o.grid.FIRST_DATA_COLUMN&&(i+=t=o.getColumnWidth(o.grid.START_HEADERS_COLUMN),o.currentColumnCount++,o.currentStartColIdx--,o.currentColIdx--);e<o.totalColumnCount;){if((t=o.getColumnWidth(e))>o.pageWidth/2-o.PAGE_MARGIN&&(o.widthSize[e]=t=(o.pageWidth+o.PAGE_MARGIN)/2),!((i+=t)<=o.pageWidth)){0==o.currentColumnCount&&(o.currentColumnCount=1);break}o.currentColumnCount++,e++}},o.onPdfGenerated=function(){0==o.exportOptions.filename.length&&(o.exportOptions.filename="pivot.pdf");var i=o.pdf.output();i=s.StringUtils.strToUint8Arr(i),r.ExportManager.save(i,o.exportOptions),o.clear(),n.PivotModel.getInstance().dispatch(new t._Event(e.PivotEvent.EXPORT_COMPLETE))},o.clear=function(){o.grid=null,o.exportOptions=null,o.pdf=null,o.dataWidth=0,o.dataHeight=0,o.totalColumnCount=0,o.totalRowCount=0,o.currentColumnCount=0,o.currentColIdx=0,o.currentStartColIdx=0,o.currentRowIdx=0,o.currentStartRowIdx=0,o.rowsHeightSum=0,o.currentYPos=0,o.pageIsFilled=!1,o.pageNumber=0,o.pageHeight=0,o.pageWidth=0,o.headerHeight=0,o.headerImage=null,o.footerHeight=0,o.footerImage=null},o.pixel2mm=function(e){return.264*e},o.mm2px=function(e){return 3.779*e},o.px2mm=function(e){return e/3.779},o.FONT_NAME="Helvetica",o.PAGE_MARGIN=15,o.pageIsFilled=!1,o.pageNumber=0,o.HEADER_FOOTER_MARGIN=5,o.headerHeight=0,o.footerHeight=0,o._addingHeaderFooter=!1,o.BLOCK_SIZE=20,o.PADDING=o.pixel2mm(8),o}(),r.ExportPDF=o}(r||(r={})),function(e){var n,r,o;n=e.model||(e.model={}),r=n._export||(n._export={}),o=function(){function o(){throw Error("Singleton")}return o.run=function(i,r,s,a){o.grid=i,o.dataWidth=s,o.dataHeight=a,o.exportOptions=r;try{o.exportToHTML()}catch(l){console.error("Export HTML error:",l),e.uialert(n._labels.Labels.MESSAGE_EXPORT_ERROR,n._labels.Labels.ERROR,e.AlertType.ERROR),e.preloader(!1),n.PivotModel.getInstance().dispatch(new t._Event(e.PivotEvent.EXPORT_COMPLETE)),o.clear()}},o.exportToHTML=function(){e.preloader(!0,n._labels.Labels.MESSAGE_EXPORT_PROGRESS),o.htmlString="",o.rowIdx=o.grid.START_TABLE_ROW,o.stylesList=[],s.ThreadManager.addTask(o.generateRow,null,null,o.onHTMLExportComplete)},o.generateStyle=function(){var t="",n=o.grid.gridLayout,r=n.find("#wdr-data-sheet");for(t=(t=(t=(t=(t=(t=(t=(t+=s.StringUtils.bind("body{{0}}\n",e._view.grid.vo.StyleValueObject.fromItemToString(i.UIElement.convert(n.element),["font-family"])))+s.StringUtils.bind(".grid{border-collapse:collapse;{0}border-top:1px solid #e9e9e9;border-left:1px solid #e9e9e9;}\n",e._view.grid.vo.StyleValueObject.fromItemToString(i.UIElement.convert(n.element),["font-family","font-size","color"])))+s.StringUtils.bind(".title{{0}}\n",e._view.grid.vo.StyleValueObject.fromClassToString(e._view.grid.vo.GridStyleName.TITLE,i.UIElement.convert(n.element))))+s.StringUtils.bind(".cell{{0}}\n",e._view.grid.vo.StyleValueObject.fromClassToString(e._view.grid.vo.GridStyleName.CELL,r)))+s.StringUtils.bind(".totalCell{{0}}\n",e._view.grid.vo.StyleValueObject.fromClassToString(e._view.grid.vo.GridStyleName.CELL+" "+e._view.grid.vo.GridStyleName.TOTAL,r)))+s.StringUtils.bind(".rowHeaderCell{{0}}\n",e._view.grid.vo.StyleValueObject.fromClassToString(e._view.grid.vo.GridStyleName.CELL+" "+e._view.grid.vo.GridStyleName.HEADER+" "+e._view.grid.vo.GridStyleName.HEADER_ROW,i.UIElement.convert(n.element))))+s.StringUtils.bind(".columnHeaderCell{{0}}\n",e._view.grid.vo.StyleValueObject.fromClassToString(e._view.grid.vo.GridStyleName.CELL+" "+e._view.grid.vo.GridStyleName.HEADER+" "+e._view.grid.vo.GridStyleName.HEADER_COLUMN,i.UIElement.convert(n.element))))+s.StringUtils.bind(".filterHeaderCell{{0}}\n",e._view.grid.vo.StyleValueObject.fromClassToString(e._view.grid.vo.GridStyleName.CELL+" "+e._view.grid.vo.GridStyleName.HEADER+" "+e._view.grid.vo.GridStyleName.FILTER_HEADER,i.UIElement.convert(n.element))),r=1;20>=r;r++)t+=s.StringUtils.bind(".level{0}{{1}}\n",r,e._view.grid.vo.StyleValueObject.fromClassToString(e._view.grid.vo.GridStyleName.HEADER_ROW+" "+e._view.grid.vo.GridStyleName.LEVEL+r,i.UIElement.convert(n.element),["padding-left"]));for(r=0;r<o.stylesList.length;r++)t+=s.StringUtils.bind(".{0}{{1}}\n",o.stylesList[r],e._view.grid.vo.StyleValueObject.fromClassToString(o.stylesList[r],i.UIElement.convert(n.element)));return t},o.appendStylesList=function(e){for(var t=0;t<e.length;t++)0>o.stylesList.indexOf(e[t])&&o.stylesList.push(e[t])},o.generateRow=function(){for(var e,t=s.getTimer(),n=Math.min(o.rowIdx+o.BLOCK_SIZE,o.dataHeight+o.grid.FIRST_DATA_ROW),i="";o.rowIdx<n;o.rowIdx++){i="";for(var r=o.grid.START_HEADERS_COLUMN;r<o.dataWidth+o.grid.FIRST_DATA_COLUMN;r++)if(i+="<td {0}>"+((e=o.grid.gridLayout.getCell(o.rowIdx,r,!0,!0))?e.getLabel():"")+"</td>",null==e)i=s.StringUtils.bind(i,"class='cell'");else{var a="",l="";e.isCustomized&&(l=e.style.getStyleString(),a=e.style.getCustomClassString(),o.appendStylesList(e.style.customStyleNames)),a=e.isRowHeader?a+" rowHeaderCell level"+e.level:e.isColumnHeader?a+" columnHeaderCell":e.isFilterHeader?a+" filterHeaderCell":e.isTotal&&""!=e.getLabel()?a+" totalCell":a+" cell",null!=e&&e.isFilterHeader&&(a+=" level"+e.level),""!=a.trim()&&(a="class='"+a.trim()+"'"),""!=(l+="width:"+o.grid.gridLayout.coords.getColWidth(r)+"px;").trim()&&(l="style='"+l.trim()+"'"),i=s.StringUtils.bind(i,a+" "+l)}o.rowsString+="<tr>"+i+"</tr>"}return o.BLOCK_SIZE=s.ThreadManager.adjustTaskSize(s.getTimer()-t,o.BLOCK_SIZE),o.showProgress(o.rowIdx),o.rowIdx>=o.dataHeight+o.grid.FIRST_DATA_ROW},o.showProgress=function(t){e.preloader(!0,n._labels.Labels.MESSAGE_EXPORT_PROGRESS,s.StringUtils.bind("{0}%",(t/(o.dataHeight+o.grid.FIRST_DATA_ROW)*100).toFixed(0)))},o.onHTMLExportComplete=function(){e.preloader(!1),o.saveHTMLExport(),o.clear()},o.saveHTMLExport=function(){0==o.exportOptions.filename.length&&(o.exportOptions.filename="pivotgrid.html");var i="";s.nullOrEmpty(o.exportOptions.header)||(i+=o.exportOptions.header.replace(/##PAGE-NUMBER##/gi,"").replace(/##CURRENT-DATE##/gi,(new Date).toLocaleString())),i+="<div class='title'>"+n._options.OptionsManager.gridTitle+"</div>",i+="<table class='grid'>"+o.rowsString+"</table>",s.nullOrEmpty(o.exportOptions.footer)||(i+=o.exportOptions.footer.replace(/##PAGE-NUMBER##/gi,"").replace(/##CURRENT-DATE##/gi,(new Date).toLocaleString())),o.htmlString="<!DOCTYPE html><html><head><meta charset='UTF-8'/>",o.htmlString+="<title>"+(s.nullOrEmpty(n._options.OptionsManager.gridTitle)?n._labels.Labels.DEFAULT_EXPORT_TITLE:n._options.OptionsManager.gridTitle)+"</title>",o.htmlString+="<style>"+o.generateStyle()+"</style></head>",r.ExportManager.save(o.htmlString+="<body>"+i+"</body></html>",o.exportOptions),n.PivotModel.getInstance().dispatch(new t._Event(e.PivotEvent.EXPORT_COMPLETE))},o.clear=function(){o.rowIdx=0,o.htmlString="",o.rowsString="",o.dataWidth=0,o.dataHeight=0,o.grid=null,o.exportOptions=null},o.rowIdx=0,o.htmlString="",o.rowsString="",o.BLOCK_SIZE=20,o}(),r.ExportHTML=o}(r||(r={})),function(e){var n,r,o;n=e.model||(e.model={}),r=n._export||(n._export={}),o=function(){function o(){throw Error("Singleton")}return o.run=function(i,r,s,a){o.grid=i,o.dataWidth=s,o.dataHeight=a,o.exportOptions=r;try{o.exportToXLS()}catch(l){console.error("Export XLS error:",l),e.uialert(n._labels.Labels.MESSAGE_EXPORT_ERROR,n._labels.Labels.ERROR,e.AlertType.ERROR),e.preloader(!1),n.PivotModel.getInstance().dispatch(new t._Event(e.PivotEvent.EXPORT_COMPLETE))}},o.exportToXLS=function(){e.preloader(!0,n._labels.Labels.MESSAGE_EXPORT_PROGRESS),o.rowIdx=o.grid.START_TABLE_ROW,o.xlsPadding=0,o.xlsDocument=new c.XLS;var t=s.nullOrEmpty(n._options.OptionsManager.gridTitle)?n._labels.Labels.DEFAULT_EXPORT_TITLE:n._options.OptionsManager.gridTitle.replace(/[^a-zA-Z\d\s\-|+@#$^&()_,.!]/g,"");30<(t=0<o.exportOptions.excelSheetName.length?o.exportOptions.excelSheetName:t).length&&(t=t.substr(0,27)+"..."),t=new c.XLSSheet(t),o.xlsDocument.sheets.push(t),o.getStyles(),o.addTitle(),o.addXLSCustomFields(),o.addFilters(),s.ThreadManager.addTask(o.generateXLSRow,null,null,function(){return o.onXLSExportComplete()})},o.getStyles=function(){var t=o.grid.gridLayout.element;o.cellStyle=e._view.grid.vo.StyleValueObject.fromClass(e._view.grid.vo.GridStyleName.CELL,i.UIElement.convert(t)),o.totalCellStyle=e._view.grid.vo.StyleValueObject.fromClass(e._view.grid.vo.GridStyleName.CELL+" "+e._view.grid.vo.GridStyleName.TOTAL,i.UIElement.convert(t)),o.rowHeaderCellStyle=e._view.grid.vo.StyleValueObject.fromClass(e._view.grid.vo.GridStyleName.CELL+" "+e._view.grid.vo.GridStyleName.HEADER+" "+e._view.grid.vo.GridStyleName.HEADER_ROW,i.UIElement.convert(t)),o.columnHeaderCellStyle=e._view.grid.vo.StyleValueObject.fromClass(e._view.grid.vo.GridStyleName.CELL+" "+e._view.grid.vo.GridStyleName.HEADER+" "+e._view.grid.vo.GridStyleName.HEADER_COLUMN,i.UIElement.convert(t)),o.filterHeaderCellStyle=e._view.grid.vo.StyleValueObject.fromClass(e._view.grid.vo.GridStyleName.CELL+" "+e._view.grid.vo.GridStyleName.HEADER+" "+e._view.grid.vo.GridStyleName.FILTER_HEADER,i.UIElement.convert(t));for(var n=1;20>=n;n++)o.rowHeaderLevelsCellStyle[n]=e._view.grid.vo.StyleValueObject.fromClass(e._view.grid.vo.GridStyleName.CELL+" "+e._view.grid.vo.GridStyleName.HEADER+" "+e._view.grid.vo.GridStyleName.HEADER_ROW+" "+e._view.grid.vo.GridStyleName.LEVEL+n,i.UIElement.convert(t))},o.onXLSExportComplete=function(){o.mergeTitleCells(),e.preloader(!1),o.saveXLSExport()},o.saveXLSExport=function(){o.rowIdx=o.grid.START_TABLE_ROW,0==o.exportOptions.filename.length&&(o.exportOptions.filename="pivot.xlsx"),r.ExportManager.save(o.xlsDocument.toUint8Array(),o.exportOptions),o.xlsDocument=null,o.exportOptions=null,n.PivotModel.getInstance().dispatch(new t._Event(e.PivotEvent.EXPORT_COMPLETE))},o.generateXLSRow=function(){for(var t=s.getTimer(),i=o.dataHeight+o.grid.FIRST_DATA_ROW;o.rowIdx<i;o.rowIdx++){if(100<s.getTimer()-t){if(100<(t=o.rowIdx/i*100))return!1;e.preloader(!0,n._labels.Labels.MESSAGE_EXPORT_PROGRESS,s.StringUtils.bind("{0}% ({1} rows)",t.toFixed(0),o.rowIdx.toString()));break}for(var r=o.grid.START_HEADERS_COLUMN;r<o.dataWidth+o.grid.FIRST_DATA_COLUMN;r++){var a,l=o.grid.gridLayout.getCell(o.rowIdx,r,!0,!0),u=s.nullOrUndefined(l)?"":l.getLabel();s.nullOrUndefined(l)||null!=l.measure&&(l.measure.type==e.data_.types.MeasureType.DATE?isNaN(l.value)||(a=o.convertToExcelDate(l.value)):l.measure.type==e.data_.types.MeasureType.DATETIME&&(isNaN(l.value)||(a=o.convertToExcelDateTime(l.value)))),"number"==typeof u&&(l.value=u,u+="",l.numeric=!0);var d=null!=l&&(l.isRowHeader||l.isColumnHeader);if(o.exportOptions.excelExportAll&&""==u&&null!=l&&null!=l.member&&(u=l.member.caption),""!=u.trim()||d){d=new e._view.grid.vo.StyleValueObject,d=null!=l&&l.isRowHeader?0<l.level&&o.rowHeaderLevelsCellStyle[l.level]?o.rowHeaderLevelsCellStyle[l.level].clone():o.rowHeaderCellStyle.clone():null!=l&&l.isColumnHeader?o.columnHeaderCellStyle.clone():null!=l&&l.isFilterHeader?o.filterHeaderCellStyle.clone():null!=l&&l.isTotal&&""!=l.getLabel()?o.totalCellStyle.clone():o.cellStyle.clone(),null!=l&&l.isCustomized&&((A=0<l.style.customStyleNames.length?e._view.grid.vo.StyleValueObject.fromClass(l.style.getCustomClassString()):e._view.grid.vo.StyleValueObject.fromString(l.style.getStyleString())).merge(d),d=A),d.color=d.color||"rgb(0,0,0)","rgb(33, 33, 33)"==d.backgroundColor&&(d.color="rgb(242, 242, 242)"),d.backgroundColor=d.backgroundColor||"rgb(255,255,255)",d.fontSize=d.fontSize?o.px2pt(d.fontSize):8;var h=new c.styles.fonts.XLSStyleFont("Tahoma",d.fontSize,s.StringUtils.fromRgbToHex(d.color));h.bold="bold"==d.fontWeight,h.italic=!1;var p=null,f=A=!1;if(l.numeric){if(null!=l.measure){f=""!=(p=l.measure.getFormat()).nullValue||f;var A=l.measure.aggregation==e.data_.consts.AggregationName.PERCENT||l.measure.aggregation==e.data_.consts.AggregationName.PERCENT_COLUMN||l.measure.aggregation==e.data_.consts.AggregationName.PERCENT_ROW||l.measure.aggregation==e.data_.consts.AggregationName.PERCENT_DIFFERENCE||l.measure.calculated&&-1<l.measure.formula.indexOf("percent"),g=p.toXLSFormatCode();(A||p.isPercent)&&((p=p.clone()).currencySymbol=""==p.currencySymbol?"%":p.currencySymbol,g=p.toXLSFormatCode()),p=new c.styles.format.XLSStyleFormat(""==g?0:-1,g)}}else null==l.measure||l.measure.type!=e.data_.types.MeasureType.DATE&&l.measure.type!=e.data_.types.MeasureType.DATETIME||(p=new c.styles.format.XLSStyleFormat(14,""));p&&o.xlsDocument.styleSheet.addFormat(p),h=new c.styles.XLSStyle(h,s.StringUtils.fromRgbToHex(d.backgroundColor),p,d.textAlign),!n._options.OptionsManager.classicView&&l&&l.isRowHeader&&0<l.level&&(h.textIndent=l.level),o.xlsDocument.styleSheet.addStyle(h),p=null!=l.measure?l.measure.getFormat():null,l.numeric?null==p||l.label!=p.infinityValue&&l.label!=p.divideByZeroValue?(a=null==p||!A&&"%"!=p.currencySymbol?l.value:l.value/100,o.xlsDocument.sheets[0].setCell(o.rowIdx-o.grid.START_TABLE_ROW+o.xlsPadding,r,isNaN(l.value)&&f?l.getLabel():a,h)):o.xlsDocument.sheets[0].setCell(o.rowIdx-o.grid.START_TABLE_ROW+o.xlsPadding,r,l.getLabel(),h):o.xlsDocument.sheets[0].setCell(o.rowIdx-o.grid.START_TABLE_ROW+o.xlsPadding,r,!l.isValue||null==l.measure||l.measure.type!=e.data_.types.MeasureType.DATE&&l.measure.type!=e.data_.types.MeasureType.DATETIME?l.isValue&&null!=l.measure&&l.measure.aggregation==e.data_.consts.AggregationName.NONE?l.value:u:a,h),null!=l&&(0==o.xlsDocument.sheets[0].getColumnWidth(r)&&(l=o.convertPixelsToWidth(o.grid.gridLayout.coords.getColWidth(r)),o.xlsDocument.sheets[0].setColumnWidth(r,l)),r!=o.grid.START_HEADERS_COLUMN||o.grid.gridLayout.coords.isRowHeightDefault(o.rowIdx)||(l=o.convertPixelsToPoints(o.grid.gridLayout.coords.getRowHeight(o.rowIdx)),o.xlsDocument.sheets[0].setRowHeight(o.rowIdx+o.xlsPadding,l)),u.length>d.width&&o.xlsDocument.sheets[0].setColumnWidth(r,o.convertPixelsToPoints(u.length+o.cellPadding)>o.convertPixelsToPoints(o.DEFAULT_CELL_WIDTH)?o.convertPixelsToPoints(o.DEFAULT_CELL_WIDTH):o.convertPixelsToPoints(u.length+o.cellPadding)))}}}return o.rowIdx>=i},o.convertToExcelDate=function(e){return s.DateFormat.isUTCFormat(n._options.OptionsManager.datePattern)||(e-=6e4*new Date(e).getTimezoneOffset()),e=-Date.parse("1899-12-30")+e,Math.floor(e/864e5)},o.convertToExcelDateTime=function(e){return s.DateFormat.isUTCFormat(n._options.OptionsManager.dateTimePattern)||(e-=6e4*new Date(e).getTimezoneOffset()),(-Date.parse("1899-12-30")+e)/864e5},o.px2pt=function(e){return.75*e},o.convertPixelsToPoints=function(t){return 0>=t?0:o.defaultExcelCellHeightPoints/o.defaultExcelCellHeightPixels*t*(o.defaultExcelCellHeightPixels/e._view.grid.sheet.GridCoords.CELL_HEIGHT)},o.convertPixelsToWidth=function(e){return 0>=e?0:((e-5)/7*100+.5)/100},o.addXLSCustomFields=function(){var t=n.report.CustomFieldsManager.customFields;if(0<t.length){var i=getComputedStyle(e._view.PivotView.stage.container.find("."+e._view.grid.vo.GridStyleName.HEADER_COLUMN).element),r=new c.styles.fonts.XLSStyleFont(i.fontFamily,parseInt(i.fontSize)-2,s.StringUtils.fromRgbToHex(i.color));r.bold="bold"===i.fontWeight,r.italic="italic"===i.fontStyle,(r=new c.styles.XLSStyle(r,s.StringUtils.fromRgbToHex(i.backgroundColor))).textAlign=i.textAlign,o.xlsDocument.styleSheet.addStyle(r),o.xlsDocument.sheets[0].setCell(o.xlsPadding,0,"Report Information",r),o.xlsDocument.sheets[0].setCell(o.xlsPadding,1,"",r),i=getComputedStyle(e._view.PivotView.stage.container.find("."+e._view.grid.vo.GridStyleName.CELL).element);var a=new c.styles.fonts.XLSStyleFont(i.fontFamily,parseInt(i.fontSize)-2,s.StringUtils.fromRgbToHex(i.color));for(a.bold="bold"===i.fontWeight,a.italic="italic"===i.fontStyle,(a=new c.styles.XLSStyle(a,s.StringUtils.fromRgbToHex(i.backgroundColor))).textAlign=i.textAlign,o.xlsDocument.styleSheet.addStyle(a),i=0;i<t.length;i++)o.xlsDocument.sheets[0].setCell(i+1+o.xlsPadding,0,String(t[i].name),r),o.xlsDocument.sheets[0].setCell(i+1+o.xlsPadding,1,String(t[i].value),r)}o.xlsPadding+=0==t.length?0:t.length+2},o.addTitle=function(){var t=n._options.OptionsManager.gridTitle;if(0!=t.length){var i=getComputedStyle(e._view.PivotView.stage.container.find("."+e._view.grid.vo.GridStyleName.TITLE).element),r=new c.styles.fonts.XLSStyleFont(i.fontFamily,parseInt(i.fontSize)-2,s.StringUtils.fromRgbToHex(i.color));r.bold="bold"===i.fontWeight,r.italic="italic"===i.fontStyle,(i=new c.styles.XLSStyle(r,s.StringUtils.fromRgbToHex(i.backgroundColor))).textAlign="center",o.xlsDocument.styleSheet.addStyle(i),o.xlsDocument.sheets[0].setCell(0,0,t,i),o.xlsPadding=1}},o.mergeTitleCells=function(){if(0<n._options.OptionsManager.gridTitle.length){var e=o.xlsDocument.sheets[0];e.mergeCells(0,0,Math.min(e.columnsCount,10))}},o.addFilters=function(){if(o.exportOptions.showFilters){var t,i=n.PivotModel.getInstance().cube_.slice_.allHierarchies(),r=[],a="",l=!0,u=getComputedStyle(e._view.PivotView.stage.container.find("."+e._view.grid.vo.GridStyleName.HEADER).element),d=new c.styles.fonts.XLSStyleFont(u.fontFamily,parseInt(u.fontSize)-2,s.StringUtils.fromRgbToHex(u.color));d.bold="bold"===u.fontWeight,d.italic="italic"===u.fontStyle,(d=new c.styles.XLSStyle(d,s.StringUtils.fromRgbToHex(u.backgroundColor))).textAlign=u.textAlign,o.xlsDocument.styleSheet.addStyle(d);var h=getComputedStyle(e._view.PivotView.stage.container.find("."+e._view.grid.vo.GridStyleName.CELL).element);(u=new c.styles.fonts.XLSStyleFont(h.fontFamily,parseInt(h.fontSize)-2,s.StringUtils.fromRgbToHex(h.color))).bold="bold"===h.fontWeight,u.italic="italic"===h.fontStyle,(u=new c.styles.XLSStyle(u,s.StringUtils.fromRgbToHex(h.backgroundColor))).textAlign=h.textAlign,o.xlsDocument.styleSheet.addStyle(u),h=o.xlsDocument.sheets[0],a=!1;for(var p=0,f=0;f<i.length;f++)if(a=(t=i.getItemAt(f)).dimension.type==e.data_.types.DimensionType.MD_DIMTYPE_TIME,t.hasFilter()){if(r.length=0,a)a=o.composeDateRange(t);else{for(var A=0;A<t.filterMembers.length;A++)a=t.filterMembers.getItemAt(A),r.push(a.caption);a=r.join(", ")}l&&(h.setCell(p+o.xlsPadding,0,"",d),h.setCell(p+o.xlsPadding,1,"Filters",d),p++),h.setCell(p+o.xlsPadding,0,t.caption,d),h.setCell(p+o.xlsPadding,1,a,u),p++,l=!1}if(n._options.OptionsManager.gridType==e._view.grid.GridType.FLAT)for(i=n.PivotModel.getInstance().cube_.slice_.measuresAll,f=0;f<i.length;f++)if((t=n.PivotModel.getInstance().cube_.slice_.measureToHierarchy(i.getItemAt(f))).hasFilter()){for(A=r.length=0;A<t.filterMembers.length;A++)a=t.filterMembers.getItemAt(A),r.push(a.caption);a=r.join(", "),l&&(h.setCell(p+o.xlsPadding,0,"",d),h.setCell(p+o.xlsPadding,1,"Filters",d),p++),h.setCell(p+o.xlsPadding,0,t.caption,d),h.setCell(p+o.xlsPadding,1,a,u),p++,l=!1}o.xlsPadding+=l?0:p+1}},o.composeDateRange=function(e){var t,n,i,r=!1,s=[];r=n="",null!=o.sortedMembers&&(o.sortedMembers.length=0),o.sortMembers(e.allMember);for(var a=o.composeFilteredMembers(e),l=!1,c=0;c<o.sortedMembers.length;c++)n=o.sortedMembers[c],r=c==o.sortedMembers.length-1,!l&&e.filterMembers.keyExists(n.uniqueName)&&(l=!0,t=n),l&&(e.filterMembers.keyExists(n.uniqueName)&&(i=n),-1<a.indexOf(n)&&!r||(i=null!=i?i:t,n=o.composeDate(t),r=i.uniqueName!=t.uniqueName?":"+o.composeDate(i,!0):"",i=t=null,l=!1,s.push(n+r)));return s.join(", ")},o.sortMembers=function(t){null==o.sortedMembers&&(o.sortedMembers=[]),t.isAll||o.sortedMembers.push(t);for(var n,i=(t=t.hierarchy_.sortChildren(t,!1,e.data_.consts.SortType.ASC)).length,r=0;r<i;r++)0<(n=t.getItemAt(r)).children.length?o.sortMembers(n):o.sortedMembers.push(n)},o.composeDate=function(t,n){void 0===n&&(n=!1);var i=t,r=[];for(r.push(t.caption);i&&i.uniqueName!=t.uniqueName&&!i.level.isLast&&0<i.children.length;)r.push(i.caption),i=(i=i.hierarchy_.sortChildren(i,!1,e.data_.consts.SortType.ASC)).getItemAt(n?i.length-1:0);for(i=t.parent;i&&!i.isAll;)r.unshift(i.caption),i=i.parent;return r.join("-")},o.composeFilteredMembers=function(e){var t=[];e=e.filterMembers;for(var n,i,r=0;r<e.length;r++){n=e.getItemAt(r),t.push(n),i=n.descendants;for(var o=0;o<i.length;o++)t.push(i.getItemAt(o));if(!(n.parent&&!n.parent.isAll&&-1<t.indexOf(n.parent)))for(;n.parent&&!n.parent.isAll;)t.push(n=n.parent)}return t},o.rowIdx=0,o.xlsPadding=0,o.cellPadding=3,o.DEFAULT_CELL_WIDTH=100,o.rowHeaderLevelsCellStyle=[],o.defaultExcelCellHeightPoints=14.3,o.defaultExcelCellHeightPixels=38,o}(),r.ExportXLS=o}(r||(r={})),function(e){var n;!function(i){var r=function(){function r(){}return r.exportTo=function(t,o,a){void 0===o&&(o=null),void 0===a&&(a=null),r._exportInProgress?this.delayedExports.push({type:t,options:o,callback:a}):(t=t.toLowerCase(),t=c.validType(t)?t:c.PDF,n.PivotModel.getInstance().addEventListener(e.PivotEvent.EXPORT_COMPLETE,r.exportCompleteHandler),r._exportInProgress=!0,r.callbackHandler=a,s.nullOrUndefined(o)&&(o=new i.ExportOptions),o.type=t,t=new l(t,o,a),n.PivotModel.getInstance().dispatch(t))},r.stopExport=function(){e.preloader(!1),n.PivotModel.getInstance().removeEventListener(e.PivotEvent.EXPORT_COMPLETE,r.exportCompleteHandler),r._exportInProgress=!1},r.onExportCompleted=function(e){r.stopExport(),0<r.delayedExports.length&&(e=r.delayedExports.shift(),this.exportTo(e.type,e.options,e.callback))},r.save=function(e,t){switch(t.destinationType.toLowerCase()){case n.report.DestinationType.FILE:r.saveToFile(e,t);break;case n.report.DestinationType.SERVER:r.saveToServer(e,t);break;case n.report.DestinationType.BINARY:r.saveToBinary(e,t);break;case n.report.DestinationType.PLAIN:r.saveToPlain(e,t);break;default:r.saveToFile(e,t)}},r.saveToServer=function(t,i){switch(i.type){case c.HTML:case c.EXCEL:case c.PDF:r.saveToServerAsBinary(t,i);break;default:var o=n.XSSCheck.validate(i.type);e.uialert("Unknown type of export: '"+o+"'",n._labels.Labels.ERROR)}},r.saveToFile=function(t,o){var s;switch(o.type){case c.HTML:s="text/html;charset=utf-8",o.filename=r.appendFileExtension(o.filename,".html");break;case c.EXCEL:s="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",o.filename=r.appendFileExtension(o.filename,".xlsx");break;case c.PDF:s="application/pdf",o.filename=r.appendFileExtension(o.filename,".pdf");break;default:s="text/plain;charset=utf-8"}var a=[t];try{var l=new Blob(a,{type:s});savingAs(l,o.filename),r.triggerCallback({data:t,fielname:o.filename,type:o.type})}catch(i){e.uialert(n._labels.Labels.MESSAGE_CANT_SAVE_FILE,n._labels.Labels.ERROR,e.AlertType.ERROR),r.triggerCallback(null,{message:n._labels.Labels.MESSAGE_CANT_SAVE_FILE})}},r.appendFileExtension=function(e,t){return e.indexOf(t)!=e.length-t.length&&(e+=t),e},r.saveToServerAsBinary=function(i,a){var l=new s.Timer(500);l.addEventListener(s.TimerEvent.TIMER,function(t){e.preloader(!0,n._labels.Labels.MESSAGE_UPLOADING,(l.currentCount/10).toString()+" sec")});var c=new o.URLStream;c.addEventListener(t._Event.ERROR,function(t){e.uialert(n._labels.Labels.MESSAGE_CANT_SAVE_FILE,n._labels.Labels.ERROR),l.stop(),e.preloader(!1),r.triggerCallback(null,{message:n._labels.Labels.MESSAGE_CANT_SAVE_FILE})}),c.addEventListener(t._Event.COMPLETE,function(){l.stop(),e.preloader(!1),r.triggerCallback({data:i,fielname:a.filename,type:a.type,response:c.response})});var u=new Blob([i],{type:"application/octet-binary"}),d=new FormData;for(var h in d.append("filedata",u,a.filename),a.extendedParameters)d.append(h,a.extendedParameters[h]);c.requestMethod=o.URLRequestMethod.POST,c.data=d,c.contentType=!1,c.load(a.url),l.start()},r.saveToBinary=function(e,t){},r.saveToPlain=function(e,t){},r.triggerCallback=function(e,t){void 0===e&&(e=null),void 0===t&&(t=null),null!=r.callbackHandler&&r.callbackHandler.call(null,e,t)},r._exportInProgress=!1,r.delayedExports=[],r.exportCompleteHandler=function(e){return r.onExportCompleted(e)},r}();i.ExportManager=r;var l=function(t){function n(n,i,r){var o=t.call(this,e.PivotEvent.EXPORT)||this;return o.exportType=n,o.exportOptions=i,o.callbackHandler=r,o}return a(n,t),n}(t._Event);i.ExportEvent=l;var c=function(){function e(){}return e.validType=function(t){return t===e.EXCEL||t===e.HTML||t===e.PDF},e.EXCEL="excel",e.HTML="html",e.PDF="pdf",e}();i.ExportType=c}((n=e.model||(e.model={}))._export||(n._export={}))}(r||(r={})),function(e){var t;!function(t){var n=function(){function n(n){void 0===n&&(n="file"),this.showHeaders=!0,this.destinationType=e.model.report.DestinationType.FILE,this.filename="",this.url="()",this.type=t.ExportType.HTML,this.pageOrientation="portrait",this.excelSheetName="",this.showFilters=this.excelExportAll=!1,this.extendedParameters={},this.destinationType=n}return n.fromObject=function(t){var i=new n;return s.nullOrUndefined(t)||(t.hasOwnProperty("showHeaders")&&(i.showHeaders="true"===t.showHeaders||!0===t.showHeaders),t.hasOwnProperty("filename")&&(i.filename=t.filename),t.hasOwnProperty("url")&&(i.url=t.url),t.hasOwnProperty("excelSheetName")&&(i.excelSheetName=t.excelSheetName),t.hasOwnProperty("excelExportAll")&&(i.excelExportAll=t.excelExportAll),!t.hasOwnProperty("pageOrientation")||"portrait"!==t.pageOrientation&&"landscape"!==t.pageOrientation||(i.pageOrientation=t.pageOrientation.toLowerCase()),t.hasOwnProperty("destinationType")&&e.model.report.DestinationType.validType(t.destinationType.toString().toLowerCase())&&(i.destinationType=t.destinationType.toString().toLowerCase()),null!=t.showFilters&&(i.showFilters=t.showFilters),null!=t.extendedParameters&&(i.extendedParameters=t.extendedParameters),null!=t.header&&(i.header=t.header),null!=t.footer&&(i.footer=t.footer)),i},n}();t.ExportOptions=n}((t=e.model||(e.model={}))._export||(t._export={}))}(r||(r={})),function(e){!function(e){!function(e){var t=function(){function t(){}return t.getFormat=function(e){return t.formats.keyExists(e)?t.formats.getItem(e):""!=e&&t.formats.keyExists("")?t.formats.getItem(""):t.getDefaultFormat()},t.setFormat=function(n){var i=e.vo.FormatValueObject.fromObject(n);if(t.cleanFormats.addItem(i.name,i),null!=t.defaultFormat)i.mergeDefaults(t.defaultFormat);else if(""==i.name)for(t.defaultFormat=n,n=0;n<t.formats.length;n++)t.formats.getItemAt(n).mergeDefaults(t.defaultFormat);t.formats.addItem(i.name,i)},t.getAllFormats=function(){return t.cleanFormats.slice()},t.clear=function(){t.formats=new s.AssociativeArray,t.cleanFormats=new s.AssociativeArray,t.defaultFormat=null},t.getDefaultFormat=function(){return new e.vo.FormatValueObject},t.formatExists=function(e){return t.formats.keyExists(e)},t.dispose=function(){t.formats=null,t.cleanFormats=null,t.defaultFormat=null},t.formats=new s.AssociativeArray,t.cleanFormats=new s.AssociativeArray,t.defaultFormat=null,t}();e.FormatManager=t}(e.format||(e.format={}))}(e.model||(e.model={}))}(r||(r={})),function(e){!function(e){var t,n,i;n=(t=e.format||(e.format={})).vo||(t.vo={}),i=function(){function t(e){void 0===e&&(e=""),this.name="",this._params={},this._defaults={thousandsSeparator:" ",decimalSeparator:".",decimalPlaces:-1,maxDecimalPlaces:-1,maxSymbols:20,currencySymbol:"",currencySymbolAlign:"left",nullValue:"",infinityValue:"Infinity",divideByZeroValue:"Infinity",textAlign:"",isPercent:!1,isCount:!1},this.name=e}return Object.defineProperty(t.prototype,"params",{get:function(){return this._params},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"thousandsSeparator",{get:function(){return null!=this._params.thousandsSeparator?this._params.thousandsSeparator:this._defaults.thousandsSeparator},set:function(e){this._params.thousandsSeparator=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"decimalSeparator",{get:function(){return null!=this._params.decimalSeparator?this._params.decimalSeparator:this._defaults.decimalSeparator},set:function(e){this._params.decimalSeparator=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"decimalPlaces",{get:function(){return null!=this._params.decimalPlaces?this._params.decimalPlaces:this._defaults.decimalPlaces},set:function(e){this._params.decimalPlaces=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxDecimalPlaces",{get:function(){return null!=this._params.maxDecimalPlaces?this._params.maxDecimalPlaces:this._defaults.maxDecimalPlaces},set:function(e){this._params.maxDecimalPlaces=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxSymbols",{get:function(){return null!=this._params.maxSymbols?this._params.maxSymbols:this._defaults.maxSymbols},set:function(e){this._params.maxSymbols=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currencySymbol",{get:function(){return null!=this._params.currencySymbol?this._params.currencySymbol:this._defaults.currencySymbol},set:function(e){this._params.currencySymbol=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currencySymbolAlign",{get:function(){return null!=this._params.currencySymbolAlign?this._params.currencySymbolAlign:this._defaults.currencySymbolAlign},set:function(e){this._params.currencySymbolAlign=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nullValue",{get:function(){return null!=this._params.nullValue?this._params.nullValue:this._defaults.nullValue},set:function(e){this._params.nullValue=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"infinityValue",{get:function(){return null!=this._params.infinityValue?this._params.infinityValue:this._defaults.infinityValue},set:function(e){this._params.infinityValue=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"divideByZeroValue",{get:function(){return null!=this._params.divideByZeroValue?this._params.divideByZeroValue:this._defaults.divideByZeroValue},set:function(e){this._params.divideByZeroValue=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textAlign",{get:function(){return null!=this._params.textAlign?this._params.textAlign:this._defaults.textAlign},set:function(e){this._params.textAlign=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isPercent",{get:function(){return null!=this._params.isPercent?this._params.isPercent:this._defaults.isPercent},set:function(e){this._params.isPercent=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isCount",{get:function(){return null!=this._params.isCount?this._params.isCount:this._defaults.isCount},set:function(e){this._params.isCount=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currencySymbolLength",{get:function(){return 1<this.currencySymbol.length&&"&"==this.currencySymbol.charAt(0)&&";"==this.currencySymbol.charAt(this.currencySymbol.length-1)?1:this.currencySymbol.length},set:function(e){},enumerable:!0,configurable:!0}),t.prototype.applyFormat=function(e){return s.NumberFormatter.format(e,this)},t.prototype.toXLSFormatCode=function(){var e,t="";if(-1==this.decimalPlaces&&""==this.currencySymbol)return"";if("%"==this.currencySymbol){var n=-1==this.decimalPlaces?0:this.decimalPlaces;for(t=0<n?"0.":"0",e=0;e<n;e++)t+="0";return t+this.currencySymbol}if(t=""!=this.thousandsSeparator?"#,##0":"###0",0<this.decimalPlaces)for(t+=".",e=0;e<this.decimalPlaces;e++)t+="0";return""!=this.currencySymbol&&(t="left"==this.currencySymbolAlign?"\\"+this.currencySymbol+t:t+"\\"+this.currencySymbol),t},t.prototype.toObject=function(e){void 0===e&&(e=!1);var t={};if(t.name=this.name,e)t.thousandsSeparator=this.thousandsSeparator,t.decimalSeparator=this.decimalSeparator,t.decimalPlaces=this.decimalPlaces,t.maxDecimalPlaces=this.maxDecimalPlaces,t.maxSymbols=this.maxSymbols,t.currencySymbol=this.currencySymbol,t.currencySymbolAlign=this.currencySymbolAlign,t.nullValue=this.nullValue,t.infinityValue=this.infinityValue,t.divideByZeroValue=this.divideByZeroValue,t.textAlign=""!=this.textAlign?this.textAlign:"right",t.isPercent=this.isPercent,t.isCount=this.isCount;else for(var n in this._params)t[n]="textAlign"==n?""==this.textAlign?"right":this.textAlign:this._params[n];return t},t.fromObject=function(n){var i=new t;return null!=n.name&&(i.name=n.name),null!=n.thousandsSeparator&&e.XSSCheck.valid(n.thousandsSeparator)&&(i.thousandsSeparator=e.XSSCheck.validate(n.thousandsSeparator,!0)),null!=n.decimalSeparator&&e.XSSCheck.valid(n.decimalSeparator)&&(i.decimalSeparator=e.XSSCheck.validate(n.decimalSeparator)),null!=n.decimalPlaces&&-1<parseInt(n.decimalPlaces)&&(i.decimalPlaces=isNaN(parseInt(n.decimalPlaces))?-1:parseInt(n.decimalPlaces)),null!=n.maxDecimalPlaces&&-1<parseInt(n.maxDecimalPlaces)&&(i.maxDecimalPlaces=n.maxDecimalPlaces),null!=n.maxSymbols&&1<parseInt(n.maxSymbols)&&(i.maxSymbols=n.maxSymbols),null!=n.currencySymbol&&e.XSSCheck.valid(n.currencySymbol)&&(i.currencySymbol=e.XSSCheck.validate(n.currencySymbol,!0)),null!=n.currencySymbolAlign&&e.XSSCheck.valid(n.currencySymbolAlign)&&(i.currencySymbolAlign=e.XSSCheck.validate(n.currencySymbolAlign)),null!=n.nullValue&&e.XSSCheck.valid(n.nullValue)&&(i.nullValue=e.XSSCheck.validate(n.nullValue)),null!=n.infinityValue&&e.XSSCheck.valid(n.infinityValue)&&(i.infinityValue=e.XSSCheck.validate(n.infinityValue)),null!=n.divideByZeroValue&&e.XSSCheck.valid(n.divideByZeroValue)&&(i.divideByZeroValue=e.XSSCheck.validate(n.divideByZeroValue)),null!=n.textAlign&&e.XSSCheck.valid(n.textAlign)&&(i.textAlign=e.XSSCheck.validate(n.textAlign)),null!=n.isPercent&&(i.isPercent=1==n.isPercent),null!=n.isCount&&(i.isCount=1==n.isCount),i},t.prototype.clone=function(){var e=new t;e.name=this.name,this._params.hasOwnProperty("thousandsSeparator")&&(e.thousandsSeparator=this.thousandsSeparator),this._params.hasOwnProperty("decimalSeparator")&&(e.decimalSeparator=this.decimalSeparator),this._params.hasOwnProperty("decimalPlaces")&&(e.decimalPlaces=this.decimalPlaces),this._params.hasOwnProperty("maxDecimalPlaces")&&(e.maxDecimalPlaces=this.maxDecimalPlaces),this._params.hasOwnProperty("maxSymbols")&&(e.maxSymbols=this.maxSymbols),this._params.hasOwnProperty("currencySymbol")&&(e.currencySymbol=this.currencySymbol),this._params.hasOwnProperty("currencySymbolAlign")&&(e.currencySymbolAlign=this.currencySymbolAlign),this._params.hasOwnProperty("nullValue")&&(e.nullValue=this.nullValue),this._params.hasOwnProperty("infinityValue")&&(e.infinityValue=this.infinityValue),this._params.hasOwnProperty("divideByZeroValue")&&(e.divideByZeroValue=this.divideByZeroValue),this._params.hasOwnProperty("textAlign")&&(e.textAlign=this.textAlign),this._params.hasOwnProperty("isPercent")&&(e.isPercent=this.isPercent),this._params.hasOwnProperty("isPercent")&&(e.isCount=this.isCount);var n,i={};for(n in this._defaults)i[n]=this._defaults[n];return e._defaults=i,e},t.prototype.mergeDefaults=function(e){for(var t in e)this._defaults[t]=e[t]},t}(),n.FormatValueObject=i}(e.model||(e.model={}))}(r||(r={})),function(e){var t=function(){function t(){}return t.format=function(n,i,o,s,a){if(void 0===i&&(i=null),void 0===o&&(o=!1),void 0===s&&(s=!1),void 0===a&&(a=-1),null==i&&(i=t.defaultFormatVO),isNaN(n)||e.nullOrUndefined(n))return i.nullValue;if(1/0==n)return i.infinityValue;if(n==r.data_.consts.DataConsts.DIVIDE_BY_ZERO)return i.divideByZeroValue;o||(o=i.isCount),n=i.isPercent&&"%"!=i.currencySymbol?100*n:n;var l=s?"%":i.currencySymbol;l=!s&&i.isPercent&&"%"!=i.currencySymbol?"%":l,i.currencySymbolAlign=i.isPercent?"right":i.currencySymbolAlign;var c=o?0:i.decimalPlaces,u="";if(0==n&&0>c)return u="0",!o&&0<l.length&&(u=t.formatCurrency(u,l,i.currencySymbolAlign,s)),u;if(u=0>n?i.maxSymbols-1:i.maxSymbols,1<i.thousandsSeparator.length&&!e.StringUtils.isEntity(i.thousandsSeparator)&&(u-=Math.floor(u/3)*i.thousandsSeparator.length),!o&&0<i.currencySymbolLength&&(u-=i.currencySymbolLength),i.thousandsSeparator="&#39;"==i.thousandsSeparator?"'":i.thousandsSeparator,1<(d=n.toString().split(".")).length&&10<=d[1].length){for(var d,h=0,p=0,f=(d=d[1]).length-2;0<=f;f--)if("9"!=d.charAt(f)&&"0"!=d.charAt(f)||d.charAt(f)!=d.charAt(f+1)){if(!(4>h)){p=f+1;break}h=0}else h++;4<=h&&(d=Math.pow(10,p),n=Math.round(n*d)/d)}return d=4<c?Math.pow(10,u-c-1):Math.pow(10,u-4),h=Math.pow(10,-(u-4)),-1<a&&(c=a),Math.abs(n)>d?(a=Math.round(Math.log(n)/Math.LN10),a=Math.round(Math.log(a)/Math.LN10+1),20<(u=0>n?i.maxSymbols-a-5:i.maxSymbols-a-4)&&(u=20),1>u&&(u=1),u=n.toExponential(u)):Math.abs(n)<h&&0>c?(a=Math.round(Math.log(n)/Math.LN10),20<(u=u-4-(a=Math.round(Math.log(-a)/Math.LN10+1)))&&(u=20),1>u&&(u=1),u=n.toExponential(u)):0>c?(a=1,1<Math.abs(n)?(a=Math.round(Math.log(Math.abs(n))/Math.LN10),a=Math.pow(10,u-a-2)):a=Math.pow(10,u-2),u=(Math.round(Math.abs(n)*a)/a).toString(),0>n&&(u="-"+u)):u=0==c?Math.round(n).toString():n.toFixed(c),-1==u.indexOf("e")&&(u=u.split("."),a=t.formatThousands(u[0],i),d=1<u.length?u[1]:"",(1<u.length||0<c)&&0!=i.maxDecimalPlaces?(-1<i.maxDecimalPlaces&&d.length>i.maxDecimalPlaces&&(d=d.substr(0,i.maxDecimalPlaces)),u=a+i.decimalSeparator+d):u=a),!o&&0<l.length&&(u=t.formatCurrency(u,l,i.currencySymbolAlign,s)),t.checkNegativeZero(u,n)},t.formatThousands=function(e,n){void 0===n&&(n=null);var i=0>parseFloat(e);i&&(e=e.substr(1));var o=e;if(3<e.length){null==n&&(null==t.defaultFormatVO&&(t.defaultFormatVO=new r.model.format.vo.FormatValueObject("")),n=t.defaultFormatVO),o=Math.floor(e.length/3);var s=[],a=e.length%3;0<a&&s.push(e.substr(0,a));for(var l=0;l<o;l++)s.push(e.substr(a+3*l,3));o=s.join(n.thousandsSeparator)}return i&&(o="-"+o),o},t.formatCurrency=function(e,t,n,i){return"left"!=n||i?e+t:0==e.indexOf("-")?"-"+t+e.substr(1):t+e},t.checkNegativeZero=function(e,t){return 0<=t||-1==e.indexOf("-")||-1<e.search("[1-9]+")?e:e.replace("-","")},t.defaultFormatVO=new r.model.format.vo.FormatValueObject,t}();e.NumberFormatter=t}(s||(s={})),function(e){!function(e){var t=function(){function t(){}return t.getStructureLoader=function(t){var n=null;switch(t.dataSourceType){case e.consts.DataSourceType.CSV:n=1==t.embedded?new e.csv.CSVEmbeddedLoader:new e.csv.CSVLoader;break;case e.consts.DataSourceType.JSON:n=new e.json.JSONLoader}return n},t}();e.StructureLoaderFactory=t}(e.data_||(e.data_={}))}(r||(r={})),function(e){!function(e){e.Query=function(){this.mdx=this.type="",this.axisName=e.consts.AxisName.ROWS_AXIS,this.tuple=[]}}(e.data_||(e.data_={}))}(r||(r={})),function(e){!function(e){var t=function(){function e(){}return e.MEMBERS="members",e.ASCENDANTS="ascendants",e.DESCENDANTS="descendants",e.SIBLINGS="siblings",e.SEARCH="search",e}();e.MembersLoaderState=t}(e.data_||(e.data_={}))}(r||(r={})),function(e){!function(e){var n=function(){function e(){}return e.BEFORE_STRUCTURE_LOADING="BEFORE_STRUCTURE_LOADING",e.STRUCTURE_CONNECTED="STRUCTURE_CONNECTED",e.STRUCTURE_LOADED="STRUCTURE_LOADED",e.STRUCTURE_CANCELLED="STRUCTURE_CANCELLED",e.STRUCTURE_LOADING_FAILED="STRUCTURE_LOADING_FAILED",e.BEFORE_QUERY="BEFORE_QUERY",e.QUERY_COMPLETE="QUERY_COMPLETE",e.QUERY_ERROR="QUERY_ERROR",e}();e.DataEvent=n;var i=function(e){function t(t){var i=e.call(this,n.BEFORE_QUERY)||this;return i.queryType=t,i}return a(t,e),t}(t._Event);e.BeforeQueryEvent=i,i=function(t){function i(i){var r=t.call(this,n.QUERY_COMPLETE)||this;return r.queryType=e.consts.QueryType.SELECT,r.queryType=i,r}return a(i,t),i}(t._Event),e.QueryCompleteEvent=i}(e.data_||(e.data_={}))}(r||(r={})),function(e){var n,i,r;i=(n=e.data_||(e.data_={})).dataprovider_||(n.dataprovider_={}),r=function(t){function o(){var e=t.call(this)||this;return e.rowTuples=[],e._rowTuples=[],e.columnTuples=[],e._columnTuples=[],e.rowDepths=[],e.rowType=[],e.columnDepths=[],e._name="",e.queryCompleteHandler=function(){return e.onQueryComplete()},e.beforeQueryHandler=function(t){return e.onBeforeQuery(t)},e.structureLoadedHandler=function(t){return e.onStructureLoaded()},e._rows=new s.AssociativeArray,e._rowLevels=[],e._columnLevels=[],e._columns=new s.AssociativeArray,e._pages=new s.AssociativeArray,e._measures=new s.AssociativeArray,e._measuresPosition=0,e._dataLoaded=!1,e._rowMaxDepth=0,e._columnMaxDepth=0,e._measureDepth=0,e.queryType=n.consts.QueryType.SELECT,e._showUnexpandedDataAlert=!1,e._fillRowTuplesStart=0,o.counter++,e.cube_=n.Cube.getInstance(),e}return a(o,t),o.getInstance=function(){return null==o.instance&&((o.instance=new o)._name="grid"+o.counter),o.instance},o.prototype.addEventListeners=function(){this.cube_.addEventListener(n.DataEvent.QUERY_COMPLETE,this.queryCompleteHandler,1),this.cube_.addEventListener(n.DataEvent.BEFORE_QUERY,this.beforeQueryHandler),this.cube_.addEventListener(n.DataEvent.STRUCTURE_LOADED,this.structureLoadedHandler,1)},o.prototype.removeEventListeners=function(){this.cube_.removeEventListener(n.DataEvent.QUERY_COMPLETE,this.queryCompleteHandler),this.cube_.removeEventListener(n.DataEvent.BEFORE_QUERY,this.beforeQueryHandler),this.cube_.removeEventListener(n.DataEvent.STRUCTURE_LOADED,this.structureLoadedHandler)},Object.defineProperty(o.prototype,"dataStorage",{get:function(){return null!=this._dataStorage?this._dataStorage:this.cube_.localDataStorage},set:function(e){this._dataStorage=e},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"slice",{get:function(){return null!=this._slice?this._slice:this.cube_.slice_},set:function(e){this._slice=e},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"isClassic",{get:function(){return e.model._options.OptionsManager.classicView},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"rows",{get:function(){return this._rows},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"rowsOnly",{get:function(){return this.slice.rowsOnly},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"rowLevels",{get:function(){return this._rowLevels},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"columnLevels",{get:function(){return this._columnLevels},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"columns",{get:function(){return this._columns},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"columnsOnly",{get:function(){return this.slice.columnsOnly},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"pages",{get:function(){return this._pages},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"measures",{get:function(){return this._measures},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"measuresPosition",{get:function(){return this._measuresPosition},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"dataLoaded",{get:function(){return this.slice&&this._dataLoaded},set:function(e){this._dataLoaded=e},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"rowMaxDepth",{get:function(){return this._rowMaxDepth},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"columnMaxDepth",{get:function(){return this._columnMaxDepth},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"measureDepth",{get:function(){return this._measureDepth},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"rowAxis",{get:function(){return this._rowAxis},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"columnAxis",{get:function(){return this._columnAxis},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"rowCount",{get:function(){return this._rowAxis?this._rowAxis.hasMeasures?this._rowAxis.hierarchies.length-1:this._rowAxis.hierarchies.length:0},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"columnCount",{get:function(){return this._columnAxis?this._columnAxis.hasMeasures?this._columnAxis.hierarchies.length-1:this._columnAxis.hierarchies.length:0},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"multiMeasures",{get:function(){return 1<this._measures.length||this._columnAxis.hasMeasures&&e.model._options.OptionsManager.showExtraTotalLabels},set:function(e){},enumerable:!0,configurable:!0}),o.prototype.getExpandedRows=function(){return this._rowAxis&&!this.isAllExpanded()?this._rowAxis.expandedTuples:[]},o.prototype.setExpandedRows=function(e){this._rowAxis&&!this.isAllExpanded()&&(this._rowAxis.expandedTuples=e)},o.prototype.getExpandedColumns=function(){return this._columnAxis&&!this.isAllExpanded()?this._columnAxis.expandedTuples:[]},o.prototype.setExpandedColumns=function(e){this._columnAxis&&!this.isAllExpanded()&&(this._columnAxis.expandedTuples=e)},o.prototype.getCollapsedRows=function(){return this._rowAxis&&this.isAllExpanded()?this._rowAxis.expandedTuples:[]},o.prototype.setCollapsedRows=function(e){this._rowAxis&&this.isAllExpanded()&&(this._rowAxis.expandedTuples=e)},o.prototype.getCollapsedColumns=function(){return this._columnAxis&&this.isAllExpanded()?this._columnAxis.expandedTuples:[]},o.prototype.setCollapsedColumns=function(e){this._columnAxis&&this.isAllExpanded()&&(this._columnAxis.expandedTuples=e)},o.prototype.getDrilledDownRows=function(){return this._rowAxis&&!this.isAllDrilled()?this._rowAxis.drilledTuples:[]},o.prototype.setDrilledDownRows=function(e){this._rowAxis&&!this.isAllDrilled()&&(this._rowAxis.drilledTuples=e)},o.prototype.getDrilledDownColumns=function(){return this._columnAxis&&!this.isAllDrilled()?this._columnAxis.drilledTuples:[]},o.prototype.setDrilledDownColumns=function(e){this._columnAxis&&!this.isAllDrilled()&&(this._columnAxis.drilledTuples=e)},o.prototype.getDrilledUpRows=function(){return this._rowAxis&&this.isAllDrilled()?this._rowAxis.drilledTuples:[]},o.prototype.setDrilledUpRows=function(e){this._rowAxis&&this.isAllDrilled()&&(this._rowAxis.drilledTuples=e)},o.prototype.getDrilledUpColumns=function(){return this._columnAxis&&this.isAllDrilled()?this._columnAxis.drilledTuples:[]},o.prototype.setDrilledUpColumns=function(e){this._columnAxis&&this.isAllDrilled()&&(this._columnAxis.drilledTuples=e)},o.prototype.isAllDrilled=function(){return this.slice.drillAll},o.prototype.isAllExpanded=function(){return this.slice.expandAll},Object.defineProperty(o.prototype,"rowSortType",{get:function(){var e=n.consts.SortType.UNSORTED;return this._rowAxis&&(e=this._rowAxis.sortType)==n.consts.SortType.UNSORTED&&this._rowAxis.totalSortMeasure&&this._rowAxis.totalSortType!=n.consts.SortType.UNSORTED&&(e=this._rowAxis.totalSortType),e},set:function(e){this._rowAxis&&(this._rowAxis.sortType=e)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"rowSortTuple",{get:function(){var e;return this._rowAxis&&(e=this._rowAxis.sortTuple,this._rowAxis.sortType==n.consts.SortType.UNSORTED&&this._rowAxis.totalSortMeasure&&this._rowAxis.totalSortType!=n.consts.SortType.UNSORTED&&(e=[])),e},set:function(e){this._rowAxis&&(this._rowAxis.sortTuple=e)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"rowSortMeasure",{get:function(){var e;return this._rowAxis&&(e=this._rowAxis.sortMeasure,this._rowAxis.sortType==n.consts.SortType.UNSORTED&&this._rowAxis.totalSortMeasure&&this._rowAxis.totalSortType!=n.consts.SortType.UNSORTED&&(e=this._rowAxis.totalSortMeasure)),e},set:function(e){this._rowAxis&&(this._rowAxis.sortMeasure=e)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"hasRowSorting",{get:function(){if(this.rowSortType==n.consts.SortType.UNSORTED||null==this.rowSortTuple)return!1;if(1>this.rowSortTuple.length)return!0;var e=!1;try{e=this.isRowExpanded(this.rowSortTuple.slice(0,this.rowSortTuple.length-1))}catch(o){}return e},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"columnSortType",{get:function(){var e=n.consts.SortType.UNSORTED;return this._columnAxis&&(e=this._columnAxis.sortType)==n.consts.SortType.UNSORTED&&this._columnAxis.totalSortMeasure&&this._columnAxis.totalSortType!=n.consts.SortType.UNSORTED&&(e=this._columnAxis.totalSortType),e},set:function(e){this._columnAxis&&(this._columnAxis.sortType=e)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"columnSortTuple",{get:function(){var e;return this._columnAxis&&(e=this._columnAxis.sortTuple,this._columnAxis.sortType==n.consts.SortType.UNSORTED&&this._columnAxis.totalSortMeasure&&this._columnAxis.totalSortType!=n.consts.SortType.UNSORTED&&(e=[])),e},set:function(e){this._columnAxis&&(this._columnAxis.sortTuple=e)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"columnSortMeasure",{get:function(){var e;return this._columnAxis&&(e=this._columnAxis.sortMeasure,this._columnAxis.sortType==n.consts.SortType.UNSORTED&&this._columnAxis.totalSortMeasure&&this._columnAxis.totalSortType!=n.consts.SortType.UNSORTED&&(e=this._columnAxis.totalSortMeasure)),e},set:function(e){this._columnAxis&&(this._columnAxis.sortMeasure=e)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"hasColumnSorting",{get:function(){if(this.columnSortType==n.consts.SortType.UNSORTED||null==this.columnSortTuple)return!1;if(1>this.columnSortTuple.length)return!0;var e=!1;try{e=this.isColumnExpanded(this.columnSortTuple.slice(0,this.columnSortTuple.length-1))}catch(o){}return e},set:function(e){},enumerable:!0,configurable:!0}),o.prototype.reset=function(e){void 0===e&&(e=!0),this.dataLoaded=!1,this._measures=new s.AssociativeArray,this._rows=new s.AssociativeArray,this._columns=new s.AssociativeArray,this._pages=new s.AssociativeArray,this._rowLevels=[],this._columnLevels=[],this._rowTuples=[],this._columnTuples=[],this.rowTuples=[],this.columnTuples=[],this.rowDepths=[],this.columnDepths=[],this._columnMaxDepth=this._rowMaxDepth=0,this.rowType=[],e&&(this._columnAxis&&(this._columnAxis.expandedTuples=[]),this._rowAxis&&(this._rowAxis.expandedTuples=[]),this._columnAxis&&(this._columnAxis.drilledTuples=[]),this._rowAxis&&(this._rowAxis.drilledTuples=[]))},o.prototype.onBeforeQuery=function(e){this.queryType=e.queryType,this.dataLoaded=!1,e.queryType==n.consts.QueryType.SELECT&&this.reset(),e.queryType!=n.consts.QueryType.DRILL_UP&&e.queryType!=n.consts.QueryType.DRILL_DOWN||this.reset(!1)},o.prototype.onQueryComplete=function(){this.load()},o.prototype.onStructureLoaded=function(){this.dataLoaded=!1,this.reset()},o.prototype.load=function(){if(null!=this.dataStorage||(this.dataStorage=this.cube_.localDataStorage,null!=this.dataStorage))if(this.slice){if(this._columnAxis=this.slice.findAxis(n.consts.AxisName.COLUMNS_AXIS),this._rowAxis=this.slice.findAxis(n.consts.AxisName.ROWS_AXIS),0==this.columnTuples.length&&0==this.rowTuples.length||this.queryType==n.consts.QueryType.FILTER){var e,t,o;if(this.isAllExpanded()?this.dataStorage.expandAll(this.slice.drillAll):(this.dataStorage.expand([],n.consts.AxisName.ROWS_AXIS,null),this.dataStorage.expand([],n.consts.AxisName.COLUMNS_AXIS,null)),(0<this.getDrilledDownRows().length||0<this.getDrilledUpRows().length)&&this._drillRows(),(0<this.getDrilledDownColumns().length||0<this.getDrilledUpColumns().length)&&this._drillColumns(),this.queryType==n.consts.QueryType.FILTER)if(this.slice.expandAll){var s=this.getCollapsedRows();if(0<s.length)for(e=0;e<s.length;e++)try{t=this.slice.measures_.getItemAt(s[e][0]),o=s[e].slice(1),this.dataStorage.collapse(o,n.consts.AxisName.ROWS_AXIS,t)}catch(a){}if(s=this.getCollapsedColumns(),0<this.getCollapsedColumns().length)for(e=0;e<this.getCollapsedColumns().length;e++)try{t=this.slice.measures_.getItemAt(s[e][0]),o=s[e].slice(1),this.dataStorage.collapse(o,n.consts.AxisName.COLUMNS_AXIS,t)}catch(r){}}else{if(0<(s=this.getExpandedRows()).length)for(e=0;e<s.length;e++)try{t=this.slice.measures_.getItemAt(s[e][0]),o=s[e].slice(1),this.dataStorage.expand(o,n.consts.AxisName.ROWS_AXIS,t)}catch(i){}if(0<(s=this.getExpandedColumns()).length)for(e=0;e<s.length;e++)try{t=this.slice.measures_.getItemAt(s[e][0]),o=s[e].slice(1),this.dataStorage.expand(o,n.consts.AxisName.COLUMNS_AXIS,t)}catch(l){}}(0<this.getDrilledDownRows().length||0<this.getDrilledUpRows().length)&&this._drillRows(),(0<this.getDrilledDownColumns().length||0<this.getDrilledUpColumns().length)&&this._drillColumns()}this.prepare(),this.dataLoaded=!0}else this._rowAxis=this._columnAxis=null},o.prototype._drillRows=function(){var e,t,i,r,o,s=this.rowAxis.hierarchies.slice();if(s.removeItem(n.Cube.MEASURES_NAME),this.isAllDrilled())for(var a=this.getDrilledUpRows(),l=0;l<a.length;l++)try{e=this.slice.measures_.getItemAt(a[l][0]),i=a[l].slice(2),o=(r=s.getItemAt(i.length-1)).members.getItem(a[l][1]),this.dataStorage.isRowDrilledDown(i,o,e)&&this.dataStorage.drillUp(i,o,n.consts.AxisName.ROWS_AXIS,e)}catch(u){}else for(a=this.getDrilledDownRows(),l=0;l<a.length;l++)try{if("string"==typeof a[l][0]?(t=a[l][0],e=this.slice.measures_.getItemAt(a[l][1]),i=a[l].slice(3),o=(r=s.getItemAt(i.length-1)).members.getItem(a[l][2])):(e=this.slice.measures_.getItemAt(a[l][0]),i=a[l].slice(2),o=(r=s.getItemAt(i.length-1)).members.getItem(a[l][1])),void 0!==t)if(r.findLevel(t).num<o.level.num){var c=this.ascendantByLevel(o,t);i[i.length-1]=c.ordinal,r.drillUpMember(c),this.dataStorage.drillUp(i,c,n.consts.AxisName.ROWS_AXIS,e)}else this.dataStorage.drillDownTo(i,o,n.consts.AxisName.ROWS_AXIS,t);else this.dataStorage.isRowDrilledDown(i,o,e)||(this.dataStorage.hierarchize(i,o,n.consts.AxisName.ROWS_AXIS),this.dataStorage.drillDown(i,o,n.consts.AxisName.ROWS_AXIS,e))}catch(d){}},o.prototype._drillColumns=function(){var e,t,i,r=this.columnAxis.hierarchies.slice();if(r.removeItem(n.Cube.MEASURES_NAME),this.isAllDrilled())for(var o=this.getDrilledUpColumns(),s=0;s<o.length;s++)try{e=this.slice.measures_.getItemAt(o[s][0]),t=o[s].slice(2),i=r.getItemAt(t.length-1).members.getItem(o[s][1]),this.dataStorage.isColumnDrilledDown(t,i,e)&&this.dataStorage.drillUp(t,i,n.consts.AxisName.COLUMNS_AXIS,e)}catch(a){}else for(o=this.getDrilledDownColumns(),s=0;s<o.length;s++)try{e=this.slice.measures_.getItemAt(o[s][0]),t=o[s].slice(2),i=r.getItemAt(t.length-1).members.getItem(o[s][1]),this.dataStorage.isColumnDrilledDown(t,i,e)||(this.dataStorage.hierarchize(t,i,n.consts.AxisName.COLUMNS_AXIS),this.dataStorage.drillDown(t,i,n.consts.AxisName.COLUMNS_AXIS,e))}catch(l){}},o.prototype.prepare=function(){this._showUnexpandedDataAlert=!1,this.slice?(this._measures=this.slice.measures_,this._measuresPosition=this._rowAxis.hasMeasures?this._rowAxis.measuresPosition:this._columnAxis.measuresPosition,this._rows=this.slice.rows,this._columns=this.slice.columns,this._pages=this.slice.pages):(this._measures=new s.AssociativeArray,this._measuresPosition=0,this._rows=new s.AssociativeArray,this._columns=new s.AssociativeArray,this._pages=new s.AssociativeArray),this._rowLevels=[],this._columnLevels=[],this._rowTuples=[],this._columnTuples=[],this.rowTuples=[],this.columnTuples=[],this.rowDepths=[],this.columnDepths=[],this.rowType=[],this._columnMaxDepth=this._rowMaxDepth=0;var t,n=this.dataStorage.result[0],i=this.dataStorage.result[1];if(!s.nullOrUndefined(this.slice)&&!this.slice.isEmpty){if((!this._rowAxis.hasMeasures||1<this._rows.length||this.isClassic)&&this.fillRowTuples(n,[],0),("on"==e.model._options.OptionsManager.showGrandTotals||"columns"==e.model._options.OptionsManager.showGrandTotals||this._rowAxis.hasMeasures&&1==this._rows.length)&&(this.rowTuples.push([]),this.rowDepths.push(0)),!this.isClassic)if(this._rowAxis.hasMeasures&&this.multiMeasures){if(this.rowDepths=[],this.rowType=[],1<this._rows.length)for(0!=this.measuresPosition&&this.fillRowTuples1(n,[],-1,0),t=0;t<this._measures.length;t++)"on"==e.model._options.OptionsManager.showGrandTotals||"columns"==e.model._options.OptionsManager.showGrandTotals?(this._rowTuples.push([[],t]),this.rowDepths.push(0)):0!=this._measuresPosition||"off"!=e.model._options.OptionsManager.showGrandTotals&&"rows"!=e.model._options.OptionsManager.showGrandTotals||(this._rowTuples.push([[],t]),this.rowDepths.push(0)),0==this.measuresPosition&&this.fillRowTuples1(n,[],t,1);if(0==this.measuresPosition&&("on"==e.model._options.OptionsManager.showGrandTotals||"columns"==e.model._options.OptionsManager.showGrandTotals||this._rowAxis.hasMeasures&&1==this._rows.length))for(t=0;t<this._measures.length;t++)this._rowTuples.push([[],t]),this.rowDepths.push(0)}else this._rowTuples=this.rowTuples;if((!this._columnAxis.hasMeasures||1<this._columns.length)&&this.fillColumnTuples(i,[],0),this._measureDepth=-1,("on"==e.model._options.OptionsManager.showGrandTotals||"rows"==e.model._options.OptionsManager.showGrandTotals||this._columnAxis.hasMeasures&&1==this._columns.length)&&(this.columnTuples.push([]),this.columnDepths.push(0)),this._columnAxis.hasMeasures&&this.multiMeasures){if(this.columnDepths=[],1<this._columns.length)for(0!=this._measuresPosition&&this.fillColumnTuples1(i,[],-1,0),t=0;t<this._measures.length;t++)"on"==e.model._options.OptionsManager.showGrandTotals||"rows"==e.model._options.OptionsManager.showGrandTotals?(this._columnTuples.push([[],t]),this.columnDepths.push(0)):0!=this._measuresPosition||"off"!=e.model._options.OptionsManager.showGrandTotals&&"columns"!=e.model._options.OptionsManager.showGrandTotals||(this._columnTuples.push([[],t]),this.columnDepths.push(0)),0==this._measuresPosition&&this.fillColumnTuples1(i,[],t,0);if(0==this._measuresPosition&&("on"==e.model._options.OptionsManager.showGrandTotals||"rows"==e.model._options.OptionsManager.showGrandTotals||this._columnAxis.hasMeasures&&1==this._columns.length))for(t=0;t<this._measures.length;t++)this._columnTuples.push([[],t]),this.columnDepths.push(0)}else this._columnTuples=this.columnTuples;for(n=0;n<this.rowDepths.length;n++)this.rowDepths[n]>this._rowMaxDepth&&(this._rowMaxDepth=this.rowDepths[n]);for(this._rowMaxDepth++,n=0;n<this.columnDepths.length;n++)this.columnDepths[n]>this._columnMaxDepth&&(this._columnMaxDepth=this.columnDepths[n]);this._columnMaxDepth++,0<this.slice.columnsOnly.length&&this._columnAxis.hasMeasures&&this.multiMeasures&&this._columnMaxDepth++,-1==this._measureDepth?this._measureDepth=0==this.measuresPosition?0:this._columnMaxDepth:this._measureDepth++,this._showUnexpandedDataAlert&&e.uialert(e.model._labels.Labels.MESSAGE_CANT_EXPAND,e.model._labels.Labels.MESSAGE_CANT_EXPAND_TITLE,e.AlertType.ALERT)}},o.prototype.showRowTuples=function(){for(var e=0;e<this.rowTuples.length;e++);},o.prototype.showRowTuples1=function(){for(var e=0;e<this._rowTuples.length;e++)this.getRowTuple(e,!0),this.getRowMeasure(e)},o.prototype.showColumnTuples=function(){for(var e=0;e<this.columnTuples.length;e++);},o.prototype.showColumnTuples1=function(){for(var e=0;e<this._columnTuples.length;e++)this.getColumnTuple(e,!0),this.getColumnMeasure(e)},o.prototype.fillRowTuples=function(e,t,n){var i=t.length;(i=this._rows.getItemAt(this._rowAxis.hasMeasures&&t.length>=this._measuresPosition?i+1:i))&&(0==n&&(this._fillRowTuplesStart=Date.now()),this.isClassic?this._fillRowChildren(i.allMember,e,t,n):this.fillRowChildren(i.allMember,e,t,n))},o.prototype.isEmptyOnRows=function(e){for(var t=0;t<this.measures.length;t++)if(!isNaN(this.getValue(e,[],this.measures.getItemAt(t))))return!1;return!0},o.prototype.isEmptyOnColumns=function(e){for(var t=0;t<this.measures.length;t++)if(!isNaN(this.getValue([],e,this.measures.getItemAt(t))))return!1;return!0},o.prototype.fillRowChildren=function(e,t,n,i){if(null!=e){var r;r=e.hierarchy_.sortChildren(e,!1,""),r=this.sortRowsByValue(r,t,n),e=this.rowsOnly.indexOf(e.hierarchy_.uniqueName)<this.rowsOnly.length-1;for(var s=0;s<r.length;s++){var a=r.getItemAt(s);if(0==s&&this.fillRowLevels(a),null!=t[a.ordinal]&&!a.isAll){var l=n.slice(0);if(l.push(a.ordinal),!this.isEmptyOnRows(l)){var c=!a.isLeaf&&this.dataStorage.isRowDrilledDown(l,a),u=e&&this.dataStorage.isRowExpanded(l);this.rowTuples.push(l),this.rowDepths.push(i),Date.now()-this._fillRowTuplesStart<o.SCRIPT_EXECUTION_TIMEOUT&&(c?this.fillRowChildren(a,t,n,i+1):u&&this.fillRowTuples(t[a.ordinal],l,i+1))}}}}},o.prototype.fillRowTuples1=function(e,t,n,i){if(!this.isClassic){var r=t.length;(r=this._rows.getItemAt(this._rowAxis.hasMeasures&&t.length>=this._measuresPosition?r+1:r))&&this.fillRowChildren1(r.allMember,e,t,n,i)}},o.prototype.fillRowChildren1=function(e,t,n,i,r){if(null!=e){var o=n.length;e=e.hierarchy_.sortChildren(e,!1,""),e=this.sortRowsByValue(e,t,n);for(var s,a=0;a<e.length;a++){var l=e.getItemAt(a);if(null!=t[l.ordinal]&&!l.isAll){var c=n.slice(0);if(c.push(l.ordinal),!this.isEmptyOnRows(c))if(o<this._measuresPosition)if(this._rowTuples.push([c,-1]),this.rowDepths.push(r),o==this._measuresPosition-1&&this.dataStorage.isRowExpanded(c,i))for(s=0;s<this._measures.length;s++)this.dataStorage.isRowDrilledDown(c,l,s)?this.fillRowChildren1(l,t,n,s,r+2):(this._rowTuples.push([c,s]),this.rowDepths.push(r+1),this.dataStorage.isRowExpanded(c)&&this.fillRowTuples1(t[l.ordinal],c,s,r+2));else{for(s=0;s<this._measures.length;s++)this._rowTuples.push([c,s]),this.rowDepths.push(r+1);this.dataStorage.isRowDrilledDown(c,l,i)?this.fillRowChildren1(l,t,n,i,r+2):this.dataStorage.isRowExpanded(c,i)&&this.fillRowTuples1(t[l.ordinal],c,i,r+2)}else this._rowTuples.push([c,i]),this.rowDepths.push(r),this.dataStorage.isRowDrilledDown(c,l,i)?this.fillRowChildren1(l,t,n,i,r+1):this.dataStorage.isRowExpanded(c,i)&&this.fillRowTuples1(t[l.ordinal],c,i,r+1)}}}},o.prototype._fillRowChildren=function(t,n,i,r){if(null!=t){t=t.hierarchy_.sortChildren(t,!1,""),t=this.sortRowsByValue(t,n,i);for(var s=0;s<t.length;s++){var a=t.getItemAt(s);if(0==s&&this.fillRowLevels(a),null!=n[a.ordinal]&&!a.isAll){var l=i.slice(0);if(l.push(a.ordinal),!this.isEmptyOnRows(l)){var c=this.dataStorage.isRowDrilledDown(l,a),u=this.dataStorage.isRowExpanded(l),d=this.rowTuples.length;this.rowCount>l.length&&(this.rowType[d]=1,null==this.rowDepths[d]&&(this.rowDepths[d]=r)),Date.now()-this._fillRowTuplesStart<o.SCRIPT_EXECUTION_TIMEOUT?c?this._fillRowChildren(a,n,i,r+1):u&&this.fillRowTuples(n[a.ordinal],l,r+1):(c||u)&&(this._showUnexpandedDataAlert=!0),c||u?("on"!=e.model._options.OptionsManager.showTotals&&"rows"!=e.model._options.OptionsManager.showTotals||(this.rowTuples.push(l),this.rowType[this.rowTuples.length-1]=2,this.rowDepths[this.rowTuples.length-1]=r),c&&this.rowDepths[d]>r&&(this.rowDepths[d]=r,this.rowType[d]=0)):(this.rowTuples.push(l),null==this.rowType[this.rowTuples.length-1]&&(this.rowType[this.rowTuples.length-1]=0,this.rowDepths[this.rowTuples.length-1]=r))}}}}},o.prototype.fillRowLevels=function(e){this.fillLevels(this._rowLevels,e)},o.prototype.fillColumnLevels=function(e){this.fillLevels(this._columnLevels,e)},o.prototype.fillLevels=function(e,t){if(-1==e.indexOf(t.level.uniqueName))if(1>=t.level.num)e.push(t.level.uniqueName);else{var n=e.indexOf(t.parent.level.uniqueName);e.splice(n+1,0,t.level.uniqueName)}},o.prototype.isValidSortTuple=function(e,t){for(var n=0;n<e.length;n++){var i=t.getItemAt(n);if(i.hasFilter()){var r=i.members.getItemAt(e[n]);if(!i.filter.keyExists(r.uniqueName))return!1}}return!0},o.prototype.sortRowsByValue=function(e,t,i){if(!this.hasColumnSorting)return e;var r=this.columnSortTuple;if(!this.isValidSortTuple(r,this.columnsOnly))return e;for(var o,a=[],l=[],c=[],u=new s.AssociativeArray,d=0;d<e.length;d++)if(null!=t[(o=e.getItemAt(d)).ordinal]&&!o.isAll){var h=i.slice(0);h.push(o.ordinal),h=this.getValue(h,r,this.columnSortMeasure),isNaN(h)?c.push(o):(a.push(h),l.push(o))}for(e=s.ArrayUtils.sort(a,this.columnSortType!=n.consts.SortType.DESC?s.ArrayUtils.NUMERIC|s.ArrayUtils.RETURNINDEXEDARRAY:s.ArrayUtils.NUMERIC|s.ArrayUtils.DESCENDING|s.ArrayUtils.RETURNINDEXEDARRAY),d=0;d<e.length;d++)null!=(o=l[e[d]])&&u.addItem(o.uniqueName,o);for(d=0;d<c.length;d++)o=c[d],this.columnSortType==n.consts.SortType.DESC?u.addItem(o.uniqueName,o):u.addItemAt(o.uniqueName,o,d);return u},o.prototype.sortColumnsByValue=function(e,t,i){if(!this.hasRowSorting)return e;var r=this.rowSortTuple;if(!this.isValidSortTuple(r,this.rowsOnly))return e;for(var o,a=[],l=[],c=[],u=new s.AssociativeArray,d=0;d<e.length;d++)if(null!=t[(o=e.getItemAt(d)).ordinal]&&!o.isAll){var h=i.slice(0);h.push(o.ordinal),h=this.getValue(r,h,this.rowSortMeasure),isNaN(h)?c.push(o):(a.push(h),l.push(o))}for(e=s.ArrayUtils.sort(a,this.rowSortType!=n.consts.SortType.DESC?s.ArrayUtils.NUMERIC|s.ArrayUtils.RETURNINDEXEDARRAY:s.ArrayUtils.NUMERIC|s.ArrayUtils.DESCENDING|s.ArrayUtils.RETURNINDEXEDARRAY),d=0;d<e.length;d++)null!=(o=l[e[d]])&&u.addItem(o.uniqueName,o);for(d=0;d<c.length;d++)o=c[d],this.rowSortType==n.consts.SortType.DESC?u.addItem(o.uniqueName,o):u.addItemAt(o.uniqueName,o,d);return u},o.prototype.fillColumnTuples=function(e,t,n){var i=t.length;(i=this._columns.getItemAt(this._columnAxis.hasMeasures&&t.length>=this._measuresPosition?i+1:i))&&this.fillColumnChildren(i.allMember,e,t,n)},o.prototype.fillColumnChildren=function(e,t,n,i){e=e.hierarchy_.sortChildren(e,!1,""),e=this.sortColumnsByValue(e,t,n);for(var r=0;r<e.length;r++){var o=e.getItemAt(r);if(0==r&&this.fillColumnLevels(o),null!=t[o.ordinal]&&!o.isAll){var s=n.slice(0);if(s.push(o.ordinal),!this.isEmptyOnColumns(s)){var a=this.dataStorage.isColumnExpanded(s);this.columnTuples.push(s),this.columnDepths.push(i),this.dataStorage.isColumnDrilledDown(s,o)?this.fillColumnChildren(o,t,n,i+1):a&&this.fillColumnTuples(t[o.ordinal],s,i+1)}}}},o.prototype.fillColumnTuples1=function(e,t,n,i){var r=t.length;(r=this._columns.getItemAt(this._columnAxis.hasMeasures&&t.length>=this._measuresPosition?r+1:r))&&this.fillColumnChildren1(r.allMember,e,t,n,i)},o.prototype.fillColumnChildren1=function(e,t,n,i,r){var o=n.length;e=e.hierarchy_.sortChildren(e,!1,""),e=this.sortColumnsByValue(e,t,n);for(var s,a=0;a<e.length;a++){var l=e.getItemAt(a);if(null!=t[l.ordinal]&&!l.isAll){var c=n.slice(0);if(c.push(l.ordinal),!this.isEmptyOnColumns(c)){var u=this.dataStorage.isColumnExpanded(c,i);if(o<this._measuresPosition)if(this._columnAxis.hasMeasures&&this._measureDepth<r+1&&(this._measureDepth=r+1),o==this._measuresPosition-1&&u)if(this.dataStorage.isColumnDrilledDown(c,l)){for(s=0;s<this._measures.length;s++)this._columnTuples.push([c,s]),this.columnDepths.push(r);this.fillColumnChildren1(l,t,n,i,r+1)}else for(s=0;s<this._measures.length;s++)this._columnTuples.push([c,s]),this.columnDepths.push(r),this.dataStorage.isColumnExpanded(c,s)&&this.fillColumnTuples1(t[l.ordinal],c,s,r+1);else{for(s=0;s<this._measures.length;s++)this._columnTuples.push([c,s]),this.columnDepths.push(r);this.dataStorage.isColumnDrilledDown(c,l,i)?this.fillColumnChildren1(l,t,n,i,r+1):u&&this.fillColumnTuples1(t[l.ordinal],c,i,r+1)}else this._columnTuples.push([c,i]),this.columnDepths.push(r),this.dataStorage.isColumnDrilledDown(c,l,i)?this.fillColumnChildren1(l,t,n,i,r+1):u&&this.fillColumnTuples1(t[l.ordinal],c,i,r+1)}}}},Object.defineProperty(o.prototype,"isEmpty",{get:function(){return 0==this.columnTuples.length&&0==this.rowTuples.length},set:function(e){},enumerable:!0,configurable:!0}),o.prototype.getRowDepth=function(e){return this.isClassic?this.rowDepths[this._rowAxis.hasMeasures?Math.floor(e/this._measures.length):e]:this.rowDepths[e]},o.prototype.getRowType=function(e){return this.isClassic?this.rowType[this._rowAxis.hasMeasures?Math.floor(e/this._measures.length):e]:this.rowType[e]},o.prototype.getColumnType=function(e){return 1},o.prototype.getColumnDepth=function(e){return this.columnDepths[e]},o.prototype.getRowHierarchyIdx=function(e){return this._rowAxis.hasMeasures&&(e.length>this._measuresPosition||0==this._measuresPosition)?e.length:e.length-1},o.prototype.getRowHierarchy=function(e){return e=this.getRowHierarchyIdx(e),this._rows.getItemAt(e)},o.prototype.getColumnHierarchyIdx=function(e){return this._columnAxis.hasMeasures&&(e.length>this._measuresPosition||0==this._measuresPosition)?e.length:e.length-1},o.prototype.getColumnHierarchy=function(e){return e=this.getColumnHierarchyIdx(e),this._columns.getItemAt(e)},Object.defineProperty(o.prototype,"dataWidth",{get:function(){return this.columnTuples.length},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"dataHeight",{get:function(){return this.rowTuples.length},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"extendedDataWidth",{get:function(){return this._columnTuples.length},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"extendedDataHeight",{get:function(){return this.isClassic?(this.rowAxis&&this.rowAxis.hasMeasures?this._measures.length:1)*this.rowTuples.length:this._rowTuples.length},set:function(e){},enumerable:!0,configurable:!0}),o.prototype.isRowExpanded=function(e,t){return void 0===t&&(t=null),this.dataStorage.isRowExpanded(e,t)},o.prototype.isColumnExpanded=function(e,t){return void 0===t&&(t=null),this.dataStorage.isColumnExpanded(e,t)},o.prototype.isRowDrilledDown=function(e,t,n){return void 0===n&&(n=null),this.dataStorage.isRowDrilledDown(e,t,n)},o.prototype.isColumnDrilledDown=function(e,t,n){return void 0===n&&(n=null),this.dataStorage.isColumnDrilledDown(e,t,n)},o.prototype.isAggregated=function(e,t){return this.dataStorage.isAggregated(e,t)},o.prototype.getColumnTupleIndex=function(e){e=e.slice(0);for(var t=this._columnAxis.hasMeasures,n=t?e.pop():-1,i=this._columnTuples,r=0;r<i.length;r++){var o,s=!0;if(t&&this.multiMeasures){if(n!=i[r][1])continue;o=i[r][0]}else o=i[r];if(o.length==e.length){for(var a=0;a<o.length;a++)if(o[a]!=e[a]){s=!1;break}if(s)return r}}return-1},o.prototype.getRowTupleIndex=function(e){e=e.slice(0);for(var t=this._rowAxis.hasMeasures,n=t?e.pop():-1,i=this.isClassic?this.rowTuples:this._rowTuples,r=0;r<i.length;r++){var o,s=!0;if(t&&this.multiMeasures){if(n!=i[r][1])continue;o=i[r][0]}else o=i[r];if(o.length==e.length){for(var a=0;a<o.length;a++)if(o[a]!=e[a]){s=!1;break}if(s)return r}}return-1},o.prototype.getRowTuple=function(e,t){if(void 0===t&&(t=!1),0>e||null==this._rowAxis||null==this._measures)return null;if(t&&this._rowAxis.hasMeasures&&this.multiMeasures){if(this.isClassic){var n=Math.floor(e/this._measures.length);return null==this.rowTuples[n]?null:this.rowTuples[n].slice(0)}return null==this._rowTuples[e]?null:this._rowTuples[e][0].slice(0)}return null==this.rowTuples[e]?null:this.rowTuples[e].slice(0)},o.prototype.getColumnTuple=function(e,t){return void 0===t&&(t=!1),0>e||null==this._columnAxis||null==this._measures?null:t&&this._columnAxis.hasMeasures&&this.multiMeasures?null==this._columnTuples[e]?null:this._columnTuples[e][0].slice():null==this.columnTuples[e]?null:this.columnTuples[e].slice()},o.prototype.getColumnTupleByName=function(e,t){return null},o.prototype.getColumnTupleForExport=function(e){return this._columnAxis.hasMeasures&&this.multiMeasures?this._columnTuples[e]:this.columnTuples[e]},o.prototype.getRowMeasure=function(e){return null==this._rowTuples[e]?null:this._rowAxis.hasMeasures&&this.multiMeasures?this._measures.getItemAt(this._rowTuples[e][1]):null},o.prototype.getRowMeasureIndex=function(e){return null==this._rowTuples[e]?-1:this._rowAxis.hasMeasures&&this.multiMeasures?this._rowTuples[e][1]:-1},o.prototype.getColumnMeasure=function(e){return null==this._columnTuples[e]?null:this._columnAxis.hasMeasures&&this.multiMeasures?this._measures.getItemAt(this._columnTuples[e][1]):null},o.prototype.getColumnMeasureIndex=function(e){return null==this._columnTuples[e]?-1:this._columnAxis.hasMeasures&&this.multiMeasures?this._columnTuples[e][1]:-1},o.prototype.getMeasure=function(e,t){if(null==this._measures||null==this._rowAxis||null==this._columnAxis)return null;if(this.multiMeasures){if(this._rowAxis.hasMeasures){if(this.isClassic){var n=e%this._measures.length;return null==this.rowTuples[Math.floor(e/this.measures.length)]?this._measures.getItemAt(0):this._measures.getItemAt(n)}return this._measures.getItemAt(null==this._rowTuples[e]?0:this._rowTuples[e][1])}return this._measures.getItemAt(null==this._columnTuples[t]?0:this._columnTuples[t][1])}return this._measures.getItemAt(0)},o.prototype.drillThrough=function(e,t,n){return this.dataStorage.drillThrough(e,t,n)},o.prototype.save=function(e,t,n,i,r){this.dataStorage.save(e,t,n,i,r)},o.prototype.getUpdatedValue=function(e,t,n){return this.dataStorage.getUpdatedValue(e,t,n)},o.prototype.getRecordId=function(e,t,n){return null},o.prototype.getValue=function(e,t,i){var r;if(i.aggregation==n.consts.AggregationName.PERCENT)return r=this.dataStorage.getValue([],[],i),e=this.dataStorage.getValue(e,t,i),Math.abs(100*e/r);if(i.aggregation==n.consts.AggregationName.PERCENT_COLUMN)return r=this.dataStorage.getValue([],t,i),100*(e=this.dataStorage.getValue(e,t,i))/r;if(i.aggregation==n.consts.AggregationName.PERCENT_ROW)return r=this.dataStorage.getValue(e,[],i),100*(e=this.dataStorage.getValue(e,t,i))/r;if(i.aggregation==n.consts.AggregationName.INDEX){r=this.dataStorage.getValue([],[],i);var o=this.dataStorage.getValue(e,[],i),s=this.dataStorage.getValue([],t,i);return e=this.dataStorage.getValue(e,t,i),Math.abs(r*e/(s*o))}return i.aggregation==n.consts.AggregationName.DIFFERENCE?this.getDifference(e,t,i,!1):i.aggregation==n.consts.AggregationName.PERCENT_DIFFERENCE?this.getDifference(e,t,i,!0):i.aggregation==n.consts.AggregationName.RUNNING_TOTALS?this.dataStorage.getRunningTotals(e,t,i,this.rowAxis.hasMeasures?n.consts.AxisName.ROWS_AXIS:n.consts.AxisName.COLUMNS_AXIS):this.dataStorage.getValue(e,t,i)},o.prototype.getDifference=function(e,t,n,i){return this.rowAxis.hasMeasures?this.getDifferenceColumn(e,t,n,i):this.getDifferenceRow(e,t,n,i)},o.prototype.getDifferenceColumn=function(e,t,n,i){var r;if(0<this.columns.length){if(0>(r=this.getColumnTupleIndex(t)))return 0;if(0==r||0==t.length)return NaN;if(r=this.getColumnTuple(r-1),t.length!=r.length)return NaN;r=this.dataStorage.getValue(e,r,n)}else{if(e.slice(0),e.push(-1),r=this.getRowTupleIndex(e),e.pop(),0==r||0==e.length)return NaN;if(0>r)return 0;if(r=this.getRowTuple(r-1,!0),e.length!=r.length)return NaN;r=this.dataStorage.getValue(r,t,n)}return e=this.dataStorage.getValue(e,t,n),i?(e-r)/r*100:e-r},o.prototype.getDifferenceRow=function(e,t,n,i){var r;if(0<this.rows.length){if(0==(r=this.getRowTupleIndex(e))||0==e.length)return NaN;if(0>r)return 0;if(r=this.getRowTuple(r-1),e.length!=r.length)return NaN;r=this.dataStorage.getValue(r,t,n)}else{if((t=t.slice(0)).push(0),r=this.getColumnTupleIndex(t),t.pop(),0==r||0==t.length)return NaN;if(0>r)return 0;if(r=this.getColumnTuple(r-1,!0),t.length!=r.length)return NaN;r=this.dataStorage.getValue(e,r,n)}return e=this.dataStorage.getValue(e,t,n),i?(e-r)/r*100:e-r},o.prototype.calculate=function(e,t,n,i){return this.dataStorage.calculate(e,t,n,i)},o.prototype.expandData=function(e){this.dataLoaded&&null!=(e=this.slice.allHierarchies().getItem(e))&&this.expandHierarchy(e)},o.prototype.expandHierarchy=function(e){var t=this.slice.rows.keyExists(e.uniqueName)?n.consts.AxisName.ROWS_AXIS:n.consts.AxisName.COLUMNS_AXIS,i=t==n.consts.AxisName.ROWS_AXIS?this.slice.rowsOnly.length:this.slice.columnsOnly.length;if((e=t==n.consts.AxisName.ROWS_AXIS?this.slice.rowsOnly.indexOf(e.uniqueName):this.slice.columnsOnly.indexOf(e.uniqueName))+1!=i){i=[];var r=(t==n.consts.AxisName.ROWS_AXIS?this.slice.rowsOnly:this.slice.columnsOnly).slice(0,e+1);this.getTuples([],r,i),r=t==this.slice.axisWithMeasures.uniqueName?this.slice.axisWithMeasures.measuresPosition:-1;for(var o=0;o<i.length;o++)if(0<=r&&r<=e&&1<this.slice.measures_.length)for(var s=0;s<this.slice.measures_.length;s++){var a=this.slice.measures_.getItemAt(s);this.expand(i[o],t,i[o].length>r?a:null,!1)}else this.expand(i[o],t,null,!1);this.cube_.dispatch(new n.QueryCompleteEvent(n.consts.QueryType.EXPAND))}},o.prototype.getTuples=function(e,t,n,i){if(void 0===i&&(i=!0),0!=t.length)for(var r=(r=t.getItemAt(0)).hasFilter()?r.filter:r.members,o=0;o<r.length;o++){var s=r.getItemAt(o);if(!s.isAll){var a=e.slice(0);a.push(s.ordinal),(i||!i&&1==t.length)&&n.push(a.slice(0)),this.getTuples(a.slice(0),t.slice(1),n,i)}}},o.prototype.collapseData=function(e){this.dataLoaded&&null!=(e=this.slice.allHierarchies().getItem(e))&&this.collapseHierarchy(e)},o.prototype.collapseHierarchy=function(e){var t=this.slice.rows.keyExists(e.uniqueName)?n.consts.AxisName.ROWS_AXIS:n.consts.AxisName.COLUMNS_AXIS,i=t==n.consts.AxisName.ROWS_AXIS?this.slice.rowsOnly.length:this.slice.columnsOnly.length;if((e=t==n.consts.AxisName.ROWS_AXIS?this.slice.rowsOnly.indexOf(e.uniqueName):this.slice.columnsOnly.indexOf(e.uniqueName))+1!=i){i=[];var r=(t==n.consts.AxisName.ROWS_AXIS?this.slice.rowsOnly:this.slice.columnsOnly).slice(0,e+1);this.getTuples([],r,i,!1),r=t==this.slice.axisWithMeasures.uniqueName?this.slice.axisWithMeasures.measuresPosition:-1;for(var o=0;o<i.length;o++)if(0<=r&&r<=e&&1<this.slice.measures_.length)for(var s=0;s<this.slice.measures_.length;s++){var a=this.slice.measures_.getItemAt(s);this.collapse(i[o],t,i[o].length>r?a:null,!1)}else this.collapse(i[o],t,null,!1);this.cube_.dispatch(new n.QueryCompleteEvent(n.consts.QueryType.COLLAPSE))}},o.prototype.expandAll=function(){this.dataLoaded&&(this.reset(),this.slice.expandAll?this.dataStorage.expandAll(this.slice.drillAll):this.cube_.select())},o.prototype.sort=function(){this.prepare(),this.cube_.dispatchWith(e.model._state.StateEvent.REPORT_CHANGED)},Object.defineProperty(o.prototype,"lastRowsTupleInteracted",{get:function(){return this._lastRowsTupleInteracted},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"lastColsTupleInteracted",{get:function(){return this._lastColsTupleInteracted},enumerable:!0,configurable:!0}),o.prototype.expand=function(t,i,r,o){void 0===r&&(r=null),void 0===o&&(o=!0),i==n.consts.AxisName.ROWS_AXIS&&(this._lastRowsTupleInteracted=t),i==n.consts.AxisName.COLUMNS_AXIS&&(this._lastColsTupleInteracted=t);var s=this.slice.findAxis(i),a=t.slice(0);s=r&&s.hasMeasures?this._measures.indexOf(r.uniqueName):-1,a.unshift(s);var l=[];if(this.isAllExpanded())if(i==n.consts.AxisName.ROWS_AXIS){l=[];var c=this.getCollapsedRows();for(s=0;s<c.length;s++)a.toString()!=c[s].toString()&&l.push(c[s]);this.setCollapsedRows(l)}else{for(l=[],c=this.getCollapsedColumns(),s=0;s<c.length;s++)a.toString()!=c[s].toString()&&l.push(c[s]);this.setCollapsedColumns(l)}else i==n.consts.AxisName.ROWS_AXIS?((l=this.getExpandedRows().slice(0)).push(a),this.setExpandedRows(l)):((l=this.getExpandedColumns().slice(0)).push(a),this.setExpandedColumns(l));this.cube_.expand(t,i,r,o),this.cube_.dispatchWith(e.model._state.StateEvent.REPORT_CHANGED)},o.prototype.collapse=function(t,i,r,o){void 0===r&&(r=null),void 0===o&&(o=!0),i==n.consts.AxisName.ROWS_AXIS&&(this._lastRowsTupleInteracted=t.slice(0,t.length-1)),i==n.consts.AxisName.COLUMNS_AXIS&&(this._lastColsTupleInteracted=t.slice(0,t.length-1));var s=this.slice.findAxis(i),a=t.slice(0);s=r&&s.hasMeasures?this._measures.indexOf(r.uniqueName):-1,a.unshift(s);var l=[];if(this.isAllExpanded())i==n.consts.AxisName.ROWS_AXIS?((l=this.getCollapsedRows().slice(0)).push(a),this.setCollapsedRows(l)):((l=this.getCollapsedColumns().slice(0)).push(a),this.setCollapsedColumns(l));else if(i==n.consts.AxisName.ROWS_AXIS){l=[];var c=this.getExpandedRows();for(s=0;s<c.length;s++)a.toString()!=c[s].toString()&&l.push(c[s]);this.setExpandedRows(l)}else{for(l=[],c=this.getExpandedColumns(),s=0;s<c.length;s++)a.toString()!=c[s].toString()&&l.push(c[s]);this.setExpandedColumns(l)}this.cube_.collapse(t,i,r,o),this.cube_.dispatchWith(e.model._state.StateEvent.REPORT_CHANGED)},o.prototype.drillUp=function(t,i,r,o,s){if(void 0===o&&(o=null),void 0!==s)return this.drillUpTo(t,i,r,o,s);var a=this.slice.findAxis(r);s=[];var l=t.slice(0);if(l.unshift(i.uniqueName),a=o&&a.hasMeasures?this._measures.indexOf(o.uniqueName):-1,l.unshift(a),this.isAllDrilled())r==n.consts.AxisName.ROWS_AXIS?((s=this.getDrilledUpRows().slice(0)).push(l),this.setDrilledUpRows(s)):((s=this.getDrilledUpColumns().slice(0)).push(l),this.setDrilledUpColumns(s));else if(r==n.consts.AxisName.ROWS_AXIS){var c,u=this.getDrilledDownRows();for(c in u)"string"==typeof(a=u[c])[0]&&(a=a.slice(1)),a.toString()!=l.toString()&&s.push(a);this.setDrilledDownRows(s)}else{for(c in u=this.getDrilledDownColumns())"string"==typeof(a=u[c])[0]&&(a=a.slice(1)),a.toString()!=l.toString()&&s.push(a);this.setDrilledDownColumns(s)}this.cube_.drillUp(t,i,r,o),this.cube_.dispatchWith(e.model._state.StateEvent.REPORT_CHANGED)},o.prototype.ascendantByLevel=function(e,t){for(var n=e;void 0!==n&&n.level.uniqueName!=t;)n=n.parent;return n},o.prototype.drillUpTo=function(e,t,i,r,o){void 0===r&&(r=null);var s,a=this.ascendantByLevel(t,o),l=this.slice.findAxis(i),c=[],u=e.slice(0);if(u.unshift(t.uniqueName),l=r&&l.hasMeasures?this._measures.indexOf(r.uniqueName):-1,u.unshift(l),u.unshift(o),c.push(u),i==n.consts.AxisName.ROWS_AXIS){var d=this.getDrilledDownRows();for(l=d.length-1;0<=l;l--)s=t.hierarchy_.findMember("string"==typeof(u=d[l])[0]?u[2]:u[1]),void 0!==(s=this.ascendantByLevel(s,o))&&s.uniqueName==a.uniqueName||c.unshift(u);this.setDrilledDownRows(c)}else{for(l=(d=this.getDrilledDownColumns()).length-1;0<=l;l--)s=t.hierarchy_.findMember("string"==typeof(u=d[l])[0]?u[2]:u[1]),void 0!==(s=this.ascendantByLevel(s,o))&&s.uniqueName==a.uniqueName||c.unshift(u);this.setDrilledDownColumns(c)}(u=e.slice(0))[u.length-1]=a.ordinal,this.cube_.drillUp(u,a,i,r)},o.prototype.drillDown=function(t,i,r,o,s){if(void 0===o&&(o=null),void 0!==s)return this.drillDownTo(t,i,r,o,s);var a=this.slice.findAxis(r);s=[];var l=t.slice(0);if(l.unshift(i.uniqueName),a=o&&a.hasMeasures?this._measures.indexOf(o.uniqueName):-1,l.unshift(a),this.isAllDrilled())if(r==n.consts.AxisName.ROWS_AXIS){var c,u=this.getDrilledUpRows();for(c in u)(a=u[c]).toString()!=l.toString()&&s.push(a);this.setDrilledUpRows(s)}else{for(c in u=this.getDrilledUpColumns())(a=u[c]).toString()!=l.toString()&&s.push(a);this.setDrilledUpColumns(s)}else r==n.consts.AxisName.ROWS_AXIS?((s=this.getDrilledDownRows().slice(0)).push(l),this.setDrilledDownRows(s)):((s=this.getDrilledDownColumns().slice(0)).push(l),this.setDrilledDownColumns(s));this.cube_.drillDown(t,i,r,o),this.cube_.dispatchWith(e.model._state.StateEvent.REPORT_CHANGED)},o.prototype.drillDownTo=function(e,t,i,r,o){var s=this.slice.findAxis(i),a=[];(e=e.slice(0)).unshift(t.uniqueName),t=r&&s.hasMeasures?this._measures.indexOf(r.uniqueName):-1,e.unshift(t),e.unshift(o),i==n.consts.AxisName.ROWS_AXIS?((a=this.getDrilledDownRows().slice(0)).push(e),this.setDrilledDownRows(a)):((a=this.getDrilledDownColumns().slice(0)).push(e),this.setDrilledDownColumns(a))},o.dispose=function(){o.instance&&(o.instance.removeEventListeners(),o.instance.removeAllEventListeners()),o.instance=null},o.counter=0,o.SCRIPT_EXECUTION_TIMEOUT=9e3,o}(t.EventDispatcher),i.ViewDataProvider=r}(r||(r={})),function(e){var t;!function(t){var n=function(){function n(){}return n.getDataProvider=function(r){void 0===r&&(r=""),""==r&&(r=e.model._options.OptionsManager.flatView?i.FLAT:i.PIVOT);var o=null;return(o=r==i.FLAT?t.FlatViewDataProvider.getInstance():t.ViewDataProvider.getInstance()).addEventListeners(),n.dataProvider_!=o?(n.dataProvider_&&n.dataProvider_.removeEventListeners(),o.load()):e.model._options.OptionsManager.optionAffectedDataProvider&&(o.load(),e.model._options.OptionsManager.optionAffectedDataProvider=!1),n.dataProvider_=o},n.dispose=function(){t.FlatViewDataProvider.dispose(),t.ViewDataProvider.dispose(),n.dataProvider_=null},n.dataProvider_=null,n}();t.DataProviderFactory=n;var i=function(){function e(){}return e.PIVOT="pivot",e.FLAT="flat",e}();t.DataProviderType=i}((t=e.data_||(e.data_={})).dataprovider_||(t.dataprovider_={}))}(r||(r={})),function(e){!function(e){var n,i;n=e.dataprovider_||(e.dataprovider_={}),i=function(t){function n(){var n=t.call(this)||this;return n._measures=new s.AssociativeArray,n._dataLoaded=!1,n.queryCompleteHandler=function(){return n.onQueryComplete()},n._columnSortType=e.consts.SortType.UNSORTED,n._columnSortTuple=null,n.indices=[],n.colIndices=[],n.cube_=e.Cube.getInstance(),n}return a(n,t),Object.defineProperty(n.prototype,"dataStorage",{get:function(){return null!=this._dataStorage?this._dataStorage:this.cube_.localDataStorage},set:function(e){this._dataStorage=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"slice",{get:function(){return null!=this._slice?this._slice:this.cube_.slice_},set:function(e){this._slice=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"measures",{get:function(){return this._measures},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"multiMeasures",{get:function(){return 1<this._measures.length},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dataLoaded",{get:function(){return this.slice&&this._dataLoaded},set:function(e){},enumerable:!0,configurable:!0}),n.getInstance=function(){return null==n.instance&&(n.instance=new n),n.instance},n.prototype.addEventListeners=function(){this.cube_.addEventListener(e.DataEvent.QUERY_COMPLETE,this.queryCompleteHandler,1)},n.prototype.removeEventListeners=function(){this.cube_.removeEventListener(e.DataEvent.QUERY_COMPLETE,this.queryCompleteHandler)},n.prototype.load=function(){null==this.dataStorage&&(this.dataStorage=this.cube_.localDataStorage,null==this.dataStorage)||this.slice&&(this.dataStorage.expand([],e.consts.AxisName.ROWS_AXIS,null),this.dataStorage.expand([],e.consts.AxisName.COLUMNS_AXIS,null),this.prepare(),this._dataLoaded=!0)},n.prototype.onQueryComplete=function(){this.load()},n.prototype.prepare=function(){var t,n,i,r=this.slice?this.slice.flatten(!0):new s.AssociativeArray;for(this.colIndices.length=0,this.colNames=new s.AssociativeArray,this._measures=new s.AssociativeArray,t=0;t<r.length;t++)i=r.getItemAt(t),null==(n=this.cube_.structure_.hierarchyToMeasure(i.uniqueName))&&(n=this.cube_.structure_.calculatedMeasures.getItem(i.uniqueName)),n&&this._measures.addItem(n.uniqueName,n),n=this.dataStorage.factKeys.indexOf(i.uniqueName),this.colIndices.push(n),this.colNames.addItem(i.uniqueName,this.colIndices.length-1);if(this.hasColumnSorting)this._sort();else for(t=0;t<r.length;t++)if((i=r.getItemAt(t)).sortName!=e.consts.SortType.UNSORTED){this._columnSortType=i.sortName,this._columnSortTuple=this.getColumnTuple(t),this._columnSortMeasure=this.cube_.structure_.hierarchyToMeasure(i.uniqueName),null==this._columnSortMeasure&&(this._columnSortMeasure=this.cube_.structure_.calculatedMeasures.getItem(i.uniqueName)),this.sort();break}},Object.defineProperty(n.prototype,"measuresPosition",{get:function(){return 0},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rowMaxDepth",{get:function(){return 0},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"columnMaxDepth",{get:function(){return 0},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"measureDepth",{get:function(){return 0},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rows",{get:function(){return new s.AssociativeArray},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rowsOnly",{get:function(){return new s.AssociativeArray},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rowLevels",{get:function(){return[]},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"columnLevels",{get:function(){return[]},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"columns",{get:function(){return new s.AssociativeArray},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"columnsOnly",{get:function(){return new s.AssociativeArray},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pages",{get:function(){return new s.AssociativeArray},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rowAxis",{get:function(){return new e._structure.Axis(e.consts.AxisName.ROWS_AXIS)},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"columnAxis",{get:function(){return new e._structure.Axis(e.consts.AxisName.COLUMNS_AXIS)},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rowCount",{get:function(){return 1},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"columnCount",{get:function(){return 0},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rowSortType",{get:function(){return null},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rowSortTuple",{get:function(){return null},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rowSortMeasure",{get:function(){return null},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hasRowSorting",{get:function(){return!1},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"columnSortType",{get:function(){return this._columnSortType},set:function(t){t=t.toLowerCase(),this._columnSortType=t==e.consts.SortType.ASC||t==e.consts.SortType.DESC?t:e.consts.SortType.UNSORTED},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"columnSortTuple",{get:function(){return this._columnSortTuple},set:function(e){this._columnSortTuple=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"columnSortMeasure",{get:function(){return this._columnSortMeasure},set:function(e){this._columnSortMeasure=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hasColumnSorting",{get:function(){return this._columnSortType!=e.consts.SortType.UNSORTED&&null!=this._columnSortTuple},set:function(e){},enumerable:!0,configurable:!0}),n.prototype.reset=function(t){this._dataLoaded=!1,this._sortedHierarchy=null,this._measures=new s.AssociativeArray,this.indices.length=0,this.colIndices.length=0,this.colNames=new s.AssociativeArray,this._columnSortTuple=this._columnSortMeasure=null,this._columnSortType=e.consts.SortType.UNSORTED},Object.defineProperty(n.prototype,"isEmpty",{get:function(){return 0==this.colIndices.length},set:function(e){},enumerable:!0,configurable:!0}),n.prototype.getRowDepth=function(e){return 0},n.prototype.getRowType=function(e){return 0},n.prototype.getColumnType=function(e){return 0},n.prototype.getColumnDepth=function(e){return 1},n.prototype.getRowHierarchyIdx=function(e){return 0},n.prototype.getRowHierarchy=function(e){return this.getColumnHierarchy(e)},n.prototype.getColumnHierarchyIdx=function(e){return 0},n.prototype.getColumnHierarchy=function(e){return this.cube_.structure_.allHierarchies().getItem(this.dataStorage.keys[e[0]])},Object.defineProperty(n.prototype,"dataWidth",{get:function(){return this.colIndices.length},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dataHeight",{get:function(){return this.dataStorage?this.dataStorage.result[0]:0},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"extendedDataWidth",{get:function(){return this.colIndices.length},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"extendedDataHeight",{get:function(){return this.dataStorage.getRowCount()},set:function(e){},enumerable:!0,configurable:!0}),n.prototype.isRowExpanded=function(e,t){return!1},n.prototype.isColumnExpanded=function(e,t){return!1},n.prototype.isRowDrilledDown=function(e,t,n){return!1},n.prototype.isColumnDrilledDown=function(e,t,n){return!1},n.prototype.isAggregated=function(e,t){return!1},n.prototype.getColumnTupleIndex=function(e){for(var t=0;t<this.colIndices.length;t++)if(this.colIndices[t].toString()==e.toString())return t;return-1},n.prototype.getRowTupleIndex=function(e){if(!(0<this.indices.length&&e[0]<this.indices.length))return e[0];for(var t=0;t<this.indices.length;t++)if(this.indices[t].toString()==e.toString())return t;return-1},n.prototype.getRowTuple=function(e,t){return 0>e?null:0<this.indices.length&&e<this.indices.length?[this.indices[e]]:[e]},n.prototype.getColumnTuple=function(e,t){return 0>e?null:0<this.colIndices.length&&e<this.colIndices.length?[this.colIndices[e]]:[e]},n.prototype.getColumnTupleByName=function(e,t){void 0===t&&(t=!1);var n=this.colNames.getItem(e);return this.getColumnTuple(n,t)},n.prototype.getColumnTupleForExport=function(e){return null},n.prototype.getRowMeasure=function(e){return null},n.prototype.getRowMeasureIndex=function(e){return 0},n.prototype.getColumnMeasure=function(e){return null},n.prototype.getColumnMeasureIndex=function(e){return 0},n.prototype.getMeasure=function(e,t){var n=this.getColumnTuple(t);return this._measures.getItem(this.dataStorage.factKeys[n[0]])},n.prototype.getUpdatedValue=function(e,t,n){return this.dataStorage.getFlatUpdatedValue(null==e?null:e[0],n)},n.prototype.getValue=function(t,n,i){return null==n&&null==t?this.dataStorage.getValue([],[],i):this.dataStorage.getFlatValue(t[0],n[0],i,i.type!=e.types.MeasureType.COUNT)},n.prototype.getRecordId=function(e,t,n){return null==t&&null==e?null:this.dataStorage.getRecordId(e[0],t[0],n)},n.prototype.sort=function(){this._sort()},n.prototype._sort=function(){if(this.hasColumnSorting){this._columnSortMeasure.type!=e.types.MeasureType.COUNT?this.sortRowsByValue():this.sortRowsByMembers(),this._sortedHierarchy&&(this._sortedHierarchy.sortName=e.consts.SortType.UNSORTED);var t=this.getColumnHierarchy(this._columnSortTuple);t&&(t.sortName=this._columnSortType,this._sortedHierarchy=t)}},n.prototype.sortRowsByValue=function(){var t,n,i=[];for(t=0;t<this.extendedDataHeight;t++)n=this.getValue([t],this._columnSortTuple,this._columnSortMeasure),i[t]=isNaN(n)?Number.NEGATIVE_INFINITY:n;this.indices=s.ArrayUtils.sort(i,this._columnSortType!=e.consts.SortType.DESC?s.ArrayUtils.NUMERIC|s.ArrayUtils.RETURNINDEXEDARRAY:s.ArrayUtils.NUMERIC|s.ArrayUtils.DESCENDING|s.ArrayUtils.RETURNINDEXEDARRAY)},n.prototype.sortRowsByMembers=function(){var t=this,n=this.getColumnHierarchy(this._columnSortTuple);if(null!=n){var i,r,o=[],a=(i=n.levels_.getItemAt(1).type)==e.types.LevelType.YEAR||i==e.types.LevelType.MONTH||i==e.types.LevelType.DAY;for(i=0;i<this.extendedDataHeight;i++)r=this.getValue([i],this._columnSortTuple,this._columnSortMeasure),r=n.members.getItemAt(r),o.push(a?r.uniqueName:r.caption);if(a){for(this.sortedIndex={},a=n.sortChildren(n.allMember,!1,this._columnSortType),i=0;i<n.members.length;i++)r=n.members.getItemAt(i),this.sortedIndex[r.uniqueName]=a.indexOf(r.uniqueName);this.indices=s.ArrayUtils.sort(o,s.ArrayUtils.RETURNINDEXEDARRAY,function(e,n){return t.sortFunction(e,n)})}else this.indices=s.ArrayUtils.sort(o,this._columnSortType!=e.consts.SortType.DESC?s.ArrayUtils.RETURNINDEXEDARRAY:s.ArrayUtils.DESCENDING|s.ArrayUtils.RETURNINDEXEDARRAY)}},n.prototype.sortFunction=function(e,t){var n=this.sortedIndex[e],i=this.sortedIndex[t];return n>i?1:n<i?-1:0},n.prototype.calculate=function(e,t,n,i){return this.dataStorage.calculateFlat(e,t,n,i)},n.prototype.expandData=function(e){},n.prototype.collapseData=function(e){},n.prototype.expandAll=function(){},Object.defineProperty(n.prototype,"lastRowsTupleInteracted",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"lastColsTupleInteracted",{get:function(){return null},enumerable:!0,configurable:!0}),n.prototype.expand=function(e,t,n,i){},n.prototype.collapse=function(e,t,n,i){},n.prototype.drillUp=function(e,t,n,i){},n.prototype.drillDown=function(e,t,n,i){},n.prototype.drillThrough=function(e,t,n){return[]},n.prototype.save=function(e,t,n,i,r){this.dataStorage.saveFlat(e,t,n,i,r)},Object.defineProperty(n.prototype,"isClassic",{get:function(){return!1},set:function(e){},enumerable:!0,configurable:!0}),n.dispose=function(){n.instance&&(n.instance.removeAllEventListeners(),n.instance.removeEventListeners()),n.instance=null},n}(t.EventDispatcher),n.FlatViewDataProvider=i}(e.data_||(e.data_={}))}(r||(r={})),function(e){!function(e){!function(e){var t=function(t){function n(){return t.call(this)||this}return a(n,t),n.getInstance=function(){return null==n._instance&&((n._instance=new n)._name="chart"+e.ViewDataProvider.counter),n._instance},Object.defineProperty(n.prototype,"isClassic",{get:function(){return!1},set:function(e){},enumerable:!0,configurable:!0}),n.dispose=function(){n._instance&&(n._instance.removeEventListeners(),n._instance.removeAllEventListeners()),n._instance=null},n}(e.ViewDataProvider);e.ChartDataProvider=t}(e.dataprovider_||(e.dataprovider_={}))}(e.data_||(e.data_={}))}(r||(r={})),function(e){var t;!function(t){var n=function(){function t(e,t){void 0===t&&(t=""),this.data={},this.uniqueName=e,this.caption=t}return Object.defineProperty(t.prototype,"caption",{get:function(){return this._caption},set:function(t){null==t&&(t=""),t=t.toString(),this._caption="number"==typeof t?""+t:""==t.trim()?e.model._labels.Labels.MEMBER_BLANK:t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"uniqueName",{get:function(){return this._uniqueName},set:function(e){this._uniqueName=e},enumerable:!0,configurable:!0}),t.prototype._getProperty=function(e){if(this._hasProperty(e))return this.data[e]},t.prototype._setProperty=function(e,t){this.data[e]=t},t.prototype._hasProperty=function(e){return this.data.hasOwnProperty(e)},t.prototype.toString=function(){return this.uniqueName},t.prototype.toObject=function(){var e={};return e.caption=this.caption,e.uniqueName=this.uniqueName,e},t.prototype.fromObject=function(e){for(var t in e)null!=this[t]&&(this[t]=e[t])},t}();t.GenericElement=n}((t=e.data_||(e.data_={}))._structure||(t._structure={}))}(r||(r={})),function(e){var t,n,i;t=e.data_||(e.data_={}),i=function(i){function r(e,o){void 0===o&&(o="");var a=i.call(this,e,o)||this;a._type=1,a._origin=0,a._folder="",a._allMemberName="",a._sortName=r.DEFAULT_SORT_NAME,a._sortAs=null,a._filter=new s.AssociativeArray,a._filterMembers=new s.AssociativeArray,a.__filterMembersChanged=!1,a._filterMembersNegated=new s.AssociativeArray,a.__filterMembersNegatedChanged=!1,a._members=new s.AssociativeArray,a._drilledDownMembers=new s.AssociativeArray,a._levels=new s.AssociativeArray,a._isHierarchy=!1,a._filterEnabled=!0,a._predefinedDrillDowns=[],a.cache=[],a.cacheWithDescendants=[],a._filterType=t.consts.FilterType.NONE,a._filterQuantity=-1,a._filterMeasureName="";var l=e+".(All)",c=new n.GenericLevel(l,"All",0);a.addLevel(c);var u=new n.GenericMember(c=e+".(All Member)","All");return a.addMember(u,l),a.allMemberName=c,a}return a(r,i),Object.defineProperty(r.prototype,"dimension",{get:function(){return this._dimension},set:function(e){this._dimension=e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"type",{get:function(){return this._type},set:function(e){this._type=e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"origin",{get:function(){return this._origin},set:function(e){this._origin=e,this._isHierarchy=1==(1&e)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"quantity",{get:function(){return this.members.length},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"folder",{get:function(){return this._folder},set:function(e){this._folder="undefined"==e?"":e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"levels_",{get:function(){return this._levels},set:function(e){},enumerable:!0,configurable:!0}),r.prototype.addLevel=function(e){e.hierarchy=this,this._levels.addItem(e.uniqueName,e),this._drilledDownMembers.addItemAt(e.uniqueName,new s.AssociativeArray,e.num)},r.prototype.addLevelAt=function(e,t){e.hierarchy=this,this._levels.addItemAt(e.uniqueName,e,t);for(var n=2;n<this._levels.length;n++)this._levels.getItemAt(n).num++;this._drilledDownMembers.addItemAt(e.uniqueName,new s.AssociativeArray,e.num)},r.prototype.findLevel=function(e){return this._levels.getItem(e)},Object.defineProperty(r.prototype,"isHierarchy",{get:function(){return 2<this.levels_.length},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isMeasures",{get:function(){return this.uniqueName==t.Cube.MEASURES_NAME},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"filterEnabled",{get:function(){return this._filterEnabled},set:function(e){this._filterEnabled=e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"members",{get:function(){return this._members},set:function(e){},enumerable:!0,configurable:!0}),r.prototype.clear=function(){this._members=new s.AssociativeArray},r.prototype.addMember=function(t,n,i){void 0===n&&(n=""),void 0===i&&(i=""),""==n&&(n=this.levels_&&1<this.levels_.length?this.levels_.getItemAt(1).uniqueName:this.uniqueName+"."+this.caption,this.caption==e.model._labels.Labels.MEMBER_BLANK&&(n=this.uniqueName+".[]")),null==this.findMember(t.uniqueName)&&(t.hierarchy_=this,t.parent=this.findMember(i)||this.allMember,t.level=this.findLevel(n),null!=t.parent&&t.parent.addChild(t),t.ordinal=this._members.length,this._members.addItem(t.uniqueName,t),this.cache=[],this.cacheWithDescendants=[])},r.prototype.drillDownMember=function(e){null!=e&&(e.isDrilledDown=!0,this._drilledDownMembers.getItem(e.level.uniqueName).addItem(e.uniqueName,e))},r.prototype.drillUpMember=function(e){e.isDrilledDown=!1,this._drilledDownMembers.getItem(e.level.uniqueName).removeItem(e.uniqueName),e=e.descendants;for(var t=0;t<e.length;t++){var n=e.getItemAt(t);n.isDrilledDown&&this.drillUpMember(n)}},r.prototype.drilledDownMembers=function(e){return this._drilledDownMembers.getItem(e.uniqueName)},Object.defineProperty(r.prototype,"drillDownDepth",{get:function(){for(var e=1;e<this.levels_.length;e++){var t=this.levels_.getItemAt(e);if(0==this.drilledDownMembers(t).length)return e}return 1},set:function(e){},enumerable:!0,configurable:!0}),r.prototype.findMemberByCaption=function(e){for(var t=0;t<this.members.length;t++)if(this.members.getItemAt(t).caption==e)return this.members.getItemAt(t);return null},r.prototype.findMember=function(e){return this.members.getItem(e)},r.prototype.clearSort=function(e){void 0===e&&(e=!1),this.sortName=e?t.consts.SortType.UNSORTED:r.DEFAULT_SORT_NAME},r.prototype.clearSortCache=function(){this.cache=[]},Object.defineProperty(r.prototype,"sortName",{get:function(){return this._sortName},set:function(e){this._sortName=e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"sortAs",{get:function(){return this._sortAs},set:function(e){this._sortAs=e},enumerable:!0,configurable:!0}),r.prototype.sort=function(){return this.sortChildren(this.allMember)},r.prototype.sortChildren=function(e,n,i){if(void 0===n&&(n=!0),void 0===i&&(i=""),null==e)return new s.AssociativeArray;if(t.consts.SortType.isValid(i)||(i=this._sortName),n){if(null!=this.cacheWithDescendants[e.ordinal]){if(null!=this.cacheWithDescendants[e.ordinal][i])return this.cacheWithDescendants[e.ordinal][i];if(!this.isHierarchy){if(i==t.consts.SortType.DESC&&null!=this.cacheWithDescendants[e.ordinal][t.consts.SortType.ASC])return this.cacheWithDescendants[e.ordinal][t.consts.SortType.DESC]=this.cacheWithDescendants[e.ordinal][t.consts.SortType.ASC].reverse(),this.cacheWithDescendants[e.ordinal][t.consts.SortType.DESC];if(i==t.consts.SortType.ASC&&null!=this.cacheWithDescendants[e.ordinal][t.consts.SortType.DESC])return this.cacheWithDescendants[e.ordinal][t.consts.SortType.ASC]=this.cacheWithDescendants[e.ordinal][t.consts.SortType.DESC].reverse(),this.cacheWithDescendants[e.ordinal][t.consts.SortType.ASC]}}}else if(null!=this.cache[e.ordinal]){if(null!=this.cache[e.ordinal][i])return this.cache[e.ordinal][i];if(!this.isHierarchy){if(i==t.consts.SortType.DESC&&null!=this.cache[e.ordinal][t.consts.SortType.ASC])return this.cache[e.ordinal][t.consts.SortType.DESC]=this.cache[e.ordinal][t.consts.SortType.ASC].reverse(),this.cache[e.ordinal][t.consts.SortType.DESC];if(i==t.consts.SortType.ASC&&null!=this.cache[e.ordinal][t.consts.SortType.DESC])return this.cache[e.ordinal][t.consts.SortType.ASC]=this.cache[e.ordinal][t.consts.SortType.DESC].reverse(),this.cache[e.ordinal][t.consts.SortType.ASC]}}var r,o=this._sortName;return this._sortName=i,1e6<(r=n?e.descendants:e.children).length?r=n?e.descendants:e.children:this._sortName==t.consts.SortType.UNSORTED?0<(r=n?e.descendants:e.children).length&&r.getItemAt(0).isAll&&r.removeItemAt(0):r=this.sortByCaption(e,n),n?(null==this.cacheWithDescendants[e.ordinal]&&(this.cacheWithDescendants[e.ordinal]=[]),this.cacheWithDescendants[e.ordinal][i]=r):(null==this.cache[e.ordinal]&&(this.cache[e.ordinal]=[]),this.cache[e.ordinal][i]=r),this._sortName=o,r},r.prototype._sortByCaptionOptimized=function(e,n){var i=(r=e.getChildrenCaptions()).captions,r=r.members;this._sortName==t.consts.SortType.DESC&&(i=i.reverse(),r=r.reverse());for(var o=new s.AssociativeArray,a=0;a<i.length;a++)if(null!=i[a]){var l;this._sortName==t.consts.SortType.ASC&&(l=s.ArrayUtils.sort(i[a],s.ArrayUtils.CASEINSENSITIVE|s.ArrayUtils.RETURNINDEXEDARRAY)),this._sortName==t.consts.SortType.DESC&&(l=s.ArrayUtils.sort(i[a],s.ArrayUtils.DESCENDING|s.ArrayUtils.CASEINSENSITIVE|s.ArrayUtils.RETURNINDEXEDARRAY));for(var c=0;c<l.length;c++){var u=r[a][l[c]];o.addUniqueItem(u.uniqueName,u),n&&0<(u=this.sortChildren(u)).length&&o.concat(u,!1)}}return o},r.prototype.checkIfMonth=function(n){try{if("month"==n.level.caption.toLowerCase())return!0;if(12<n.children.length)return!1;for(var i=0;i<n.children.length;i++){var r=n.children.getItemAt(i).caption.split(" ")[0];if(-1==e.model._labels.Labels.MONTHS_LABELS.indexOf(r)&&-1==e.model._labels.Labels.MONTHS_LABELS_SHORT.indexOf(r))return!1}var o=n.hierarchy_.levels_.indexOf(n.level.uniqueName);return!(n.hierarchy_.levels_.length<o+2||(n.hierarchy_.levels_.getItemAt(o+1).type=t.types.LevelType.MONTH,n.hierarchy_.levels_.getItemAt(o+2).type=t.types.LevelType.DAY,0))}catch(s){}return!1},r.prototype.sortByCaption=function(e,n){var i=this.levels_.getItemAt(e.level.num+1),r=i&&i.type==t.types.LevelType.YEAR,o=i&&i.type==t.types.LevelType.HALFYEAR,a=i&&i.type==t.types.LevelType.QUARTER,l=i&&i.type==t.types.LevelType.MONTH,c=i&&i.type==t.types.LevelType.WEEK,u=i&&i.type==t.types.LevelType.DAY,d=i&&i.type==t.types.LevelType.HOUR,h=i&&i.type==t.types.LevelType.MINUTE,p=i&&i.type==t.types.LevelType.NUMBER,f=i&&i.type==t.types.LevelType.TIME||i&&i.type==t.types.LevelType.DATE,A=i&&i.type==t.types.LevelType.TIME_DATE,g=this.sortAs==t.consts.SortType.NUMERIC_RANGE;if(!(a||l||c||f||u||d||h||p||A)){if(1e3<e.children.length)return this._sortByCaptionOptimized(e,n);this.checkIfMonth(e)&&(l=!0)}var m=e.children.toArray();for(a||l||c||u||d||h||A||o||r?m=this.sortOrdinal(m,i?i.type:-1):f?m=this.sortDate(m):p?(this._sortName==t.consts.SortType.ASC&&s.ArrayUtils.sortOn(m,"levelOrdinal",s.ArrayUtils.NUMERIC),this._sortName==t.consts.SortType.DESC&&s.ArrayUtils.sortOn(m,"levelOrdinal",s.ArrayUtils.DESCENDING|s.ArrayUtils.NUMERIC)):g?m.sort(this.numericRangeSort):(this._sortName==t.consts.SortType.ASC&&s.ArrayUtils.sortOn(m,"caption",s.ArrayUtils.CASEINSENSITIVE),this._sortName==t.consts.SortType.DESC&&s.ArrayUtils.sortOn(m,"caption",s.ArrayUtils.DESCENDING|s.ArrayUtils.CASEINSENSITIVE)),i=new s.AssociativeArray,r=0;r<m.length;r++)i.addUniqueItem((o=m[r]).uniqueName,o),n&&!e.isLeaf&&0<(o=this.sortChildren(o,n)).length&&i.concat(o,!1);return i},r.prototype.sortOrdinal=function(e,n){return n==t.types.LevelType.MONTH?e=this.sortMonths(e):n==t.types.LevelType.DAY?e=this.sortWeekdays(e):n==t.types.LevelType.QUARTER||n==t.types.LevelType.HALFYEAR||n==t.types.LevelType.YEAR?e=s.ArrayUtils.sortOn(e,"caption",s.ArrayUtils.CASEINSENSITIVE|(this.sortName==t.consts.SortType.DESC?s.ArrayUtils.DESCENDING:0)):(this.sortName==t.consts.SortType.ASC&&s.ArrayUtils.sortOn(e,"levelOrdinal",s.ArrayUtils.NUMERIC),this.sortName==t.consts.SortType.DESC&&s.ArrayUtils.sortOn(e,"levelOrdinal",s.ArrayUtils.DESCENDING|s.ArrayUtils.NUMERIC)),e},r.prototype.sortMonths=function(e){for(var n=this,i=[],r=[],o=0;o<e.length;++o){var a=e[o];this._checkIfMonth(a.caption)?r.push(a):i.push(a)}return this.sortName==t.consts.SortType.ASC&&s.ArrayUtils.sortOn(i,"caption",s.ArrayUtils.CASEINSENSITIVE),this.sortName==t.consts.SortType.DESC&&s.ArrayUtils.sortOn(i,"caption",s.ArrayUtils.DESCENDING|s.ArrayUtils.CASEINSENSITIVE),r.sort(function(e,t){return n.dateTimeMonthSort(e,t)}),r.concat(i)},r.prototype.sortWeekdays=function(e){for(var n=this,i=[],r=[],o=0;o<e.length;++o){var a=e[o];this._checkIfWeekday(a.caption)?r.push(a):i.push(a)}return this.sortName==t.consts.SortType.ASC&&s.ArrayUtils.sortOn(i,"caption",s.ArrayUtils.CASEINSENSITIVE|s.ArrayUtils.NUMERIC),this.sortName==t.consts.SortType.DESC&&s.ArrayUtils.sortOn(i,"caption",s.ArrayUtils.DESCENDING|s.ArrayUtils.CASEINSENSITIVE|s.ArrayUtils.NUMERIC),r.sort(function(e,t){return n.weekDaySort(e,t)}),r.concat(i)},r.prototype._checkIfMonth=function(t){return-1!=e.model._labels.Labels.MONTHS_LABELS.indexOf(t)||-1!=e.model._labels.Labels.MONTHS_LABELS_SHORT.indexOf(t)},r.prototype._checkIfWeekday=function(t){return-1!=e.model._labels.Labels.WEEKDAYS_LABELS.indexOf(t)||-1!=e.model._labels.Labels.WEEKDAYS_LABELS_SHORT.indexOf(t)},r.prototype.dateTimeMonthSort=function(n,i){var r=e.model._labels.Labels.MONTHS_LABELS.indexOf(this.sortName==t.consts.SortType.ASC?n.caption:i.caption);-1==r&&(r=e.model._labels.Labels.MONTHS_LABELS_SHORT.indexOf(this.sortName==t.consts.SortType.ASC?n.caption:i.caption));var o=e.model._labels.Labels.MONTHS_LABELS.indexOf(this.sortName==t.consts.SortType.ASC?i.caption:n.caption);return-1==o&&(o=e.model._labels.Labels.MONTHS_LABELS_SHORT.indexOf(this.sortName==t.consts.SortType.ASC?i.caption:n.caption)),r>o?1:r<o?-1:0},r.prototype.weekDaySort=function(n,i){var r=e.model._labels.Labels.WEEKDAYS_LABELS.indexOf(this.sortName==t.consts.SortType.ASC?n.caption:i.caption);-1==r&&(r=e.model._labels.Labels.WEEKDAYS_LABELS_SHORT.indexOf(this.sortName==t.consts.SortType.ASC?n.caption:i.caption));var o=e.model._labels.Labels.WEEKDAYS_LABELS.indexOf(this.sortName==t.consts.SortType.ASC?i.caption:n.caption);return-1==o&&(o=e.model._labels.Labels.WEEKDAYS_LABELS_SHORT.indexOf(this.sortName==t.consts.SortType.ASC?i.caption:n.caption)),r>o?1:r<o?-1:0},r.prototype.sortDate=function(e){return this._sortName==t.consts.SortType.ASC&&s.ArrayUtils.sortOn(e,"levelOrdinal",s.ArrayUtils.NUMERIC),this._sortName==t.consts.SortType.DESC&&s.ArrayUtils.sortOn(e,"levelOrdinal",s.ArrayUtils.DESCENDING|s.ArrayUtils.NUMERIC),e},r.prototype.numericRangeSort=function(e,t){var n=e.caption.match(/(?:\d*\.)?\d+/),i=t.caption.match(/(?:\d*\.)?\d+/);return(n=n&&0<n.length?parseFloat(n[0]):Number.POSITIVE_INFINITY)>(i=i&&0<i.length?parseFloat(i[0]):Number.POSITIVE_INFINITY)?1:n<i?-1:0},r.prototype.membersByLevel=function(e){e=this._levels.getItem(e).num;for(var t=new s.AssociativeArray,n=this.sort(),i=0;i<n.length;i++){var r=n.getItemAt(i);r&&r.level.num==e&&t.addItem(r.uniqueName,r)}return t},Object.defineProperty(r.prototype,"filter",{get:function(){return 0<this._filter.length?this._filter:this.filterMembers},set:function(e){this._filter=e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"filterMembers",{get:function(){return this.__filterMembersNegatedChanged&&(this._filterMembers=new s.AssociativeArray,0<this._filterMembersNegated.length&&(this._filterMembers=this.createOpposite(this._filterMembersNegated)),this.__filterMembersNegatedChanged=!1),this._filterMembers},set:function(e){e.length+1==this.members.length&&(e=new s.AssociativeArray),this.__filterMembersChanged=!0,this._filterMembers=e,this._filterMembersNegated=new s.AssociativeArray},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"filterMembersNegated",{get:function(){return this.__filterMembersChanged&&(this._filterMembersNegated=new s.AssociativeArray,0<this._filterMembers.length&&(this._filterMembersNegated=this.createOpposite(this._filterMembers)),this.__filterMembersChanged=!1),this._filterMembersNegated},set:function(e){e.length+1==this.members.length&&(e=new s.AssociativeArray),this.__filterMembersNegatedChanged=!0,this._filterMembersNegated=e,this._filterMembers=new s.AssociativeArray},enumerable:!0,configurable:!0}),r.prototype.createOpposite=function(e){for(var t=this.members.slice(1),n=0;n<e.length;n++){var i=e.getItemAt(n);t.removeItem(i.uniqueName),this.removeMemberChildren(t,i),i.parent&&this.removeMemberParent(t,i.parent)}return this.checkMemberChildren(t,this.allMember),t},r.prototype.checkMemberChildren=function(e,t){for(var n=0;n<t.children.length;n++){var i=t.children.getItemAt(n);0<i.children.length&&(e.getItem(i.uniqueName)?e.getItem(i.children.getItemAt(0).uniqueName)&&this.removeMemberChildren(e,i):this.checkMemberChildren(e,i))}},r.prototype.removeMemberChildren=function(e,t){if(t)for(var n=t.children,i=0;i<n.length;i++)e.removeItem(n.getItemAt(i).uniqueName),this.removeMemberChildren(e,n.getItemAt(i))},r.prototype.removeMemberParent=function(e,t){t&&(e.removeItem(t.uniqueName),t.parent&&this.removeMemberParent(e,t.parent))},Object.defineProperty(r.prototype,"filterType",{get:function(){return-1==this._filterQuantity?t.consts.FilterType.NONE:this._filterType},set:function(e){e=e.toLowerCase(),this._filterType=e==t.consts.FilterType.TOP||e==t.consts.FilterType.BOTTOM?e:t.consts.FilterType.NONE},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"filterQuantity",{get:function(){return this._filterQuantity},set:function(e){isNaN(e)||1>e?(this._filterQuantity=-1,this._filterType=t.consts.FilterType.NONE):this._filterQuantity=e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"filterMeasureName",{get:function(){return this._filterMeasureName},set:function(e){this._filterMeasureName=e},enumerable:!0,configurable:!0}),r.prototype.clearFilter=function(){this.clearMembersFilter(),this.clearValuesFilter()},r.prototype.clearMembersFilter=function(){this._filter=new s.AssociativeArray,this._filterMembers=new s.AssociativeArray,this._filterMembersNegated=new s.AssociativeArray},r.prototype.clearValuesFilter=function(){this._filter=new s.AssociativeArray,this._filterQuantity=-1,this._filterType=t.consts.FilterType.NONE,this._filterMeasureName=""},r.prototype.hasFilter=function(){return this.hasMembersFilter()||this.hasValuesFilter()},r.prototype.hasMembersFilter=function(){return 0<this._filterMembers.length||0<this._filterMembersNegated.length},r.prototype.hasValuesFilter=function(){return this._filterType&&this.filterType!=t.consts.FilterType.NONE},r.prototype.filterByLevel=function(e){for(var t=new s.AssociativeArray,n=0<this._filter.length?this._filter:this._filterMembers,i=0;i<n.length;i++){var r=n.getItemAt(i);r.level.num==e&&t.addItem(r.uniqueName,r)}return t},Object.defineProperty(r.prototype,"allMemberName",{get:function(){return this._allMemberName},set:function(e){this._allMemberName=e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"allMember",{get:function(){return this._allMember||(this._allMember=this.findMember(this._allMemberName),this.drillDownMember(this._allMember)),this._allMember},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"predefinedDrillDowns",{get:function(){return this._predefinedDrillDowns},set:function(e){this._predefinedDrillDowns=e},enumerable:!0,configurable:!0}),r.toObject=function(e){var t={};return t.uniqueName=e.uniqueName,t.caption=e.caption,t.filterEnabled=e.filterEnabled,t.sortName=e.sortName,t.sortAs=e.sortAs,t.type=e.type,t.filter=r.filterToObject(e),t},r.filterToObject=function(e){if(0==e.hasFilter())return null;var t={};return e.hasValuesFilter()&&(t={type:e.filterType,quantity:e.filterQuantity,measure:e.filterMeasureName,measureName:e.filterMeasureName}),e.hasMembersFilter()&&(e.filterMembers.length<e.members.length/2?t.members=e.filterMembers.toArray(!0):(t.negation=!0,t.members=e.filterMembersNegated.toArray(!0))),t},r.fromObject=function(e,t){return void 0===t&&(t=null),null==t&&(t=new r(e.uniqueName)),e.hasOwnProperty("caption")&&(t.caption=e.caption),e.hasOwnProperty("sortName")&&(t.sortName=e.sortName),e.hasOwnProperty("sortAs")&&(t.sortAs=e.sortAs),e.hasOwnProperty("filterEnabled")&&(t.filterEnabled=e.filterEnabled),e.hasOwnProperty("type")&&(t.type=e.type),e.hasOwnProperty("origin")&&(t.origin=e.origin),e.hasOwnProperty("folder")&&(t.folder=e.folder),e.hasOwnProperty("filter")&&r.filterFromObject(e.filter,t),e.hasOwnProperty("allMemberName")&&(t.allMemberName=e.allMemberName),t},r.filterFromObject=function(e,n){if(null!=e){if(e.hasOwnProperty("members")){for(var i,r,o=new s.AssociativeArray,a=0;a<e.members.length;a++)null!=(r=n.findMember(i="string"==typeof e.members[a]?e.members[a]:e.members[a].uniqueName))&&o.addItem(i,r);e.negation?n.filterMembersNegated=o:n.filterMembers=o}i=e.hasOwnProperty("type")?e.type:t.consts.FilterType.NONE,r=e.hasOwnProperty("quantity")?Number(e.quantity):-1,o="",e.hasOwnProperty("measureName")&&(o=e.measureName),e.hasOwnProperty("measure")&&(o=e.measure),i!=t.consts.FilterType.NONE&&(n.filterType=i,n.filterQuantity=r,n.filterMeasureName=o)}},r.DEFAULT_SORT_NAME="asc",r}((n=t._structure||(t._structure={})).GenericElement),n.GenericHierarchy=i}(r||(r={})),function(e){!function(e){!function(e){var t=function(e){function t(t,n,i){return void 0===n&&(n=""),void 0===i&&(i=0),(t=e.call(this,t,n)||this)._type=1,t._properties=new s.AssociativeArray,t._number=i,t}return a(t,e),Object.defineProperty(t.prototype,"num",{get:function(){return this._number},set:function(e){this._number=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this._type},set:function(e){this._type=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isLast",{get:function(){return this._hierarchy.levels_.length-1==this._number},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hierarchy",{get:function(){return this._hierarchy},set:function(e){this._hierarchy=e},enumerable:!0,configurable:!0}),t}(e.GenericElement);e.GenericLevel=t}(e._structure||(e._structure={}))}(e.data_||(e.data_={}))}(r||(r={})),function(e){!function(e){var t,n;n=function(t){function n(e,n){var i=t.call(this,e,n)||this;return i._ordinal=1,i._levelOrdinal=0,i._isDrilledDown=!1,i._numDescendants=-1,i._hasCaptionSorting=-1,i}return a(n,t),Object.defineProperty(n.prototype,"ordinal",{get:function(){return this._ordinal},set:function(e){this._ordinal=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"levelOrdinal",{get:function(){return this._levelOrdinal},set:function(e){this._levelOrdinal=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hierarchy_",{get:function(){return this._hierarchy},set:function(e){this._hierarchy=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){return this._parent},set:function(e){this._parent=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"root",{get:function(){if(2>this._level.num)return this;var e=this;do{e=e.parent}while(1<e.level.num);return e},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"level",{get:function(){return this._level},set:function(e){this._level=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isAll",{get:function(){return null!=this.hierarchy_.allMember&&this.hierarchy_.allMember.uniqueName==this.uniqueName},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isDrilledDown",{get:function(){return this._isDrilledDown},set:function(e){this._isDrilledDown=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"children",{get:function(){return this._hasProperty("_children_")?this._getProperty("_children_"):new s.AssociativeArray},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"descendants",{get:function(){if(this._hasProperty("_descendants_"))return this._getProperty("_descendants_");var e=new s.AssociativeArray;if(e.addItem(this.uniqueName,this),0==this.numDescendants)return e;for(var t=this.children.length,n=0;n<t;n++){var i=this.children.getItemAt(n);i.isLeaf?e.addItem(i.uniqueName,i):0<i.numDescendants?e.concat(i.descendants,!1):e.addItem(i.uniqueName,i)}return 0<e.length&&this._setProperty("descendants",e),e},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"numDescendants",{get:function(){if(-1<this._numDescendants)return this._numDescendants;if(!this._hasProperty("_children_"))return this._numDescendants=0;for(var e=this.children.length,t=e,n=0;n<e;n++)t+=this.children.getItemAt(n).numDescendants;return t},set:function(e){},enumerable:!0,configurable:!0}),n.prototype.getChildrenCaptions=function(){return{captions:this.captions,members:this.captionMembers}},n.prototype.clearDescendantsCache=function(){this._hasProperty("_descendants_")&&delete this._descendants_,this.parent&&this.parent.clearDescendantsCache()},Object.defineProperty(n.prototype,"captions",{get:function(){return this._hasProperty("_captions_")||(this.captions=[]),this._getProperty("_captions_")},set:function(e){this._setProperty("_captions_",e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"captionMembers",{get:function(){return this._hasProperty("_captionMembers_")||(this.captionMembers=[]),this._getProperty("_captionMembers_")},set:function(e){this._setProperty("_captionMembers_",e)},enumerable:!0,configurable:!0}),n.prototype.addChild=function(e){var t=this.children;t.addItem(e.uniqueName,e),this._setProperty("_children_",t),e.parent=this,this._numDescendants=-1,this.clearDescendantsCache(),1==this.hasCaptionSorting(e)&&(t=e.caption.charAt(0).toLowerCase().charCodeAt(0),null==this.captions[t]&&(this.captions[t]=[],this.captionMembers[t]=[]),this.captions[t].push(e.caption),this.captionMembers[t].push(e)),1e6<this.children.length&&(this._hasCaptionSorting=0,this.captions=[],this.captionMembers=[])},n.prototype.removeChild=function(e){if(this.children.removeItem(e.uniqueName),this.clearDescendantsCache(),1==this.hasCaptionSorting(e)){var t=e.caption.charAt(0).toLowerCase().charCodeAt(0);e=this.captions[t].indexOf(e.caption),this.captions[t].splice(e,1),this.captionMembers[t].splice(e,1)}},n.prototype.hasCaptionSorting=function(t){return-1!=this._hasCaptionSorting?this._hasCaptionSorting:this._hasCaptionSorting=t.level.type==e.types.LevelType.HOUR||t.level.type==e.types.LevelType.MINUTE||t.level.type==e.types.LevelType.DAY||t.level.type==e.types.LevelType.NUMBER?0:1},n.prototype.toString=function(){return this.uniqueName+" : "+this._ordinal},Object.defineProperty(n.prototype,"isLeaf",{get:function(){return!this._hasProperty("_children_")||0==this.children.length},set:function(e){},enumerable:!0,configurable:!0}),n.toObject=function(e){var t={};return t.uniqueName=e.uniqueName,t.caption=e.caption,t.hierarchyName=e.hierarchy_.uniqueName,t},n}((t=e._structure||(e._structure={})).GenericElement),t.GenericMember=n}(e.data_||(e.data_={}))}(r||(r={})),function(e){var t,n,i;t=e.data_||(e.data_={}),i=function(i){function r(e,n){void 0===n&&(n="");var r=i.call(this,e,n)||this;return r._folder="",r._format="",r._type=t.types.MeasureType.NUMBER,r._grandTotalCaption="",r._defaultAggregation=t.consts.AggregationName.SUM,r._aggregation="",r._availableAggregations=[],r._params=[],r._formula="",r._individual=!1,r._hidden=!1,r._defaultAggregation=t.consts.AggregationName.SUM,r}return a(r,i),Object.defineProperty(r.prototype,"caption",{get:function(){if(this._customCaption)return this._customCaption;if(0==e.model._options.OptionsManager.showAggregationLabels)return this._caption;switch(this.aggregation){case t.consts.AggregationName.COUNT:return s.StringUtils.bind(e.model._labels.Labels.COUNT_TOTAL_CAPTION,this._caption);case t.consts.AggregationName.PRODUCT:return s.StringUtils.bind(e.model._labels.Labels.PRODUCT_TOTAL_CAPTION,this._caption);case t.consts.AggregationName.DISTINCT_COUNT:return s.StringUtils.bind(e.model._labels.Labels.DISTINCT_COUNT_TOTAL_CAPTION,this._caption);case t.consts.AggregationName.AVERAGE:return s.StringUtils.bind(e.model._labels.Labels.AVERAGE_TOTAL_CAPTION,this._caption);case t.consts.AggregationName.MAX:return s.StringUtils.bind(e.model._labels.Labels.MAX_TOTAL_CAPTION,this._caption);case t.consts.AggregationName.MIN:return s.StringUtils.bind(e.model._labels.Labels.MIN_TOTAL_CAPTION,this._caption);case t.consts.AggregationName.PERCENT:return s.StringUtils.bind(e.model._labels.Labels.PERCENT_TOTAL_CAPTION,this._caption);case t.consts.AggregationName.PERCENT_COLUMN:return s.StringUtils.bind(e.model._labels.Labels.PERCENT_COLUMN_TOTAL_CAPTION,this._caption);case t.consts.AggregationName.PERCENT_ROW:return s.StringUtils.bind(e.model._labels.Labels.PERCENT_ROW_TOTAL_CAPTION,this._caption);case t.consts.AggregationName.INDEX:return s.StringUtils.bind(e.model._labels.Labels.INDEX_TOTAL_CAPTION,this._caption);case t.consts.AggregationName.DIFFERENCE:return s.StringUtils.bind(e.model._labels.Labels.DIFFERENCE_TOTAL_CAPTION,this._caption);case t.consts.AggregationName.PERCENT_DIFFERENCE:return s.StringUtils.bind(e.model._labels.Labels.PERCENT_DIFFERENCE_TOTAL_CAPTION,this._caption);case t.consts.AggregationName.MEDIAN:return s.StringUtils.bind(e.model._labels.Labels.MEDIAN_TOTAL_CAPTION,this._caption);case t.consts.AggregationName.STDEVP:return s.StringUtils.bind(e.model._labels.Labels.STDEVP_TOTAL_CAPTION,this._caption);case t.consts.AggregationName.STDEVS:return s.StringUtils.bind(e.model._labels.Labels.STDEVS_TOTAL_CAPTION,this._caption);case t.consts.AggregationName.RUNNING_TOTALS:return s.StringUtils.bind(e.model._labels.Labels.RUNNING_TOTALS_TOTAL_CAPTION,this._caption);case t.consts.AggregationName.NONE:return this._caption}return s.StringUtils.bind(e.model._labels.Labels.SUM_TOTAL_CAPTION,this._caption)},set:function(t){this._caption=""==t.trim()?e.model._labels.Labels.MEMBER_BLANK:t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"originalCaption",{get:function(){return this._caption},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"customCaption",{get:function(){return this._customCaption},set:function(e){this._customCaption=e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"folder",{get:function(){return this._folder},set:function(e){this._folder=e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"format",{get:function(){return this._format},set:function(e){this._format=e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"individual",{get:function(){return this._individual},set:function(e){this._individual=e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"hidden",{get:function(){return this._hidden},set:function(e){this._hidden=e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"type",{get:function(){return this._type},set:function(e){this._type=e,this._type!=t.types.MeasureType.NUMBER&&this._type!=t.types.MeasureType.TIME&&(this._type==t.types.MeasureType.DATE||this._type==t.types.MeasureType.DATETIME?(this.availableAggregations=[t.consts.AggregationName.COUNT,t.consts.AggregationName.DISTINCT_COUNT,t.consts.AggregationName.MAX,t.consts.AggregationName.MIN],this._defaultAggregation=t.consts.AggregationName.MAX):(this.availableAggregations=[t.consts.AggregationName.COUNT,t.consts.AggregationName.DISTINCT_COUNT],this._defaultAggregation=t.consts.AggregationName.COUNT))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"grandTotalCaption",{get:function(){if(this.calculated)return this._caption;if(this._grandTotalCaption)return this._grandTotalCaption;if(0==e.model._options.OptionsManager.showAggregationLabels)return this._caption;switch(this.aggregation){case t.consts.AggregationName.SUM:return s.StringUtils.bind(e.model._labels.Labels.SUM_GRAND_TOTAL_CAPTION,this._caption);case t.consts.AggregationName.COUNT:return s.StringUtils.bind(e.model._labels.Labels.COUNT_GRAND_TOTAL_CAPTION,this._caption);case t.consts.AggregationName.PRODUCT:return s.StringUtils.bind(e.model._labels.Labels.PRODUCT_GRAND_TOTAL_CAPTION,this._caption);case t.consts.AggregationName.DISTINCT_COUNT:return s.StringUtils.bind(e.model._labels.Labels.DISTINCT_COUNT_GRAND_TOTAL_CAPTION,this._caption);case t.consts.AggregationName.AVERAGE:return s.StringUtils.bind(e.model._labels.Labels.AVERAGE_GRAND_TOTAL_CAPTION,this._caption);case t.consts.AggregationName.MAX:return s.StringUtils.bind(e.model._labels.Labels.MAX_GRAND_TOTAL_CAPTION,this._caption);case t.consts.AggregationName.MIN:return s.StringUtils.bind(e.model._labels.Labels.MIN_GRAND_TOTAL_CAPTION,this._caption);case t.consts.AggregationName.PERCENT:return s.StringUtils.bind(e.model._labels.Labels.PERCENT_GRAND_TOTAL_CAPTION,this._caption);case t.consts.AggregationName.PERCENT_COLUMN:return s.StringUtils.bind(e.model._labels.Labels.PERCENT_COLUMN_GRAND_TOTAL_CAPTION,this._caption);case t.consts.AggregationName.PERCENT_ROW:return s.StringUtils.bind(e.model._labels.Labels.PERCENT_ROW_GRAND_TOTAL_CAPTION,this._caption);case t.consts.AggregationName.INDEX:return s.StringUtils.bind(e.model._labels.Labels.INDEX_GRAND_TOTAL_CAPTION,this._caption);case t.consts.AggregationName.DIFFERENCE:return s.StringUtils.bind(e.model._labels.Labels.DIFFERENCE_GRAND_TOTAL_CAPTION,this._caption);case t.consts.AggregationName.PERCENT_DIFFERENCE:return s.StringUtils.bind(e.model._labels.Labels.PERCENT_DIFFERENCE_GRAND_TOTAL_CAPTION,this._caption);case t.consts.AggregationName.MEDIAN:return s.StringUtils.bind(e.model._labels.Labels.MEDIAN_GRAND_TOTAL_CAPTION,this._caption);case t.consts.AggregationName.STDEVP:return s.StringUtils.bind(e.model._labels.Labels.STDEVP_GRAND_TOTAL_CAPTION,this._caption);case t.consts.AggregationName.STDEVS:return s.StringUtils.bind(e.model._labels.Labels.STDEVS_GRAND_TOTAL_CAPTION,this._caption);case t.consts.AggregationName.RUNNING_TOTALS:return s.StringUtils.bind(e.model._labels.Labels.RUNNING_TOTALS_GRAND_TOTAL_CAPTION,this._caption)}return this._caption},set:function(e){this._grandTotalCaption=e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"aggregation",{get:function(){return""==this._aggregation?this._defaultAggregation:this._aggregation},set:function(e){e&&e.toLowerCase()!=this._aggregation?(e=e.toLowerCase(),t.consts.AggregationName.deprecatedType(e)&&(e=t.consts.AggregationName.fromDeprecatedToValid(e)),t.consts.AggregationName.validType(e)||this.calculated&&e==t.consts.AggregationName.NONE?(this._grandTotalCaption=this._customCaption=void 0,this._aggregation=e,!this.calculated&&0<this.availableAggregations.length&&-1==this.availableAggregations.indexOf(e)&&(this._aggregation=this._availableAggregations[0])):this.resolveColisionsForAggregations()):""==e&&this.resolveColisionsForAggregations()},enumerable:!0,configurable:!0}),r.prototype.resolveColisionsForAggregations=function(){this._grandTotalCaption=this._customCaption=void 0,this._aggregation=0<this._availableAggregations.length?this._availableAggregations[0]:this._defaultAggregation},Object.defineProperty(r.prototype,"availableAggregations",{get:function(){return this._availableAggregations},set:function(e){if(this._availableAggregations=[],null==e)this._availableAggregations=[];else if(this.type!=t.types.MeasureType.NUMBER&&this._type!=t.types.MeasureType.TIME&&0==this._availableAggregations.length)this._availableAggregations=this._type==t.types.MeasureType.DATE||this._type==t.types.MeasureType.DATETIME?[t.consts.AggregationName.COUNT,t.consts.AggregationName.DISTINCT_COUNT,t.consts.AggregationName.MAX,t.consts.AggregationName.MIN]:[t.consts.AggregationName.COUNT,t.consts.AggregationName.DISTINCT_COUNT];else for(var n=0;n<e.length;n++){var i=e[n].trim().toLowerCase();t.consts.AggregationName.deprecatedType(i)&&(i=t.consts.AggregationName.fromDeprecatedToValid(i)),(this.type==t.types.MeasureType.NUMBER||this._type==t.types.MeasureType.TIME||i==t.consts.AggregationName.COUNT||i==t.consts.AggregationName.DISTINCT_COUNT)&&t.consts.AggregationName.validType(i)&&this._availableAggregations.push(i)}},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"params",{get:function(){return this._params},set:function(e){this._params=e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"calculated",{get:function(){return null!=this.formula&&""!=this.formula},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"formula",{get:function(){return this._formula},set:function(e){this._formula=e},enumerable:!0,configurable:!0}),r.toObject=function(e){var t={};return t.uniqueName=e.uniqueName,t.name=e.originalCaption,e.calculated&&(t.formula=e.formula),t.format=e.format,t.individual=e.individual,t.availableAggregations=e.availableAggregations,t.aggregation=e.aggregation,t.caption=e.caption,t.originalCaption=e.originalCaption,t.grandTotalCaption=e.grandTotalCaption,t.folder=e.folder,t.type=e.type,t.calculated=e.calculated,t},r.fromObject=function(e,i){void 0===i&&(i=null);var r=e.uniqueName;return null==i&&(i=new n.GenericMeasure(r)),e.hasOwnProperty("type")&&(i.type="string"==typeof e.type?t.types.MeasureType.fromColumnType(parseInt(e.type)):e.type),e.hasOwnProperty("individual")&&(i.individual=e.individual),e.hasOwnProperty("formula")&&(i.formula=e.formula),e.hasOwnProperty("format")&&(i.format=e.format),e.hasOwnProperty("availableAggregations")&&(i.availableAggregations=e.availableAggregations),i.aggregation=e.hasOwnProperty("aggregation")?e.aggregation:i.calculated?t.consts.AggregationName.NONE:"",e.hasOwnProperty("caption")&&(i.caption=e.caption),e.hasOwnProperty("name")&&(i.caption=e.name),e.hasOwnProperty("grandTotalCaption")&&(i.grandTotalCaption=e.grandTotalCaption),e.hasOwnProperty("folder")&&(i.folder=e.folder),i.calculated&&(r=new s.Lexer,i.params=r.parse(i.formula)),i},r.prototype.hasDefaultParams=function(){var e=new r("","");return!(this.individual!=e.individual||this.formula!=e.formula||this.format!=e.format||this.type==t.types.MeasureType.COUNT&&this.aggregation!=t.consts.AggregationName.COUNT&&this.aggregation!=t.consts.AggregationName.NONE||this.type==t.types.MeasureType.NUMBER&&this.aggregation!=t.consts.AggregationName.SUM&&this.aggregation!=t.consts.AggregationName.NONE)},r.prototype.getFormat=function(n){var i;return void 0===n&&(n=!1),i=e.model.format.FormatManager.formatExists(this.format)?e.model.format.FormatManager.getFormat(this.format):""!=this.format&&e.model.format.FormatManager.formatExists("")?e.model.format.FormatManager.getFormat(""):e.model.format.FormatManager.getDefaultFormat(),n&&s.nullOrUndefined(i.params.textAlign)&&this.type!=t.types.MeasureType.NUMBER&&this.type!=t.types.MeasureType.TIME&&this.type!=t.types.MeasureType.DATETIME&&((i=i.clone()).textAlign="left"),i},r}((n=t._structure||(t._structure={})).GenericElement),n.GenericMeasure=i}(r||(r={})),function(e){!function(e){!function(e){var t=function(e){function t(t,n){void 0===n&&(n="");var i=e.call(this,t,n)||this;return i.hierarchies=new s.AssociativeArray,i}return a(t,e),Object.defineProperty(t.prototype,"hierarchies",{get:function(){return this._hierarchies},set:function(e){this._hierarchies=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this._type},set:function(e){this._type=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"structure",{get:function(){return this._structure},set:function(e){this._structure=e},enumerable:!0,configurable:!0}),t.prototype.addHierarchy=function(e){e.dimension=this,this._hierarchies.addItem(e.uniqueName,e)},t.prototype.findHierarchy=function(e){return this._hierarchies.getItem(e)},t.fromObject=function(e,n){return void 0===n&&(n=null),null==n&&(n=new t(e.uniqueName)),void 0!==e.caption&&(n.caption=e.caption),void 0!==e.type&&(n.type=e.type),n},t}(e.GenericElement);e.GenericDimension=t}(e._structure||(e._structure={}))}(e.data_||(e.data_={}))}(r||(r={})),function(e){var t,n,i;t=e.data_||(e.data_={}),n=t._structure||(t._structure={}),i=function(){function i(){this._isComplete=!1,this.id=this.deleteId="",this.levels=[],this._dimensions=new s.AssociativeArray,this._measures=new s.AssociativeArray,this._measureToHierarchyMap={},this._hierarchyToMeasureMap={};var e=new n.GenericHierarchy(t.Cube.MEASURES_NAME,t.Cube.MEASURES_NAME),i=new n.GenericDimension(t.Cube.MEASURES_NAME,t.Cube.MEASURES_NAME);i.type=t.types.DimensionType.MD_DIMTYPE_MEASURE,i.addHierarchy(e),this.addDimension(i),this.fields=new s.AssociativeArray,this.types=[],this.id=this.deleteId=""}return Object.defineProperty(i.prototype,"isComplete",{get:function(){return this._isComplete},set:function(e){this._isComplete=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"dimensions",{get:function(){return this._dimensions},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"measures_",{get:function(){return this._measures},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"calculatedMeasures",{get:function(){for(var e=new s.AssociativeArray,t=0;t<this._measures.length;t++){var n=this._measures.getItemAt(t);n.calculated&&e.addItem(n.uniqueName,n)}return e},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"regularMeasures",{get:function(){for(var e=new s.AssociativeArray,t=0;t<this._measures.length;t++){var n=this._measures.getItemAt(t);n.calculated||e.addItem(n.uniqueName,n)}return e},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"measuresHierarchy",{get:function(){if(null==(e=this.findDimension(t.Cube.MEASURES_NAME))){var e,i=new n.GenericHierarchy(t.Cube.MEASURES_NAME,t.Cube.MEASURES_NAME);(e=new n.GenericDimension(t.Cube.MEASURES_NAME,t.Cube.MEASURES_NAME)).type=t.types.DimensionType.MD_DIMTYPE_MEASURE,e.addHierarchy(i),this.addDimension(e)}return e.findHierarchy(t.Cube.MEASURES_NAME)},set:function(e){},enumerable:!0,configurable:!0}),i.prototype.addDimension=function(e){null==this.findDimension(e.uniqueName)&&(e.structure=this,this.dimensions.addItem(e.uniqueName,e))},i.prototype.findDimension=function(e){return this.dimensions.getItem(e)},i.prototype.allHierarchies=function(e){void 0===e&&(e=!1);for(var n=new s.AssociativeArray,i=0;i<this.dimensions.length;i++){var r=this.dimensions.getItemAt(i);(e||r.type!=t.types.DimensionType.MD_DIMTYPE_MEASURE)&&(n=n.concat(r.hierarchies))}return n},i.prototype.findHierarchy=function(e){return this.allHierarchies(!0).getItem(e)},i.prototype.addMeasure=function(e){this.measures_.addItem(e.uniqueName,e)},i.prototype.findMeasure=function(e){return this.measures_.getItem(e)},i.prototype.removeMeasure=function(e){return this.measures_.removeItem(e)},i.prototype.clear=function(){this._measureToHierarchyMap={},this._hierarchyToMeasureMap={},this.fields=new s.AssociativeArray,this.types=[],this.id=this.deleteId="",this._dimensions=new s.AssociativeArray,this._measures=new s.AssociativeArray,this.isComplete=!1},i.prototype.measureToHierarchy=function(e){return this._measureToHierarchyMap[e]},i.prototype.hierarchyToMeasure=function(e){return this._hierarchyToMeasureMap[e]},i.prototype.getDataType=function(e){return this.types[e]},i.prototype.getDataField=function(e){return this.fields.getItem(e)},i.prototype.getDataKeys=function(){return this.fields.toArray(!0)},i.prototype.addKeys=function(e,t){this._measureToHierarchyMap[e]=this.findHierarchy(t),this._hierarchyToMeasureMap[t]=this.findMeasure(e)},i.prototype._addMeasure=function(e,t){var i=new n.GenericMeasure(e.uniqueName,e.caption);i.type=t,this.addMeasure(i),this.addKeys(i.uniqueName,e.uniqueName),this.localDataStorage.addFactKey(i.uniqueName)},i.prototype.addStringHierarchy=function(i,r,o){var s=r.uniqueName;r=new n.GenericHierarchy(s,r.caption),i.addHierarchy(r),this.localDataStorage.addKey(s),i=new n.GenericLevel(r.caption==e.model._labels.Labels.MEMBER_BLANK?s+".[]":s,r.caption,1),r.addLevel(i),this._addMeasure(r,t.types.MeasureType.COUNT),this.fields.addItem(o,r)},i.prototype.addHierarchicalDateHierarchy=function(i,r,o){var s=r.uniqueName,a=r.caption;i.type=t.types.DimensionType.MD_DIMTYPE_TIME,a=new n.GenericHierarchy(s,a),i.addHierarchy(a),(i=new n.GenericLevel(s+".Year",e.model._labels.Labels.YEAR,a.levels_.length)).type=t.types.LevelType.YEAR,a.addLevel(i),this.localDataStorage.addKey(a.uniqueName),r.type==t.types.DataFieldType.HIERARCHICAL_DATE_WITH_QUARTERS&&((i=new n.GenericLevel(r=s+".Quarter",e.model._labels.Labels.QUARTER,a.levels_.length)).type=t.types.LevelType.QUARTER,a.addLevel(i),this.localDataStorage.addKey(r,a.uniqueName)),(i=new n.GenericLevel(r=s+".Month",e.model._labels.Labels.MONTH,a.levels_.length)).type=t.types.LevelType.MONTH,a.addLevel(i),this.localDataStorage.addKey(r,a.uniqueName),(i=new n.GenericLevel(s+=".Day",e.model._labels.Labels.DAY,a.levels_.length)).type=t.types.LevelType.DAY,a.addLevel(i),this.localDataStorage.addKey(s,a.uniqueName),this._addMeasure(a,t.types.MeasureType.COUNT),this.fields.addItem(o,a)},i.prototype.addLevelOfHierarchy=function(e,i,r){var o=i.hasOwnProperty("hierarchy")?i.hierarchy:i.uniqueName,s=i.hasOwnProperty("hierarchy")?i.hierarchy:i.caption,a=e.findHierarchy(o);if(null==a&&(a=new n.GenericHierarchy(o,s),e.addHierarchy(a)),s=0,i.hasOwnProperty("parent")){if(null==(o=a.findLevel(i.parent)))return null==this.levels[a.uniqueName]&&(this.levels[a.uniqueName]=[]),void(this.levels[a.uniqueName][i.parent]=[i,r]);s=a.levels_.indexOf(o.uniqueName)}o=i.hasOwnProperty("level")?i.level:r,i=i.hasOwnProperty("level")?i.level:r,i=new n.GenericLevel(o,i,s+1),a.addLevel(i),1==i.num?this.localDataStorage.addKey(a.uniqueName):this.localDataStorage.addKey(o,a.uniqueName),this._addMeasure(a,t.types.MeasureType.COUNT),this.fields.addItem(r,i),this.levels[a.uniqueName]&&this.levels[a.uniqueName][o]&&this.addLevelOfHierarchy(e,this.levels[a.uniqueName][o][0],this.levels[a.uniqueName][o][1])},i.prototype.addDateHierarchy=function(i,r,o){var s=r.uniqueName,a=r.caption;i.type=t.types.DimensionType.MD_DIMTYPE_TIME;var l=s+".Year",c=a+"."+e.model._labels.Labels.YEAR;(r=new n.GenericHierarchy(l,c)).type=t.types.DataFieldType.typeNum(t.types.DataFieldType.DATE),i.addHierarchy(r),(c=new n.GenericLevel(l+"."+c,c,1)).type=t.types.LevelType.YEAR,r.addLevel(c),this.localDataStorage.addKey(l),this._addMeasure(r,t.types.MeasureType.COUNT),r=new n.GenericHierarchy(l=s+".Month",c=a+"."+e.model._labels.Labels.MONTH),i.addHierarchy(r),(c=new n.GenericLevel(l+"."+c,c,1)).type=t.types.LevelType.MONTH,r.addLevel(c),this.localDataStorage.addKey(l),this._addMeasure(r,t.types.MeasureType.COUNT),r=new n.GenericHierarchy(s+=".Day",a=a+"."+e.model._labels.Labels.DAY),i.addHierarchy(r),(a=new n.GenericLevel(s+"."+a,a,1)).type=t.types.LevelType.DAY,r.addLevel(a),this.localDataStorage.addKey(s),this._addMeasure(r,t.types.MeasureType.COUNT),this.fields.addItem(o,i)},i.prototype.addNumberHierarchy=function(e,i,r){var o=i.uniqueName,s=i.caption;i=new n.GenericHierarchy(o,s),e.addHierarchy(i),this.localDataStorage.addKey(o),(e=new n.GenericLevel(o+"."+s,s,1)).type=t.types.LevelType.NUMBER,i.addLevel(e),this._addMeasure(i,t.types.MeasureType.NUMBER),this.fields.addItem(r,i)},i.prototype.addMonthHierarchy=function(e,i,r){var o=i.uniqueName,s=i.caption;i=new n.GenericHierarchy(o,s),e.addHierarchy(i),this.localDataStorage.addKey(o),(e=new n.GenericLevel(o+"."+s,s,1)).type=t.types.LevelType.MONTH,i.addLevel(e),this._addMeasure(i,t.types.MeasureType.COUNT),this.fields.addItem(r,i)},i.prototype.addWeekdayHierarchy=function(e,i,r){var o=i.uniqueName,s=i.caption;i=new n.GenericHierarchy(o,s),e.addHierarchy(i),this.localDataStorage.addKey(o),(e=new n.GenericLevel(o+"."+s,s,1)).type=t.types.LevelType.DAY,i.addLevel(e),this._addMeasure(i,t.types.MeasureType.COUNT),this.fields.addItem(r,i)},i.prototype.addDateStringHierarchy=function(e,i,r){var o=i.uniqueName,s=i.caption;i=new n.GenericHierarchy(o,s),e.addHierarchy(i),this.localDataStorage.addKey(o),(e=new n.GenericLevel(o+"."+s,s,1)).type=t.types.LevelType.TIME,i.addLevel(e),this._addMeasure(i,t.types.MeasureType.DATE),this.fields.addItem(r,i)},i.prototype.addTimeHierarchy=function(e,i,r){var o=i.uniqueName,s=i.caption;i=new n.GenericHierarchy(o,s),e.addHierarchy(i),this.localDataStorage.addKey(o),(e=new n.GenericLevel(o+"."+s,s,1)).type=t.types.LevelType.NUMBER,i.addLevel(e),this._addMeasure(i,t.types.MeasureType.TIME),this.fields.addItem(r,i)},i.prototype.addDateTimeHierarchy=function(e,i,r){var o=i.uniqueName,s=i.caption;i=new n.GenericHierarchy(o,s),e.addHierarchy(i),this.localDataStorage.addKey(o),(e=new n.GenericLevel(o+"."+s,s,1)).type=t.types.LevelType.NUMBER,i.addLevel(e),this._addMeasure(i,t.types.MeasureType.DATETIME),this.fields.addItem(r,i)},i.prototype.isMetaObject=function(e){return e.hasOwnProperty("type")||e.hasOwnProperty("caption")||e.hasOwnProperty("hierarchy")||e.hasOwnProperty("level")||e.hasOwnProperty("parent")||e.hasOwnProperty("dimensionCaption")},i.prototype.addDataStructure=function(e){var n,i=!1;for(n in e)null==e[n]&&(e[n]=""),"string"==typeof e[n]||"number"==typeof e[n]?this.addDataFieldString(n,t.types.DataFieldType.typeFromValue(e[n])):e[n]instanceof Date?this.addDataFieldString(n,t.types.DataFieldType.DATE):e[n]instanceof Array||(this.isMetaObject(e[n])&&(i=!0),e[n].hasOwnProperty("formula")?0==s.nullOrEmpty(e[n].formula)&&this.addCalculatedMeasure(e[n],n):this.addDataField(e[n],n));return this.isComplete=!0,i},i.prototype.addCalculatedMeasure=function(n,i){var r;(r=new t._structure.GenericMeasure(i,null==n.caption?i:n.caption)).formula=n.formula,r.grandTotalCaption=null==n.grandTotalCaption?e.model._labels.Labels.GRID_GRAND_TOTAL:n.grandTotalCaption,e.model.PivotModel.getInstance().addCalculatedMeasure(r)},i.prototype.addDataFieldString=function(e,t){this.addDataField({uniqueName:e,caption:e,type:t},e)},i.prototype.addDataField=function(e,n){void 0===n&&(n="");var i,r,o={};for(i in e)o[i]=e[i];switch(o.hasOwnProperty("uniqueName")||(o.uniqueName=n),o.hasOwnProperty("caption")&&""!=o.caption||(o.caption=n),""==n&&(n=o.uniqueName),i=t.types.DataFieldType.STRING,o.hasOwnProperty("type")&&(i=String(o.type).trim().toLowerCase()),o.type=i,(o.hasOwnProperty("hierarchy")||i==t.types.DataFieldType.LEVEL&&o.hasOwnProperty("hierarchy"))&&(r=this.findDimension(o.hierarchy)),null==r&&(r=t._structure.GenericDimension.fromObject(o),o.hasOwnProperty("hierarchy")&&(r.uniqueName=o.hierarchy),r.caption=o.hasOwnProperty("caption")?o.caption:o.hasOwnProperty("hierarchy")?o.hierarchy:r.caption,i==t.types.DataFieldType.LEVEL&&o.hasOwnProperty("hierarchy")&&(r.uniqueName=o.hierarchy),this.addDimension(r)),this.types[n]=i,i){case t.types.DataFieldType.STRING:this.addStringHierarchy(r,o,n);break;case t.types.DataFieldType.NUMBER:this.addNumberHierarchy(r,o,n);break;case t.types.DataFieldType.MONTH:this.addMonthHierarchy(r,o,n);break;case t.types.DataFieldType.WEEKDAY:this.addWeekdayHierarchy(r,o,n);break;case t.types.DataFieldType.DATE:this.addDateHierarchy(r,o,n);break;case t.types.DataFieldType.DATETIME:this.addDateTimeHierarchy(r,o,n);break;case t.types.DataFieldType.TIME:this.addTimeHierarchy(r,o,n);break;case t.types.DataFieldType.LEVEL:this.addLevelOfHierarchy(r,o,n);break;case t.types.DataFieldType.HIERARCHICAL_DATE:case t.types.DataFieldType.HIERARCHICAL_DATE_WITH_QUARTERS:this.addHierarchicalDateHierarchy(r,o,n);break;case t.types.DataFieldType.DATE_STRING:this.addDateStringHierarchy(r,o,n);break;case t.types.DataFieldType.ID:this.id=n,this.fields.addItem(n,null);break;case t.types.DataFieldType.DELETE:this.deleteId=n;break;case t.types.DataFieldType.HIDDEN:break;default:this.addStringHierarchy(r,o,n)}},i}(),n.GenericStructure=i}(r||(r={})),function(e){!function(e){var t,n;t=e._structure||(e._structure={}),n=function(){function n(t){this._hierarchies=new s.AssociativeArray,this.totalSortType=e.consts.SortType.UNSORTED,this._sortTuple=this.__sortTuple=null,this._expandedTuples=[],this._drilledTuples=[],this._sortType=e.consts.SortType.UNSORTED,this._name=t}return Object.defineProperty(n.prototype,"sortTuple",{get:function(){if(null!=this.__sortTuple)return this.__sortTuple;var e=null;if(null!=this._sortTuple)for(var t=0,n=(e=[],0);n<this._hierarchies.length;n++){var i=this.hierarchies.getItemAt(n);if(!i.isMeasures){if(!this._sortTuple[t])break;if("number"==typeof this._sortTuple[t]){e=this._sortTuple;break}var r=this._sortTuple[t].toString().trim();if(!/\D/.test(r)){e=this._sortTuple;break}if(null!=(i=i.findMember(this._sortTuple[t].toString().trim())))e.push(i.ordinal);else if(this._sortTuple[t]){e=null;break}}t++}return this.__sortTuple=e},set:function(e){this._sortTuple=e,this.__sortTuple=null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sortNamedTuple",{get:function(){var e=null,t=this.sortTuple;if(null!=t)for(var n=0,i=(e=[],0);i<this._hierarchies.length;i++){if(!(r=this.hierarchies.getItemAt(i)).isMeasures){if(!t[n])break;var r,o=""===t[i]?0:parseInt(t[i]);if(null!=(r=r.members.getItemAt(o)))e.push(r.uniqueName);else if(t[n]){e=null;break}}n++}return e},set:function(e){this.sortTuple=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"expandedTuples",{get:function(){return this._expandedTuples},set:function(e){if(null==e)this._expandedTuples=[];else if(this.hasMeasures)this._expandedTuples=e;else{this._expandedTuples=[];for(var t=0;t<e.length;t++){var n=e[t];n[0]=-1,this._expandedTuples.push(n)}}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"expandedTuplesBasedOnUniqueNames",{get:function(){for(var e,t,n,i,r,o,s=[],a=0;a<this.expandedTuples.length;a++){t=[],n=(e=this.expandedTuples[a].slice(0)).shift(),i="";for(var l=r=0;l<e.length;l++)(o=this.hierarchies.getItemAt(r)).isMeasures&&(-1<n&&(i=o.members.getItemAt(n).uniqueName),r++,o=this.hierarchies.getItemAt(r)),null!=o.members.getItemAt(e[l])&&t.push(o.members.getItemAt(e[l]).uniqueName),r++;t.unshift(i),s.push(t)}return s},enumerable:!0,configurable:!0}),n.prototype.parseExpandedTuplesBasedOnUniqueNames=function(e,t){void 0===t&&(t=null);for(var n,i,r,o,a,l,c=[],u=0;u<e.length;u++){if(n=e[u].slice(0),isNaN(parseInt(n[0]))){if(i=[],o=-1,r=n.shift(),a=0,0<this.hierarchies.length)for(var d=0;d<n.length;d++){if(l=this.hierarchies.getItemAt(a),s.nullOrUndefined(l))return[];l.isMeasures&&(""!=r&&(o=t?t.indexOf(r):l.members.indexOf(r)),a++,l=this.hierarchies.getItemAt(a)),i.push(l.members.indexOf(n[d])),a++}i.unshift(o)}else i=n;c.push(i)}return c},Object.defineProperty(n.prototype,"drilledTuples",{get:function(){return this._drilledTuples},set:function(e){if(s.nullOrUndefined(e))this._drilledTuples=[];else{var t;if(this.hasMeasures)this._drilledTuples=e;else{this._drilledTuples=[];for(var n=0;n<e.length;n++)"string"==typeof(t=e[n])[0]?t[1]=-1:t[0]=-1,this._drilledTuples.push(t)}this.setPredefinedDrillDowns(e)}},enumerable:!0,configurable:!0}),n.prototype.setPredefinedDrillDowns=function(t){var n,i=this._hierarchies.slice();i.removeItem(e.Cube.MEASURES_NAME);for(var r,o=0;o<t.length;o++){"string"==typeof(n=t[o].slice(0))[0]&&(r=n.shift());var s=i.getItemAt(n.length-3);if(null==s)break;var a=n[1];isNaN(parseFloat(n[1]))||null!=(n=s.members.getItemAt(n[1]))&&(a=n.uniqueName),-1==s.predefinedDrillDowns.indexOf(a)&&s.predefinedDrillDowns.push([r,a])}},Object.defineProperty(n.prototype,"drilledTuplesBasedOnUniqueNames",{get:function(){for(var e,t,n,i,r,o,s,a,l=[],c=0;c<this.drilledTuples.length;c++){t=[],r=n="","string"==typeof(e=this.drilledTuples[c].slice(0))[0]&&(n=e.shift()),i=e.shift(),o=e.shift();for(var u=s=0;u<e.length;u++)(a=this.hierarchies.getItemAt(s)).isMeasures&&(-1<i&&(r=a.members.getItemAt(i).uniqueName),s++,a=this.hierarchies.getItemAt(s)),null!=a.members.getItemAt(e[u])&&t.push(a.members.getItemAt(e[u]).uniqueName),s++;t.unshift(o),t.unshift(r),t.unshift(n),l.push(t)}return l},enumerable:!0,configurable:!0}),n.prototype.parseDrilledTuplesBasedOnUniqueNames=function(e,t){void 0===t&&(t=null);for(var n,i,r,o,a,l,c,u,d=[],h=0;h<e.length;h++){if(n=e[h].slice(0),isNaN(parseInt(n[n.length-1]))){if(i=[],o=-1,r=n.shift(),a=n.shift(),l=n.shift(),c=0,0<this.hierarchies.length)for(var p=0;p<n.length;p++){if(u=this.hierarchies.getItemAt(c),s.nullOrUndefined(u))return[];u.isMeasures&&(""!=a&&(o=t?t.indexOf(a):u.members.indexOf(a)),c++,u=this.hierarchies.getItemAt(c)),i.push(u.members.indexOf(n[p])),c++}i.unshift(l),i.unshift(o),""!=r&&i.unshift(r)}else i=n;d.push(i)}return d},Object.defineProperty(n.prototype,"sortType",{get:function(){return this._sortType},set:function(t){t=t.toLowerCase(),this._sortType=t==e.consts.SortType.ASC||t==e.consts.SortType.DESC?t:e.consts.SortType.UNSORTED},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"uniqueName",{get:function(){return this._name},set:function(e){this._name=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"caption",{get:function(){return this._caption},set:function(e){this._caption=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hierarchies",{get:function(){return this._hierarchies},set:function(t){this.expandedTuples=[],this.drilledTuples=[],this._sortTuple=null,this._sortType=e.consts.SortType.UNSORTED,this.sortMeasure=null,this._hierarchies=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"size",{get:function(){for(var e=1,t=0;t<this._hierarchies.length;t++)e*=this._hierarchies.getItemAt(t).size;return e},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"measuresPosition",{get:function(){return this._hierarchies.indexOf(e.Cube.MEASURES_NAME)},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"measuresHierarchy",{get:function(){return this._hierarchies.getItem(e.Cube.MEASURES_NAME)},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hasMeasures",{get:function(){return-1<this.measuresPosition},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"depth",{get:function(){for(var e=0,t=0;t<this._hierarchies.length;t++)e+=this._hierarchies.getItemAt(t).drillDownDepth;return e},set:function(e){},enumerable:!0,configurable:!0}),n.prototype.toString=function(){return"[Axis:"+this._name+" ]"},n.fromObject=function(t,i,r,o,a,l,c){var u;if(void 0===c&&(c=null),(t=new n(t)).hierarchies=new s.AssociativeArray,i)for(u=0;u<i.length;u++)if(null!=i[u].uniqueName){var d=l.findHierarchy(i[u].uniqueName);null!=d&&(e._structure.GenericHierarchy.fromObject(i[u],d),d.isMeasures&&t.uniqueName==e.consts.AxisName.PAGES_AXIS||t.hierarchies.addItem(d.uniqueName,d))}if(r&&(null!=(u=l.findMeasure(r.measure?r.measure:""))&&null!=r.tuple?t.setSort(u,r.tuple,r.type):t.sortToSet=r),o&&0<o.length){for(d=[],u=0;u<o.length;u++){for(l=[],0<(i=o[u]).length&&l.push((isNaN(parseInt(i[0])),i[0])),r=1;r<i.length;r++)l.push((isNaN(parseInt(i[r])),i[r]));d.push(l)}o=d}if(t.expandedTuples=o?t.parseExpandedTuplesBasedOnUniqueNames(o,c):[],a&&0<a.length){for(o=[],u=0;u<a.length;u++){for(l=[],0<(i=a[u]).length&&l.push((isNaN(parseInt(i[0])),i[0])),r=1;r<i.length;r++)l.push((isNaN(parseInt(i[r])),i[r]));o.push(l)}a=o}return t.drilledTuples=a?t.parseDrilledTuplesBasedOnUniqueNames(a,c):[],t},n.toObject=function(n){for(var i={},r=[],o=0;o<n.hierarchies.length;o++){var a=t.GenericHierarchy.toObject(n.hierarchies.getItemAt(o));r.push(a)}return i.hierarchies=r,n.sortType==e.consts.SortType.UNSORTED||s.nullOrUndefined(n.sortTuple)||s.nullOrUndefined(n.sortMeasure)||(i.sort={type:n.sortType,tuple:n.sortNamedTuple,measure:n.sortMeasure.uniqueName}),i},n.prototype.setSort=function(e,t,n){this.sortMeasure=e,this.sortTuple=t,this.sortType=n,0==t.length&&(this.totalSortType=this.sortType,this.totalSortMeasure=this.sortMeasure)},n}(),t.Axis=n}(e.data_||(e.data_={}))}(r||(r={})),function(e){var t,n,i,r;t=e.data_||(e.data_={}),i=n=t._structure||(t._structure={}),r=function(){function r(e){this._axes=new s.AssociativeArray,this._measures=new s.AssociativeArray,this._drillAll=this._expandAll=!1,this._flatOrder=[],this.structure=e,this.addAxis(new t._structure.Axis(t.consts.AxisName.ROWS_AXIS)),this.addAxis(new t._structure.Axis(t.consts.AxisName.COLUMNS_AXIS)),this.addAxis(new t._structure.Axis(t.consts.AxisName.PAGES_AXIS))}return Object.defineProperty(r.prototype,"axes",{get:function(){return this._axes},set:function(e){},enumerable:!0,configurable:!0}),r.prototype.addAxis=function(e){this._axes.addItem(e.uniqueName,e),e.hasMeasures&&(this._axisWithMeasures=e)},r.prototype.findAxis=function(e){return this._axes.getItem(e)},Object.defineProperty(r.prototype,"axisWithMeasures",{get:function(){if(null==this._axisWithMeasures){for(var e=0;e<this._axes.length;e++){var n=this._axes.getItemAt(e);if(n.hasMeasures){this._axisWithMeasures=n;break}}null==this._axisWithMeasures&&(this._axisWithMeasures=this.findAxis(t.consts.AxisName.COLUMNS_AXIS))}return this._axisWithMeasures.hasMeasures||(e=this.structure.measuresHierarchy)&&this._axisWithMeasures.hierarchies.addItem(e.uniqueName,e),this._axisWithMeasures},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"regularMeasures",{get:function(){for(var e=new s.AssociativeArray,t=0;t<this._measures.length;t++){var n=this._measures.getItemAt(t);n.calculated||e.addItem(n.uniqueName,n)}return e},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"calculatedMeasures",{get:function(){for(var e=new s.AssociativeArray,t=0;t<this._measures.length;t++){var n=this._measures.getItemAt(t);n.calculated&&e.addItem(n.uniqueName,n)}return e},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"measuresAll",{get:function(){return this._measures},set:function(e){this.measures_=e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"measures_",{get:function(){for(var e=new s.AssociativeArray,t=0;t<this._measures.length;t++){var n=this._measures.getItemAt(t);n.hidden||e.addItem(n.uniqueName,n)}return e},set:function(e){if(this._measures=e,null!=(e=this.axisWithMeasures.measuresHierarchy)&&(e.clear(),null!=this._measures))for(var t=0;t<this._measures.length;t++){var i=this._measures.getItemAt(t);i=new n.GenericMember(i.uniqueName,i.caption),e.addMember(i,"","",!1)}},enumerable:!0,configurable:!0}),r.prototype.allHierarchies=function(e,t,n){void 0===e&&(e=!0),void 0===t&&(t=!0),void 0===n&&(n=!1);for(var i=new s.AssociativeArray,r=0;r<this._axes.length;r++){var o=this._axes.getItemAt(r);i=i.concat(o.hierarchies)}if(e||i.removeItem(this.structure.measuresHierarchy.uniqueName),!t)for(e=0;e<this.pages.length;e++)i.removeItem(this.pages.getKeyAt(r));if(n)for(r=0;r<this.measures_.length;r++)(n=this.measures_.getItemAt(r)).calculated||(n=this.structure.measureToHierarchy(n.uniqueName),i.addItem(n.uniqueName,n));return i},r.prototype.clear=function(){for(var e=0;e<this._axes.length;e++)this._axes.getItemAt(e).hierarchies=new s.AssociativeArray;this._measures=new s.AssociativeArray},Object.defineProperty(r.prototype,"rows",{get:function(){return this.findAxis(t.consts.AxisName.ROWS_AXIS).hierarchies},set:function(e){var n=this.findAxis(t.consts.AxisName.ROWS_AXIS);null==n&&(n=new i.Axis(t.consts.AxisName.ROWS_AXIS)),n.hierarchies=e,null==e&&(n.hierarchies=new s.AssociativeArray),this.addAxis(n)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"columns",{get:function(){return this.findAxis(t.consts.AxisName.COLUMNS_AXIS).hierarchies},set:function(e){var n=this.findAxis(t.consts.AxisName.COLUMNS_AXIS);null==n&&(n=new i.Axis(t.consts.AxisName.COLUMNS_AXIS)),n.hierarchies=e,null==e&&(n.hierarchies=new s.AssociativeArray),this.addAxis(n)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"pages",{get:function(){return this.findAxis(t.consts.AxisName.PAGES_AXIS).hierarchies},set:function(e){var n=this.findAxis(t.consts.AxisName.PAGES_AXIS);null==n&&(n=new i.Axis(t.consts.AxisName.PAGES_AXIS)),n.hierarchies=e,null==e&&(n.hierarchies=new s.AssociativeArray),this.addAxis(n)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"rowsOnly",{get:function(){return this.axisWithMeasures.uniqueName==t.consts.AxisName.ROWS_AXIS?this.rows.splice(this.axisWithMeasures.measuresPosition,1):this.rows},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"columnsOnly",{get:function(){return this.axisWithMeasures.uniqueName==t.consts.AxisName.COLUMNS_AXIS?this.columns.splice(this.axisWithMeasures.measuresPosition,1):this.columns},set:function(e){},enumerable:!0,configurable:!0}),r.prototype.clone=function(){var e=new r(this.structure);return e.rows=this.rows.slice(),e.columns=this.columns.slice(),e.pages=this.pages.slice(),e.measures_=this.measures_.slice(),e.flatOrder=this.flatOrder.slice(0),e},r.areRowsDiffer=function(e,n,i){if(void 0===i&&(i=!0),null==n)return!0;var o=e.rows.length!=n.rows.length;if(!o)for(var s=0;s<e.rows.length;s++)if(e.rows.getItemAt(s).uniqueName!=n.rows.getItemAt(s).uniqueName){o=!0;break}return!o&&i&&e.findAxis(t.consts.AxisName.ROWS_AXIS).hasMeasures&&n.findAxis(t.consts.AxisName.ROWS_AXIS).hasMeasures&&(o=r.areMeasuresDiffer(e,n)),o},r.areColumnsDiffer=function(e,n,i){if(void 0===i&&(i=!0),null==n)return!0;var o=e.columns.length!=n.columns.length;if(!o)for(var s=0;s<e.columns.length;s++)if(e.columns.getItemAt(s).uniqueName!=n.columns.getItemAt(s).uniqueName){o=!0;break}return!o&&i&&e.findAxis(t.consts.AxisName.COLUMNS_AXIS).hasMeasures&&n.findAxis(t.consts.AxisName.COLUMNS_AXIS).hasMeasures&&(o=r.areMeasuresDiffer(e,n)),o},r.areMeasuresDiffer=function(e,t){if(null==t)return!0;var n=e.measures_.length!=t.measures_.length;if(!n)for(var i=0;i<e.measures_.length;i++)if(e.measures_.getItemAt(i).uniqueName!=t.measures_.getItemAt(i).uniqueName){n=!0;break}return n},r.fromObject=function(e,n){for(var i=new r(n),o=new s.AssociativeArray,a=0;a<e.measures.length;a++)if(e.measures[a].hasOwnProperty("uniqueName")){var l=n.measures_.getItem(e.measures[a].uniqueName);null==l&&s.nullOrEmpty(e.measures[a].formula)||((l=t._structure.GenericMeasure.fromObject(e.measures[a],l)).calculated&&!n.measures_.keyExists(l.uniqueName)&&n.addMeasure(l),(s.nullOrUndefined(e.measures[a].active)||e.measures[a].active)&&o.addItem(l.uniqueName,l))}return a=t._structure.Axis.fromObject(t.consts.AxisName.ROWS_AXIS,e.rows,e.rowSorting,e.expandedRows,e.drilledRows,n,o.toArray(!0)),l=t._structure.Axis.fromObject(t.consts.AxisName.COLUMNS_AXIS,e.columns,e.columnSorting,e.expandedColumns,e.drilledColumns,n,o.toArray(!0)),i.rows=a.hierarchies,i.columns=l.hierarchies,i.pages=t._structure.Axis.fromObject(t.consts.AxisName.PAGES_AXIS,e.pages,null,[],[],n).hierarchies,i.measures_=o,i.expandAll=e.expandAll,i.drillAll=e.drillAll,i.flatOrder=e.flatOrder,i.addAxis(a),i.addAxis(l),i},r.prototype.toObject=function(){for(var e={rows:[]},t=0;t<this.rows.length;t++){var n=this.rows.getItemAt(t).toObject();e.rows[t]=n}for(e.columns=[],t=0;t<this.columns.length;t++)n=this.columns.getItemAt(t).toObject(),e.columns[t]=n;for(e.pages=[],t=0;t<this.pages.length;t++)n=this.pages.getItemAt(t).toObject(),e.pages[t]=n;for(e.measures=[],t=0;t<this.measures_.length;t++)n=this.measures_.getItemAt(t).toObject(),e.measures[t]=n;return e},r.prototype.parseExpandedTuples=function(){for(var e=0;e<this._axes.length;e++)this._axes.getItemAt(e).parseExpandedTuples()},r.prototype.flatten=function(e){void 0===e&&(e=!1);for(var t=this.allHierarchies(!1),n=0;n<this.measures_.length;n++){var r=this.measures_.getItemAt(n),o=this.measureToHierarchy(r.uniqueName);null!=o&&t.addItem(o.uniqueName,o),r.calculated&&e&&(o=new i.GenericHierarchy(r.uniqueName,r.caption),t.addItem(r.uniqueName,o))}for(e=new s.AssociativeArray,n=0;n<this.flatOrder.length;n++)t.keyExists(r=this.flatOrder[n])&&(e.addItem(r,t.getItem(r)),t.removeItem(r));for(n=0;n<t.length;n++)e.addItem(t.getKeyAt(n),t.getItemAt(n));return e},r.prototype.isEqual=function(e){if(null==e||this.pages.length!=e.pages.length||this.rows.length!=e.rows.length||this.columns.length!=e.columns.length||this.measures_.length!=e.measures_.length)return!1;for(var t=0;t<this.pages.length;t++)if(this.pages.getKeyAt(t)!=e.pages.getKeyAt(t))return!1;for(t=0;t<this.rows.length;t++)if(this.rows.getKeyAt(t)!=e.rows.getKeyAt(t))return!1;for(t=0;t<this.columns.length;t++)if(this.columns.getKeyAt(t)!=e.columns.getKeyAt(t))return!1;for(t=0;t<this.measures_.length;t++)if(this.measures_.getKeyAt(t)!=e.measures_.getKeyAt(t)||this.measures_.getItemAt(t).aggregation!=e.measures_.getItemAt(t).aggregation)return!1;return!0},r.prototype.measureToHierarchy=function(e){return this.structure.measureToHierarchy(e)},r.prototype.hierarchyToMeasure=function(e){return this.structure.hierarchyToMeasure(e)},Object.defineProperty(r.prototype,"isEmpty",{get:function(){return 0==this.allHierarchies(!1).length&&0==this.measures_.length},set:function(e){},enumerable:!0,configurable:!0}),r.prototype.makeDefault=function(){var n;if(e.model._options.OptionsManager.flatView){this.rows=new s.AssociativeArray,this.columns=new s.AssociativeArray,this.pages=new s.AssociativeArray;for(var i=new s.AssociativeArray,r=[],o=0;o<this.structure.measures_.length;o++)n=this.structure.measures_.getItemAt(o),r.push(n.uniqueName),n.type==t.types.MeasureType.COUNT?(n=this.structure.measureToHierarchy(n.uniqueName))&&this.rows.addItem(n.uniqueName,n):i.addItem(n.uniqueName,n);this._flatOrder=r,this.measures_=i}else{for(o=0;o<this.structure.measures_.length&&((n=this.structure.measures_.getItemAt(o)).type!=t.types.MeasureType.NUMBER?null==i&&(i=this.structure.measureToHierarchy(n.uniqueName)):null==r&&(r=n),null==i||null==r);o++);null==r?r=this.structure.measures_.getItemAt(0):null==i?(n=this.structure.measures_.getItemAt(0),i=this.structure.measureToHierarchy(n.uniqueName)):null==i&&null==r&&0<this.structure.measures_.length&&(r=this.structure.measures_.getItemAt(0),i=this.structure.measureToHierarchy(r.uniqueName)),null!=i&&null!=r&&(this.pages=new s.AssociativeArray,this.rows=new s.AssociativeArray,this.columns=new s.AssociativeArray,this.rows.addItem(i.uniqueName,i),(i=new s.AssociativeArray).addItem(r.uniqueName,r),this.measures_=i)}},Object.defineProperty(r.prototype,"expandAll",{get:function(){return this._expandAll},set:function(e){this._expandAll=e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"drillAll",{get:function(){return this._drillAll},set:function(e){this._drillAll=e},enumerable:!0,configurable:!0}),r.prototype.clearExpands=function(){this.rowAxis.expandedTuples=[],this.columnAxis.expandedTuples=[]},r.prototype.clearDrills=function(){this.rowAxis.drilledTuples=[],this.columnAxis.drilledTuples=[]},Object.defineProperty(r.prototype,"flatOrder",{get:function(){return null==this._flatOrder&&(this._flatOrder=[]),this._flatOrder},set:function(e){this._flatOrder=e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"rowAxis",{get:function(){return this.axes.getItem(t.consts.AxisName.ROWS_AXIS)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"columnAxis",{get:function(){return this.axes.getItem(t.consts.AxisName.COLUMNS_AXIS)},enumerable:!0,configurable:!0}),r.prototype.mergeExpandsAndDrills=function(e){s.nullOrUndefined(e)||(this.expandAll=e.expandAll,this.drillAll=e.drillAll,r.areRowsDiffer(this,e,!1)?(this.rowAxis.expandedTuples=this.cutTuples(e.rowAxis.expandedTuples,this.getCommonFieldsCount(this.rowAxis.hierarchies,e.rowAxis.hierarchies)),this.rowAxis.drilledTuples=this.cutTuples(e.rowAxis.drilledTuples,this.getCommonFieldsCount(this.rowAxis.hierarchies,e.rowAxis.hierarchies)+2)):(this.rowAxis.expandedTuples=this.cloneTuples(e.rowAxis.expandedTuples),this.rowAxis.drilledTuples=this.cloneTuples(e.rowAxis.drilledTuples)),r.areColumnsDiffer(this,e,!1)?(this.columnAxis.expandedTuples=this.cutTuples(e.columnAxis.expandedTuples,this.getCommonFieldsCount(this.columnAxis.hierarchies,e.columnAxis.hierarchies)),this.columnAxis.drilledTuples=this.cutTuples(e.columnAxis.drilledTuples,this.getCommonFieldsCount(this.columnAxis.hierarchies,e.columnAxis.hierarchies)+2)):(this.columnAxis.expandedTuples=this.cloneTuples(e.columnAxis.expandedTuples),this.columnAxis.drilledTuples=this.cloneTuples(e.columnAxis.drilledTuples)))},r.prototype.removeMeasure=function(e){this._measures.removeItem(e)},r.prototype.getCommonFieldsCount=function(e,t){for(var n=0,i=Math.min(e.length,t.length),r=0;r<i;r++){var o=e.getItemAt(r),s=t.getItemAt(r);if(o.uniqueName!=s.uniqueName)break;o.isMeasures||n++}return n},r.prototype.cutTuples=function(e,t){var n=[];if(1<t)for(var i=0;i<e.length;i++){var r=e[i];r.length<=t&&n.push(r.slice())}return n},r.prototype.cloneTuples=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].slice());return t},r}(),i.Slice=r}(r||(r={})),function(e){var n;!function(i){var r=function(){function i(){var e=this;this.beforeBeforeLastByte=this.beforeLastByte=this.lastByte=0,this.fileExtensions=[".csv"],this.onAuthApiLoadHandler=function(){return e.onAuthApiLoad()},this.onhandleAuthResultHandler=function(t){return e.handleAuthResult(t)},this.tickHandler=function(){return e.onTick()},this.timerCompleteHandler=function(){return e.onTimerComplete()},this.lastPosition=0,this.isStarted=!1,this.preloaderTime=0,this.cube_=n.Cube.getInstance(),this.fileExtensions=[".csv"]}return i.prototype.clear=function(){this.data=[],this.dataLoadedLength=this.bytesLoaded=0,this.connected=!1,this.chunkIndex=this.lastPosition=0,this.recordsetDelimiter="\n",this.fieldEnclosureToken='"',this.columnType=[],this.hasSizeHeader=this.isFileFailed=this.isFileLoaded=this.isHeaderParsed=!1,this.lastByte=0,this.lastRow="",this.rowIdx=this.beforeBeforeLastByte=this.beforeLastByte=0,this.BLOCK_SIZE=100,null!=this.loader&&(this.loader.removeAllEventListeners(),this.loader.dispose(),this.loader=null),this.stopTimer()},i.prototype.load=function(t,n,i,o,a){try{this.clear(),this.filename=t.filename,this.successHandler=n,this.errorHandler=i,this.connectedHandler=o,this.cancelledHandler=a,this.fieldSeparator=t.fieldSeparator,this.ignoreQuotedLineBreaks=t.ignoreQuotedLineBreaks,t.isDemo?this.generate():(void 0!==this.filename&&""!=this.filename&&"()"!=this.filename.substr(-2)||!1!==t.browseForFile?this.filename=s.URLUtils.getUrl(this.filename,!0):this.onFileError(),!0===t.browseForFile?this.browseFile():this.isGooggleDrive(t.filename)&&s.nullOrUndefined(t.requestHeader)?this.authorizeGoogleDrive():(e.preloader(!0,e.model._labels.Labels.MESSAGE_LOADING_DATA),this.loadFile(this.filename,t.requestHeader)))}catch(r){console.error(r.stack),this.onFileError()}},i.prototype.generate=function(){},i.prototype.authorizeGoogleDrive=function(){window.gapi&&window.gapi.load("auth",{callback:this.onAuthApiLoadHandler})},i.prototype.onAuthApiLoad=function(){""==e._view.PivotView.stage.getToolbar().googleClientId||null==e._view.PivotView.stage.getToolbar().googleClientId?this.onGoogleClientIdNotSet():window.gapi.auth.authorize({client_id:e._view.PivotView.stage.getToolbar().googleClientId,scope:e._view.PivotView.stage.getToolbar().googleScope,immediate:!1},this.onhandleAuthResultHandler)},i.prototype.handleAuthResult=function(t){var n={};t&&!t.error?(n.Authorization="Bearer "+t.access_token,e.preloader(!0,e.model._labels.Labels.MESSAGE_LOADING_DATA),this.loadFile(this.filename,n)):(e.preloader(!1),this.onFileError())},i.prototype.isGooggleDrive=function(e){return-1<e.indexOf("www.googleapis.com/drive")},i.prototype.onGoogleClientIdNotSet=function(){e.uialert(e.model._labels.Labels.MESSAGE_NO_GOOGLE_CLIENT_KEY,e.model._labels.Labels.ERROR,e.AlertType.ERROR)},i.prototype.browseFile=function(){var e=this;this.fileReference=new o.FileReference,this.fileReference.addEventListener(t._Event.SELECT,function(){return e.onFileSelected()}),this.fileReference.addEventListener(t._Event.COMPLETE,function(){return e.onFileComplete()}),this.fileReference.addEventListener(t._Event.PROGRESS,function(t){return e.onFileProgress(t)}),this.fileReference.addEventListener(t._Event.CANCEL,function(){return e.onFileCancelled()}),this.fileReference.addEventListener(t._Event.ERROR,function(){return e.onFileError()}),this.fileReference.browse(this.fileExtensions)},i.prototype.onFileSelected=function(){e.preloader(!0,e.model._labels.Labels.MESSAGE_LOADING_DATA,"",!0,!0),this.loader=this.fileReference,this.fileReference.load(),this.fileReference=null},i.prototype.loadFile=function(e,n){var i=this;void 0===n&&(n=null);var r=new o.URLStream;r.dataType=o.DataType.TEXT,r.addEventListener(t._Event.COMPLETE,function(){return i.onFileComplete()}),r.addEventListener(t._Event.CONNECTED,function(){return i.onFileConnected()}),r.addEventListener(t._Event.PROGRESS,function(e){return i.onFileProgress(e)}),r.addEventListener(t._Event.ERROR,function(){return i.onFileError()}),r.load(e,n),this.loader=r,this.timer=new s.Timer(100,1e3),this.timer.addEventListener(s.TimerEvent.TIMER,this.tickHandler),this.timer.addEventListener(s.TimerEvent.TIMER_COMPLETE,this.timerCompleteHandler),this.timer.start()},i.prototype.onTick=function(){0<this.bytesLoaded||this.isFileLoaded||this.isFileFailed?this.stopTimer():null!=this.timer&&e.preloader(!0,e.model._labels.Labels.MESSAGE_LOADING_DATA,s.StringUtils.bind(e.model._labels.Labels.MESSAGE_LOADING_WAITING,s.NumberFormatter.format(this.timer.currentCount/10,new e.model.format.vo.FormatValueObject,!1,!1,1)))},i.prototype.onTimerComplete=function(){this.timer.running&&this.stopTimer()},i.prototype.stopTimer=function(){this.timer&&this.timer.running&&(this.timer.stop(),this.timer.removeEventListener(s.TimerEvent.TIMER,this.tickHandler),this.timer.removeEventListener(s.TimerEvent.TIMER_COMPLETE,this.timerCompleteHandler))},i.prototype.onFileCancelled=function(){null!=this.cancelledHandler&&(this.cancelledHandler(),this.cancelledHandler=null),this.clear()},i.prototype.onFileError=function(){if(e.preloader(!1),0==this.isFileFailed){this.isFileFailed=!0;var t=e.model.XSSCheck.valid(this.filename)?this.filename:e.model.XSSCheck.validate(this.filename);e.uialert(s.StringUtils.bind(e.model._labels.Labels.MESSAGE_UNABLE_TO_OPEN_FILE,t),e.model._labels.Labels.ERROR,e.AlertType.ERROR)}null!=this.errorHandler&&(this.errorHandler(),this.errorHandler=null),this.stopTimer()},i.prototype.onHeaderParsingError=function(){e.preloader(!1),e.uialert(s.StringUtils.bind(e.model._labels.Labels.MESSAGE_CSV_HEADER_PARSING_ERROR),e.model._labels.Labels.ERROR,e.AlertType.ERROR)},i.prototype.onFileProgress=function(t){if(404==t.target.status)this.onFileError();else if(!s.nullOrUndefined(this.loader))try{var n=this.loader.response;if(null!=n&&0!=n.length&&(this.bytesLoaded!=t.loaded||this.dataLoadedLength!=n.length)&&(this.hasSizeHeader=0<t.total&&t.lengthComputable,this.dataLoadedLength=n.length,this.bytesLoaded=t.loaded,1e4<n.length-this.lastPosition||t.loaded==t.total))if(this.bytesLoaded>e.model.license.Limitations.MAX_CSV)e.uialert(e.model.license.LicenseLabels.getLabel(e.model.license.LicenseLabels.betaversion),e.model.license.LicenseLabels.getLabel(e.model.license.LicenseLabels.tooLarge)),e.preloader(!1),null!=this.errorHandler&&(this.errorHandler(),this.errorHandler=null),this.stopTimer();else{this.isFileLoaded=t.loaded==t.total,void 0!==n&&this.parseChunk(n.substring(this.lastPosition,n.length)),this.lastPosition=n.length;var i=s.StringUtils.bind(e.model._labels.Labels.MESSAGE_LOADING_PROGRESS,s.NumberFormatter.formatThousands(t.loaded.toFixed(0)),s.NumberFormatter.formatThousands(t.total.toFixed(0)));e.preloader(!0,e.model._labels.Labels.MESSAGE_LOADING_DATA,i)}}catch(r){console.error(r.stack),this.onFileError()}},i.prototype.onFileConnected=function(){this.connected=!0,e.preloader(!0,e.model._labels.Labels.MESSAGE_LOADING_DATA,"")},i.prototype.setConnected=function(){null!=this.connectedHandler&&(this.connectedHandler(),this.connectedHandler=null)},i.prototype.onFileComplete=function(){if(!s.nullOrUndefined(this.loader))try{if(0==this.lastPosition||!this.hasSizeHeader){var t=this.loader.response;this.connected=!0,t.length>e.model.license.Limitations.MAX_CSV?(e.uialert(e.model.license.LicenseLabels.getLabel(e.model.license.LicenseLabels.betaversion),e.model.license.LicenseLabels.getLabel(e.model.license.LicenseLabels.tooLarge)),e.preloader(!1),null!=this.errorHandler&&(this.errorHandler(),this.errorHandler=null),this.clear()):(this.isFileLoaded=!0,this.isStarted?this.hasSizeHeader||(this.lastPosition<t.length?(this.parseChunk(t.substring(this.lastPosition,t.length)),this.lastPosition=t.length):this.data.push(this.lastRow)):this.parseChunk(t),this.parseAllDataRows(),this.onDataParsed())}}catch(i){console.error(i.stack),this.onFileError()}},i.isCSVValid=function(t){return-1==(t=t.toLowerCase()).indexOf("<html>")&&-1==t.indexOf("<config>")&&0!=t.trim().length&&-1==t.indexOf("<!doctype")||(e.uialert(e.model._labels.Labels.MESSAGE_INAPPROPRIATE_FILE_FORMAT,e.model._labels.Labels.ERROR,e.AlertType.ERROR),!1)},i.prototype.parseChunk=function(t){this.isStarted=!0,this.setConnected(),0==this.chunkIndex&&-1==t.indexOf("\n")&&-1!=t.indexOf("\r")&&(this.recordsetDelimiter="\r"),void 0===this.fieldSeparator&&(this.fieldSeparator=this.chooseSeparator(-1==t.indexOf("\n")&&-1==t.indexOf("\r")?t:t.substring(0,t.indexOf(this.recordsetDelimiter)))),this.appendData(t),0==this.isHeaderParsed&&(1<this.data.length||e.model._options.OptionsManager.showEmptyData)&&(this.parseHeader(this.data.shift(),this.data[0]),this.isHeaderParsed=!0)},i.prototype.onDataParsed=function(){e.preloader(!1),this.isHeaderParsed?null!=this.successHandler&&this.successHandler():(e.uialert(e.model._labels.Labels.MESSAGE_NO_DATA_AVAILABLE,e.model._labels.Labels.ERROR,e.AlertType.ALERT),null!=this.errorHandler&&(this.errorHandler(),this.errorHandler=null)),this.clear()},i.prototype.parseHeader=function(t,r){if(i.isCSVValid(t))try{s.nullOrUndefined(this.fieldSeparator)&&(this.fieldSeparator=",");var o=i.splitRow(t,this.fieldSeparator),a=i.splitRow(r,this.fieldSeparator);this.columnNames=[];for(var l=0;l<o.length;l++){var c,u=this.getColumnValue(a[l]),d=o[l],h=null;if(0<o[l].length&&-1<o[l].indexOf("{")){var p=o[l].substr(o[l].indexOf(":")+1,o[l].length);if(0<p.length){d=o[l].substring(0,o[l].indexOf(":"));try{h=JSON.parse(p)}catch(v){console.error("The following JSON meta object for the field '"+o[l].substring(0,o[l].indexOf(":"))+"' in CSV is invalid: "+p),console.error(v.stack),o[l]=d}}}if(s.nullOrUndefined(h)){var f=this.getColumnType(o[l],u,0==a.length);c=this.getColumnName(o[l]);var A=this.getColumnCaption(c),g=this.getColumnAlias(o[l])||A;if(this.columnType[l]=f,this.columnNames.push(c),h={type:f,caption:g,uniqueName:c},f==n.types.DataFieldType.LEVEL){var m=c.split(":");if(h.hierarchy=m[0],h.level=m.pop(),0<m.length){var y=m.pop();h.parent=y}}}else!s.nullOrUndefined(h.type)&&n.types.DataFieldType.valid(h.type)||(""==u||void 0===u?h.type=n.types.DataFieldType.STRING:isNaN(Number(u))?isNaN(Number(u))&&(h.type=s.StringUtils.isDate(u)&&e.model._options.OptionsManager.datePattern==e.model._options.OptionsManager.defaultDatePattern?n.types.DataFieldType.DATE:n.types.DataFieldType.STRING):h.type=n.types.DataFieldType.NUMBER),c=this.getColumnName(d),(s.nullOrUndefined(h.caption)||""==h.caption.length)&&(h.caption=this.getColumnCaption(c)),this.columnType[l]=h.type,this.columnNames.push(c);this.cube_.structure_.addDataField(h,c)}}catch(w){console.error(w.stack),this.onHeaderParsingError()}else this.onFileError()},i.prototype.getColumnValue=function(e){return null!=e&&(e=e.replace(",",".")),e},i.prototype.getColumnCaption=function(e){var t=e.split(a.ALIAS_DELIMITER);return 1<t.length?t[1]:(this.hasParentHierarchy(e)&&(t=e.split(":")),t[t.length-1])},i.prototype.getColumnName=function(e){if(e=e.trim().split(a.ALIAS_DELIMITER)[0],e=this.removeColumnFlags(e),-1<this.columnNames.indexOf(e)){for(var t=1,n=e;-1<this.columnNames.indexOf(n);)n=e+t,t++;e=n}return e},i.prototype.getColumnAlias=function(e){return 1<(e=e.split(a.ALIAS_DELIMITER)).length?e[1]:null},i.prototype.removeColumnFlags=function(e){return e.replace(/^(\+|dt\+|t\+|n\+|-|ds\+|d\+|m\+|w\+|D\+|D4\+|url\+|img\+|id\+)/,"")},i.prototype.getColumnType=function(t,i,r){var o=n.types.DataFieldType.NUMBER;return t=t.trim(),s.nullOrUndefined(i)&&!r?n.types.DataFieldType.STRING:("+"==t.charAt(0)?o=n.types.DataFieldType.STRING:"t+"==t.substr(0,2)?o=n.types.DataFieldType.TIME:"dt+"==t.substr(0,3)?o=n.types.DataFieldType.DATETIME:"n+"==t.substr(0,2)||"-"==t.charAt(0)?o=n.types.DataFieldType.NUMBER:"ds+"==t.substr(0,3)?o=n.types.DataFieldType.DATE_STRING:"d+"==t.substr(0,2)?o=n.types.DataFieldType.DATE:"m+"==t.substr(0,2)?o=n.types.DataFieldType.MONTH:"w+"==t.substr(0,2)?o=n.types.DataFieldType.WEEKDAY:"D+"==t.substr(0,2)?o=n.types.DataFieldType.HIERARCHICAL_DATE:"D4+"==t.substr(0,3)?o=n.types.DataFieldType.HIERARCHICAL_DATE_WITH_QUARTERS:"id+"==t.substr(0,3)?o=n.types.DataFieldType.ID:""==i||void 0===i?o=n.types.DataFieldType.STRING:isNaN(Number(i))&&(o=s.StringUtils.isDate(i)&&e.model._options.OptionsManager.datePattern==e.model._options.OptionsManager.defaultDatePattern?n.types.DataFieldType.DATE:n.types.DataFieldType.STRING),o==n.types.DataFieldType.STRING&&this.hasParentHierarchy(t)&&(o=n.types.DataFieldType.LEVEL),o)},i.prototype.hasParentHierarchy=function(e){return"+"==e.charAt(0)&&(e=e.substr(1)),1<e.split(":").length&&-1<this.columnNames.indexOf(e.split(":")[0].trim())},i.prototype.parseDataRows=function(){for(var t=s.getTimer(),n=this.data.length;50>s.getTimer()-t&&this.rowIdx!=n;)this.parseDataRow(this.data[this.rowIdx++]);return 500<s.getTimer()-this.preloaderTime&&this.isFileLoaded&&(t=e.model._labels.Labels.MESSAGE_ANALYZING_DATA,n=(this.rowIdx/this.data.length*100).toFixed(0),n=s.StringUtils.bind(e.model._labels.Labels.MESSAGE_ANALYZING_PROGRESS,s.NumberFormatter.formatThousands(this.rowIdx.toFixed(0)),s.NumberFormatter.formatThousands(this.data.length.toFixed(0)),n),e.preloader(!0,t,n),this.preloaderTime=s.getTimer()),this.isFileLoaded&&this.rowIdx>=this.data.length},i.prototype.parseAllDataRows=function(){for(e.preloader(!0,e.model._labels.Labels.MESSAGE_ANALYZING_DATA,s.StringUtils.bind(e.model._labels.Labels.MESSAGE_ANALYZING_RECORDS,s.NumberFormatter.formatThousands(this.data.length.toFixed(0))));this.rowIdx<this.data.length;this.rowIdx++)this.parseDataRow(this.data[this.rowIdx])},i.prototype.parseDataRow=function(t){if(!s.nullOrEmpty(t)&&void 0!==this.columnNames){if((t=s.StringUtils.trim(t,this.fieldSeparator)).split(this.fieldSeparator).length<this.columnNames.length)for(var i=t.split(this.fieldSeparator).length;i<this.columnNames.length;i++)t=t.concat(this.fieldSeparator);t+=" ";var r=!1,o=!1,a="",l=0,c=[],u=[],d="";for(i=0;i<t.length;i++){var h=t.charAt(i);i==t.length-1||h==this.fieldSeparator&&!r?(i==t.length-1&&(a+=h),(a=(a=a.trim()).replace("\r","")).charAt(0)==this.fieldEnclosureToken&&a.charAt(a.length-1)==this.fieldEnclosureToken&&(a=a.slice(1,a.length-1)),this.columnType[l]==n.types.DataFieldType.ID&&(d=a),e.model.XSSCheck.valid(a)||(a=e.model.XSSCheck.validate(a)),null!=this.columnNames[l]&&this.cube_.localDataStorage.addMember(this.columnNames[l],a,this.columnType[l],c,u),r=o=!1,a="",l++):h==this.fieldEnclosureToken?(o||(a+=h),r=!r,o=!0):(a+=h,o=!1)}this.cube_.localDataStorage.insert(c,u,d)}},i.prototype.appendData=function(e){void 0!==this.lastRow&&0<this.lastRow.length&&(e=s.StringUtils.concat(this.lastRow,e)),e=this.splitLines(e);for(var t=0;t<e.length;t++)this.data.push(e[t]);1!=this.isFileLoaded&&(this.lastRow=this.data.pop())},i.prototype.splitLines=function(e){var t=!1;if(e=e.split(this.recordsetDelimiter),0==this.ignoreQuotedLineBreaks)for(var n=0;n<e.length;n++)t?(this.isQuoteOpen(e[n])&&(t=!1),e[n-1]+="<br/>"+e[n],e.splice(n,1),n--):this.isQuoteOpen(e[n])&&(t=!0);return e},i.prototype.isQuoteOpen=function(e){return 1==this.countChar(e,this.fieldEnclosureToken)%2},i.prototype.countChar=function(e,t){var n=0;if(e)for(var i=0;i<e.length;i++)e.charAt(i)==t&&n++;return n},i.prototype.chooseSeparator=function(e){if(null==this.fieldSeparator)return e.split(",").length>(e=e.split(";").length)?",":";"},i.splitRow=function(e,t,n){if(void 0===n&&(n='"'),null==e)return[];for(var i="",r=!1,o=!1,s=[],a=0;a<e.length;a++){var l=e.charAt(a);a==e.length-1||l==t&&!r?(a==e.length-1&&l==t?(s.push(i),i=""):a==e.length-1&&(i+=l),(i=i.trim()).charAt(0)==n&&i.charAt(i.length-1)==n&&(i=i.slice(1,i.length-1)),r=o=!1,s.push(i),i=""):l==n?(o||(i+=l),r=!r,o=!0):(i+=l,o=!1)}return s},i.splitRowWithMeta=function(e,t,n,i,r){if(void 0===n&&(n='"'),void 0===i&&(i="{"),void 0===r&&(r="}"),null==e)return[];for(var o="",s=!1,a=!1,l=!1,c=[],u=0;u<e.length;u++){var d=e.charAt(u);u==e.length-1||d==t&&!s&&!l?(u==e.length-1&&d==t?(c.push(o),o=""):u==e.length-1&&(o+=d),(o=o.trim()).charAt(0)==n&&o.charAt(o.length-1)==n&&(o=o.slice(1,o.length-1)),l=s=a=!1,c.push(o),o=""):d==n?(a||(o+=d),s=!s,a=!0):(a=!1,d==i?l=!0:d==r&&(l=!1),o+=d)}return c},i.timeCaption=function(t){return t&&0<t.length?t:e.model._labels.Labels.INVALID_DATE},i.prototype.loadMembers=function(e,t,n){},i.prototype.loadMemberChildren=function(e,t,n,i){},i.prototype.loadMemberDescendants=function(e,t,n,i){},i.prototype.searchMembers=function(e,t,n,i){},i.prototype.cancel=function(){this.clear(),this.connectedHandler=this.errorHandler=this.successHandler=null},i}();i.CSVLoader=r;var a=function(){function e(){}return e.NAN="N",e.FLOAT="F",e.DELIMITER="|",e.NEW_LINE="\n",e.ALIAS_DELIMITER="+T+",e}();i.Consts=a}((n=e.data_||(e.data_={})).csv||(n.csv={}))}(r||(r={})),function(e){var t,n,i;t=e.data_||(e.data_={}),n=t.csv||(t.csv={}),i=function(){function i(){this._embedded=!1,this._dataOffset=0,this.FIELD_DELIMITER=",",this.RECORDSET_DELIMITER="\n",this._cube=t.Cube.getInstance(),this._isStarted=!1,this._embeddedDataStartSign="\x3c!--",this._embeddedDataStopSign="--\x3e",this._embeddedDataJSONStartSign="/**----**",this._embeddedDataJSONStopSign="**--!--**/",this._currentDataStopSign=this._currentDataStartSign="",this._preloaderTime=0,this.regDelimiter=RegExp("%d%","g"),this.regQuote=RegExp("%q%","g"),this.regNewline=RegExp("%n%","g")}return i.prototype.load=function(e,n,i,r,o){try{this.clear(),this._connectionInfo=e,this._successHandler=n,this.connectedHandler=r,this.cancelledHandler=o,this._errorHandler=i,this._embedded=this._connectionInfo.embedded,this._dataOffset=this._connectionInfo.embeddedDataOffset,this._dataToLoad=this._connectionInfo.embeddedDataToLoad,this._embeddedDataStarted=!1,this._embedded&&null!=this._dataToLoad&&this.loadEmbedded(this._dataToLoad)}catch(t){console.error(t.stack),this.onFileError()}},i.prototype.defineCurrentDataSigns=function(e){this._currentDataStartSign=-1<e.indexOf(this._embeddedDataJSONStartSign)?this._embeddedDataJSONStartSign:this._embeddedDataStartSign,this._currentDataStopSign=this._currentDataStartSign==this._embeddedDataJSONStartSign?this._embeddedDataJSONStopSign:this._embeddedDataStopSign},i.prototype.loadEmbedded=function(n){var i=this;this.BLOCK_SIZE=2e3,this._bytesLoaded=0;try{var r=new e.DataStream(n,this._dataOffset,e.DataStream.BIG_ENDIAN);s.getTimer();var o=r.byteLength>this.BLOCK_SIZE?this.BLOCK_SIZE:r.byteLength,a=r.readString(o);this.defineCurrentDataSigns(a),this._dataStrFromBytes="",this._dataStrFromBytes+=a.substring(this._currentDataStartSign.length),this._bytesLoaded+=o,this._bytesToLoad=r.byteLength,this._bytesLoaded<this._bytesToLoad?s.ThreadManager.addTask(this.loadBytes,this,r,function(){return i.onComplete()}):this.onComplete()}catch(t){console.error(t.stack),this.onFileError()}},i.prototype.loadBytes=function(e){var t=this._bytesToLoad-this._bytesLoaded>this.BLOCK_SIZE?this.BLOCK_SIZE:this._bytesToLoad-this._bytesLoaded;return e=e.readString(t),this._bytesLoaded+=t,this._dataStrFromBytes+=e,this.showLoadingProgress(this._bytesLoaded,this._bytesToLoad),this._bytesLoaded>=this._bytesToLoad},i.prototype.showLoadingProgress=function(t,n){var i=s.StringUtils.bind(e.model._labels.Labels.MESSAGE_ANALYZING_RECORDS,(t/n*100).toFixed(0)+"%");e.preloader(!0,e.model._labels.Labels.MESSAGE_LOADING,i)},i.prototype.onComplete=function(){e.preloader(!1),this._isFileLoaded=!0,this.processStringFromBytes(this._dataStrFromBytes)},i.prototype.setConnected=function(){null!=this.connectedHandler&&(this.connectedHandler(),this.connectedHandler=null)},i.prototype.processStringFromBytes=function(e){e=s.StringUtils.trimLeft(e),this.parseChunk(e)},i.prototype.onTick=function(){if(this._timerCount++,0<this._bytesLoaded||this._isFileLoaded||this._isFileFailed)s.fmClearInterval(this._timer),this._timerCount=0;else{var t=this._timerCount/10;this._isConnected?(196<t&&(t=196),t=s.NumberFormatter.format(t/2,new e.model.format.vo.FormatValueObject,!1,!1,1)+"%"):t=s.StringUtils.bind(e.model._labels.Labels.MESSAGE_LOADING_WAITING,s.NumberFormatter.format(t,new e.model.format.vo.FormatValueObject,!1,!1,1)),e.preloader(!0,e.model._labels.Labels.MESSAGE_LOADING_DATA,t)}},i.prototype.onFileError=function(){s.fmClearInterval(this._timer),e.preloader(!1),0==this._isFileFailed&&(this._isFileFailed=!0,e.uialert(s.StringUtils.bind(e.model._labels.Labels.MESSAGE_UNABLE_TO_OPEN_FILE,""),e.model._labels.Labels.ERROR,e.AlertType.ERROR)),null!=this.errorHandler&&(this.errorHandler(),this.errorHandler=null),this.clear()},i.prototype.parseChunk=function(e){this._isStarted=!0,this.setConnected(),this.appendData(e),0==this._isHeaderParsed&&1<this._data.length&&(this._data.shift(),this.parseHeader(this._data.shift()),this._isHeaderParsed=!0,this.parseAllDataRows(),this.onDataParsed())},i.prototype.appendData=function(e){void 0!==this._lastRow&&0<this._lastRow.length&&(e=s.StringUtils.concat(this._lastRow,e)),e=0<=e.indexOf(this.RECORDSET_DELIMITER)?e.split(this.RECORDSET_DELIMITER):[];for(var t=0;t<e.length;t++)this._data.push(e[t]);1!=this._isFileLoaded&&(this._lastRow=this._data.pop(),this._lastRow=this._lastRow==this._currentDataStopSign?this._data.pop():this._lastRow)},i.prototype.parseHeader=function(e){e=n.CSVLoader.splitRowWithMeta(e,this.FIELD_DELIMITER),this._columnNames=[];for(var i=0;i<e.length;i++){var r=e[i],o={};if(0<e[i].length&&-1<e[i].indexOf("{")){var a=e[i].substr(e[i].indexOf(":")+1,e[i].length);if(0<a.length){r=e[i].substring(0,e[i].indexOf(":"));try{o=JSON.parse(a)}catch(t){console.error("The following JSON meta object for the field '"+e[i].substring(0,e[i].indexOf(":"))+"' in CSV is invalid: "+a),console.error(t.stack)}}}r=this.getColumnName(r),(s.nullOrUndefined(o.caption)||""==o.caption.length)&&(o.caption=this.getColumnCaption(r)),this._columnType[i]=o.type,this._columnNames.push(r),this._cube.structure_.addDataField(o,r)}},i.prototype.getColumnCaption=function(e){var t=e.split(n.Consts.ALIAS_DELIMITER);return 1<t.length?t[1]:(this.hasParentHierarchy(e)&&(t=e.split(":")),t[t.length-1])},i.prototype.hasParentHierarchy=function(e){return"+"==e.charAt(0)&&(e=e.substr(1)),1<e.split(":").length&&-1<this._columnNames.indexOf(e.split(":")[0].trim())},i.prototype.getColumnName=function(e){if(e=e.trim().split(n.Consts.ALIAS_DELIMITER)[0],e=this.removeColumnFlags(e),e=this.decodeChars(e),-1<this._columnNames.indexOf(e)){for(var t=1,i=e;-1<this._columnNames.indexOf(i);)i=e+t,t++;e=i}return e},i.prototype.removeColumnFlags=function(e){return e.replace(/^(\+|dt\+|t\+|n\+|-|ds\+|d\+|m\+|w\+|D\+|D4\+|url\+|img\+|id\+)/,"")},i.prototype.parseAllDataRows=function(){for(e.preloader(!0,e.model._labels.Labels.MESSAGE_ANALYZING_DATA,s.StringUtils.bind(e.model._labels.Labels.MESSAGE_ANALYZING_RECORDS,s.NumberFormatter.formatThousands(this._data.length.toFixed(0))));this._rowIdx<this._data.length;this._rowIdx++)this.parseDataRow(this._data[this._rowIdx])},i.prototype.parseDataRows=function(){var t=s.getTimer(),n=this._rowIdx+this.BLOCK_SIZE;for(n>this._data.length&&(n=this._data.length);this._rowIdx<n;this._rowIdx++)this.parseDataRow(this._data[this._rowIdx]);return this.BLOCK_SIZE=s.ThreadManager.adjustTaskSize(s.getTimer()-t,this.BLOCK_SIZE),1e3<s.getTimer()-this._preloaderTime&&this._isFileLoaded&&(t=e.model._labels.Labels.MESSAGE_ANALYZING_DATA,n=(this._rowIdx/this._data.length*100).toFixed(0),n=s.StringUtils.bind(e.model._labels.Labels.MESSAGE_ANALYZING_PROGRESS,s.NumberFormatter.formatThousands(this._rowIdx.toFixed(0)),s.NumberFormatter.formatThousands(this._data.length.toFixed(0)),n),e.preloader(!0,t,n),this._preloaderTime=s.getTimer()),this._isFileLoaded&&this._rowIdx>=this._data.length},i.prototype.parseDataRow=function(e){if(!s.nullOrEmpty(e)&&void 0!==this._columnNames&&e!=this._currentDataStopSign){if(e.split(this.FIELD_DELIMITER).length<this._columnNames.length)for(var t=e.split(this.FIELD_DELIMITER).length;t<this._columnNames.length;t++)e=e.concat(this.FIELD_DELIMITER);var n=[],i=[];for(e=e.split(this.FIELD_DELIMITER),t=0;t<e.length;t++)this.parseDataValue(e[t],t,n,i);this._cube.localDataStorage.insert(n,i)}},i.prototype.parseDataValue=function(n,i,r,o){var s=!0;if(null!=this._columnNames[i]){if(this._columnType[i]==t.types.DataFieldType.STRING||this._columnType[i]==t.types.DataFieldType.WEEKDAY||this._columnType[i]==t.types.DataFieldType.MONTH){if("^"==n.charAt(0)){var a=parseInt(n.substring(1));if(0==isNaN(a)){var l=this._cube.structure_.getDataField(this._columnNames[i]);null!=(a=l.members.getItemAt(a+1))&&(n=a.caption==e.model._labels.Labels.MEMBER_BLANK?"":a.caption,s=!1)}}}else this._columnType[i]==t.types.DataFieldType.LEVEL?"^"==n.charAt(0)&&(a=parseInt(n.substring(1)),0==isNaN(a)&&(null==(l=this._cube.structure_.getDataField(this._columnNames[i])).members&&(l=this._cube.structure_.getDataField(this._columnNames[i]).hierarchy),null!=(a=l.members.getItemAt(a+1))&&(n=a.caption==e.model._labels.Labels.MEMBER_BLANK?"":a.caption,s=!1))):this._columnType[i]!=t.types.DataFieldType.DATE&&this._columnType[i]!=t.types.DataFieldType.DATE_STRING&&this._columnType[i]!=t.types.DataFieldType.HIERARCHICAL_DATE&&this._columnType[i]!=t.types.DataFieldType.HIERARCHICAL_DATE_WITH_QUARTERS||(n=1e3*parseInt(n),s=!1);1==s&&(n=this.decodeChars(n)),this._cube.localDataStorage.addMember(this._columnNames[i],n,this._columnType[i],r,o)}},i.prototype.decodeChars=function(e){return e.replace(this.regDelimiter,",").replace(this.regQuote,'"').replace(this.regNewline,"\n")},i.prototype.onDataParsed=function(){e.preloader(!1),this._isHeaderParsed?this.successHandler():(e.uialert(e.model._labels.Labels.MESSAGE_NO_DATA_AVAILABLE,e.model._labels.Labels.ERROR,e.AlertType.ALERT),this.errorHandler(),this._errorHandler=null),this.clear()},i.prototype.clear=function(){this._data=[],this._currentDataStopSign=this._currentDataStartSign="",this._bytesLoaded=0,this._isConnected=!1,this._columnType=[],this._hasSizeHeader=this._isFileFailed=this._isFileLoaded=this._isHeaderParsed=!1,this._lastRow="",this._rowIdx=0,this.BLOCK_SIZE=100,s.fmClearInterval(this._timer)},i.prototype.successHandler=function(){null!=this._successHandler&&this._successHandler()},i.prototype.errorHandler=function(){null!=this._errorHandler&&this._errorHandler()},i.prototype.loadDimensions=function(e){},i.prototype.loadHierarchies=function(e){},i.prototype.loadLevels=function(e){},i.prototype.loadMeasures=function(e){},i.prototype.loadMembers=function(e,t,n){},i.prototype.loadMemberChildren=function(e,t,n,i){},i.prototype.loadMemberDescendants=function(e,t,n,i){},i.prototype.searchMembers=function(e,t,n,i){},i.prototype.cancel=function(){this.connectedHandler=this.errorHandler=this.successHandler=null},i}(),n.CSVEmbeddedLoader=i}(r||(r={})),function(e){var t;!function(n){var i=function(){function n(){this.NaN="NaN",this._embeddedJSONDataStart="/**----**",this._embeddedJSONDataFinish="**--!--**/"}return n.prototype.getData=function(t){this._callback=t,e.preloader(!0,e.model._labels.Labels.MESSAGE_SAVING),this.preprocessHeader(),this.composeData()},n.prototype.preprocessHeader=function(){var e;for(this._allHierarchies=t.Cube.getInstance().structure_.allHierarchies(),this._columnsList=[],this._colIdx=0;this._colIdx<this._allHierarchies.length;){e=this._allHierarchies.getItemAt(this._colIdx);var n=t.Cube.getInstance().structure_.hierarchyToMeasure(e.uniqueName).type;n!=t.types.MeasureType.COUNT&&n!=t.types.MeasureType.DATE?this.processMeasureColumn(t.Cube.getInstance().structure_.hierarchyToMeasure(e.uniqueName)):this.processHierarchyColumn(e),this._colIdx++}},n.prototype.composeData=function(){var e=this;this._rowIdx=0,this._data="",this._facts=t.Cube.getInstance().localDataStorage.getFacts(),this._tuples=t.Cube.getInstance().localDataStorage.getTuples(),s.ThreadManager.addTask(this.composeLine,this,null,function(){return e.onDataCreated()})},n.prototype.composeLine=function(){var e=s.getTimer();for(this._colIdxDifference=this._colIdx=0;this._rowIdx<this._tuples.length;){for(;this._colIdx+this._colIdxDifference<this._tuples[this._rowIdx].length;)this.addMember(this.composeMember()),this._colIdx++;if(this._rowIdx++,this._data+="\n",this._colIdxDifference=this._colIdx=0,100<s.getTimer()-e)break}return this.showSavingProgress(this._rowIdx,this._tuples.length),this._rowIdx>=this._tuples.length},n.prototype.composeMember=function(){var e,n=this._columnsList[this._colIdx].type;if(n!=t.types.DataFieldType.DATE&&n!=t.types.DataFieldType.DATE_STRING&&n!=t.types.DataFieldType.LEVEL&&n!=t.types.DataFieldType.HIERARCHICAL_DATE&&n!=t.types.DataFieldType.HIERARCHICAL_DATE_WITH_QUARTERS&&n!=t.types.DataFieldType.TIME&&n!=t.types.DataFieldType.DATETIME&&(e=this._allHierarchies.getItem(this._columnsList[this._colIdx].uniqueName).members.getItemAt(this._tuples[this._rowIdx][this._colIdx+this._colIdxDifference]).caption),n==t.types.DataFieldType.NUMBER)return null!=e?e.toString():"";if(n!=t.types.DataFieldType.STRING&&n!=t.types.DataFieldType.WEEKDAY&&n!=t.types.DataFieldType.MONTH){if(n==t.types.DataFieldType.LEVEL){e=(n=this._allHierarchies.getItem(this._columnsList[this._colIdx].hierarchy)).members.getItemAt(this._tuples[this._rowIdx][this._colIdx+this._colIdxDifference]).caption;for(var i=this._colIdx,r=0;r<n.levels_.length-2;r++)this.addMember(this.composeStringData(e,i)),this._colIdx++,e=null==this._tuples[this._rowIdx][this._colIdx+this._colIdxDifference]||""==this._tuples[this._rowIdx][this._colIdx+this._colIdxDifference]+""?"":n.members.getItemAt(this._tuples[this._rowIdx][this._colIdx+this._colIdxDifference]).caption;return this.composeStringData(e,i)}if(n==t.types.DataFieldType.DATE_STRING)return this._allHierarchies.getItem(this._columnsList[this._colIdx].uniqueName).members.getItemAt(this._tuples[this._rowIdx][this._colIdx+this._colIdxDifference]).levelOrdinal/1e3+"";if(n==t.types.DataFieldType.DATE)return e="",e+=(n=this._allHierarchies.getItem(this._columnsList[this._colIdx].uniqueName+".Year").members.getItemAt(this._tuples[this._rowIdx][this._colIdx+this._colIdxDifference])).caption+"-",this._colIdxDifference++,e+=(n=this._allHierarchies.getItem(this._columnsList[this._colIdx].uniqueName+".Month").members.getItemAt(this._tuples[this._rowIdx][this._colIdx+this._colIdxDifference])).caption+"-",this._colIdxDifference++,e+=(n=this._allHierarchies.getItem(this._columnsList[this._colIdx].uniqueName+".Day").members.getItemAt(this._tuples[this._rowIdx][this._colIdx+this._colIdxDifference])).caption,new Date(e).getTime()/1e3+Math.abs(60*(new Date).getTimezoneOffset())+"";if(n==t.types.DataFieldType.HIERARCHICAL_DATE||n==t.types.DataFieldType.HIERARCHICAL_DATE_WITH_QUARTERS)return this.composeHierarchicalDateData(n);if(n==t.types.DataFieldType.TIME||n==t.types.DataFieldType.DATETIME)return this._facts[this._rowIdx][this._colIdx+this._colIdxDifference]+""}return this.composeStringData(e)},n.prototype.addMember=function(t){this._data+=t==this.NaN||t==e.model._labels.Labels.MEMBER_BLANK?"":t,this._data+=this._colIdx+this._colIdxDifference<this._tuples[this._rowIdx].length-1?",":""},n.prototype.composeStringData=function(e,t){return void 0===t&&(t=this._colIdx),""==e?e:(this._columnsList[t].members.keyExists(e)||this._columnsList[t].members.addItem(e,this._columnsList[t].members.length),this.encodeChars(e))},n.prototype.encodeChars=function(e){return e.replace(/,/g,"%d%").replace(/\"/g,"%q%").replace(/\n/g,"%n%")},n.prototype.composeHierarchicalDateData=function(e){return this._colIdxDifference+=2,this._colIdxDifference=e==t.types.DataFieldType.HIERARCHICAL_DATE_WITH_QUARTERS?this._colIdxDifference+1:this._colIdxDifference,this._allHierarchies.getItem(this._columnsList[this._colIdx].uniqueName).members.getItemAt(this._tuples[this._rowIdx][this._colIdx+this._colIdxDifference]).levelOrdinal/1e3+""},n.prototype.onDataCreated=function(){e.preloader(!1),null!=this._callback&&this._callback(this.getResult())},n.prototype.processHierarchyColumn=function(e){var n=this.getHierarchyType(e);n==t.types.DataFieldType.LEVEL?this.processLevelsColumn(e):n==t.types.DataFieldType.DATE?(this._columnsList.push(this.createColumn(n,e.dimension.uniqueName,e.dimension.caption)),this._colIdx+=2):this._columnsList.push(this.createColumn(n,e.uniqueName,e.caption))},n.prototype.getResult=function(){for(var t=this._embeddedJSONDataStart+"\n___csv___WDR___"+e.Pivot.BUILD_VERSION+"\n",n=0;n<this._columnsList.length;n++)t+=this._columnsList[n].uniqueName,t+=":{",t+='"type": "'+this._columnsList[n].type+'"',this._columnsList[n].isLevel?(t+=', "hierarchy": "'+this._columnsList[n].hierarchy+'"',t+=', "level": "'+this._columnsList[n].uniqueName+'"',s.nullOrUndefined(this._columnsList[n].parent)||(t+=', "parent": "'+this._columnsList[n].parent+'"')):this._columnsList[n].uniqueName!=this._columnsList[n].caption&&(t+=', "caption": "'+this._columnsList[n].caption+'"'),t+="}",t+=n<this._columnsList.length-1?",":"";return t+"\n"+this._data+this._embeddedJSONDataFinish},n.prototype.processMeasureColumn=function(e){this._columnsList.push(this.createColumn(t.types.MeasureType.toDataFieldType(e.type),e.uniqueName,e.originalCaption,!0))},n.prototype.processLevelsColumn=function(e){var n=e.uniqueName;e=e.levels_;for(var i,r,o=1;o<e.length;o++){var a;r=o,i=e.getItem(e.getKeyAt(o)),1<r&&(a=e.getItem(e.getKeyAt(r-1)).uniqueName),(i=this.createColumn(t.types.DataFieldType.LEVEL,i.uniqueName,i.caption)).isLevel=!0,i.hierarchy=n,s.nullOrUndefined(a)||(i.parent=a),this._columnsList.push(i)}},n.prototype.getHierarchyType=function(e){if(e.dimension.type.toString()==t.types.DataFieldType.DATE_STRING)return t.types.DataFieldType.DATE_STRING;var n=t.types.DataFieldType.typeName(e.type);return 2<e.levels_.length&&(n=4==e.levels_.length&&e.levels_.getItemAt(1).uniqueName==e.uniqueName+".Year"?t.types.DataFieldType.HIERARCHICAL_DATE:5==e.levels_.length&&e.levels_.getItemAt(1).uniqueName==e.uniqueName+".Year"?t.types.DataFieldType.HIERARCHICAL_DATE_WITH_QUARTERS:t.types.DataFieldType.LEVEL),n},n.prototype.showSavingProgress=function(t,n){var i=s.StringUtils.bind(e.model._labels.Labels.MESSAGE_ANALYZING_RECORDS,(t/n*100).toFixed(0)+"%");e.preloader(!0,e.model._labels.Labels.MESSAGE_SAVING,i)},n.prototype.createColumn=function(e,t,n,i){void 0===i&&(i=!1);var o=new r;return o.type=e,o.uniqueName=t,o.caption=n,o.isMeasure=i,o},n}();n.CSVSaver=i;var r=function(){function e(){this._isLevel=!1,this._members=new s.AssociativeArray}return Object.defineProperty(e.prototype,"members",{get:function(){return this._members},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this._type},set:function(e){this._type=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"uniqueName",{get:function(){return this._uniqueName},set:function(e){this._uniqueName=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"caption",{get:function(){return this._caption},set:function(e){this._caption=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isMeasure",{get:function(){return this._isMeasure},set:function(e){this._isMeasure=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isLevel",{get:function(){return this._isLevel},set:function(e){this._isLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hierarchy",{get:function(){return this._hierarchyUniqueName},set:function(e){this._hierarchyUniqueName=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this._parentUniqueName},set:function(e){this._parentUniqueName=e},enumerable:!0,configurable:!0}),e}();n.Column=r}((t=e.data_||(e.data_={})).csv||(t.csv={}))}(r||(r={})),function(e){var t,n,i;n=(t=e.data_||(e.data_={})).json||(t.json={}),i=function(t){function n(){var e=t.call(this)||this;return e.CHUNK_SIZE=1e4,e.factsCounter=0,e.fileExtensions=[".js",".json"],e}return a(n,t),n.prototype.load=function(e,n,i,r,o){this.clear(),this.successHandler=n,this.errorHandler=i,this.connectedHandler=r,this.cancelledHandler=o,!0===e.browseForFile?this.browseFile():void 0!==e.filename&&""!=e.filename&&"()"!=e.filename.substr(-2)?t.prototype.load.call(this,e,n,i,r,o):this.addData(e.data)},n.prototype.onFileProgress=function(n){if(!s.nullOrUndefined(this.loader))try{if(1e4<n.loaded-this.bytesLoaded){var i=s.StringUtils.bind(e.model._labels.Labels.MESSAGE_LOADING_PROGRESS,s.NumberFormatter.formatThousands((n.loaded/1e3).toFixed(0)),s.NumberFormatter.formatThousands((n.total/1e3).toFixed(0)));e.preloader(!0,e.model._labels.Labels.MESSAGE_LOADING_DATA,i)}this.bytesLoaded=n.loaded}catch(t){console.error(t.stack),this.onFileError()}},n.prototype.onFileComplete=function(){if(!s.nullOrUndefined(this.loader)){var t=this.loader.response;this.connected=!0,t.length>e.model.license.Limitations.MAX_JSON?(e.uialert(e.model.license.LicenseLabels.getLabel(e.model.license.LicenseLabels.betaversion),e.model.license.LicenseLabels.getLabel(e.model.license.LicenseLabels.tooLarge)),e.preloader(!1),null!=this.errorHandler&&(this.errorHandler(),this.errorHandler=null),this.clear()):(this.isFileLoaded=!0,this.parseChunk(t))}},n.prototype.parseChunk=function(n){try{var i=JSON.parse(n);if(s.nullOrUndefined(i.items)||(i=i.items),s.nullOrUndefined(i.length))return void this.invalidFormat()}catch(t){return void this.invalidFormat()}e.preloader(!1),this.addData(i)},n.prototype.addData=function(t){if(s.nullOrUndefined(t.items)||(t=t.items),!(s.nullOrUndefined(t)||1>t.length))if(JSON.stringify(t).length>e.model.license.Limitations.MAX_JSON&&15649632e5<Date.now()||t.toString().length>e.model.license.Limitations.MAX_JSON)e.uialert(e.model.license.LicenseLabels.getLabel(e.model.license.LicenseLabels.betaversion),e.model.license.LicenseLabels.getLabel(e.model.license.LicenseLabels.tooLarge));else{this.setConnected();var n=!1,i=t[0]&&t[0]instanceof Array;i?this.parseHeader(t[0].toString(),t[1].toString()):n=this.cube_.structure_.addDataStructure(t[0]),this.data=t.slice(),this.factsCounter=0,(n||i)&&this.data.shift(),this.parseAllDataRows(),this.onParseComplete()}},n.prototype.updateData=function(t){if(!(s.nullOrUndefined(t)||1>t.length))if(JSON.stringify(t).length>e.model.license.Limitations.MAX_JSON&&15649632e5<Date.now()||t.toString().length>e.model.license.Limitations.MAX_JSON)e.uialert(e.model.license.LicenseLabels.getLabel(e.model.license.LicenseLabels.betaversion),e.model.license.LicenseLabels.getLabel(e.model.license.LicenseLabels.tooLarge));else{this.cube_.localDataStorage.clearUpdates();for(var n=t[1]&&t[1]instanceof Array,i=0;i<t.length;i++)n?this.cube_.localDataStorage.insertArray(t[i],!0):this.cube_.localDataStorage.insertObject(t[i],!0)}},n.prototype.onParseComplete=function(){e.preloader(!1),this.successHandler()},n.prototype.parseDataRow=function(t){var n=this.factsCounter;t=n+this.CHUNK_SIZE;for(var i=this.data[1]&&this.data[1]instanceof Array;n<t;n++){if(n==this.data.length)return!0;i?this.cube_.localDataStorage.insertArray(this.data[n]):this.cube_.localDataStorage.insertObject(this.data[n]),this.factsCounter++}return 100<(t=Math.round(this.factsCounter/this.data.length*100))&&(t=100),e.preloader(!0,e.model._labels.Labels.MESSAGE_ANALYZING_DATA,s.StringUtils.bind(e.model._labels.Labels.MESSAGE_ANALYZING_PROGRESS,s.NumberFormatter.formatThousands(this.factsCounter.toString()),s.NumberFormatter.formatThousands(this.data.length.toString()),t.toString())),!1},n.prototype.parseAllDataRows=function(){e.preloader(!0,e.model._labels.Labels.MESSAGE_ANALYZING_DATA,s.StringUtils.bind(e.model._labels.Labels.MESSAGE_ANALYZING_RECORDS,s.NumberFormatter.formatThousands(this.data.length.toFixed(0))));for(var t=this.data[1]&&this.data[1]instanceof Array;this.factsCounter<this.data.length;this.factsCounter++)t?this.cube_.localDataStorage.insertArray(this.data[this.factsCounter]):this.cube_.localDataStorage.insertObject(this.data[this.factsCounter])},n.prototype.invalidFormat=function(){e.preloader(!1),e.uialert(e.model._labels.Labels.MESSAGE_INVALID_JSON_DATA,e.model._labels.Labels.ERROR),this.errorHandler(),this.stopTimer()},n}(t.csv.CSVLoader),n.JSONLoader=i}(r||(r={})),function(e){!function(e){!function(e){var t=function(){function e(){}return e.valid=function(t){return t==e.JSON||t==e.CSV||t==e.EMPTY},e.CSV="csv",e.JSON="json",e.EMPTY="",e}();e.DataSourceType=t}(e.consts||(e.consts={}))}(e.data_||(e.data_={}))}(r||(r={})),function(e){!function(e){!function(e){var t=function(){function e(){}return e.TOP="top",e.BOTTOM="bottom",e.NONE="none",e}();e.FilterType=t}(e.consts||(e.consts={}))}(e.data_||(e.data_={}))}(r||(r={})),function(e){!function(e){!function(e){var t=function(){function e(){}return e.isValid=function(t){return t==e.UNSORTED||t==e.ASC||t==e.DESC},e.UNSORTED="unsorted",e.ASC="asc",e.DESC="desc",e.NUMERIC_RANGE="numericRange",e}();e.SortType=t}(e.consts||(e.consts={}))}(e.data_||(e.data_={}))}(r||(r={})),function(e){!function(e){!function(e){var t=function(){function e(){}return e.ROWS_AXIS="rows",e.COLUMNS_AXIS="columns",e.PAGES_AXIS="pages",e}();e.AxisName=t}(e.consts||(e.consts={}))}(e.data_||(e.data_={}))}(r||(r={})),function(e){!function(e){!function(e){var t=function(){function e(){}return e.MD_DIMTYPE_UNKNOWN=0,e.MD_DIMTYPE_TIME=1,e.MD_DIMTYPE_MEASURE=2,e.MD_DIMTYPE_OTHER=3,e}();e.DimensionType=t}(e.types||(e.types={}))}(e.data_||(e.data_={}))}(r||(r={})),function(e){!function(e){!function(e){var t=function(){function t(){}return t.fromDataFieldType=function(n){var i=t.DEFAULT;switch(n){case e.DataFieldType.NUMBER:i=t.MEASURE;break;case e.DataFieldType.DATE:i=t.DATE}return i},t.toDataFieldType=function(n){var i=e.DataFieldType.STRING;switch(n){case t.MEASURE:i=e.DataFieldType.NUMBER;break;case t.DATE:i=e.DataFieldType.DATE}return i},t.DEFAULT=0,t.DATE=1,t.MEASURE=2,t}();e.HierarchyType=t}(e.types||(e.types={}))}(e.data_||(e.data_={}))}(r||(r={})),function(e){!function(e){!function(e){var t=function(){function t(){}return t.fromColumnType=function(e){switch(e){case 13:return t.TIME;case 15:return t.DATETIME;case 3:return t.BOOLEAN;case 12:return t.NUMBER}return t.COUNT},t.fromDataType=function(e){var n=t.COUNT;switch(e){case"number":n=t.NUMBER;break;case"string":n=t.STRING;break;case"boolean":n=t.BOOLEAN;break;case"date":n=t.DATE;break;case"timestamp":n=t.TIME;break;case"count":n=t.COUNT}return n},t.toDataFieldType=function(n){switch(n){case t.STRING:return e.DataFieldType.STRING;case t.BOOLEAN:return e.DataFieldType.BOOLEAN;case t.DATE:return e.DataFieldType.DATE;case t.DATETIME:return e.DataFieldType.DATETIME;case t.TIME:return e.DataFieldType.TIME}return e.DataFieldType.NUMBER},t.NUMBER=1,t.STRING=2,t.BOOLEAN=3,t.DATE=4,t.TIME=5,t.DATETIME=6,t.COUNT=7,t}();e.MeasureType=t}(e.types||(e.types={}))}(e.data_||(e.data_={}))}(r||(r={})),function(e){!function(e){!function(e){var t=function(){function e(){}return e.ALL=0,e.STRING=1,e.NUMBER=2,e.BOOLEAN=3,e.DATE=4,e.TIME=5,e.YEAR=6,e.HALFYEAR=7,e.QUARTER=8,e.MONTH=9,e.WEEK=10,e.WEEKDAY=11,e.DAY=12,e.HOUR=13,e.MINUTE=14,e.SECOND=15,e.MILLISECOND=16,e.TIME_DATE=17,e}();e.LevelType=t}(e.types||(e.types={}))}(e.data_||(e.data_={}))}(r||(r={})),function(e){!function(e){!function(e){var t=function(){function e(){}return e.typeName=function(t){return e.allStrings[t]},e.typeNum=function(t){return e.allStrings.indexOf(t)},e.valid=function(t){return-1<e.allStrings.indexOf(t)},e.typeFromValue=function(t){return""===t?e.STRING:"number"!=typeof t&&isNaN(Number(t))?0<Date.parse(t)?s.detectBrowser().isChrome&&!t.match(/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24\:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/i)?e.STRING:e.DATE:e.STRING:e.NUMBER},e.STRING="string",e.allStrings=[e.NUMBER="number",e.STRING,e.BOOLEAN="boolean",e.LEVEL="level",e.MONTH="month",e.WEEKDAY="weekday",e.DATE="date",e.DATE_STRING="date string",e.HIERARCHICAL_DATE="year/month/day",e.HIERARCHICAL_DATE_WITH_QUARTERS="year/quarter/month/day",e.TIME="time",e.DATETIME="datetime",e.ID="id",e.DELETE="delete",e.HIDDEN="hidden"],e}();e.DataFieldType=t}(e.types||(e.types={}))}(e.data_||(e.data_={}))}(r||(r={})),function(e){var t;!function(t){var n=function(){function t(){}return t.aggregationCaption=function(n){return n==t.SUM?e.model._labels.Labels.SUM_CAPTION:n==t.COUNT?e.model._labels.Labels.COUNT_CAPTION:n==t.DISTINCT_COUNT||n==t.DISTINCT_COUNT_DEPRECATED?e.model._labels.Labels.DISTINCT_COUNT_CAPTION:n==t.AVERAGE?e.model._labels.Labels.AVERAGE_CAPTION:n==t.PRODUCT?e.model._labels.Labels.PRODUCT_CAPTION:n==t.MIN?e.model._labels.Labels.MIN_CAPTION:n==t.MAX?e.model._labels.Labels.MAX_CAPTION:n==t.PERCENT?e.model._labels.Labels.PERCENT_CAPTION:n==t.PERCENT_COLUMN||n==t.PERCENT_COLUMN_DEPRECATED?e.model._labels.Labels.PERCENT_COLUMN_CAPTION:n==t.PERCENT_ROW?e.model._labels.Labels.PERCENT_ROW_CAPTION:n==t.INDEX?e.model._labels.Labels.INDEX_CAPTION:n==t.DIFFERENCE?e.model._labels.Labels.DIFFERENCE_CAPTION:n==t.PERCENT_DIFFERENCE?e.model._labels.Labels.PERCENT_DIFFERENCE_CAPTION:n==t.NONE?e.model._labels.Labels.NONE_CAPTION:n==t.MEDIAN?e.model._labels.Labels.MEDIAN_CAPTION:n==t.STDEVP?e.model._labels.Labels.STDEVP_CAPTION:n==t.STDEVS?e.model._labels.Labels.STDEVS_CAPTION:n==t.RUNNING_TOTALS?e.model._labels.Labels.RUNNING_TOTALS_CAPTION:n},t.aggregationCaptions=function(e){void 0===e&&(e=null);var n=[];e=e||t.ALL_AGGREGATIONS;for(var i=0;i<e.length;i++)n.push(t.aggregationCaption(e[i]));return n},t.aggregationTotalCaptions=function(n){void 0===n&&(n=null);var i=[];n=n||t.ALL_AGGREGATIONS;for(var r=0;r<n.length;r++)n[r]==t.SUM&&i.push(e.model._labels.Labels.SUM_TOTAL_CAPTION),n[r]==t.COUNT&&i.push(e.model._labels.Labels.COUNT_TOTAL_CAPTION),n[r]!=t.DISTINCT_COUNT&&n[r]!=t.DISTINCT_COUNT_DEPRECATED||i.push(e.model._labels.Labels.DISTINCT_COUNT_TOTAL_CAPTION),n[r]==t.AVERAGE&&i.push(e.model._labels.Labels.AVERAGE_TOTAL_CAPTION),n[r]==t.PRODUCT&&i.push(e.model._labels.Labels.PRODUCT_TOTAL_CAPTION),n[r]==t.MIN&&i.push(e.model._labels.Labels.MIN_TOTAL_CAPTION),n[r]==t.MAX&&i.push(e.model._labels.Labels.MAX_TOTAL_CAPTION),n[r]==t.PERCENT&&i.push(e.model._labels.Labels.PERCENT_TOTAL_CAPTION),n[r]!=t.PERCENT_COLUMN&&n[r]!=t.PERCENT_COLUMN_DEPRECATED||i.push(e.model._labels.Labels.PERCENT_COLUMN_TOTAL_CAPTION),n[r]==t.PERCENT_ROW&&i.push(e.model._labels.Labels.PERCENT_ROW_TOTAL_CAPTION),n[r]==t.INDEX&&i.push(e.model._labels.Labels.INDEX_TOTAL_CAPTION),n[r]==t.DIFFERENCE&&i.push(e.model._labels.Labels.DIFFERENCE_TOTAL_CAPTION),n[r]==t.PERCENT_DIFFERENCE&&i.push(e.model._labels.Labels.PERCENT_DIFFERENCE_TOTAL_CAPTION),n[r]==t.NONE&&i.push("{0}"),n[r]==t.MEDIAN&&i.push(e.model._labels.Labels.MEDIAN_TOTAL_CAPTION),n[r]==t.STDEVP&&i.push(e.model._labels.Labels.STDEVP_TOTAL_CAPTION),n[r]==t.STDEVS&&i.push(e.model._labels.Labels.STDEVS_TOTAL_CAPTION),n[r]==t.RUNNING_TOTALS&&i.push(e.model._labels.Labels.RUNNING_TOTALS_TOTAL_CAPTION);return i},t.validType=function(e){return-1!=t.ALL_AGGREGATIONS.indexOf(e)||e==t.NONE},t.validForDateTimeFormatting=function(e){return-1!=t.AGGREGATIONS_COMPATIBLE_WITH_DATETIME_FORMATTING.indexOf(e)||e==t.NONE},t.validForTimeFormatting=function(e){return-1!=t.AGGREGATIONS_COMPATIBLE_WITH_TIME_FORMATTING.indexOf(e)||e==t.NONE},t.isCount=function(e){return-1!=t.AGGREGATIONS_WITH_COUNT_FORMATTING.indexOf(e)},t.isPercent=function(e){return-1!=t.AGGREGATIONS_WITH_PERCENT_FORMATTING.indexOf(e)},t.deprecatedType=function(e){return e==t.DISTINCT_COUNT_DEPRECATED||e==t.PERCENT_COLUMN_DEPRECATED},t.fromDeprecatedToValid=function(e){switch(e){case t.DISTINCT_COUNT_DEPRECATED:return t.DISTINCT_COUNT;case t.PERCENT_COLUMN_DEPRECATED:return t.PERCENT_COLUMN;default:return""}},t.SUM="sum",t.COUNT="count",t.DISTINCT_COUNT="distinctcount",t.DISTINCT_COUNT_DEPRECATED="distinct count",t.AVERAGE="average",t.PERCENT="percent",t.PERCENT_COLUMN="percentofcolumn",t.PERCENT_ROW="percentofrow",t.PERCENT_COLUMN_DEPRECATED="percent of column",t.PRODUCT="product",t.INDEX="index",t.MIN="min",t.MAX="max",t.NONE="none",t.DIFFERENCE="difference",t.PERCENT_DIFFERENCE="%difference",t.ALL_AGGREGATIONS=[t.SUM,t.COUNT,t.DISTINCT_COUNT,t.AVERAGE,t.MEDIAN="median",t.PRODUCT,t.MIN,t.MAX,t.PERCENT,t.PERCENT_COLUMN,t.PERCENT_ROW,t.INDEX,t.DIFFERENCE,t.PERCENT_DIFFERENCE,t.STDEVP="stdevp",t.STDEVS="stdevs",t.RUNNING_TOTALS="runningtotals"],t.AGGREGATIONS_COMPATIBLE_WITH_DATETIME_FORMATTING=[t.SUM,t.AVERAGE,t.MEDIAN,t.PRODUCT,t.MIN,t.MAX],t.AGGREGATIONS_COMPATIBLE_WITH_TIME_FORMATTING=[t.SUM,t.AVERAGE,t.MEDIAN,t.PRODUCT,t.MIN,t.MAX,t.DIFFERENCE,t.STDEVP,t.STDEVS,t.RUNNING_TOTALS],t.AGGREGATIONS_WITH_COUNT_FORMATTING=[t.COUNT,t.DISTINCT_COUNT],t.AGGREGATIONS_WITH_PERCENT_FORMATTING=[t.PERCENT,t.PERCENT_COLUMN,t.PERCENT_ROW,t.PERCENT_DIFFERENCE],t}();t.AggregationName=n}((t=e.data_||(e.data_={})).consts||(t.consts={}))}(r||(r={})),function(e){!function(e){!function(e){var t=function(){function e(){}return e.ADD="+",e.SUBTRACT="-",e.MULTIPLY="*",e.DIVIDE="/",e.POWER="^",e.LESS="<",e.GREATER=">",e.EQUAL="=",e.EQUAL_2="==",e.NOT_EQUAL="!=",e.LESS_OR_EQUAL="<=",e.GREATER_OR_EQUAL=">=",e.OR="or",e.AND="and",e.IF="if",e.ABS="abs",e.MIN="min",e.MAX="max",e.BLANK="isnan",e.NOT_BLANK="!isnan",e.VALUE="value",e.UPDATE_DIFFERENCE="updatedifference",e.UPDATE_PERCENT="updatepercent",e}();e.FunctionName=t}(e.consts||(e.consts={}))}(e.data_||(e.data_={}))}(r||(r={})),function(e){!function(e){!function(e){var t=function(){function e(){}return e.SELECT="select",e.EXPAND="expand",e.COLLAPSE="collapse",e.DRILL_UP="drillUp",e.DRILL_DOWN="drillDown",e.DRILL_DOWN_TO="drillDownTo",e.DRILL_THROUGH="drillThrough",e.FILTER="filter",e.SEARCH="search",e}();e.QueryType=t}(e.consts||(e.consts={}))}(e.data_||(e.data_={}))}(r||(r={})),function(e){!function(e){!function(e){var t=function(){function e(){}return e.DIVIDE_BY_ZERO=.001122334400556678,e}();e.DataConsts=t}(e.consts||(e.consts={}))}(e.data_||(e.data_={}))}(r||(r={})),function(e){!function(e){var t,n;t=e.vo||(e.vo={}),n=function(){function n(){this._dataSourceType=e.consts.DataSourceType.EMPTY,this.isUpdateData=!1}return Object.defineProperty(n.prototype,"dataSourceType",{get:function(){return this._dataSourceType},set:function(e){this._dataSourceType=e.toLowerCase()},enumerable:!0,configurable:!0}),n.prototype.isEqual=function(e){return e&&this.dataSourceType==e.dataSourceType},Object.defineProperty(n.prototype,"isEmpty",{get:function(){return this._dataSourceType==e.consts.DataSourceType.EMPTY},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isDemo",{get:function(){return this._dataSourceType==e.consts.DataSourceType.CSV&&"this"==this.filename},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isInlineData",{get:function(){return!1},set:function(e){},enumerable:!0,configurable:!0}),n.fromObject=function(i){if(null==i)return new n;if(s.nullOrUndefined(i.connectionInfo)||(i=i.connectionInfo),i instanceof n||i instanceof t.CSVConnectionInfo||i instanceof t.JSONConnectionInfo||(i=n.toPlainObject(i)),s.nullOrUndefined(i.dataSourceType)||(i.dataSourceType=i.dataSourceType.toLowerCase()),!s.nullOrUndefined(i.filename)&&s.nullOrUndefined(i.dataSourceType)){var r=i.filename.split("?")[0].toLowerCase();i.dataSourceType=".csv"==r.substr(-4)?e.consts.DataSourceType.CSV:".json"==r.substr(-5)||".js"==r.substr(-3)?e.consts.DataSourceType.JSON:e.consts.DataSourceType.CSV}switch(!s.nullOrUndefined(i.data)&&i.data instanceof Array&&(i.dataSourceType=e.consts.DataSourceType.JSON,i.data=i.data.slice()),i.dataSourceType){case e.consts.DataSourceType.CSV:return t.CSVConnectionInfo.fromObject(i);case e.consts.DataSourceType.JSON:return t.JSONConnectionInfo.fromObject(i);default:return new n}},n.toPlainObject=function(e){var t={};return null!=e.dataSourceType&&(t.dataSourceType=e.dataSourceType),null!=e.filename&&(t.filename=e.filename),null!=e.requestHeader&&(t.requestHeader=e.requestHeader),null!=e.browseForFile&&(t.browseForFile=e.browseForFile),null!=e.fieldSeparator&&(t.fieldSeparator=e.fieldSeparator),null!=e.recordsetDelimiter&&(t.recordsetDelimiter=e.recordsetDelimiter),null!=e.ignoreQuotedLineBreaks&&(t.ignoreQuotedLineBreaks=e.ignoreQuotedLineBreaks),null!=e.embedded&&(t.embedded=e.embedded),null!=e.embeddedDataOffset&&(t.embeddedDataOffset=e.embeddedDataOffset),null!=e.embeddedDataToLoad&&(t.embeddedDataToLoad=e.embeddedDataToLoad),null!=e.data&&(t.data=e.data),null!=e.checkUpdates&&(t.checkUpdates=e.checkUpdates),null!=e.url&&(t.url=e.url),null!=e.hash&&(t.hash=e.hash),null!=e.username&&(t.username=e.username),null!=e.password&&(t.password=e.password),null!=e.dataSource&&(null!=(e=e.dataSource).dataSourceType&&(t.dataSourceType=e.dataSourceType),null!=e.filename&&(t.filename=e.filename),null!=e.browseForFile&&(t.browseForFile=e.browseForFile),null!=e.fieldSeparator&&(t.fieldSeparator=e.fieldSeparator),null!=e.recordsetDelimiter&&(t.recordsetDelimiter=e.recordsetDelimiter),null!=e.ignoreQuotedLineBreaks&&(t.ignoreQuotedLineBreaks=e.ignoreQuotedLineBreaks),null!=e.embedded&&(t.embedded=e.embedded),null!=e.embeddedDataOffset&&(t.embeddedDataOffset=e.embeddedDataOffset),null!=e.embeddedDataToLoad&&(t.embeddedDataToLoad=e.embeddedDataToLoad),null!=e.isOCSV2Data&&(t.isOCSV2Data=e.isOCSV2Data),null!=e.data&&(t.data=e.data),null!=e.url&&(t.url=e.url),null!=(e=e.credentials)&&(null!=e.hash&&(t.hash=e.hash),null!=e.username&&(t.username=e.username),null!=e.password&&(t.password=e.password))),t},n.prototype.toObject=function(t){return t={},this.dataSourceType!=e.consts.DataSourceType.EMPTY&&(t.dataSourceType=this.dataSourceType),t},n}(),t.ConnectionInfo=n}(e.data_||(e.data_={}))}(r||(r={})),function(e){!function(e){!function(e){var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.browseForFile=!1,t.requestHeader=null,t}return a(t,e),t.prototype.isEqual=function(t){return e.prototype.isEqual.call(this,t)&&this.filename==t.filename&&0==this.browseForFile&&0==t.browseForFile},t}(e.ConnectionInfo);e.FileConnectionInfo=t}(e.vo||(e.vo={}))}(e.data_||(e.data_={}))}(r||(r={})),function(e){!function(e){var t,n;n=function(t){function n(){var n=t.call(this)||this;return n.checkUpdates=!1,n.dataSourceType=e.consts.DataSourceType.JSON,n}return a(n,t),Object.defineProperty(n.prototype,"isEmpty",{get:function(){return s.nullOrEmpty(this.filename)&&(null==this.browseForFile||0==this.browseForFile)&&s.nullOrUndefined(this.data)},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isInlineData",{get:function(){return!s.nullOrUndefined(this.data)},set:function(e){},enumerable:!0,configurable:!0}),n.prototype.isEqual=function(e){return e==this||t.prototype.isEqual.call(this,e)&&s.nullOrUndefined(e.data)},n.fromObject=function(e){var t=new n;return void 0!==e.browseForFile&&(t.browseForFile=e.browseForFile),void 0!==e.filename&&""!=e.filename&&(t.filename=e.filename),void 0!==e.data&&(t.data=e.data),void 0!==e.checkUpdates&&(t.checkUpdates=e.checkUpdates),void 0!==e.requestHeader&&(t.requestHeader=e.requestHeader),t},n.prototype.toObject=function(e){void 0===e&&(e=!1);var t={};return t.dataSourceType=this.dataSourceType,(e||this.browseForFile)&&(t.browseForFile=this.browseForFile),this.filename&&(t.filename=this.filename),s.nullOrUndefined(this.data)||(t.data=this.data),t},n}((t=e.vo||(e.vo={})).FileConnectionInfo),t.JSONConnectionInfo=n}(e.data_||(e.data_={}))}(r||(r={})),function(e){!function(e){var t,n;n=function(t){function n(){var n=t.call(this)||this;return n.recordsetDelimiter="\n",n.ignoreQuotedLineBreaks=!0,n.embedded=!1,n.embeddedDataOffset=0,n.dataSourceType=e.consts.DataSourceType.CSV,n}return a(n,t),Object.defineProperty(n.prototype,"isEmpty",{get:function(){return s.nullOrEmpty(this.filename)&&(null==this.browseForFile||0==this.browseForFile)&&(null==this.embedded||0==this.embedded)},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isInlineData",{get:function(){return!s.nullOrUndefined(this.data)},set:function(e){},enumerable:!0,configurable:!0}),n.prototype.isEqual=function(e){return t.prototype.isEqual.call(this,e)&&0==this.embedded&&0==e.embedded},n.fromObject=function(e){var t=new n;return void 0!==e.browseForFile&&(t.browseForFile=e.browseForFile),void 0!==e.filename&&""!=e.filename&&(t.filename=e.filename),void 0!==e.fieldSeparator&&(t.fieldSeparator=e.fieldSeparator),void 0!==e.recordsetDelimiter&&(t.recordsetDelimiter=e.recordsetDelimiter),void 0!==e.ignoreQuotedLineBreaks&&(t.ignoreQuotedLineBreaks=e.ignoreQuotedLineBreaks),void 0!==e.embedded&&(t.embedded=e.embedded),void 0!==e.embeddedDataOffset&&(t.embeddedDataOffset=e.embeddedDataOffset),void 0!==e.embeddedDataToLoad&&(t.embeddedDataToLoad=e.embeddedDataToLoad),void 0!==e.requestHeader&&(t.requestHeader=e.requestHeader),t},n.prototype.toObject=function(e){void 0===e&&(e=!1);var t={};return t.dataSourceType=this.dataSourceType,(e||this.browseForFile&&!this.embedded)&&(t.browseForFile=this.browseForFile),this.filename&&(t.filename=this.filename),this.fieldSeparator&&(t.fieldSeparator=this.fieldSeparator),this.recordsetDelimiter&&"\n"!=this.recordsetDelimiter&&(t.recordsetDelimiter=this.recordsetDelimiter),(e||0==this.ignoreQuotedLineBreaks)&&(t.ignoreQuotedLineBreaks=this.ignoreQuotedLineBreaks),this.embedded&&(t.embedded=this.embedded),t},n}((t=e.vo||(e.vo={})).FileConnectionInfo),t.CSVConnectionInfo=n}(e.data_||(e.data_={}))}(r||(r={})),function(e){var n,r;n=e._view||(e._view={}),r=function(r){function o(t,i){var a=r.call(this)||this;a.isUIReady=!1,a.model_=e.model.PivotModel.getInstance(),a.width=0,a.height=0,a.lastWidth=0,a.lastHeight=0,a.delayedDraws=[],a.notReadyCount=0,a.drawn=!1,a.drillthroughClosedHandler=function(){return a.onDrillThroughClosed()},a.isFocused=!0,a.setId("wdr-pivot-view"),null!=a.parentContainer&&a.parentContainer.dispose(),t.empty(),a.parentContainer=t,o.stage=a;var l=i.width?"number"==typeof i.width?i.width+"px":-1<i.width.indexOf("px")||i.width.indexOf("%")==i.width.length-1?i.width:i.width+"px":"100%",c=i.height?"number"==typeof i.height?i.height+"px":-1<i.height.indexOf("px")||i.height.indexOf("%")==i.height.length-1?i.height:i.height+"px":"500px",u=/\d+(?=px|%)/;return l=l.match(u)?l:"100%",c=c.match(u)?c:"500px",a.parentContainer.css("width",l),a.parentContainer.css("height",c),a.container.css("width",l),a.container.css("height",c),a.parentContainer.append(a.container),a.container.requestAnimationFrame(function(){a.toolbar=i.toolbar?new WebDataRocksToolbar(a.parentContainer.element,e.Pivot.instance.api,"html5",l,e.model._labels.LabelsManager.getInstance().getCurrentLocalization().toolbar):null,e.model.JavaScriptHandlers.getInstance().dispatch(new e.model.APIEvent(e.model.JavaScriptHandlers.BEFORE_TOOLBAR_CREATED,a.toolbar)),a.toolbar&&null!=a.toolbar.create&&a.toolbar.create(),a.setControls(),a.draw()}),a.model_.state_.addEventListener(e.model._state.StateEvent.LOADING_REPORT_FILE,function(){return a.onLoadingReportFile()}),a.model_.state_.addEventListener(e.model._state.StateEvent.EMPTY_SLICE,function(){return a.onEmptySlice()}),a.model_.state_.addEventListener(e.model._state.StateEvent.LOADING_DATA,function(){return a.onLoadingData()}),a.model_.state_.addEventListener(e.model._state.StateEvent.RUNNING_QUERY,function(){return a.onBeforeDataQuery()}),a.model_.state_.addEventListener(e.model._state.StateEvent.QUERY_COMPLETE,function(){return a.onDataQueryComplete()}),a.model_.state_.addEventListener(e.model._state.StateEvent.REPORT_COMPLETE,function(){return a.onReportComplete()}),a.model_.state_.addEventListener(e.model._state.StateEvent.LOCALIZATION_LOADED,function(){return a.onLocalizationLoaded()}),a.model_.addEventListener(e.PivotEvent.EXPORT,function(e){return a.onExport(e)}),a.model_.addEventListener(e.PivotEvent.PRINT,function(){return a.onPrint()}),a.model_.addEventListener(n.ViewEvent.CALCULATED_VIEW_OPEN,function(e){return a.onOpenCalculatedView(e)}),a.model_.addEventListener(n.ViewEvent.CONTEXT_MENU_OPEN,function(e){return a.onOpenContextMenu(e)}),a.addEventListener(n.ViewEvent.AFTER_GRID_DRAW,function(){return a.onAfterGridDraw()}),s.fmdocument.addEventListener("fullscreenchange",function(e){return a.onDocumentFullScreen(e)},!1),s.fmdocument.addEventListener("mozfullscreenchange",function(e){return a.onDocumentFullScreen(e)},!1),s.fmdocument.addEventListener("webkitfullscreenchange",function(e){return a.onDocumentFullScreen(e)},!1),s.fmdocument.addEventListener("MSFullscreenChange",function(e){return a.onDocumentFullScreen(e)},!1),a.parentContainer.addEventListener("fullscreenchange",function(e){return a.onFullScreen(e)},!1),a.parentContainer.addEventListener("mozfullscreenchange",function(e){return a.onFullScreen(e)},!1),a.parentContainer.addEventListener("webkitfullscreenchange",function(e){return a.onFullScreen(e)},!1),a.parentContainer.addEventListener("MSFullscreenChange",function(e){return a.onFullScreen(e)},!1),a}return a(o,r),Object.defineProperty(o.prototype,"toolbarHeight",{get:function(){if(this.toolbar){var e=i.UIElement.convert(document.getElementById("wdr-toolbar-wrapper"));return null==e?0:e.height}return 0},enumerable:!0,configurable:!0}),Object.defineProperty(o,"stageWidth",{get:function(){var e=o.stage.container.borderWidth;return o.stage.parentContainer.getWidth(s.isFullscreen())-e.left-e.right},enumerable:!0,configurable:!0}),Object.defineProperty(o,"stageHeight",{get:function(){var e=o.stage.container.borderWidth;return o.stage.parentContainer.getHeight(s.isFullscreen())-e.top-e.bottom},enumerable:!0,configurable:!0}),Object.defineProperty(o,"gridWidth",{get:function(){return o.stageWidth},enumerable:!0,configurable:!0}),Object.defineProperty(o,"gridHeight",{get:function(){return o.stage.pivotHeight()},enumerable:!0,configurable:!0}),o.prototype.pivotHeight=function(){return o.stageHeight-o.stage.toolbarHeight},o.prototype.draw=function(e){var t=this;if(void 0===e&&(e=!1),this.clearDelays(),this.drawn||this.isUIReady){var n=this.container.requestAnimationFrame(function(n){t.clearDelays(),t._draw(e)});this.delayedDraws.push(n)}else 1e3>this.notReadyCount++?this.notReadyTimeout=s.fmSetTimeout(function(){t.draw(e)},10):this.parentContainer.visible&&(console.error("WebDataRocks:\nPivot cannot be drawn."),console.error("document.visibilityState:",document.visibilityState),"hidden"!=document.visibilityState&&alert("WebDataRocks:\nPivot cannot be drawn."))},o.prototype.clearDelays=function(){for(;0<this.delayedDraws.length;)this.container.cancelAnimationFrame(this.delayedDraws.pop());this.delayedDraws=[],s.fmClearTimeout(this.notReadyTimeout),s.fmClearTimeout(this.renderCompleteTimeout)},o.prototype.updateContainerSize=function(){if(!this.parentContainer)return!1;var e=s.isFullscreen(),t=this.parentContainer.getWidth();e&&(t=window.screen.width);var n=this.parentContainer.getHeight();return e&&(n=window.screen.height),n-=this.toolbarHeight,this.lastWidth===t&&this.lastHeight===n||(this.container.css("width",t+"px"),this.container.css("height",n+"px")),this.lastWidth!==t||this.lastHeight!==n},o.prototype.onWindowResize=function(e){this.toolbar&&null!=this.toolbar.applyToolbarLayoutClasses&&this.toolbar.applyToolbarLayoutClasses(),this.draw(!0)},o.prototype.onLoadingReportFile=function(){this.model_.state_.reportType==e.model._state.ReportType.INIT&&this.drawEmptyView()},o.prototype.onEmptySlice=function(){this.draw()},o.prototype.onLoadingData=function(){this.model_.state_.reportType!=e.model._state.ReportType.UPDATE_DATA&&this.model_.state_.reportType!=e.model._state.ReportType.CONNECT_TO&&this.drawEmptyView()},o.prototype.onBeforeDataQuery=function(){},o.prototype.onDataQueryComplete=function(){this.model_.state_.reportType!=e.model._state.ReportType.INIT&&this.model_.state_.reportType!=e.model._state.ReportType.LOAD&&this.draw()},o.prototype.onLocalizationLoaded=function(){null!=this.toolbar&&this.toolbar.updateLabels(e.model._labels.LabelsManager.getInstance().getCurrentLocalization().toolbar)},o.prototype.onReportComplete=function(){this.model_.state_.reportType==e.model._state.ReportType.CLEAR?this.drawEmptyView():this.parentContainer&&this.draw()},o.prototype.onDocumentFullScreen=function(e){this.handleFullScreen()},o.prototype.onFullScreen=function(e){e.stopPropagation(),this.handleFullScreen()},o.prototype.handleFullScreen=function(){var t=this,n=s.isFullscreen();null!=e.model.JavaScriptHandlers.jsFullScreenHandler&&e.model.JavaScriptHandlers.jsFullScreenHandler.call(null,n),n=this.container.requestAnimationFrame(function(){t.updateContainerSize()&&t.draw(!0)}),this.delayedDraws.push(n)},o.prototype.setControls=function(){var e=this;this.toolbar&&(this.container.height-=this.toolbarHeight),this.gridView=new n.grid.GridView,this.gridView.addEventListener(n.ViewEvent.FILTER_OPEN,function(t){return e.onFilterOpenGrid(t)}),this.gridView.addEventListener(n.ViewEvent.DRILL_THROUGH_OPEN,function(t){return e.onDrillThroughOpen(t)}),this.addChild(this.gridView),this.fieldsView=new n.config.FieldsView,this.fieldsView.addEventListener(t._Event.OPENED,function(t){return e.onWindowOpenClose(t)}),this.fieldsView.addEventListener(t._Event.CLOSED,function(t){return e.onWindowOpenClose(t)}),this.fieldsView.addEventListener(n.config.FieldsView.EVENT_OPEN,function(t){return e.onFieldsViewOpen(t)}),this.fieldsView.addEventListener(n.config.FieldsView.EVENT_APPLY_SLICE,function(t){return e.onFieldsViewApplySlice(t)}),this.addChild(this.fieldsView);var r=new i.UILabel;r.html('<a href="https://webdatarocks.com/?r=wdr" target="_blank">WebDataRocks.com</a>'),r.addClass("wdr-credits"),this.addChild(r),s.fmdocument.addEventListener("keydown",function(t){return e.onKeyDown(t)}),this.container.attr("tabindex",0),this.container.addEventListener("focusin",function(t){e.isFocused=!0}),this.container.addEventListener("focusout",function(t){e.isFocused=!1}),this._resizeListener=new s.ResizeListener(this.parentContainer.parent),this._resizeListener.addEventListener(t._Event.RESIZE,function(t){return e.onWindowResize(t)}),this.isUIReady=!0},o.prototype._draw=function(t){void 0===t&&(t=!1),null!=this.model_&&(this.drawn=!0,this.updateContainerSize(),null!=this.filterView&&this.filterView.draw(),s.nullOrUndefined(this.model_.state_.connectionInfo_)||this.model_.state_.connectionInfo_.isEmpty||!e.model._options.OptionsManager.configuratorButton?this.fieldsView.hide():this.fieldsView.show(),t||e.model._options.OptionsManager.configuratorActive||n.calculated.CalculatedView.addingMeasureFlag||(e.model._options.OptionsManager.configuratorOpened=!1),null!=this.model_.cube_.slice_&&this.model_.cube_.slice_.isEmpty&&(e.model._options.OptionsManager.configuratorOpened=!0),e.model._options.OptionsManager.configuratorOpened&&null!=this.model_.state_.connectionInfo_&&!this.model_.state_.connectionInfo_.isEmpty?this.fieldsView.open(this.model_.cube_.structure_,this.model_.cube_.slice_,this.model_.state_.connectionInfo_.dataSourceType):this.fieldsView.close(),this.drawGrid(t),null!=this.drillThroughView&&this.drillThroughView.isVisible()&&(e.model._options.OptionsManager.flatView?this.drillThroughView.close():this.drillThroughView.redraw()),this.lastWidth=this.getWidth(),this.lastHeight=this.getHeight())},o.prototype.drawEmptyView=function(){this.drawGrid(!1,!0),s.nullOrUndefined(this.fieldsView)||this.fieldsView.close()},o.prototype.drawGrid=function(t,n){void 0===t&&(t=!1),void 0===n&&(n=!1),null!=this.gridView&&(t||null==this.filterView||this.filterView.close(),this.gridView.dataProvider=n?null:this.model_.dataProvider_=e.data_.dataprovider_.DataProviderFactory.getDataProvider(),this.gridView.container.css("top","").css("left","").css("right","").css("bottom",""),this.gridView.container.css("position","absolute"),this.gridView.show(),this.gridView.container.css("height",o.gridHeight+"px"),this.gridView.container.css("width",o.stageWidth+"px"),t||this.model_.cube_.connectionInfo_&&this.model_.cube_.connectionInfo_.isUpdateData||this.gridView.clearSizes(),this.gridView.draw(),e.model._options.OptionsManager.flatView&&this.fieldsView.isOpen&&this.fieldsView.open(this.model_.cube_.structure_,this.model_.cube_.slice_,this.model_.state_.connectionInfo_.dataSourceType))},o.prototype.onDrillThroughOpen=function(e){null==this.drillThroughView&&this.addDrillThroughView(),this.drillThroughView.addEventListener(n.grid.GridEvent.DRILLTHROUGH_CLOSED,this.drillthroughClosedHandler);var t=this.model_.cube_.structure_.findMeasure(e.data.measure);this.drillThroughView.openView(this.model_.dataProvider_,this.model_.cube_.slice_,e.data.columnTuple,e.data.rowTuple,t)},o.prototype.onDrillThroughClosed=function(){this.drillThroughView.removeEventListener(n.grid.GridEvent.DRILLTHROUGH_CLOSED,this.drillthroughClosedHandler),this.model_.cube_.refresh()},o.prototype.openFieldsList=function(){null!=this.model_.state_.connectionInfo_&&this.fieldsView.open(this.model_.cube_.structure_,this.model_.cube_.slice_,this.model_.state_.connectionInfo_.dataSourceType)},o.prototype.onFieldsViewApplySlice=function(t){e.Pivot.instance.runQuery(t.data)},o.prototype.onFilterOpenGrid=function(e){null==this.filterView&&this.addFilterView(),this.onFilterOpen(e)},o.prototype.onFilterOpen=function(t){var n={hierarchy:e.data_._structure.GenericHierarchy.toObject(t.hierarchy)};e.model.JavaScriptHandlers.getInstance().dispatch(new e.model.APIEvent(e.model.JavaScriptHandlers.FILTER_OPEN,n)),this.openFilter(t.hierarchy)},o.prototype.openFilter=function(e){null==this.filterView&&this.addFilterView(),this.filterView.openView(e)},o.prototype.closeFieldsList=function(){this.fieldsView.close()},o.prototype.onFieldsViewOpen=function(e){this.openFieldsList()},o.prototype.onWindowOpenClose=function(e){},o.prototype.onKeyDown=function(e){this.isFocused&&(73===e.keyCode&&e.ctrlKey&&e.altKey&&this.showLicenseInfo(),27===e.keyCode&&(null!=this.filterView&&this.filterView.close(),null!=this.drillThroughView&&this.drillThroughView.close(),null!=this.calculatedView&&this.calculatedView.isVisible()?this.calculatedView.close():this.fieldsView.close()))},o.prototype.onExport=function(e){this.drillThroughView&&this.drillThroughView.isVisible()?this.drillThroughView.exportTo(e.exportType,e.exportOptions,e.callbackHandler):this.gridView.exportTo(e.exportType,e.exportOptions,e.callbackHandler)},o.prototype.onPrint=function(){this.gridView.print()},o.prototype.showLicenseInfo=function(){var t=new Date(parseFloat(e.Pivot.BUILD_DATE)/61);t=(t=e.Pivot.BUILD_VERSION+" (build "+s.StringUtils.toDateTime(t.getTime())+") <br/><br/>")+e.model.license.LicenseLabels.getLabel(e.model.license.LicenseLabels.info),e.uialert(t,e.model.license.LicenseLabels.getLabel(e.model.license.LicenseLabels.componentInfo),e.AlertType.INFO)},o.prototype.getCell=function(e,t){return this.gridView.getCell(e,t)},o.prototype.getSelectedCell=function(){return this.gridView.getSelectedCell()},o.prototype.setSelectedCell=function(e,t){this.gridView.setSelectedCell(e,t)},o.prototype.removeSelection=function(){this.gridView.removeSelection()},o.prototype.onOpenCalculatedView=function(e){null==this.calculatedView&&this.addCalculatedView(),this.calculatedView.openView(e.data?e.data.measureName:"")},o.prototype.onOpenContextMenu=function(e){null==this.contextMenu&&this.addContextMenu(),this.contextMenu.showWith(this.container,e.data.menuItems,e.data.coords)},o.prototype.onAfterGridDraw=function(){var e=this;0==this.delayedDraws.length&&(this.renderCompleteTimeout=s.fmSetTimeout(function(){e.dispatchWith(n.ViewEvent.RENDER_COMPLETE)},1))},o.prototype.addCalculatedView=function(){this.calculatedView=new n.calculated.CalculatedView,this.addChild(this.calculatedView)},o.prototype.addDrillThroughView=function(){this.drillThroughView=new n.grid.DrillThroughView,this.addChild(this.drillThroughView)},o.prototype.addFilterView=function(){var e=this;this.filterView=new n.filter.FilterView,this.filterView.addEventListener(t._Event.OPENED,function(t){return e.onWindowOpenClose(t)}),this.filterView.addEventListener(t._Event.CLOSED,function(t){return e.onWindowOpenClose(t)}),this.addChild(this.filterView)},o.prototype.getToolbar=function(){return this.toolbar},o.prototype.addContextMenu=function(){this.contextMenu=new n.ContextMenuView,this.contextMenu.hide(),this.addChild(this.contextMenu)},o.prototype.dispose=function(){this.model_=null,this.gridView.dispose(),this.container.dispose(),this.parentContainer.dispose(),n.AlertView.dispose(),n.filter.FilterModel.dispose(),n.PreloaderView.dispose(),i.dragndrop.DragManager.dispose(),o.stage=null,this._resizeListener&&(this._resizeListener.dispose(),this._resizeListener=null)},o}(i.containers.UIContainer),n.PivotView=r}(r||(r={})),function(e){!function(e){var t=function(){function t(){this._timer=0,this._show=!1,this._details=this._message="",this._transparent=!1}return t.prototype.show=function(e,n,i,r,o){var a=this;void 0===r&&(r=!0),void 0===o&&(o=!1),e?(o&&this.showImmediately(e,n,i,r),0==this._show?(this._show=e,this._message=n,this._details=i,this._transparent=r,this._timer=s.fmSetTimeout(function(){return a.timerHandler()},t.DELAY)):0==this._timer?this.showImmediately(e,n,i,r):(this._show=e,this._message=n,this._details=i,this._transparent=r)):(o&&this.showImmediately(e,n,i,r),1==this._show&&(this._show=e,this._timer=s.fmSetTimeout(function(){return a.timerHandler()},t.DELAY)))},t.prototype.showImmediately=function(e,t,n,i){this.resetTimer(),this.preloaderFunction(e,t,n,i)},t.prototype.timerHandler=function(){this.resetTimer(),this.preloaderFunction(this._show,this._message,this._details,this._transparent)},t.prototype.resetTimer=function(){s.fmClearTimeout(this._timer),this._timer=0},t.prototype.preloaderFunction=function(t,n,i,r){e.PreloaderView.getInstance()&&e.PreloaderView.getInstance().openView(t,n,i,r)},t.getInstance=function(){return null==t._instance&&(t._instance=new t),t._instance},t.dispose=function(){t._instance=null},t.DELAY=250,t}();e.Preloader=t}(e._view||(e._view={}))}(r||(r={})),function(e){!function(e){var t=function(t){function n(){var i=this;if(null!=n._instance)throw Error("Singleton");return(i=t.call(this,e.PivotView.stage.container)||this).setId("wdr-preloader-view"),i.setControls(),i}return a(n,t),n.prototype.openView=function(e,t,n,i){void 0===e&&(e=!0),void 0===t&&(t=""),void 0===n&&(n=""),void 0===i&&(i=!0),this._message=t,this._details=n,this._transparent=i,e?this.open():this.close()},n.prototype.open=function(){t.prototype.open.call(this),this.draw()},n.prototype.setControls=function(){this.overlay.addClass("wdr-overlay-preloader"),this.overlay.removeEventListener("click",this._overlayClickHandler),this._imgSpinner=new i.UIComponentBase("div"),this._imgSpinner.setId("wdr-spinner"),this.addChild(this._imgSpinner),this._txtMessage=new i.UILabel,this._txtMessage.setId("wdr-message-label"),this.addChild(this._txtMessage),this._txtDetails=new i.UILabel,this._txtDetails.setId("wdr-details-label"),this.addChild(this._txtDetails),this.hide(),e.PivotView.stage.addChild(this)},n.prototype.draw=function(){this.overlay.setOpaque(!this._transparent),this.setMessage(this._message),this.setDetails(this._details),this.validate()},n.prototype.setMessage=function(e){this._txtMessage.setLabel(e)},n.prototype.setDetails=function(e){this._txtDetails.setLabel(e)},n.prototype.close=function(){t.prototype.close.call(this),this.clear()},n.prototype.clear=function(){this.setMessage(""),this.setMessage("")},n.getInstance=function(){return null==e.PivotView.stage?null:(null==n._instance&&(n._instance=new n),n._instance)},n.dispose=function(){n._instance=null},n}(i.containers.UIPopup);e.PreloaderView=t}(e._view||(e._view={}))}(r||(r={})),function(e){!function(e){var n=function(n){function r(){var e=n.call(this)||this;return e.setId("wdr-context-menu"),e.list=new i.lists.UIList,e.list.setItemRendererFactory(e.itemRendererFactory),e.list.setLabelField("caption"),e.list.addEventListener(t._Event.CHANGE,function(t){return e.onListChange(t)}),e.addChild(e.list),e.container.disableSelection(),e}return a(r,n),r.prototype.showWith=function(t,n,i){var r=this;0!=n.length&&(this.setData(n),this.show(),t=t.getOffset(),i.top-=t.top+5,i.left-=t.left+5,this.container.offset(i),this.container.addEventListener("mouseleave",function(){return r.hide()}),s.browserVersion().isMobile?e.PivotView.stage.container.addEventListener("touchstart",function(e){return r.onStageMouseDown(e)}):e.PivotView.stage.container.addEventListener("mousedown",function(e){return r.onStageMouseDown(e)}))},r.prototype.onStageMouseDown=function(e){null==i.UIElement.convert(e.target).closest("#wdr-context-menu")&&this.hide()},r.prototype.setData=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);this.list.setDataProvider(t)},r.prototype.onListChange=function(e){null!=e.data.selectedItem.handler&&e.data.selectedItem.handler(e.data.selectedItem.data),this.hide()},r.prototype.itemRendererFactory=function(e,t){var n=new i.renderers.SelectItemRenderer;return n.setData(e),n.setIndex(t),n},r}(i.containers.UIBorderContainer);e.ContextMenuView=n}(e._view||(e._view={}))}(r||(r={})),function(e){var t,n,r;t=e._view||(e._view={}),n=t.grid||(t.grid={}),r=function(r){function o(){var t=r.call(this)||this;return t.START_TABLE_ROW=0,t.START_HEADERS_ROW=0,t.START_HEADERS_COLUMN=0,t.FIRST_DATA_ROW=0,t.FIRST_DATA_COLUMN=0,t._model=e.model.PivotModel.getInstance(),t.conditions=[],t.setId("wdr-grid-view"),s.browserVersion().isMobile?new i._utils.LongPressListener(t.container).listen(function(e,n){return t.onLongPress(e,n)}):s.fmdocument.addEventListener("contextmenu",function(e){return t.onContextMenu(e)}),t}return a(o,r),o.prototype.dispose=function(){this._model=this.dataProvider=null,this.gridLayout&&this.gridLayout.dispose(),this._gridLayout=null},o.prototype.createCompactLayout=function(){var e=this,t=new n.sheet.CompactGridLayout;return t.id="wdr-grid-layout",t.getDataFunction=function(t,n){return e.getData(t,n)},t.addEventListener(n.GridEvent.MOUSE_CLICK,function(t){return e.onGridClick(t)}),t.addEventListener(n.GridEvent.MOUSE_SINGLE_DOUBLE_CLICK,function(t){return e.onGridSingleDoubleClick(t)}),t.addEventListener(n.GridEvent.FILTER_CLICK,function(t){return e.onFilterClick(t)}),t.addEventListener(n.GridEvent.RESIZE_COLUMN,function(t){return e.onResizeColumn(t)}),t.addEventListener(n.GridEvent.RESIZE_ROW,function(t){return e.onResizeRow(t)}),this.container.append(t),t},o.prototype.createClassicLayout=function(){var e=this,t=new n.sheet.classic.ClassicGridLayout;return t.id="wdr-grid-layout",t.getDataFunction=function(t,n){return e.getData(t,n)},t.addEventListener(n.GridEvent.MOUSE_CLICK,function(t){return e.onGridClick(t)}),t.addEventListener(n.GridEvent.MOUSE_SINGLE_DOUBLE_CLICK,function(t){return e.onGridSingleDoubleClick(t)}),t.addEventListener(n.GridEvent.FILTER_CLICK,function(t){return e.onFilterClick(t)}),t.addEventListener(n.GridEvent.RESIZE_COLUMN,function(t){return e.onResizeColumn(t)}),t.addEventListener(n.GridEvent.RESIZE_ROW,function(t){return e.onResizeRow(t)}),this.container.append(t),t},o.prototype.createFlatLayout=function(){var e=this,t=new n.sheet.flat.FlatGridLayout;return t.id="wdr-grid-layout",t.getDataFunction=function(t,n){return e.getData(t,n)},t.addEventListener(n.GridEvent.MOUSE_CLICK,function(t){return e.onGridClick(t)}),t.addEventListener(n.GridEvent.MOUSE_SINGLE_DOUBLE_CLICK,function(t){return e.onGridSingleDoubleClick(t)}),t.addEventListener(n.GridEvent.FILTER_CLICK,function(t){return e.onFilterClick(t)}),t.addEventListener(n.GridEvent.RESIZE_COLUMN,function(t){return e.onResizeColumn(t)}),t.addEventListener(n.GridEvent.RESIZE_ROW,function(t){return e.onResizeRow(t)}),this.container.append(t),t},o.prototype.getCurrentLayout=function(){return e.model._options.OptionsManager.classicView?this.gridLayout&&this.gridLayout.type==n.sheet.classic.ClassicGridLayout.TYPE?this.gridLayout:(null!=this.gridLayout&&this.gridLayout.removeFromParent(!0),this.createClassicLayout()):e.model._options.OptionsManager.flatView?this.gridLayout&&this.gridLayout.type==n.sheet.flat.FlatGridLayout.TYPE?this.gridLayout:(null!=this.gridLayout&&this.gridLayout.removeFromParent(!0),this.createFlatLayout()):this.gridLayout&&this.gridLayout.type==n.sheet.CompactGridLayout.TYPE?this.gridLayout:(null!=this.gridLayout&&this.gridLayout.removeFromParent(!0),this.createCompactLayout())},o.prototype.draw=function(){if(this._gridLayout=this.getCurrentLayout(),null!=this.gridLayout){if(this.gridLayout.smoothTimeout=this._model.state_.updateActive?100:1e3,this.dataProvider&&this.dataProvider.dataLoaded&&!this.dataProvider.isEmpty){this.gridLayout.clearData(),this.START_HEADERS_ROW=this.START_HEADERS_COLUMN=this.START_TABLE_ROW=0;var i,r,o,s,a=this.dataProvider.columnMaxDepth,l=e.model._options.OptionsManager.classicView?0<this.dataProvider.rowsOnly.length?1:0:this.dataProvider.rowCount;l>=a+1?(r=(i=0)+l,o=i+(l-a)-1):(o=0,i=0<this.dataProvider.columnCount?o+(a-l)+1:o,0==this.dataProvider.columnsOnly.length&&0==this.dataProvider.rowsOnly.length&&(i+=1),r=i+l),s=o,this.START_TABLE_ROW=Math.min(i,s),this.START_HEADERS_ROW=s,this.START_HEADERS_COLUMN=0,this.FIRST_DATA_ROW=r,this.FIRST_DATA_COLUMN=this.isFlatTable?0:e.model._options.OptionsManager.classicView?this.dataProvider.rowAxis.hasMeasures&&this.dataProvider.multiMeasures?this.dataProvider.rowLevels.length+1:this.dataProvider.rowLevels.length:0==this.dataProvider.rows.length?0:1,e.model._options.OptionsManager.showHierarchyCaptions||(this.START_HEADERS_ROW=1==l&&0==this.dataProvider.columnCount?0:-1,this.FIRST_DATA_ROW=a),this.isFlatTable&&"on"==e.model._options.OptionsManager.showGrandTotals&&"top"==e.model._options.OptionsManager.grandTotalsPosition&&this.FIRST_DATA_ROW++,this.gridLayout.setDataSize(this.dataProvider.extendedDataHeight+(this.isFlatTable&&"on"==e.model._options.OptionsManager.showGrandTotals&&"bottom"==e.model._options.OptionsManager.grandTotalsPosition?1:0),this.dataProvider.extendedDataWidth),this.gridLayout.freezeColumns(this.FIRST_DATA_COLUMN),this.gridLayout.freezeRows(this.FIRST_DATA_ROW),this.gridLayout instanceof n.sheet.CompactGridLayout&&(this.gridLayout.colsFilter.rowIndex=this.FIRST_DATA_ROW-this.dataProvider.columnMaxDepth-1,this.gridLayout.colsFilter.setHierarchies(this.dataProvider.columnsOnly),this.gridLayout.rowsFilter.setHierarchies(this.dataProvider.rowsOnly),this.gridLayout.pageFilter.setHierarchies(this.dataProvider.pages)),this.gridLayout instanceof n.sheet.classic.ClassicGridLayout&&(this.gridLayout.colsFilter.rowIndex=this.FIRST_DATA_ROW-this.dataProvider.columnMaxDepth-1,this.gridLayout.colsFilter.setHierarchies(this.dataProvider.columnsOnly),this.gridLayout.rowsFilter.setHierarchies(this.dataProvider.rowsOnly),this.gridLayout.pageFilter.setHierarchies(this.dataProvider.pages)),(1<this.dataProvider.columns.length||!this.dataProvider.columnAxis.hasMeasures)&&e.model._options.OptionsManager.showHierarchyCaptions&&this.addFilterCell(o,this.FIRST_DATA_COLUMN,e.data_.consts.AxisName.COLUMNS_AXIS),(1<this.dataProvider.rows.length||!this.dataProvider.rowAxis.hasMeasures)&&e.model._options.OptionsManager.showHierarchyCaptions&&(e.model._options.OptionsManager.classicView?this._addFilterCell(i,0):this.addFilterCell(i,0,e.data_.consts.AxisName.ROWS_AXIS)),this.resizeColumnsByIdx(),this.resizeHeaderColumns(),this.resizeColumns(),this.resizeRowsByIdx(),this.resizeHeaderRows(),this.resizeRows()}else this.gridLayout.clearAll();this.conditions=e.model.condition.ConditionManager.conditions.toArray(),this.gridLayout.resize(t.PivotView.gridWidth,t.PivotView.gridHeight),this.gridLayout.draw()}},o.prototype.clearSizes=function(){null!=this.gridLayout&&(this.gridLayout.clearColSizes(0),this.gridLayout.clearRowSizes(0))},o.prototype.getData=function(t,n,i){if(void 0===i&&(i=!1),null==this.dataProvider||!this.dataProvider.dataLoaded||t<this.START_HEADERS_ROW||n<this.START_HEADERS_COLUMN)return null;var r=t-this.FIRST_DATA_ROW,o=n-this.FIRST_DATA_COLUMN;if((r>this.dataProvider.extendedDataHeight-1||o>this.dataProvider.extendedDataWidth-1)&&!(this.isFlatTable&&"on"==e.model._options.OptionsManager.showGrandTotals&&"bottom"==e.model._options.OptionsManager.grandTotalsPosition&&r==this.dataProvider.extendedDataHeight&&o<=this.dataProvider.extendedDataWidth-1))return null;var s=this.dataProvider.getRowTuple(r,!0),a=this.dataProvider.getColumnTuple(o,!0);if(null==s&&null==a)return null;var l=this.dataProvider.getMeasure(r,o);return this.isFlatTable&&"on"==e.model._options.OptionsManager.showGrandTotals&&"top"==e.model._options.OptionsManager.grandTotalsPosition&&(e.model._options.OptionsManager.showHierarchyCaptions&&1==t||!e.model._options.OptionsManager.showHierarchyCaptions&&0==t)||this.isFlatTable&&"on"==e.model._options.OptionsManager.showGrandTotals&&"bottom"==e.model._options.OptionsManager.grandTotalsPosition&&(e.model._options.OptionsManager.showHierarchyCaptions&&t==this.dataProvider.extendedDataHeight+1||!e.model._options.OptionsManager.showHierarchyCaptions&&t==this.dataProvider.extendedDataHeight)?this.getFlatGrandTotal(s,a,l):null==s?(i=1==(e.model._options.OptionsManager.classicView?1:this.dataProvider.rowsOnly.length)&&0==this.dataProvider.columnCount?t-this.START_HEADERS_ROW:t-this.START_HEADERS_ROW-1,0==this.dataProvider.rowsOnly.length&&0==this.dataProvider.columnsOnly.length&&(i=t-this.START_HEADERS_ROW),t=this.dataProvider.getColumnDepth(o),this.getColumnCell(a,l,t,i,n)):(o=this.dataProvider.getRowDepth(r),r=this.dataProvider.getRowType(r),null==a?e.model._options.OptionsManager.classicView?this._getRowCell(s,l,o,n,r):this.getRowCell(s,l,o):this.getDataCell(s,a,l,t,n,i,o,r))},o.prototype.getDataCell=function(t,i,r,o,a,l,c,u){if(void 0===l&&(l=!1),void 0===c&&(c=NaN),void 0===u&&(u=-1),null==r)return null;var d=r.getFormat().clone();r.aggregation!=e.data_.consts.AggregationName.PERCENT&&r.aggregation!=e.data_.consts.AggregationName.PERCENT_COLUMN&&r.aggregation!=e.data_.consts.AggregationName.PERCENT_ROW&&r.aggregation!=e.data_.consts.AggregationName.PERCENT_DIFFERENCE||(d.currencySymbol="%",d.currencySymbolAlign="right");var h=new n.vo.GridCell;if(h.isValue=!0,h.columnTuple=i,h.measure=r,h.hierarchy=this._model.cube_.structure_.measureToHierarchy(r.uniqueName),h.rowTuple=t,e.model._options.OptionsManager.classicView?0==t.length?h.level=0:-1<(c=this.getLevelIdxByTuple(t))&&(h.level=c):e.model._options.OptionsManager.flatView||(h.level=c),c=this.dataProvider.getValue(t,i,r),h.value=c,this.isFlatTable){if(d=r.getFormat(!0).clone(),r.type==e.data_.types.MeasureType.COUNT){var p=this.dataProvider.getColumnHierarchy(i).members.getItemAt(c);null!=p&&(h.member=p,h.label=p.caption)}else r.type==e.data_.types.MeasureType.NUMBER?"string"==typeof c?h.label=c:(h.label=s.NumberFormatter.format(c,d),h.numeric=!0):r.type==e.data_.types.MeasureType.DATE?h.label=s.StringUtils.toDate(c,e.model._options.OptionsManager.datePattern):r.type==e.data_.types.MeasureType.TIME?isNaN(c)||(h.label=s.StringUtils.toTime(c)):r.type!=e.data_.types.MeasureType.DATETIME||isNaN(c)||(h.label=s.StringUtils.toDateTime(c,e.model._options.OptionsManager.dateTimePattern));h.recordId=this.dataProvider.getRecordId(t,i,r)}else r.type==e.data_.types.MeasureType.NUMBER||r.type==e.data_.types.MeasureType.COUNT?"string"==typeof c?h.label=c:(h.label=s.NumberFormatter.format(c,d),h.numeric=!0):r.type==e.data_.types.MeasureType.DATE?h.label=e.data_.consts.AggregationName.validForDateTimeFormatting(r.aggregation)?s.StringUtils.toDate(h.value,e.model._options.OptionsManager.datePattern):s.NumberFormatter.format(c,d):r.type==e.data_.types.MeasureType.TIME?isNaN(c)||(h.label=e.data_.consts.AggregationName.validForDateTimeFormatting(r.aggregation)?s.StringUtils.toTime(c):s.NumberFormatter.format(c,d)):r.type==e.data_.types.MeasureType.DATETIME?isNaN(h.value)||(h.label=e.data_.consts.AggregationName.validForDateTimeFormatting(r.aggregation)?s.StringUtils.toDateTime(c,e.model._options.OptionsManager.dateTimePattern):s.NumberFormatter.format(c,d)):h.label=c;if(l)return h;if(l=!1,this.dataProvider.rowCount>t.length||this.dataProvider.columnCount>i.length){if(l=!0,h.isTotalRow=this.dataProvider.rowCount>t.length,h.isTotalColumn=this.dataProvider.columnCount>i.length,"on"!=e.model._options.OptionsManager.showTotals){if(p=this.dataProvider.measureDepth,0!=t.length&&(this.dataProvider.isRowExpanded(t)||this.dataProvider.isRowExpanded(t,r))&&("off"==e.model._options.OptionsManager.showTotals||"columns"==e.model._options.OptionsManager.showTotals)||0!=i.length&&(this.dataProvider.isColumnExpanded(i)||this.dataProvider.isColumnExpanded(i,r))&&("off"==e.model._options.OptionsManager.showTotals||"rows"==e.model._options.OptionsManager.showTotals))return null;if(0==p&&1<this.dataProvider.measures.length)if(!this.dataProvider.rowAxis.hasMeasures||"off"!=e.model._options.OptionsManager.showTotals&&"columns"!=e.model._options.OptionsManager.showTotals){if(this.dataProvider.columnAxis.hasMeasures&&("off"==e.model._options.OptionsManager.showTotals||"rows"==e.model._options.OptionsManager.showTotals)&&a<("on"==e.model._options.OptionsManager.showGrandTotals||"rows"==e.model._options.OptionsManager.showGrandTotals?this.FIRST_DATA_COLUMN+this.dataProvider.extendedDataWidth-this.dataProvider.measures.length:this.FIRST_DATA_COLUMN+this.dataProvider.extendedDataWidth)&&this.dataProvider.isColumnExpanded(i,r))return null}else if(o<("on"==e.model._options.OptionsManager.showGrandTotals||"columns"==e.model._options.OptionsManager.showGrandTotals?this.FIRST_DATA_ROW+this.dataProvider.extendedDataHeight-this.dataProvider.measures.length:this.FIRST_DATA_ROW+this.dataProvider.extendedDataHeight)&&this.dataProvider.isRowExpanded(t,r))return null}h.isGrandTotalRow=0==t.length,h.isGrandTotalColumn=0==i.length,h.isClassicTotalRow=h.isTotalRow&&2==u&&!h.isGrandTotalRow}if(""!=d.textAlign&&h.customize({"text-align":d.textAlign}),0<this.conditions.length&&h.measure)for(u=0;u<this.conditions.length;u++)if(!((d=this.conditions[u]).row!=o&&-1!=d.row||d.column!=a&&-1!=d.column||d.measure!=r.uniqueName&&""!=d.measure&&d.measure!=r.uniqueName||d.isTotal!==l&&void 0!==d.isTotal||""!=d.hierarchy&&!this.checkHierarchyCondition(t,i,d.hierarchy,d.member)))if(p=d.params.slice(0),d.isUpdate){if(this._model.state_.updateActive){var f=this.dataProvider.getUpdatedValue(t,i,r);f&&(-1<d.formula.toLowerCase().indexOf(e.data_.consts.FunctionName.UPDATE_DIFFERENCE)?c=f.difference:-1<d.formula.toLowerCase().indexOf(e.data_.consts.FunctionName.UPDATE_PERCENT)&&(c=100*f.percent),null!=(p=this.dataProvider.calculate(t,i,p,c))&&h.customizeWithClass(p))}}else 1!=(p=this.dataProvider.calculate(t,i,p,c))&&"truestyle"!=p||null==d.format?null!=p&&0!=p&&h.customizeWithClass(p):(h.customize(d.format.toCSSObject()),h.conditions.push(d.id)),h.showTooltip=!0;return h},o.prototype.getFlatGrandTotal=function(t,i,r){if(null==r)return null;var o=new n.vo.GridCell;if(o.isValue=!0,o.columnTuple=i,o.measure=r,o.hierarchy=this._model.cube_.structure_.measureToHierarchy(r.uniqueName),o.rowTuple=t,r.type==e.data_.types.MeasureType.NUMBER||r.type==e.data_.types.MeasureType.TIME||r.type==e.data_.types.MeasureType.DATETIME){var a=r.getFormat().clone();if((r.aggregation==e.data_.consts.AggregationName.PERCENT||r.aggregation==e.data_.consts.AggregationName.PERCENT_COLUMN||r.aggregation==e.data_.consts.AggregationName.PERCENT_ROW||r.aggregation==e.data_.consts.AggregationName.PERCENT_DIFFERENCE||r.calculated&&-1<r.formula.indexOf("percent"))&&(a.currencySymbol="%",a.currencySymbolAlign="right"),o.value=this.dataProvider.getValue(null,null,r),r.type==e.data_.types.MeasureType.NUMBER?(o.label=s.NumberFormatter.format(o.value,a),o.numeric=!0):r.type==e.data_.types.MeasureType.TIME?isNaN(o.value)||(o.label=e.data_.consts.AggregationName.validForDateTimeFormatting(r.aggregation)?s.StringUtils.toTime(o.value):s.NumberFormatter.format(o.value,a)):r.type!=e.data_.types.MeasureType.DATETIME||isNaN(o.value)||(o.label=e.data_.consts.AggregationName.validForDateTimeFormatting(r.aggregation)?s.StringUtils.toDateTime(o.value,e.model._options.OptionsManager.dateTimePattern):s.NumberFormatter.format(o.value,a)),o.isGrandTotalRow=!0,""!=a.textAlign&&o.customize({"text-align":a.textAlign}),0<this.conditions.length)for(a=0;a<this.conditions.length;a++){var l=this.conditions[a],c=l.params.slice(0);if(l.measure==r.uniqueName&&l.isUpdate&&this._model.state_.updateActive){var u,d=this.dataProvider.getUpdatedValue(t,i,r);d&&(-1<l.formula.toLowerCase().indexOf(e.data_.consts.FunctionName.UPDATE_DIFFERENCE)?u=d.difference:-1<l.formula.toLowerCase().indexOf(e.data_.consts.FunctionName.UPDATE_PERCENT)&&(u=100*d.percent),null!=(l=this.dataProvider.calculate(t,i,c,u))&&o.customizeWithClass(l))}}}return o},o.prototype.checkHierarchyCondition=function(e,t,n,i){var r=this.dataProvider.columns.indexOf(n);if(-1<r){if(r<t.length)return e=this.dataProvider.columns.getItem(n),t[r]&&e.members.getItemAt(t[r]).uniqueName==i}else if(-1<(t=this.dataProvider.rows.indexOf(n))&&t<e.length)return n=this.dataProvider.rows.getItem(n),e[t]&&n.members.getItemAt(e[t]).uniqueName==i;return!1},o.prototype.getColumnCell=function(e,t,n,i,r){return this.isFlatTable?this._getFlatTableColumnCell(e,t,n,i):this._getColumnCell(e,t,n,i,r)},o.prototype._getColumnCell=function(t,i,r,o,s){if(0==t.length)return this.dataProvider.rowAxis.hasMeasures&&o==this.dataProvider.columnMaxDepth-1?this.getGrandTotalCell(i,e.data_.consts.AxisName.COLUMNS_AXIS):(t=this.dataProvider.extendedDataWidth-this.dataProvider.measures.length+1,this.dataProvider.columnAxis.hasMeasures&&o==this.dataProvider.columnMaxDepth-1&&s>=t&&1==this.dataProvider.measures.length?this.getGrandTotalCell(i,e.data_.consts.AxisName.COLUMNS_AXIS):(t="on"==e.model._options.OptionsManager.showGrandTotals||"rows"==e.model._options.OptionsManager.showGrandTotals?this.FIRST_DATA_COLUMN+this.dataProvider.extendedDataWidth-this.dataProvider.measures.length:this.FIRST_DATA_COLUMN+this.dataProvider.extendedDataWidth,this.dataProvider.columnAxis.hasMeasures&&0==o&&s>=t&&1<this.dataProvider.columnMaxDepth?s==t?((s=this.getHeaderCell()).label=e.model._labels.Labels.GRID_TOTALS,s):this.getEmptyHeaderCell():this.dataProvider.columnAxis.hasMeasures&&0==o&&1<this.dataProvider.columnMaxDepth?this.getGrandTotalCell(i,e.data_.consts.AxisName.COLUMNS_AXIS):this.dataProvider.columnAxis.hasMeasures&&o==this.dataProvider.columnMaxDepth-1?s>=t||1==this.dataProvider.columnAxis.hierarchies.length?this.getGrandTotalCell(i,e.data_.consts.AxisName.COLUMNS_AXIS):this.getHeaderCell():this.dataProvider.columnAxis.hasMeasures&&0<o&&s<=t?this.getHeaderCell():0<=o?this.getEmptyHeaderCell():null));var a=this.dataProvider.columnAxis.hasMeasures&&(t.length>this.dataProvider.measuresPosition||0==this.dataProvider.measuresPosition)?t.length:t.length-1,l=this.dataProvider.columns.getItemAt(a);if(this.dataProvider.columnAxis.hasMeasures&&a>this.dataProvider.measuresPosition&&(1==this.dataProvider.measures.length?a--:r++),r>o)return 0<=o?this.getEmptyHeaderCell():null;(s=new n.vo.GridCell).isColumnHeader=!0,s.measure=this.dataProvider.columnAxis.hasMeasures&&(1<this.dataProvider.measures.length||e.model._options.OptionsManager.showExtraTotalLabels)?i:null;var c=!1,u=l.members.getItemAt(t[t.length-1]),d=this.dataProvider.measureDepth;if(this.dataProvider.columnAxis.hasMeasures&&1<this.dataProvider.measures.length&&o==d-1||this.dataProvider.columnAxis.hasMeasures&&e.model._options.OptionsManager.showExtraTotalLabels&&o==d-1&&1!=d||this.dataProvider.columnAxis.hasMeasures&&e.model._options.OptionsManager.showExtraTotalLabels&&o==d&&1==d&&2>this.dataProvider.measures.length)s.label=i.caption,s.isMeasureHeader=!0,u=null;else{if(this.dataProvider.columnAxis.hasMeasures&&0<this.dataProvider.measures.indexOf(i.uniqueName)&&o<d)return this.getEmptyHeaderCell();r<o?a==o?(c=t.length-1!=this.dataProvider.columnCount-1&&!u.isAll,s.label=u.caption):(s.label=this.dataProvider.columnMaxDepth-1==o&&e.model._options.OptionsManager.showExtraTotalLabels?null!=i?i.caption:e.model._labels.Labels.GRID_TOTAL:"",u=null):(c=t.length-1!=this.dataProvider.columnCount-1&&!u.isAll,s.label=u.caption,this.dataProvider.columnAxis.hasMeasures&&o<d&&(s.measure=i=null))}return o=null!=u&&this.dataProvider.isColumnDrilledDown(t,u,i),u&&(1!=u.children.length||u.children.getItemAt(0).caption!=e.model._labels.Labels.MEMBER_BLANK&&u.children.getItemAt(0).caption!=e.model._labels.Labels.INVALID_DATE)&&!u.isAll&&u.hierarchy_.isHierarchy&&!u.level.isLast&&(c||e.model._options.OptionsManager.showHierarchies?o?s.drilledDown=!0:s.drilledUp=!0:o?s.expanded=!0:s.collapsed=!0),c&&!o&&(this.dataProvider.isColumnExpanded(t,i)?s.expanded=!0:s.collapsed=!0),"on"!=e.model._options.OptionsManager.sorting&&"columns"!=e.model._options.OptionsManager.sorting||""==s.label||(s.sortable=!0,!this.dataProvider.columnSortTuple||this.dataProvider.columnSortTuple.toString()!=t.toString()||null!=i&&this.dataProvider.columnSortMeasure.uniqueName!=i.uniqueName||(this.dataProvider.columnSortType==e.data_.consts.SortType.DESC?s.sortedDesc=!0:this.dataProvider.columnSortType==e.data_.consts.SortType.ASC&&(s.sortedAsc=!0))),s.isTotalColumn=this.dataProvider.columnCount>t.length,s.tuple=t,s.url=void 0,s.hierarchy=l,s.member=u,s},o.prototype._getFlatTableColumnCell=function(t,i,r,o){return null==(o=this.dataProvider.getColumnHierarchy(t))?null==i?null:((r=new n.vo.GridCell).isColumnHeader=!0,r.label=i.caption,r):((r=new n.vo.GridCell).isColumnHeader=!0,r.isFilterHeader=!0,r.hasHierarchyName=o.filterEnabled,r.filtered=o.hasFilter(),r.label=o.caption,r.tuple=t,r.hierarchy=o,r.member=null,r.measure=i,r.draggable=!0,"on"!=e.model._options.OptionsManager.sorting&&"columns"!=e.model._options.OptionsManager.sorting||(r.sortable=!0,!this.dataProvider.columnSortTuple||this.dataProvider.columnSortTuple.toString()!=t.toString()||this.dataProvider.columnSortMeasure!=i&&null!=i||((t=this.dataProvider.columnSortType)==e.data_.consts.SortType.DESC?r.sortedDesc=!0:t==e.data_.consts.SortType.ASC&&(r.sortedAsc=!0))),r)},o.prototype.getHeaderCell=function(){var e=new n.vo.GridCell;return e.isColumnHeader=!0,e},o.prototype.getEmptyHeaderCell=function(){var e=this.getHeaderCell();return e.isEmpty=!0,e},o.prototype.getGrandTotalCell=function(t,i){var r=new n.vo.GridCell;return r.label=null==t?e.model._labels.Labels.GRID_GRAND_TOTAL:t.grandTotalCaption,r.isMeasureHeader=null!=t,i==e.data_.consts.AxisName.COLUMNS_AXIS?(r.isColumnHeader=!0,r.isTotalColumn=r.isGrandTotalColumn=!0,"on"!=e.model._options.OptionsManager.sorting&&"columns"!=e.model._options.OptionsManager.sorting||(r.sortable=!0,!this.dataProvider.columnSortTuple||""!=this.dataProvider.columnSortTuple.toString()||this.dataProvider.columnSortMeasure!=t&&null!=t||(this.dataProvider.columnSortType==e.data_.consts.SortType.DESC?r.sortedDesc=!0:this.dataProvider.columnSortType==e.data_.consts.SortType.ASC&&(r.sortedAsc=!0))),this.dataProvider.columnAxis.hasMeasures?r.measure=t:r.label=e.model._labels.Labels.GRID_GRAND_TOTAL):(r.isRowHeader=!0,r.isTotalRow=r.isGrandTotalRow=!0,"on"!=e.model._options.OptionsManager.sorting&&"rows"!=e.model._options.OptionsManager.sorting||(r.sortable=!0,!this.dataProvider.rowSortTuple||""!=this.dataProvider.rowSortTuple.toString()||this.dataProvider.rowSortMeasure!=t&&null!=t||(this.dataProvider.rowSortType==e.data_.consts.SortType.DESC?r.sortedDesc=!0:this.dataProvider.rowSortType==e.data_.consts.SortType.ASC&&(r.sortedAsc=!0))),this.dataProvider.rowAxis.hasMeasures?r.measure=t:r.label=e.model._labels.Labels.GRID_GRAND_TOTAL,r.level=0),r.tuple=[],r},o.prototype.getRowCell=function(t,i,r){if(0==t.length)return this.getGrandTotalCell(i,e.data_.consts.AxisName.ROWS_AXIS);var o=this.dataProvider.rowAxis.hasMeasures&&t.length>this.dataProvider.measuresPosition?t.length:t.length-1,s=t[t.length-1],a=this.dataProvider.rows.getItemAt(o),l=new n.vo.GridCell;l.isRowHeader=!0;var c=!1;return s=a.members.getItemAt(s),l.level=r,null!=i&&this.dataProvider.rowAxis.hasMeasures&&this.dataProvider.multiMeasures&&o<=this.dataProvider.measuresPosition?(l.label=i.caption,s=null):s&&(l.label=s.caption,c=t.length!=this.dataProvider.rowCount&&!s.isAll),r=null!=s&&this.dataProvider.isRowDrilledDown(t,s,i),s&&!s.isAll&&s.hierarchy_.isHierarchy&&!s.isLeaf&&(1!=s.children.length||s.children.getItemAt(0).caption!=e.model._labels.Labels.MEMBER_BLANK&&s.children.getItemAt(0).caption!=e.model._labels.Labels.INVALID_DATE)&&(e.model._options.OptionsManager.showHierarchies?r?l.drilledDown=!0:l.drilledUp=!0:r?l.expanded=!0:l.collapsed=!0),c&&!r&&(this.dataProvider.isRowExpanded(t,i)?l.expanded=!0:l.collapsed=!0),"on"!=e.model._options.OptionsManager.sorting&&"rows"!=e.model._options.OptionsManager.sorting||(l.sortable=!0,this.dataProvider.rowSortTuple&&this.dataProvider.rowSortTuple.toString()==t.toString()&&this.dataProvider.rowSortMeasure==i&&(this.dataProvider.rowSortType==e.data_.consts.SortType.DESC?l.sortedDesc=!0:this.dataProvider.rowSortType==e.data_.consts.SortType.ASC&&(l.sortedAsc=!0))),l.isTotalRow=this.dataProvider.rowCount>t.length,l.tuple=t,l.url=void 0,l.hierarchy=a,l.member=s,l.measure=this.dataProvider.rowAxis.hasMeasures&&1<this.dataProvider.measures.length?i:null,l},o.prototype._getRowCell=function(t,i,r,o,a){if(0==t.length)return 0==o?this.getGrandTotalCell(i,e.data_.consts.AxisName.ROWS_AXIS):((h=new n.vo.GridCell).isRowHeader=!0,h.isTotalRow=h.isGrandTotalRow=!0,h.isEmpty=!0,h.level=r,h);for(var l,c,u,d=o,h=this.dataProvider.rowLevels[o],p=0;p<this.dataProvider.rowsOnly.length;p++)if(null!=(c=(A=this.dataProvider.rowsOnly.getItemAt(p)).findLevel(h))){l=A,d=p;break}p=null==t[d]?0:t[d],(h=new n.vo.GridCell).isRowHeader=!0,h.isTotalRow=this.dataProvider.rowCount>t.length,h.isClassicTotalRow=h.isTotalRow&&2==a,c=!1,r>o&&(c=!0),r>o&&2==a&&(c=!0),r+1<o&&2==a&&(c=!0),h.level=Math.min(t.length-1,o);var f=t.slice(0),A=!1;if(o==this.dataProvider.rowLevels.length)h.label=i.caption,A=!0;else{var g=!1,m=(f=null==i?0:this.dataProvider.measures.indexOf(i.uniqueName),l.members.getItemAt(p)),y=null!=m&&2!=a;if(0>(u=this.dataProvider.rowLevels.indexOf(m.level.uniqueName)-o)){if(!m.isAll)return h;A=!0}else if(0<u)for(p=0;p<u;p++)m=m.parent;if(m&&-1<(p=this.dataProvider.rowLevels.indexOf(m.level.uniqueName))&&(h.level=p),h.member=m,2==a)m&&r==o&&(h.label=this.dataProvider.rowAxis.hasMeasures&&1<this.dataProvider.measures.length?m.caption+" "+i.caption:m.caption+" "+e.model._labels.Labels.GRID_TOTAL,A=!0);else{if(0>u)return s.nullOrEmpty(h.label)&&(h.isEmpty=!0),-1<(p=this.getLevelIdxByTuple(t))&&(h.level=p),h;0<f&&(m=null),m&&0!=m.ordinal&&(h.label=m.caption),g=1==a&&d<this.dataProvider.rowsOnly.length-1&&0==f}if(f=t.slice(0,d+1),y&&m){f[d]=m.ordinal;var v=this.dataProvider.isRowDrilledDown(f,m,i);m.isAll||!m.hierarchy_.isHierarchy||m.isLeaf||2==a||1==m.children.length&&(m.children.getItemAt(0).caption==e.model._labels.Labels.MEMBER_BLANK||m.children.getItemAt(0).caption==e.model._labels.Labels.INVALID_DATE)||(e.model._options.OptionsManager.showHierarchies?v?h.drilledDown=!0:h.drilledUp=!0:v?h.expanded=!0:h.collapsed=!0)}g&&!v&&(this.dataProvider.isRowExpanded(f,i)?h.expanded=!0:h.collapsed=!0)}return c?(h.label="",h.sortedAsc=h.sortedDesc=h.collapsed=h.expanded=h.drilledDown=h.drilledUp=!1):(h.tuple=f,h.url=void 0,h.hierarchy=l,h.measure=i,("on"==e.model._options.OptionsManager.sorting||"rows"==e.model._options.OptionsManager.sorting)&&(h.sortable=!0,this.dataProvider.rowSortTuple&&this.dataProvider.rowSortTuple.toString()==f.toString()&&this.dataProvider.rowSortMeasure==i&&(this.dataProvider.rowSortType==e.data_.consts.SortType.DESC?h.sortedDesc=!0:this.dataProvider.rowSortType==e.data_.consts.SortType.ASC&&(h.sortedAsc=!0)))),A&&-1<(p=this.getLevelIdxByTuple(t))&&(h.level=p),s.nullOrEmpty(h.label)&&(h.isEmpty=!0,h.isExpandedArea=!(2==a&&m&&o-1>r)),h},o.prototype.getLevelIdxByTuple=function(e){return(e=this.dataProvider.getRowHierarchy(e).members.getItemAt(e[e.length-1]))?this.dataProvider.rowLevels.indexOf(e.level.uniqueName):-1},o.prototype.onGridClick=function(t){s.nullOrUndefined(t.cell)||!t.cell.isColumnHeader&&!t.cell.isRowHeader||(t.cell.activeElementType==n.vo.GridCellElementType.DRILL?this.drill(t.cell):t.cell.activeElementType==n.vo.GridCellElementType.LINK&&t.cell.isLink||(s.nullOrUndefined(t.cell.member)||t.cell.activeElementType==n.vo.GridCellElementType.RIGHT_ICON?t.cell.activeElementType==n.vo.GridCellElementType.RIGHT_ICON&&(t.cell.isColumnHeader&&this.sortColumn(t.cell),t.cell.isRowHeader&&this.sortRow(t.cell)):e.model._options.OptionsManager.showHierarchies||t.cell.member.isLeaf?this.expandCollapse(t.cell):this.drill(t.cell)))},o.prototype.onFilterClick=function(n){e.model._options.OptionsManager.showFilter&&this.dispatch(new t.FilterOpenEvent(n.hierarchy))},o.prototype.drill=function(t){if(t.drilledUp||t.drilledDown||t.expanded||t.collapsed){var n,i=t.tuple,r=e.model._options.OptionsManager.classicView?null:t.measure,o=t.member;null==o||o.isAll||o.isLeaf||(t.isRowHeader?(t=e.data_.consts.AxisName.ROWS_AXIS,n=this.dataProvider.isRowDrilledDown(i,o,r)):(t=e.data_.consts.AxisName.COLUMNS_AXIS,n=this.dataProvider.isColumnDrilledDown(i,o,r)),n?this.dataProvider.drillUp(i,o,t,r):this.dataProvider.drillDown(i,o,t,r))}},o.prototype.expandCollapse=function(t){if(t.expanded||t.collapsed){var n=t.tuple,i=t.isColumnHeader?e.data_.consts.AxisName.COLUMNS_AXIS:e.data_.consts.AxisName.ROWS_AXIS,r=e.model._options.OptionsManager.classicView&&i==e.data_.consts.AxisName.ROWS_AXIS?null:t.measure;t.expanded?(this.gridLayout.clearData(),this.dataProvider.collapse(n,i,r)):t.collapsed&&(this.gridLayout.clearData(),this.dataProvider.expand(n,i,r)),t.isColumnHeader?this.gridLayout.clearColSizes(t.colIdx+1):this.gridLayout.clearRowSizes(t.rowIdx+1)}},o.prototype.onGridSingleDoubleClick=function(t){t.isSingleClick?this.singleClick(t.cell):(this.isDrillThroughAvailable&&e.model._options.OptionsManager.drillThrough&&!this.isFlatTable&&this.drillThrough(t.cell),this.doubleClick(t.cell))},o.prototype.drillThrough=function(e){e.isValue&&!e.measure.calculated&&this.dispatchWith(t.ViewEvent.DRILL_THROUGH_OPEN,this,{measure:e.measure.uniqueName,columnTuple:e.columnTuple,rowTuple:e.rowTuple})},o.prototype.singleClick=function(t){var n=t.toObject();this.setCoordsToCell(n,t.colIdx,t.rowIdx),e.model.JavaScriptHandlers.getInstance().dispatch(new e.model.APIEvent(e.model.JavaScriptHandlers.CELL_CLICK,n))},o.prototype.doubleClick=function(t){var n=t.toObject();this.setCoordsToCell(n,t.colIdx,t.rowIdx),e.model.JavaScriptHandlers.getInstance().dispatch(new e.model.APIEvent(e.model.JavaScriptHandlers.CELL_DOUBLE_CLICK,n))},o.prototype.setCoordsToCell=function(e,t,n){e.x=this.gridLayout.coords.getRelativeColX(t,this.gridLayout.isSmooth),e.y=this.gridLayout.coords.getRelativeRowY(n,this.gridLayout.isSmooth),e.width=this.gridLayout.coords.getColWidth(t),e.height=this.gridLayout.coords.getRowHeight(n)},o.prototype.sortRow=function(t,n){void 0===n&&(n="");var i=t.tuple,r=t.measure;null==r&&(r=this.dataProvider.measures.getItemAt(0)),this.dataProvider.rowSortTuple&&this.dataProvider.rowSortTuple.toString()==i.toString()&&this.dataProvider.rowSortMeasure==r?this.dataProvider.rowSortType=this.dataProvider.rowSortType==e.data_.consts.SortType.DESC?e.data_.consts.SortType.ASC:e.data_.consts.SortType.DESC:(this.dataProvider.rowSortType=e.data_.consts.SortType.DESC,this.dataProvider.rowSortTuple=i,this.dataProvider.rowSortMeasure=r),""!=n&&(this.dataProvider.rowSortType=n),this.dataProvider.sort(),this.gridLayout.clearColSizes(0),this.draw()},o.prototype.sortColumn=function(t,n){void 0===n&&(n="");var i=t.tuple,r=t.measure;null==r&&(r=this.dataProvider.measures.getItemAt(0)),i&&this.dataProvider.columnSortTuple&&this.dataProvider.columnSortTuple.toString()==i.toString()&&this.dataProvider.columnSortMeasure==r?this.dataProvider.columnSortType=this.dataProvider.columnSortType==e.data_.consts.SortType.DESC?e.data_.consts.SortType.ASC:e.data_.consts.SortType.DESC:(this.dataProvider.columnSortType=r.type==e.data_.types.MeasureType.COUNT?e.data_.consts.SortType.ASC:e.data_.consts.SortType.DESC,this.dataProvider.columnSortTuple=i,this.dataProvider.columnSortMeasure=r),""!=n&&(this.dataProvider.columnSortType=n),this.dataProvider.sort(),this.gridLayout.clearRowSizes(0),this.draw()},o.prototype.clearColumnSorting=function(){this.dataProvider.columnSortType=e.data_.consts.SortType.UNSORTED,this.dataProvider.columnSortTuple=null,this.dataProvider.columnSortMeasure=null,this._model.cube_.clearSortValues(this.dataProvider.rowAxis),this.dataProvider.sort(),this.gridLayout.clearRowSizes(0),this.draw()},o.prototype.clearRowSorting=function(){this.dataProvider.rowSortType=e.data_.consts.SortType.UNSORTED,this.dataProvider.rowSortTuple=null,this.dataProvider.rowSortMeasure=null,this._model.cube_.clearSortValues(this.dataProvider.columnAxis),this.dataProvider.sort(),this.gridLayout.clearColSizes(0),this.draw()},o.prototype.onLongPress=function(e,t){var n=this.gridLayout.getCellByElement(e.target);null==n||s.nullOrEmpty(n.label)&&isNaN(n.value)||(this.showContextMenu(n,{left:t.clientX,top:t.clientY}),this.gridLayout.deselect())},o.prototype.onContextMenu=function(e){var t=this.gridLayout.selectedCells[0]||this.gridLayout.getCellByElement(e.target);null==t||s.nullOrEmpty(t.label)&&isNaN(t.value)||(e.preventDefault(),this.showContextMenu(t,{left:e.clientX,top:e.clientY}),this.gridLayout.deselect())},o.prototype.showContextMenu=function(n,i){var r=this;if(null!=n){var o=[];!n.isValue||isNaN(n.value)||this.isFlatTable||n.measure.calculated||!e.model._options.OptionsManager.drillThrough||o.push({caption:e.model._labels.Labels.CONTEXT_MENU_DRILL_THROUGH,handler:function(){r.drillThrough(n)}}),n.isFilterHeader&&e.model._options.OptionsManager.showFilter&&o.push({caption:e.model._labels.Labels.CONTEXT_MENU_OPEN_FILTER,handler:function(){r.dispatch(new t.FilterOpenEvent(n.hierarchy))}}),(n.isRowHeader||n.isColumnHeader)&&(n.expanded&&o.push({caption:e.model._labels.Labels.CONTEXT_MENU_COLLAPSE,handler:function(){r.expandCollapse(n)}}),n.collapsed&&o.push({caption:e.model._labels.Labels.CONTEXT_MENU_EXPAND,handler:function(){r.expandCollapse(n)}})),n.isRowHeader&&!n.isFilterHeader&&(n.sortedDesc||o.push({caption:e.model._labels.Labels.CONTEXT_MENU_SORT_ROW_DESC,handler:function(){r.sortRow(n,e.data_.consts.SortType.DESC)}}),n.sortedAsc||o.push({caption:e.model._labels.Labels.CONTEXT_MENU_SORT_ROW_ASC,handler:function(){r.sortRow(n,e.data_.consts.SortType.ASC)}}),(n.sortedAsc||n.sortedDesc)&&o.push({caption:e.model._labels.Labels.CONTEXT_MENU_CLEAR_SORTING,handler:function(){r.clearRowSorting()}})),n.isColumnHeader&&!n.isFilterHeader&&(n.sortedDesc||o.push({caption:e.model._labels.Labels.CONTEXT_MENU_SORT_COLUMN_DESC,handler:function(){r.sortColumn(n,e.data_.consts.SortType.DESC)}}),n.sortedAsc||o.push({caption:e.model._labels.Labels.CONTEXT_MENU_SORT_COLUMN_ASC,handler:function(){r.sortColumn(n,e.data_.consts.SortType.ASC)}}),(n.sortedAsc||n.sortedDesc)&&o.push({caption:e.model._labels.Labels.CONTEXT_MENU_CLEAR_SORTING,handler:function(){r.clearColumnSorting()}})),0<o.length&&this._model.dispatchWith(t.ViewEvent.CONTEXT_MENU_OPEN,this,{menuItems:o,coords:i})}},o.prototype.addFilterCell=function(t,i,r){for(var o,s=r==e.data_.consts.AxisName.COLUMNS_AXIS?this.dataProvider.columnsOnly:this.dataProvider.rowsOnly,a=0,l=0;l<s.length;l++){var c=s.getItemAt(l);c.isMeasures||((o=new n.vo.GridCell).label=c.caption,o.isFilterHeader=!0,o.draggable=!0,o.hasHierarchyName=!0,o.filtered=c.hasFilter(),o.level=a,o.hierarchy=c,r==e.data_.consts.AxisName.COLUMNS_AXIS?(o.isFrozen=!this.isFlatTable,this.gridLayout.dataProvider.setDataFrozen(t,i+l,o)):(o.isRowHeader=!0,this.gridLayout.dataProvider.setDataFrozen(t+a,i,o),a++))}},o.prototype._addFilterCell=function(e,t){for(var i,r=this.dataProvider.rowsOnly,o=0,s=this.dataProvider.rowAxis.hasMeasures&&1<this.dataProvider.measures.length?this.FIRST_DATA_COLUMN-1:this.FIRST_DATA_COLUMN,a=0;a<r.length;a++){var l,c=r.getItemAt(a);if((i=new n.vo.GridCell).label=c.caption,i.isFilterHeader=!0,i.draggable=!0,i.hasHierarchyName=!0,i.filtered=c.hasFilter(),i.hierarchy=c,this.gridLayout.dataProvider.setDataFrozen(e,t+o,i),o++,2<c.levels_.length)for(var u=2;u<c.levels_.length&&(l=c.levels_.getItemAt(u),-1!=this.dataProvider.rowLevels.indexOf(l.uniqueName)&&((i=new n.vo.GridCell).label=l.caption,i.isRowHeader=!0,i.hasHierarchyName=!0,this.gridLayout.dataProvider.setDataFrozen(e,t+o,i),o++),!(o>=s));u++);if(o>=s)break}},Object.defineProperty(o.prototype,"isFlatTable",{get:function(){return e.model._options.OptionsManager.flatView},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"isDrillThroughAvailable",{get:function(){return!e.model._options.OptionsManager.flatView},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"gridLayout",{get:function(){return this._gridLayout},enumerable:!0,configurable:!0}),o.prototype.exportTo=function(t,n,i){t==e.model._export.ExportType.HTML&&e.model._export.ExportHTML.run(this,n,this.dataProvider.extendedDataWidth,this.dataProvider.extendedDataHeight),t==e.model._export.ExportType.PDF&&e.model._export.ExportPDF.run(this,n,this.dataProvider.extendedDataWidth,this.dataProvider.extendedDataHeight),t==e.model._export.ExportType.EXCEL&&e.model._export.ExportXLS.run(this,n,this.dataProvider.extendedDataWidth,this.dataProvider.extendedDataHeight)},o.prototype.print=function(){e.model.printing.PrintingManager.getInstance().run(this,this.dataProvider)},o.prototype.getCell=function(e,t){var i=this.gridLayout.getCell(e,t,!0,!0);if(null==i){(i=new n.vo.GridCell).rowIdx=e,i.colIdx=t;var r=this.getData(e,t,!0);i.value=r?r.value:NaN,isNaN(i.value)||(i.label=s.NumberFormatter.format(i.value))}return-1==i.rowIdx&&(i.rowIdx=e),-1==i.colIdx&&(i.colIdx=t),r=i.toObject(),this.setCoordsToCell(r,i.colIdx,i.rowIdx),r},o.prototype.getSelectedCell=function(){if(s.nullOrUndefined(this.gridLayout))return null;var e=this.gridLayout.selectedCells.map(function(e){return e.toObject()});return 0==e.length?null:(1<e.length||this.setCoordsToCell(e=e[0],e.columnIndex,e.rowIndex),e)},o.prototype.setSelectedCell=function(e,t){this.gridLayout.select(e,t,e,t)},o.prototype.removeSelection=function(){this.gridLayout.deselect()},Object.defineProperty(o.prototype,"gridRowCount",{get:function(){return this.dataProvider.dataLoaded?this.dataProvider.extendedDataHeight+this.FIRST_DATA_ROW:0},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"gridColumnCount",{get:function(){return this.dataProvider.dataLoaded?this.dataProvider.extendedDataWidth+this.FIRST_DATA_COLUMN:0},enumerable:!0,configurable:!0}),o.prototype.onResizeColumn=function(e){this._onResizeColumn(e.data.colIdx,e.data.width)},o.prototype.onResizeRow=function(e){this._onResizeRow(e.data.rowIdx,e.data.height)},o.prototype._onResizeColumn=function(t,n){if(t<this.FIRST_DATA_COLUMN)0<n?e.model.sizes.SizesManager.columnHeaderSizes[t]=n:delete e.model.sizes.SizesManager.columnHeaderSizes[t];else{var i=this.dataProvider.getColumnTuple(t-this.FIRST_DATA_COLUMN,!0);if(null!=i){var r=this.dataProvider.getColumnMeasureIndex(t-this.FIRST_DATA_COLUMN);this.dataProvider.columnAxis.hasMeasures&&i.push(r),0<n?e.model.sizes.SizesManager.columnSizes[i.join(",")]=n:delete e.model.sizes.SizesManager.columnSizes[i.join(",")]}}},o.prototype.resizeColumnsByIdx=function(){var t=e.model.sizes.SizesManager.columnSizesByIdx;e.model.sizes.SizesManager.columnSizesByIdx={};var n,i=[];for(n in t)t[n]&&(i[parseInt(n)]=t[n]);for(var r in i)this.gridLayout.resizeColumn(parseInt(r),i[r]),this._onResizeColumn(parseInt(r),i[r])},o.prototype.resizeHeaderColumns=function(){var t,n=e.model.sizes.SizesManager.columnHeaderSizes,i=[];for(t in n)n[t]&&(i[t]=n[t]);for(var r in i)(n=parseInt(r))<this.FIRST_DATA_COLUMN&&this.gridLayout.resizeColumn(n,i[n])},o.prototype.resizeColumns=function(){var t,n=e.model.sizes.SizesManager.columnSizes,i=[];for(t in n)if(n[t]){var r=""==t?[]:t.split(",");-1!=(r=this.dataProvider.getColumnTupleIndex(r))&&(i[r+=this.FIRST_DATA_COLUMN]=n[t])}for(var o in i)this.gridLayout.resizeColumn(parseInt(o),i[o])},o.prototype.resizeRowsByIdx=function(){var t=e.model.sizes.SizesManager.rowSizesByIdx;e.model.sizes.SizesManager.rowSizesByIdx={};var n,i=[];for(n in t)t[n]&&(i[parseInt(n)]=t[n]);for(var r in i)this.gridLayout.resizeRow(parseInt(r),i[r]),this._onResizeRow(parseInt(r),i[r])},o.prototype.resizeHeaderRows=function(){e.model.sizes.SizesManager.startTableRow=this.START_TABLE_ROW;var t,n=e.model.sizes.SizesManager.rowHeaderSizes,i=[];for(t in n)n[t]&&(i[parseInt(t)+this.START_TABLE_ROW]=n[t]);for(var r in i)parseInt(r)<this.FIRST_DATA_ROW&&this.gridLayout.resizeRow(parseInt(r),i[r])},o.prototype.resizeRows=function(){var t,n=e.model.sizes.SizesManager.rowSizes,i=[];for(t in n)if(n[t]){var r=""==t?[]:t.split(",");-1!=(r=this.dataProvider.getRowTupleIndex(r))&&(i[r+=this.FIRST_DATA_ROW]=n[t])}for(var o in i)this.gridLayout.resizeRow(parseInt(o),i[o])},o.prototype._onResizeRow=function(t,n){if(e.model.sizes.SizesManager.startTableRow=this.START_TABLE_ROW,t<this.START_TABLE_ROW)0<n?e.model.sizes.SizesManager.rowFilterSizes[t]=n:delete e.model.sizes.SizesManager.rowFilterSizes[t];else if(t<this.FIRST_DATA_ROW)0<n?e.model.sizes.SizesManager.rowHeaderSizes[t-this.START_TABLE_ROW]=n:delete e.model.sizes.SizesManager.rowHeaderSizes[t-this.START_TABLE_ROW];else{var i=this.dataProvider.getRowTuple(t-this.FIRST_DATA_ROW,!0);if(null!=i){var r=this.dataProvider.getRowMeasureIndex(t-this.FIRST_DATA_ROW);this.dataProvider.rowAxis.hasMeasures&&i.push(r),0<n?e.model.sizes.SizesManager.rowSizes[i.join(",")]=n:delete e.model.sizes.SizesManager.rowSizes[i.join(",")]}}},o}(i.containers.UIContainer),n.GridView=r}(r||(r={})),function(e){!function(e){!function(e){var n=function(){function e(){}return e.MOUSE_CLICK="mclick",e.MOUSE_DOUBLE_CLICK="dblclick",e.MOUSE_SINGLE_DOUBLE_CLICK="singledoubleclick",e.MOUSE_UP="mup",e.MOUSE_DOWN="mdown",e.MOUSE_MOVE="mmove",e.MOUSE_LEAVE="mleave",e.HEADER_RESIZED="hresized",e.HEADER_RESIZING="hresizing",e.SHRINK_TO_FIT="shrink",e.DRILLTHROUGH_CLOSED="dthclosed",e.LONG_PRESS="long",e.FILTER_CLICK="filter_click",e.RESIZE_COLUMN="resize_c",e.RESIZE_ROW="resize_r",e}();e.GridEvent=n;var i=function(e){function t(t,i){void 0===i&&(i=null);var r=e.call(this,n.MOUSE_CLICK)||this;return r.cell=t,r.element=i,r}return a(t,e),t}(t._Event);e.GridClickEvent=i,i=function(e){function t(t){var i=e.call(this,n.MOUSE_DOUBLE_CLICK)||this;return i.cell=t,i}return a(t,e),t}(t._Event),e.GridDoubleClickEvent=i,i=function(e){function t(t,i,r){void 0===r&&(r=null);var o=e.call(this,n.MOUSE_SINGLE_DOUBLE_CLICK)||this;return o.cell=t,o.isSingleClick=i,o.element=r,o}return a(t,e),t}(t._Event),e.GridSingleDoubleClickEvent=i,i=function(e){function t(t){var i=e.call(this,n.MOUSE_DOWN)||this;return i.cell=t,i}return a(t,e),t}(t._Event),e.GridMouseDownEvent=i,i=function(e){function t(t){var i=e.call(this,n.MOUSE_MOVE)||this;return i.cell=t,i}return a(t,e),t}(t._Event),e.GridMouseMoveEvent=i,i=function(e){function t(t){var i=e.call(this,n.MOUSE_UP)||this;return i.cell=t,i}return a(t,e),t}(t._Event),e.GridMouseUpEvent=i,i=function(e){function t(t,i){var r=e.call(this,n.LONG_PRESS)||this;return r.cell=t,r.coords=i,r}return a(t,e),t}(t._Event),e.GridLongPressEvent=i,i=function(e){function t(t,i,r){void 0===r&&(r=null);var o=e.call(this,n.FILTER_CLICK)||this;return o.hierarchy=t,o.cell=i,o.element=r,o}return a(t,e),t}(t._Event),e.FilterClickEvent=i}(e.grid||(e.grid={}))}(e._view||(e._view={}))}(r||(r={})),function(e){!function(e){!function(e){var t=function(){function e(){}return e.validate=function(t){return t==e.COMPACT||t==e.CLASSIC||t==e.FLAT?t:e.COMPACT},e.COMPACT="compact",e.CLASSIC="classic",e.FLAT="flat",e}();e.GridType=t}(e.grid||(e.grid={}))}(e._view||(e._view={}))}(r||(r={})),function(e){var t,n;t=e._view||(e._view={}),n=function(n){function r(){var e=this;if(null!=r._instance)throw Error("Singleton");return(e=n.call(this,t.PivotView.stage.container)||this).setId("wdr-alert-view"),e.setControls(),e}return a(r,n),r.getInstance=function(){return null==r._instance&&(r._instance=new r),r._instance},r.dispose=function(){r._instance=null},r.prototype.setControls=function(){this.overlay.addClass("wdr-overlay-alert"),this._buttons=[];var e=new i.UIComponentBase("div","wdr-content");this.addChild(e),this._txtTitle=new i.UILabel,this._txtTitle.addClass("wdr-popup-title"),e.addChild(this._txtTitle),this._txtMessage=new i.UILabel,e.addChild(this._txtMessage),this._toolbar=new i.UIComponentBase("div","wdr-ui-btns-row"),e.addChild(this._toolbar),this._icon=new i.UIComponentBase("div","wdr-alert-icon"),this.addChild(this._icon)},r.prototype.openView=function(n,i,r,o,s,a){void 0===n&&(n=""),void 0===i&&(i=""),void 0===r&&(r=e.AlertType.ALERT),void 0===o&&(o=null),void 0===s&&(s=null),void 0===a&&(a=!1),this.clear(),this.setTitle(i),this.setMessage(n),this.setIcon(r),this.setButtons(o,s),t.PivotView.stage.addChild(this),this.isOpaque=a,this.open(),this.centerPosition()},r.prototype.clear=function(){for(this.setTitle(""),this.setMessage("");0<this._buttons.length;)this._buttons.pop().removeFromParent();this.container.toggleClass("wdr-alert",!1),this.container.toggleClass("wdr-confirmation",!1),this.container.toggleClass("wdr-error",!1),this.container.toggleClass("wdr-info",!1),this.container.toggleClass("wdr-question",!1)},r.prototype.setTitle=function(e){this._txtTitle.setSelectable(!1),this._txtTitle.setLabel(e)},r.prototype.setMessage=function(e){this._txtMessage.setLabel(e,!0)},r.prototype.setButtons=function(t,n){var r=this;null==t&&(t=[e.model._labels.Labels.BUTTON_OK]),t.reverse(),null!=n&&n.reverse(),this._handlers=n;for(var o,a=0;a<t.length;a++)(o=new i.UIButton).setLabel(t[a]),o.addEventListener(i.UIButton.CLICK_EVENT,function(e){return r.buttonClickHandler(e)}),this._buttons.push(o),this.isPrimary(t[a])&&o.addClass("wdr-ui-btn-dark"),this.isPrimary(t[a])&&(s.OSUtil.isMac||s.OSUtil.isIOS)?this._toolbar.addChild(o):this.isPrimary(t[a])?this._toolbar.container.prepend(o.container):this._toolbar.addChild(o)},r.prototype.isPrimary=function(t){switch(t){case e.model._labels.Labels.BUTTON_OK:case e.model._labels.Labels.BUTTON_SAVE:case e.model._labels.Labels.BUTTON_YES:return!0}return!1},r.prototype.buttonClickHandler=function(e){e=e.target;for(var t=-1,n=0;n<this._buttons.length;n++)if(this._buttons[n]==e){t=n;break}0>t||(this.close(),null==this._handlers||null==this._handlers[t])||this._handlers[t]()},r.prototype.setIcon=function(t){this._icon.container.removeAllChildren(),t==e.AlertType.ALERT?this._icon.container.addChild(this.createIconAlert()):t==e.AlertType.CONFIRMATION?this._icon.container.addChild(this.createIconConfirmation()):t==e.AlertType.ERROR?this._icon.container.addChild(this.createIconError()):t==e.AlertType.INFO&&this._icon.container.addChild(this.createIconInfo())},r.prototype.createIconConfirmation=function(){var e=new i.UIElement("span","wdr-circle");return e.addChild(new i.UIElement("span","wdr-ui-icon wdr-icon-notif_confirm")),e},r.prototype.createIconInfo=function(){var e=new i.UIElement("span","wdr-circle");return e.addChild(new i.UIElement("span","wdr-ui-icon wdr-icon-notif_info")),e},r.prototype.createIconAlert=function(){var e=new i.UIElement("span","wdr-triangle-wrap");return e.addChild(new i.UIElement("span","wdr-triangle")),e.addChild(new i.UIElement("span","wdr-ui-icon wdr-icon-notif_warning")),e},r.prototype.createIconError=function(){var e=new i.UIElement("span","wdr-hexagon");return e.addChild(new i.UIElement("span","wdr-ui-icon wdr-icon-notif_arrow")),e},r.prototype.close=function(){n.prototype.close.call(this),this.clear()},r.prototype.onOverlayClick=function(){this.isOpaque||n.prototype.onOverlayClick.call(this)},r}(i.containers.UIPopup),t.AlertView=n}(r||(r={})),function(e){var t,n,r;t=e._view||(e._view={}),n=t.grid||(t.grid={}),r=function(r){function o(){var e=r.call(this,t.PivotView.stage.container)||this;return e.slice=null,e.originalSlice=null,e.columnTuple=null,e.rowTuple=null,e.measure=null,e.START_TABLE_ROW=0,e.START_HEADERS_ROW=0,e.START_HEADERS_COLUMN=0,e.FIRST_DATA_ROW=0,e.FIRST_DATA_COLUMN=0,e.setId("wdr-drillthrough-view"),e.setControls(),e}return a(o,r),o.prototype.setControls=function(){var e=this;this.headerGroup=new i.containers.UIContainer("wdr-header-container"),this.addChild(this.headerGroup),this._txtTitle=new i.UILabel,this._txtTitle.addClass("wdr-popup-title"),this._txtTitle.setSelectable(!1),this.headerGroup.addChild(this._txtTitle),this._btnClose=new i.UIButton,this._btnClose.addClass("wdr-ui-btn-close"),this._btnClose.addEventListener(i.UIButton.CLICK_EVENT,function(){return e.close()}),this.headerGroup.addChild(this._btnClose),this.detailsGroup=new i.containers.UIContainer("wdr-details-container"),this.addChild(this.detailsGroup),this._txtRowDetails=new i.UILabel,this._txtRowDetails.addClass("wdr-ui-label-light"),this.detailsGroup.addChild(this._txtRowDetails),this._txtColDetails=new i.UILabel,this._txtColDetails.addClass("wdr-ui-label-light"),this.detailsGroup.addChild(this._txtColDetails),this._txtMeasureDetails=new i.UILabel,this._txtMeasureDetails.addClass("wdr-ui-label-light"),this.detailsGroup.addChild(this._txtMeasureDetails),this.sheetGroup=new i.containers.UIContainer("wdr-grid-container"),this.addChild(this.sheetGroup),this.gridLayout=new n.sheet.flat.FlatGridLayout,this.gridLayout.isDrillThrough=!0,this.gridLayout.getDataFunction=function(t,n){return e.getData(t,n)},this.sheetGroup.container.addChild(this.gridLayout)},o.prototype.openView=function(n,i,r,o,s){var a=this;void 0===n&&(n=null),void 0===i&&(i=null),void 0===r&&(r=null),void 0===o&&(o=null),void 0===s&&(s=null),this.dataProvider=n,this.setSlice(i.clone()),this.originalSlice=i,this.rowTuple=o,this.columnTuple=r,this.measure=s,this.tmpShowHeaders=e.model._options.OptionsManager.showHeaders,e.model._options.OptionsManager.showHeaders=!0,this.data=this.dataProvider.drillThrough(this.rowTuple,this.columnTuple,this.measure),this.keys=this.data.shift(),e.model._options.OptionsManager.showDrillThroughConfigurator&&null==this._fieldsView&&(this._fieldsView=new t.config.FieldsView,this._fieldsView.modalParent=t.PivotView.stage.container,this._fieldsView.isForDillThrough=!0,this._fieldsView.containtment=this.gridLayout.element,this._fieldsView.addEventListener(t.config.FieldsView.EVENT_OPEN,function(){return a.onFieldsViewOpen()}),this._fieldsView.addEventListener(t.config.FieldsView.EVENT_APPLY_SLICE,function(e){return a.onFieldsViewApplySlice(e)}),this.sheetGroup.addChild(this._fieldsView)),this.gridLayout.addEventListener(t.config.FieldsView.EVENT_APPLY_SLICE,function(e){return a.onFieldsViewApplySlice(e)}),this.open(),this.redraw()},o.prototype.onDataLoaded=function(t){this.data=t,e.preloader(!1),null!=this.data&&(this.open(),this.redraw())},o.prototype.setSlice=function(e){this.slice=e},o.prototype.redraw=function(){this._txtTitle.setLabel(e.model._labels.Labels.DRILL_THROUGH_TITLE),this._txtRowDetails.setLabel(this.getRowDetails(),!0),this._txtColDetails.setLabel(this.getColDetails(),!0),this._txtMeasureDetails.setLabel(this.getMeasureDetails(),!0),this.setWidth(t.PivotView.stageWidth-80);var n=t.PivotView.stage.container.getHeight(!0)-this.detailsGroup.container.getHeight(!0)-this.headerGroup.container.getHeight(!0)-30-this.container.padding.top-this.container.padding.bottom-40,i=this.getWidth()-2;this.gridLayout.clearAll(),this.gridLayout.resize(i,n),this.gridLayout.width=i,this.gridLayout.height=n,this.gridLayout.freezeRows(1),this.gridLayout.setDataSize(this.data.length,this.slice.flatten().length),this.gridLayout.draw(),this.centerPosition()},o.prototype.close=function(){r.prototype.close.call(this),0==s.nullOrUndefined(this.tmpShowHeaders)&&(e.model._options.OptionsManager.showHeaders=this.tmpShowHeaders),this.dispatchWith(n.GridEvent.DRILLTHROUGH_CLOSED)},o.prototype.getData=function(t,i){if(0==t)return this.getHeaderCell(i);var r,o=new n.vo.GridCell;if(o.isDrillThrough=!0,o.isValue=!0,null==this.data||null==this.data[t-1])return null;if(r=this.slice.flatten(),!(i<this.data[t-1].length))return null;var a=r.getItemAt(i);if(null==a)return null;r=this.keys.indexOf(a.uniqueName),2<a.levels_.length&&(r=this.keys.indexOf(a.levels_.getKeyAt(a.levels_.length-1)));var l=this.getNotNullMemberIdx(t,r);o.hierarchy=a,o.label=this.getMemberFullCaption(a.members.getItemAt(l));var c=this.slice.hierarchyToMeasure(a.uniqueName);return null==c?null:(r=c.getFormat(!0).clone(),this.originalSlice.measures_.keyExists(c.uniqueName)&&null!=(a=a.members.getItemAt(l))&&(o.value=a.levelOrdinal,o.label=c.type==e.data_.types.MeasureType.NUMBER?s.NumberFormatter.format(o.value,r):a.caption),""!=r.textAlign&&o.customize({"text-align":r.textAlign}),o.measure=c,o)},o.prototype.getNotNullMemberIdx=function(e,t){for(;null==this.data[e-1][t];)t--;return this.data[e-1][t]},o.prototype.getMemberFullCaption=function(e){for(var t=[];e&&e.parent;)t.unshift(e.caption),e=e.parent;return t.join(" / ")},o.prototype.getHeaderCell=function(e){var t=new n.vo.GridCell;return t.isDrillThrough=!0,t.isColumnHeader=!0,null==(e=this.slice.flatten().getItemAt(e))?null:(t.label=e.caption,t)},o.prototype.getRowDetails=function(){for(var t,n=[],i=0;i<this.rowTuple.length;i++){if(null==(t=this.originalSlice.rowsOnly.getItemAt(i)))return null;t=t.members.getItemAt(this.rowTuple[i]),n.push(t.caption)}return(n=0<n.length?s.StringUtils.bind(e.model._labels.Labels.DRILL_THROUGH_ROW,n.join(" - ")):"").replace(/<br\s*[\/]?>/gi," ")},o.prototype.getColDetails=function(){for(var t,n=[],i=0;i<this.columnTuple.length;i++){if(null==(t=this.originalSlice.columnsOnly.getItemAt(i)))return null;t=t.members.getItemAt(this.columnTuple[i]),n.push(t.caption)}return(n=0<n.length?s.StringUtils.bind(e.model._labels.Labels.DRILL_THROUGH_COLUMN,n.join(" - ")):"").replace(/<br\s*[\/]?>/gi," ")},o.prototype.getMeasureDetails=function(){var t=this.measure.getFormat().clone(),n=this.dataProvider.getValue(this.rowTuple,this.columnTuple,this.measure);return t=s.NumberFormatter.format(n,t),t=(t=s.StringUtils.bind(e.model._labels.Labels.DRILL_THROUGH_VALUE,this.measure.caption,t)).replace(/<br\s*[\/]?>/gi," "),this.value=n,t},o.prototype.onFieldsViewOpen=function(){this._fieldsView&&this._fieldsView.open(e.data_.Cube.getInstance().structure_,this.slice)},o.prototype.onFieldsViewApplySlice=function(t){t=t.data instanceof e.data_._structure.Slice?t.data:e.data_._structure.Slice.fromObject(e.model.report.SliceValueObject.fromObject(t.data),e.data_.Cube.getInstance().structure_),this.setSlice(t),this.redraw()},o.prototype.exportTo=function(t,n,i){i=this.slice?this.slice.flatten().length:this.data[0]?this.data[0].length:0;var r=this.data?this.data.length+1:0;t==e.model._export.ExportType.HTML&&e.model._export.ExportHTML.run(this,n,i,r),t==e.model._export.ExportType.PDF&&e.model._export.ExportPDF.run(this,n,i,r),t==e.model._export.ExportType.EXCEL&&e.model._export.ExportXLS.run(this,n,i,r)},o.prototype.saveData=function(e,t,n){var i=this;this.timer&&this.timer.running&&this.timer.stop(),null==this.timer&&(this.timer=new s.Timer(1e3,1)),this.timer.addEventListener(s.TimerEvent.TIMER_COMPLETE,function(){return i.onTimeComplete()}),this.timer.start(),(t=this.getData(e,t))&&t.label!=n&&t.value!=n&&this.dataProvider.save(this.rowTuple,this.columnTuple,t.hierarchy,n,e-1),this.draw()},o.prototype.onTimeComplete=function(){this._txtRowDetails.setLabel(this.getRowDetails(),!0),this._txtColDetails.setLabel(this.getColDetails(),!0),this._txtMeasureDetails.setLabel(this.getMeasureDetails(),!0),this.timer.stop()},o}(i.containers.UIPopup),n.DrillThroughView=r}(r||(r={})),function(e){var t;!function(t){!function(t){var n=function(){function n(){this.value=NaN,this.label="",this.level=NaN,this.sortedDesc=this.sortedAsc=this.sortable=this.drilledDown=this.drilledUp=this.draggable=this.collapsed=this.expanded=this.filtered=this.hasHierarchyName=this.showTooltip=this.isLink=this.isValue=this.isClassicTotalRow=this.isGrandTotalColumn=this.isGrandTotalRow=this.isTotalColumn=this.isTotalRow=this.isMeasureHeader=this.isColumnHeader=this.isRowHeader=this.isFrozen=this.isFilterHeader=this.isCustomized=this.numeric=!1,this.colIdx=this.rowIdx=-1,this.recordId=null,this.isDrillThrough=this.isExpandedArea=this.isEmpty=!1,this.conditions=[],this.url="",this.isKPIStatus=this.isKPITrend=!1,this.activeElementType=t.GridCellElementType.BACKGROUND}return Object.defineProperty(n.prototype,"isTotal",{get:function(){return this.isTotalRow||this.isTotalColumn},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isGrandTotal",{get:function(){return this.isGrandTotalRow||this.isGrandTotalColumn},enumerable:!0,configurable:!0}),n.prototype.getDrillLabel=function(){return this.drilledDown||this.drilledUp?this.hierarchy.levels_.getItemAt(this.member.level.num+1).caption:""},n.prototype.getLabel=function(){if(null!=n.customizeCellFunction){var t=new d;t.clear(),t.tag="div",t.text+=this.label,n.customizeCellFunction(t.node,this.toObject());var i=e.model.XSSCheck.valid(i=t.text)?i:e.model.XSSCheck.validate(i);return t.clear(),(t=document.createElement("div")).innerHTML=i,t.textContent?t.textContent.trim():i}return this.label},n.prototype.customize=function(e){this.isCustomized=!0,null==this.style&&(this.style=new t.CellStyle),this.style.addCSS(e)},n.prototype.customizeWithClass=function(e){this.isCustomized=!0,null==this.style&&(this.style=new t.CellStyle),this.style.addStyle(e),this.style.addCustomStyle(e)},n.prototype.toObject=function(){if(this.obj)return this.obj;var t,n,i=e.model.PivotModel.getInstance(),r=[];if(!e.model._options.OptionsManager.flatView&&(n=this.isColumnHeader&&this.tuple?this.tuple:this.columnTuple))for(var o=i.cube_.slice_?i.cube_.slice_.columnsOnly:new s.AssociativeArray,a=0;a<n.length;a++)t=(t=o.getItemAt(a)).members.getItemAt(n[a]),r.push({caption:t.caption,uniqueName:t.uniqueName,hierarchyCaption:t.hierarchy_.caption,hierarchyUniqueName:t.hierarchy_.uniqueName});if(o=[],!e.model._options.OptionsManager.flatView&&(n=this.isRowHeader&&this.tuple?this.tuple:this.rowTuple))for(i=i.cube_.slice_?i.cube_.slice_.rowsOnly:new s.AssociativeArray,a=0;a<n.length;a++)t=(t=i.getItemAt(a)).members.getItemAt(n[a]),o.push({caption:t.caption,uniqueName:t.uniqueName,hierarchyCaption:t.hierarchy_.caption,hierarchyUniqueName:t.hierarchy_.uniqueName});return n={columnIndex:this.colIdx,columns:r,label:this.label,measure:this.measure?e.data_._structure.GenericMeasure.toObject(this.measure):null,hierarchy:this.hierarchy?e.data_._structure.GenericHierarchy.toObject(this.hierarchy):null,member:this.member?e.data_._structure.GenericMember.toObject(this.member):null,rowIndex:this.rowIdx,rows:o,type:this.isColumnHeader||this.isRowHeader||this.isFilterHeader?"header":"value",value:this.value,recordId:this.recordId,isTotal:this.isTotal,isTotalRow:this.isTotalRow,isTotalColumn:this.isTotalColumn,isClassicTotalRow:this.isClassicTotalRow,isGrandTotal:this.isGrandTotal,isGrandTotalRow:this.isGrandTotalRow,isGrandTotalColumn:this.isGrandTotalColumn,isDrillThrough:this.isDrillThrough},isNaN(this.level)||(n.level=this.level),0<this.conditions.length&&(n.conditions=this.conditions),this.obj=n},n.customizeCellFunction=null,n}();t.GridCell=n}(t.vo||(t.vo={}))}((t=e._view||(e._view={})).grid||(t.grid={}))}(r||(r={})),function(e){!function(e){!function(e){!function(e){var t=function(){function e(){this.styleNames=[],this.customStyleNames=[],this.css={}}return e.prototype.addStyle=function(e){-1==this.styleNames.indexOf(e)&&this.styleNames.push(e)},e.prototype.addCustomStyle=function(e){-1==this.customStyleNames.indexOf(e)&&this.customStyleNames.push(e)},e.prototype.addCSS=function(e){for(var t in e)this.css[t]=e[t]},e.prototype.getClassString=function(){return this.styleNames.join(" ")},e.prototype.getCustomClassString=function(){return this.customStyleNames.join(" ")},e.prototype.getStyleString=function(){var e,t="";for(e in this.css)t+=e+":"+this.css[e]+";";return t},e}();e.CellStyle=t}(e.vo||(e.vo={}))}(e.grid||(e.grid={}))}(e._view||(e._view={}))}(r||(r={})),function(e){!function(e){var t,n,r;n=(t=e.grid||(e.grid={})).vo||(t.vo={}),r=function(){function e(){}return e.getFontStyle=function(t){return 500<t?e.BOLD:e.NORMAL},e.NORMAL="",e.BOLD="Bold",e}(),n.FontStylePDFType=r,r=function(){function t(){}return t.prototype.merge=function(e){this.color=this.color||e.color,this.backgroundColor=this.backgroundColor||e.backgroundColor,this.backgroundImage=this.backgroundImage||e.backgroundImage,this.borderColor=this.borderColor||e.borderColor,this.fontSize=this.fontSize||e.fontSize,this.fontWeight=this.fontWeight||e.fontWeight,this.textAlign=this.textAlign||e.textAlign,this.fontFamily=this.fontFamily||e.fontFamily,this.width=this.width||e.width,this.maxWidth=this.maxWidth||e.maxWidth,this.height=this.height||e.height,this.maxHeight=this.maxHeight||e.maxHeight},t.prototype.clone=function(){var e=new t;return e.color=this.color,e.backgroundColor=this.backgroundColor,e.backgroundImage=this.backgroundImage,e.borderColor=this.borderColor,e.fontSize=this.fontSize,e.fontWeight=this.fontWeight,e.textAlign=this.textAlign,e.fontFamily=this.fontFamily,e.width=this.width,e.maxWidth=this.maxWidth,e.height=this.height,e.maxHeight=this.maxHeight,e},t.fromItem=function(e,n){void 0===n&&(n=null);var i=new t;return(null==n||null!=n&&n.css("color")!=e.css("color"))&&(i.color=e.css("color")),(null==n||null!=n&&n.css("background-color")!=e.css("background-color"))&&(i.backgroundColor=e.css("background-color")),(null==n||null!=n&&n.css("background-image")!=e.css("background-image"))&&(i.backgroundImage=e.css("background-image")),(null==n||null!=n&&n.css("border-color")!=e.css("border-color"))&&(i.borderColor=e.css("border-color")),(null==n||null!=n&&n.css("font-size")!=e.css("font-size"))&&(i.fontSize=parseInt(e.css("font-size"))),(null==n||null!=n&&n.css("font-weight")!=e.css("font-weight"))&&(i.fontWeight=e.css("font-weight")),(null==n||null!=n&&n.css("fill")!=e.css("fill"))&&(i.fill=e.css("fill")),(null==n||null!=n&&n.css("text-align")!=e.css("text-align"))&&(i.textAlign=e.css("text-align")),(null==n||null!=n&&n.css("font-family")!=e.css("font-family"))&&(i.fontFamily=e.css("font-family")),(null==n||null!=n&&n.css("width")!=e.css("width"))&&(i.width=parseInt(e.css("width"))),(null==n||null!=n&&n.css("max-width")!=e.css("max-width"))&&(i.maxWidth=parseInt(e.css("max-width"))),(null==n||null!=n&&n.css("height")!=e.css("height"))&&(i.height=parseInt(e.css("height"))),(null==n||null!=n&&n.css("max-height")!=e.css("max-height"))&&(i.maxHeight=parseInt(e.css("max-height"))),i},t.fromClass=function(n,r,o){void 0===r&&(r=null),void 0===o&&(o=!0);var s=new i.UIElement("div");return s.addClass(n).hide(),n=new i.UIElement("div"),null==r?e.PivotView.stage.container.append(s).append(n):r.append(s).append(n),r=t.fromItem(s,o?n:null),s.remove(),n.remove(),r},t.fromString=function(e){var n=new t,i=0;for(e=e.replace(/ /g,";");-1<(i=e.indexOf(";"));)this.defineStyle(e.substring(0,i),n),e=e.substring(i+1);return n},t.hexToRgb=function(e){return e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,t,n,i){return t+t+n+n+i+i}),null==(e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e))?"":"rgb("+parseInt(e[1],16)+","+parseInt(e[2],16)+","+parseInt(e[3],16)+")"},t.defineStyle=function(e,t){-1<e.indexOf("background-color")?t.backgroundColor=this.hexToRgb(e.substring(17,e.length)):-1<e.indexOf("background-image")?t.backgroundImage=e.substring(17,e.length):-1<e.indexOf("border-color")?t.borderColor=this.hexToRgb(e.substring(13,e.length)):-1<e.indexOf("color")?t.color=this.hexToRgb(e.substring(6,e.length)):-1<e.indexOf("font-size")?t.fontSize=parseInt(e.substring(10,e.length)):-1<e.indexOf("fill")?t.fill=this.hexToRgb(e.substring(5,e.length)):-1<e.indexOf("text-align")?t.textAlign=e.substring(11,e.length):-1<e.indexOf("max-width")?t.maxWidth=parseInt(e.substring(10,e.length)):-1<e.indexOf("max-height")?t.maxHeight=parseInt(e.substring(11,e.length)):-1<e.indexOf("width")&&(t.width=parseInt(e.substring(6,e.length)))},t.fromItemToString=function(e,n,i){void 0===n&&(n=null),void 0===i&&(i=null);var r="";null==n&&(n=t.DEFAULT_CSS_PROPERIES);for(var o=0;o<n.length;o++)(null==i||null!=i&&e.css(n[o])!=i.css(n[o]))&&(r+=n[o]+":"+e.css(n[o])+";");return r},t.fromClassToString=function(n,r,o,s){void 0===r&&(r=null),void 0===o&&(o=null),void 0===s&&(s=void 0);var a=new i.UIElement("div");return a.addClass(n).hide(),void 0===s&&(s=new i.UIElement("div")).hide(),null==r?e.PivotView.stage.container.append(a).append(s):r.append(a).append(s),n=t.fromItemToString(a,o,s),a.remove(),null!=s&&s.remove(),n},t.parseRGB=function(e){var t=[],n=e.split("rgb");for(2<n.length&&(e=n[2]),e=(e=e.replace(/[^\d,]/g,"")).split(","),n=0;n<e.length;n++)t[n]=parseInt(e[n]);return null==t[3]&&(t[3]=1),t},t.DEFAULT_CSS_PROPERIES="background-color background-image color font-family font-size font-weight text-align padding-top padding-left padding-right padding-bottom border border-top-width border-top-color border-top-style border-bottom-width border-bottom-color border-bottom-style border-left-width border-left-color border-left-style border-right-width border-right-color border-right-style".split(" "),t}(),n.StyleValueObject=r}(e._view||(e._view={}))}(r||(r={})),function(e){!function(e){!function(e){!function(e){var t=function(){function e(){}return e.TITLE="wdr-pivot-title",e.CELL="wdr-cell",e.CELL_EMPTY="wdr-empty",e.SHEET_HEADER="wdr-sheet-header",e.HEADER="wdr-header",e.HEADER_COLUMN="wdr-header-c",e.HEADER_ROW="wdr-header-r",e.MEASURE_HEADER="wdr-measure-header",e.FILTER_HEADER="wdr-filter-header",e.PAGE_HEADER="wdr-page-header",e.PAGE_HEADER_ITEMS="wdr-page-header-items",e.FILTER_ICON="wdr-filter-icon",e.FILTERED="wdr-filtered",e.FILTERED_ICON="wdr-filtered-icon",e.HEADER_DRAGGABLE="wdr-draggable",e.HEADER_DROPPABLE="wdr-droppable",e.TOTAL="wdr-total",e.GRAND_TOTAL="wdr-grand-total",e.HIERARCHY="wdr-hierarchy-link",e.LINK="wdr-link",e.V_SORT="wdr-v-sort",e.V_SORT_ICON="wdr-v-sort-icon",e.V_SORT_ASC="wdr-v-sort-asc",e.V_SORT_DESC="wdr-v-sort-desc",e.H_SORT="wdr-h-sort",e.H_SORT_ICON="wdr-h-sort-icon",e.H_SORT_ASC="wdr-h-sort-asc",e.H_SORT_DESC="wdr-h-sort-desc",e.SORT_ICON="wdr-sort-icon",e.EXPANDED="wdr-expanded",e.EXPANDED_ICON="wdr-expanded-icon",e.COLLAPSED="wdr-collapsed",e.COLLAPSED_ICON="wdr-collapsed-icon",e.LEVEL="wdr-level-",e.DRILLED_UP="wdr-drilled-up",e.DRILLED_DOWN="wdr-drilled-down",e.ICON="wdr-icon",e}();e.GridStyleName=t}(e.vo||(e.vo={}))}(e.grid||(e.grid={}))}(e._view||(e._view={}))}(r||(r={})),function(e){!function(e){!function(e){!function(e){var t=function(){function e(){}return e.LEFT_ICON="left icon",e.MAIN_ICON="main icon",e.RIGHT_ICON="right icon",e.LABEL="label",e.DRILL="drill",e.LINK="link",e.BACKGROUND="backgroud",e}();e.GridCellElementType=t}(e.vo||(e.vo={}))}(e.grid||(e.grid={}))}(e._view||(e._view={}))}(r||(r={})),function(e){var t,n,i,r;i=(n=(t=e._view||(e._view={})).grid||(t.grid={})).sheet||(n.sheet={}),r=function(){function n(){this._cellMaxHeight=this._cellMaxWidth=this._dataContentHeight=this._dataContentWidth=-1,this.filtersHeight=this.titleHeight=this.scrollLeft=this.scrollTop=this.firstDataColIdx=this.firstDataRowIdx=this.frozenRowsCount=this.frozenColsCount=this.dataRowsCount=this.dataColsCount=this._sheetHeaderHeight=this._sheetHeaderWidth=0,this._scaleTreshold=15e5,this._scaleY=this._scaleX=1,this._colsWidth=[],this._rowsHeight=[],this._colsWidthPending=[],this._rowsHeightPending=[],this._colsWidthExplicit=[],this._rowsHeightExplicit=[],this._scrollBarSize=n.getScrollBarSize(),this._scaleTreshold=n.getScaleTreshold(),this._sheetHeaderWidth=n.SHEET_HEADER_WIDTH,this._sheetHeaderHeight=n.SHEET_HEADER_HEIGHT,this.setDefaults()}return Object.defineProperty(n.prototype,"gridStartY",{get:function(){return this.titleHeight+this.filtersHeight},enumerable:!0,configurable:!0}),n.getScrollBarSize=function(){return s.browserVersion().isMobile||s.OSUtil.isMac?0:s.browserVersion().isEdge?12:17},n.getScaleTreshold=function(){return s.detectBrowser().isChrome||s.detectBrowser().isFirefox?1e7:15e5},n.prototype.clearColSizes=function(e){this._colsWidth.length>e&&(this._colsWidth.length=e),this._colsWidthPending.length>e&&(this._colsWidthPending.length=e),this._colsWidthExplicit.length>e&&(this._colsWidthExplicit.length=e),this._dataContentWidth=-1},n.prototype.clearRowSizes=function(e){this._rowsHeight.length>e&&(this._rowsHeight.length=e),this._rowsHeightPending.length>e&&(this._rowsHeightPending.length=e),this._rowsHeightExplicit.length>e&&(this._rowsHeightExplicit.length=e),this._dataContentHeight=-1},n.prototype.reset=function(){this._colsWidth.length=0,this._rowsHeight.length=0,this._colsWidthPending.length=0,this._rowsHeightPending.length=0,this._colsWidthExplicit.length=0,this._rowsHeightExplicit.length=0,this._dataContentHeight=this._dataContentWidth=-1,this.filtersHeight=this.titleHeight=this.scrollLeft=this.scrollTop=this.firstDataColIdx=this.firstDataRowIdx=this.frozenRowsCount=this.frozenColsCount=this.dataRowsCount=this.dataColsCount=0,this._sheetHeaderWidth=n.SHEET_HEADER_WIDTH,this._sheetHeaderHeight=n.SHEET_HEADER_HEIGHT,this._scaleY=this._scaleX=1,this._cellMaxHeight=this._cellMaxWidth=-1,this.setDefaults()},n.prototype.setDefaults=function(){var e=t.grid.vo.StyleValueObject.fromClass(s.browserVersion().isMobile?"wdr-grid-column-mobile":"wdr-grid-column");n.CELL_WIDTH=isNaN(e.width)?100:Math.max(n.CELL_MIN_WIDTH,e.width),isNaN(e.maxWidth)||(this._cellMaxWidth=Math.max(n.CELL_MIN_WIDTH,e.maxWidth)),e=t.grid.vo.StyleValueObject.fromClass(s.browserVersion().isMobile?"wdr-grid-row-mobile":"wdr-grid-row"),n.CELL_HEIGHT=isNaN(e.height)?30:Math.max(n.CELL_MIN_HEIGHT,e.height),isNaN(e.maxHeight)||(this._cellMaxHeight=Math.max(n.CELL_MIN_HEIGHT,e.maxHeight))},Object.defineProperty(n.prototype,"cellMaxWidth",{get:function(){return this._cellMaxWidth},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"cellMaxHeight",{get:function(){return this._cellMaxHeight},enumerable:!0,configurable:!0}),n.prototype.setScale=function(){var e=this.calcRangeHeight(this.frozenRowsCount,this.frozenRowsCount+this.dataRowsCount);this._scaleY=e>this._scaleTreshold?this._scaleTreshold/e:1,e=this.calcRangeWidth(this.frozenColsCount,this.frozenColsCount+this.dataColsCount),this._scaleX=e>this._scaleTreshold?this._scaleTreshold/e:1},n.prototype.resize=function(e,t,n){void 0===n&&(n=!1),this._layoutWidth=e,this._layoutHeight=t,n&&(this._originalWidth=e,this._originalHeight=t)},Object.defineProperty(n.prototype,"scrollBarWidth",{get:function(){return this.hasVerticalScroll?this._scrollBarSize:0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"scrollBarHeight",{get:function(){return this.hasHorizontalScroll?this._scrollBarSize:0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"scrollBarSize",{get:function(){return this._scrollBarSize},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"originalWidth",{get:function(){return this._originalWidth},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"originalHeight",{get:function(){return this._originalHeight},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"layoutWidth",{get:function(){return this._layoutWidth},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"layoutHeight",{get:function(){return this._layoutHeight},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"availableHeight",{get:function(){return this._layoutHeight-this.scrollBarHeight-this.gridStartY},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"availableWidth",{get:function(){return this._layoutWidth-this.scrollBarWidth},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dataWidth",{get:function(){return this._layoutWidth-this.rowHeadersWidth},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dataHeight",{get:function(){return this._layoutHeight-this.colHeadersHeight-this.gridStartY},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maxColsCount",{get:function(){return this.frozenColsCount+this.dataColsCount},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maxRowsCount",{get:function(){return this.frozenRowsCount+this.dataRowsCount},enumerable:!0,configurable:!0}),n.prototype.getRowHeight=function(e){var t=isNaN(this._rowsHeight[e])?n.CELL_HEIGHT:this._rowsHeight[e];return 0<this.cellMaxHeight&&!this.isRowHeightExplicit(e)?Math.min(this.cellMaxHeight,t):t},n.prototype.setRowHeight=function(e,t,i,r){void 0===i&&(i=!1),void 0===r&&(r=!1),t=Math.max(t,n.CELL_MIN_HEIGHT),i?(isNaN(this._rowsHeightPending[e])||t>this._rowsHeightPending[e])&&(this._rowsHeightPending[e]=t):(this._rowsHeight[e]=t,this._dataContentHeight=-1),r&&(this._rowsHeightExplicit[e]=!0)},n.prototype.resetRowHeight=function(e){this.isRowHeightExplicit(e)&&(delete this._rowsHeight[e],delete this._rowsHeightPending[e],delete this._rowsHeightExplicit[e],this._dataContentHeight=-1)},n.prototype.getColWidth=function(e){if(-1==e)return this.getSheetHeaderWidth();if(e>=this.maxColsCount)return Math.max(100,n.CELL_WIDTH);var t=isNaN(this._colsWidth[e])?n.CELL_WIDTH:this._colsWidth[e];return 0<this.cellMaxWidth&&!this.isColWidthExplicit(e)?Math.min(this.cellMaxWidth,t):t},n.prototype.setColWidth=function(e,t,i,r){void 0===i&&(i=!1),void 0===r&&(r=!1),t=Math.max(t,n.CELL_MIN_WIDTH),i?(isNaN(this._colsWidthPending[e])||t>this._colsWidthPending[e])&&(this._colsWidthPending[e]=t):(-1==e?this._sheetHeaderWidth=t:this._colsWidth[e]=t,this._dataContentWidth=-1),r&&(this._colsWidthExplicit[e]=!0)},n.prototype.resetColWidth=function(e){this.isColWidthExplicit(e)&&(delete this._colsWidth[e],delete this._colsWidthPending[e],delete this._colsWidthExplicit[e],this._dataContentWidth=-1)},n.prototype.isColWidthExplicit=function(e){return!0===this._colsWidthExplicit[e]},n.prototype.isRowHeightExplicit=function(e){return!0===this._rowsHeightExplicit[e]},n.prototype.applyPendingSizes=function(){for(var e=0;e<this._rowsHeightPending.length;e++)if(!this.isRowHeightExplicit(e)){var t=this._rowsHeightPending[e];!isNaN(t)&&t>this.getRowHeight(e)&&this.setRowHeight(e,t)}for(this._rowsHeightPending.length=0,e=-1;e<this._colsWidthPending.length;e++)this.isColWidthExplicit(e)||(t=this._colsWidthPending[e],!isNaN(t)&&t>this.getColWidth(e)&&this.setColWidth(e,t));this._colsWidthPending.length=0},n.prototype.getRowIndexAtPosition=function(e,t){void 0===t&&(t=!1);var n=e/this.dataContentHeight*(this.layoutHeight/this._scaleY-this.layoutHeight)*this._scaleY;if(1!=this._scaleY&&e+n>=this.dataContentHeight-this.layoutHeight){var i=this.maxRowsCount;for(n=this.dataContentHeight;n>e;)n-=this.getRowHeight(i),i--;return i+1}i=t?0:this.frozenRowsCount;for(var r=0;r<e+n;)r+=this.getRowHeight(i)*this._scaleY,i++;return i},n.prototype.getColIndexAtPosition=function(e,t){void 0===t&&(t=!1);var n=e/this.dataContentWidth*(this.layoutWidth/this._scaleX-this.layoutWidth)*this._scaleX;if(1!=this._scaleX&&e+n>=this.dataContentWidth-this.layoutWidth){var i=this.maxColsCount;for(n=this.dataContentWidth;n>e;)n-=this.getColWidth(i),i--;return i+1}i=t?0:this.frozenColsCount;for(var r=0;r<e+n;)r+=this.getColWidth(i)*this._scaleX,i++;return i},n.prototype.getVisibleRowsCount=function(e){for(var t=0,n=0,i=this.dataHeight;n<i;)n+=this.getRowHeight(e+t),t++;return t},n.prototype.getVisibleColsCount=function(e){for(var t=0,n=0,i=this.dataWidth;n<i;)n+=this.getColWidth(e+t),t++;return t},Object.defineProperty(n.prototype,"dataContentWidth",{get:function(){return 0<=this._dataContentWidth?this._dataContentWidth:this._dataContentWidth=1>this._scaleX?this._scaleTreshold:this.calcRangeWidth(this.frozenColsCount,this.frozenColsCount+this.dataColsCount)},enumerable:!0,configurable:!0}),n.prototype.calcRangeWidth=function(e,t){if(e>=t)return 0;var i,r=0,o=0,s=0;for(i in this._colsWidth)s=parseInt(i),!isNaN(s)&&!isNaN(this._colsWidth[s])&&s>=e&&s<t&&(o++,r+=this.getColWidth(s));return r+=((s=Math.min(t,this.maxColsCount))-e-o)*(0<this.cellMaxWidth?Math.min(this.cellMaxWidth,n.CELL_WIDTH):n.CELL_WIDTH),t>=this.maxColsCount&&(r+=(t-this.maxColsCount)*this.getColWidth(t)),r},Object.defineProperty(n.prototype,"dataContentHeight",{get:function(){return 0<=this._dataContentHeight?this._dataContentHeight:this._dataContentHeight=1>this._scaleY?this._scaleTreshold:this.calcRangeHeight(this.frozenRowsCount,this.frozenRowsCount+this.dataRowsCount)},enumerable:!0,configurable:!0}),n.prototype.calcRangeHeight=function(e,t){if(e>=t)return 0;var i,r=0,o=0,s=0;for(i in this._rowsHeight)s=parseInt(i),!isNaN(s)&&!isNaN(this._rowsHeight[s])&&s>=e&&s<t&&(o++,r+=this.getRowHeight(s));return r+(t-e-o)*(0<this.cellMaxHeight?Math.min(this.cellMaxHeight,n.CELL_HEIGHT):n.CELL_HEIGHT)},n.prototype.clearCache=function(){this._dataContentWidth=this._dataContentHeight=-1},Object.defineProperty(n.prototype,"minDataWidth",{get:function(){for(var e=0,t=this.frozenColsCount+this.dataColsCount,i=this.frozenColsCount;i<t;i++)if((e+=this.getColWidth(i))>n.MIN_DATA_WIDTH)return n.MIN_DATA_WIDTH;return e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rowHeadersWidth",{get:function(){for(var e=this.getSheetHeaderWidth(),t=0;t<this.frozenColsCount;t++)e+=this.getColWidth(t);return e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"colHeadersHeight",{get:function(){for(var e=this.getSheetHeaderHeight(),t=0;t<this.frozenRowsCount;t++)e+=this.getRowHeight(t);return e},enumerable:!0,configurable:!0}),n.prototype.getSheetHeaderWidth=function(){return e.model._options.OptionsManager.showHeaders?this._sheetHeaderWidth:0},n.prototype.getSheetHeaderHeight=function(){return e.model._options.OptionsManager.showHeaders?this._sheetHeaderHeight:0},n.prototype.getColIndexWithUndefinedWidth=function(){for(var e=this.frozenColsCount;e<this.dataColsCount;e++)if(!this.isColWidthDefined(e))return e;return null},n.prototype.getColIndicesWithUndefinedWidth=function(e){for(var t=[],n=this.frozenColsCount;n<this.dataColsCount&&(this.isColWidthDefined(n)||(t.push(n),!(t.length>=e)));n++);return t},n.prototype.isColWidthDefined=function(e,t){return void 0===t&&(t=!0),!isNaN(this._colsWidth[e])||!!t&&!isNaN(this._colsWidthPending[e])},Object.defineProperty(n.prototype,"hasHorizontalScroll",{get:function(){return this.dataContentWidth+(this.dataContentHeight>this.dataHeight?this.scrollBarSize:0)>this.dataWidth},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"hasVerticalScroll",{get:function(){return this.dataContentHeight+(this.dataContentWidth>this.dataWidth?this.scrollBarSize:0)>this.dataHeight},enumerable:!0,configurable:!0}),n.prototype.getRowY=function(t,n){return void 0===n&&(n=!1),(e.model._options.OptionsManager.showHeaders&&n?this.getSheetHeaderHeight():0)+this.calcRangeHeight(n?0:this.frozenRowsCount,t)},n.prototype.getColX=function(t,n){return void 0===n&&(n=!1),(e.model._options.OptionsManager.showHeaders&&n?this.getSheetHeaderWidth():0)+this.calcRangeWidth(n?0:this.frozenColsCount,t)},Object.defineProperty(n.prototype,"canDrawAll",{get:function(){return!s.browserVersion().isEdge&&!s.browserVersion().isMsie&&500>this.maxColsCount*this.maxRowsCount},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"canDrawSmooth",{get:function(){return!s.browserVersion().isEdge&&!s.browserVersion().isMsie&&(this.hasVerticalScroll||this.hasHorizontalScroll)&&1e5>this.maxColsCount*this.maxRowsCount},enumerable:!0,configurable:!0}),n.prototype.getBoundTop=function(e){return void 0===e&&(e=!1),this.canDrawAll?this.frozenRowsCount:e?Math.max(this.frozenRowsCount,this.firstDataRowIdx-n.ROWS_OFFSET):Math.max(this.frozenRowsCount,this.firstDataRowIdx)},n.prototype.getBoundLeft=function(e){return void 0===e&&(e=!1),this.canDrawAll?this.frozenColsCount:e?Math.max(this.frozenColsCount,this.firstDataColIdx-n.COLS_OFFSET):Math.max(this.frozenColsCount,this.firstDataColIdx)},n.prototype.getBoundBottom=function(e){void 0===e&&(e=!1);var t=this.getVisibleRowsCount(this.firstDataRowIdx);return this.canDrawAll?this.hasVerticalScroll?this.maxRowsCount:this.firstDataRowIdx+t:e?Math.min(this.firstDataRowIdx+t+(this.hasVerticalScroll?n.ROWS_OFFSET:0),this.hasVerticalScroll?this.maxRowsCount:Number.MAX_VALUE):this.firstDataRowIdx+t},n.prototype.getBoundRight=function(e){void 0===e&&(e=!1);var t=this.getVisibleColsCount(this.firstDataColIdx);return this.canDrawAll?this.hasHorizontalScroll?this.maxColsCount:this.firstDataColIdx+t:e?Math.min(this.firstDataColIdx+t+(this.hasHorizontalScroll?n.COLS_OFFSET:0),this.hasHorizontalScroll?this.maxColsCount:Number.MAX_VALUE):this.firstDataColIdx+t},n.prototype.isOnColEdge=function(e){return void 0===e&&(e=NaN),isNaN(e)&&(e=this.getBoundRight()),0<this.scrollLeft&&e>=this.maxColsCount},n.prototype.isOnRowEdge=function(e){return void 0===e&&(e=NaN),isNaN(e)&&(e=this.getBoundBottom()),0<this.scrollTop&&e>=this.maxRowsCount},n.prototype.getColEdgeOffset=function(e){return void 0===e&&(e=NaN),isNaN(e)&&(e=this.firstDataColIdx),this.isOnColEdge()?this.dataContentWidth-this.scrollLeft-this.calcRangeWidth(e,this.maxColsCount):0},n.prototype.getRowEdgeOffset=function(e){return void 0===e&&(e=NaN),isNaN(e)&&(e=this.firstDataRowIdx),this.isOnRowEdge()?this.dataContentHeight-this.scrollTop-this.calcRangeHeight(e,this.maxRowsCount):0},n.prototype.getRowIdxByRelativePosition=function(t,n){if(t<this.gridStartY)return NaN;if(e.model._options.OptionsManager.showHeaders&&t<this.gridStartY+this.getSheetHeaderHeight())return-1;var i=0,r=this.gridStartY+this.getSheetHeaderHeight();if(t>this.colHeadersHeight)if(i=this.firstDataRowIdx,r=this.gridStartY+this.colHeadersHeight,n&&i>this.frozenRowsCount){var o=this.scrollTop-this.getRowY(i-1);0<o&&(r-=o,i--)}else n||(t-=this.getRowEdgeOffset());for(;r<t;)r+=this.getRowHeight(i),i++;return i-1},n.prototype.getColIdxByRelativePosition=function(t,n){if(e.model._options.OptionsManager.showHeaders&&t<this.getSheetHeaderWidth())return-1;var i=0,r=this.getSheetHeaderWidth();if(t>this.rowHeadersWidth)if(i=this.firstDataColIdx,r=this.rowHeadersWidth,n&&i>this.frozenColsCount){var o=this.scrollLeft-this.getColX(i-1);0<o&&(r-=o,i--)}else n||(t-=this.getColEdgeOffset());for(;r<t;)r+=this.getColWidth(i),i++;return i-1},n.prototype.getRelativeRowY=function(e,t,n){void 0===n&&(n=!0);var i=0,r=(n?this.gridStartY:0)+this.getSheetHeaderHeight();return e>this.frozenRowsCount&&(r=(n?this.gridStartY:0)+this.colHeadersHeight,(i=this.firstDataRowIdx)<=e&&(r+=t?this.getRowY(this.firstDataRowIdx)-this.scrollTop:this.getRowEdgeOffset())),r+this.calcRangeHeight(i,e)},n.prototype.getRelativeColX=function(e,t){var n=0,i=this.getSheetHeaderWidth();return e>this.frozenColsCount&&(i=this.rowHeadersWidth,(n=this.firstDataColIdx)<=e&&(i+=t?this.getColX(this.firstDataColIdx)-this.scrollLeft:this.getColEdgeOffset())),i+this.calcRangeWidth(n,e)},n.prototype.isRowHeightDefault=function(e){return isNaN(this._rowsHeight[e])},Object.defineProperty(n.prototype,"freeSpaceRight",{get:function(){return this.scrollLeft+this.dataWidth-this.dataContentWidth-this.scrollBarWidth},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"freeSpaceTop",{get:function(){return this.scrollTop+this.dataHeight-this.dataContentHeight-this.scrollBarHeight},enumerable:!0,configurable:!0}),n.ROWS_OFFSET=5,n.COLS_OFFSET=5,n.CELL_WIDTH=100,n.CELL_HEIGHT=30,n.CELL_MIN_WIDTH=50,n.CELL_MIN_HEIGHT=30,n.SHEET_HEADER_HEIGHT=25,n.SHEET_HEADER_WIDTH=25,n.MIN_DATA_WIDTH=200,n}(),i.GridCoords=r}(r||(r={})),function(e){var t;!function(t){var n,r;n=t.sheet||(t.sheet={}),r=function(r){function o(e,t){var n=r.call(this,"div")||this;return n._isDirty=!1,n.cell=new d,n._coords=e,n._getDataFunc=t,n.element.addEventListener("click",function(e){return n.onMouseEvent(e)}),n}return a(o,r),o.prototype.calculateSizes=function(e){void 0===e&&(e=!1);for(var t=!1,n=this.element.children,i=0;i<n.length;i++)for(var r=n.item(i),o=(t=this.updateRowHeight(r,!0)||t,r=r.children,0);o<r.length;o++)t=this.updateColWidth(r.item(o),e)||t;this._isDirty=t},Object.defineProperty(o.prototype,"isDirty",{get:function(){return this._isDirty},enumerable:!0,configurable:!0}),o.prototype.updateRowHeight=function(e,t){if(void 0===t&&(t=!1),null!=this._coords){var i=!1,r=parseInt(e.getAttribute("data-r"));if(isNaN(r)||this._coords.isRowHeightExplicit(r))return!1;var o=e.clientHeight;return this._coords.getRowHeight(r)<o?(this._coords.setRowHeight(r,Math.round(o+1),t),i=!0):o<=n.GridCoords.CELL_HEIGHT&&this._coords.setRowHeight(r,n.GridCoords.CELL_HEIGHT,t),i}},o.prototype.updateColWidth=function(e,i){if(void 0===i&&(i=!1),null!=this._coords){var r=!1,o=parseInt(e.getAttribute("data-c"));if(isNaN(o)||e.classList.contains(t.vo.GridStyleName.SHEET_HEADER)&&0<=o||this._coords.isColWidthExplicit(o))return!1;var s=e.clientWidth;return this._coords.getColWidth(o)<s?(this._coords.setColWidth(o,Math.round(s+2),i),r=!0):-1!=o&&s<=n.GridCoords.CELL_WIDTH&&this._coords.setColWidth(o,n.GridCoords.CELL_WIDTH,i),r}},o.prototype.createCell=function(n,i,r){void 0===r&&(r=!1);var o=this._getDataFunc?this._getDataFunc(n,i):null;this.cell.clear(),this.cell.tag="div",this.cell.addClass(t.vo.GridStyleName.CELL);var s=n>=this._coords.maxRowsCount||i>=this._coords.maxColsCount;if(!o&&s&&this.cell.addClass(t.vo.GridStyleName.CELL_EMPTY),o&&o.isRowHeader&&(this.cell.addClass(t.vo.GridStyleName.HEADER),this.cell.addClass(t.vo.GridStyleName.HEADER_ROW),this.cell.addClass(t.vo.GridStyleName.LEVEL+o.level)),o&&o.isColumnHeader&&(this.cell.addClass(t.vo.GridStyleName.HEADER),this.cell.addClass(t.vo.GridStyleName.HEADER_COLUMN)),o&&o.isMeasureHeader&&this.cell.addClass(t.vo.GridStyleName.MEASURE_HEADER),o&&o.isTotal&&this.cell.addClass(t.vo.GridStyleName.TOTAL),o&&o.isGrandTotal&&this.cell.addClass(t.vo.GridStyleName.GRAND_TOTAL),o&&o.expanded&&(this.cell.addClass(t.vo.GridStyleName.EXPANDED),this.cell.text+=this.createIcon(t.vo.GridStyleName.EXPANDED_ICON,e.model._labels.Labels.TOOLTIPS_COLLAPSE_ICON)),o&&o.collapsed&&(this.cell.addClass(t.vo.GridStyleName.COLLAPSED),this.cell.text+=this.createIcon(t.vo.GridStyleName.COLLAPSED_ICON,e.model._labels.Labels.TOOLTIPS_EXPAND_ICON)),this.cell.text+=o?o.label:"",o&&(o.drilledUp||o.drilledDown)&&(this.cell.text+='<span class="'+t.vo.GridStyleName.HIERARCHY+'" title="'+(o.drilledUp?e.model._labels.Labels.TOOLTIPS_DRILL_DOWN:e.model._labels.Labels.TOOLTIPS_DRILL_UP)+'">'+o.getDrillLabel()+"</span>",o.drilledUp&&this.cell.addClass(t.vo.GridStyleName.DRILLED_UP),o.drilledDown&&this.cell.addClass(t.vo.GridStyleName.DRILLED_DOWN)),o&&o.isColumnHeader&&(o.sortable&&!o.isEmpty&&(this.cell.text=o.sortedAsc?this.cell.text+this.createIcon([t.vo.GridStyleName.SORT_ICON,t.vo.GridStyleName.V_SORT_ASC],e.model._labels.Labels.TOOLTIPS_SORTED_ASC):o.sortedDesc?this.cell.text+this.createIcon([t.vo.GridStyleName.SORT_ICON,t.vo.GridStyleName.V_SORT_DESC],e.model._labels.Labels.TOOLTIPS_SORTED_DESC):this.cell.text+this.createIcon([t.vo.GridStyleName.SORT_ICON,t.vo.GridStyleName.V_SORT_ICON],e.model._labels.Labels.TOOLTIPS_SORT_ICON)),o.isEmpty&&this.cell.addClass(t.vo.GridStyleName.CELL_EMPTY),o.isEmpty||this.cell.addClass(t.vo.GridStyleName.V_SORT)),o&&o.isRowHeader&&(o.sortable&&!o.isEmpty&&(this.cell.text=o.sortedAsc?this.cell.text+this.createIcon([t.vo.GridStyleName.SORT_ICON,t.vo.GridStyleName.H_SORT_ASC],e.model._labels.Labels.TOOLTIPS_SORTED_ASC):o.sortedDesc?this.cell.text+this.createIcon([t.vo.GridStyleName.SORT_ICON,t.vo.GridStyleName.H_SORT_DESC],e.model._labels.Labels.TOOLTIPS_SORTED_DESC):this.cell.text+this.createIcon([t.vo.GridStyleName.SORT_ICON,t.vo.GridStyleName.H_SORT_ICON],e.model._labels.Labels.TOOLTIPS_SORT_ICON)),this.cell.addClass(t.vo.GridStyleName.H_SORT)),this.cell.attr["data-c"]=i,this.cell.attr["data-r"]=n,0!=i||e.model._options.OptionsManager.showHeaders||(this.cell.style.height=this._coords.getRowHeight(n)+"px"),o&&o.style){for(var a=0;a<o.style.styleNames.length;a++)this.cell.addClass(o.style.styleNames[a]);var l;for(l in a=o.style.css)this.cell.style[l]=a[l]}return this.setCellSize(this.cell,n,i,o&&o.isValue),r&&(this.cell.style.top=this._coords.getRowY(n,n<this._coords.frozenRowsCount)+"px",this.cell.style.left=this._coords.getColX(i,i<this._coords.frozenColsCount)+"px"),null==t.vo.GridCell.customizeCellFunction||s||(null==o&&((o=new t.vo.GridCell).rowIdx=n,o.colIdx=i),t.vo.GridCell.customizeCellFunction(this.cell.node,o.toObject())),this.cell},o.prototype.isCellEmpty=function(e,t){if(this._getDataFunc){var n=this._getDataFunc(e,t);return s.nullOrUndefined(n)||s.nullOrEmpty(n.label)}return!0},o.prototype.setCellSize=function(e,t,n,i){void 0===i&&(i=!1),this._coords.isColWidthExplicit(n)||this._coords.isRowHeightExplicit(t)?(e.style.width=this._coords.getColWidth(n)+"px",e.style.height=this._coords.getRowHeight(t)+"px"):(e.style["min-width"]=this._coords.getColWidth(n)+"px",e.style[i?"height":"min-height"]=this._coords.getRowHeight(t)+"px"),!this._coords.isColWidthExplicit(n)&&0<this._coords.cellMaxWidth&&(e.style["max-width"]=this._coords.cellMaxWidth+"px"),!this._coords.isRowHeightExplicit(t)&&0<this._coords.cellMaxHeight&&(e.style["max-height"]=this._coords.cellMaxHeight+"px")},o.prototype.createIcon=function(e,n){void 0===n&&(n=null),e instanceof Array&&(e=e.join(" "));var i='<i class="'+t.vo.GridStyleName.ICON+" "+e+'"';return n&&(i+='title="'+n+'"'),i+"></i>"},o.prototype.createSheetHeaderCell=function(){return this.cell.clear(),this.cell.tag="div",this.cell.addClass(t.vo.GridStyleName.CELL),this.cell.addClass(t.vo.GridStyleName.SHEET_HEADER),this.cell.style.width=this._coords.getSheetHeaderWidth()+"px",this.cell.style.height=this._coords.getSheetHeaderHeight()+"px",this.cell},o.prototype.createColumnSheetHeaderCell=function(e,n){return void 0===n&&(n=!1),this.cell.clear(),this.cell.tag="div",this.cell.addClass(t.vo.GridStyleName.CELL),this.cell.addClass(t.vo.GridStyleName.SHEET_HEADER),this.cell.text+=e+1,this.cell.style.width=this._coords.getColWidth(e)+"px",0<this._coords.cellMaxWidth&&!this._coords.isColWidthExplicit(e)&&(this.cell.style["max-width"]=this._coords.cellMaxWidth+"px"),this.cell.style.height=this._coords.getSheetHeaderHeight()+"px",this.cell.attr["data-r"]=-1,this.cell.attr["data-c"]=e,n&&(this.cell.style.left=this._coords.getColX(e,!1)+"px"),this.cell},o.prototype.createRowSheetHeaderCell=function(e,n){return void 0===n&&(n=!1),this.cell.clear(),this.cell.tag="div",this.cell.addClass(t.vo.GridStyleName.CELL),this.cell.addClass(t.vo.GridStyleName.SHEET_HEADER),this.cell.text+=e+1,this.cell.style["min-width"]=this._coords.getSheetHeaderWidth()+"px",this.cell.style.height=this._coords.getRowHeight(e)+"px",this.cell.style["line-height"]=this._coords.getRowHeight(e)-2+"px",0<this._coords.cellMaxHeight&&!this._coords.isRowHeightExplicit(e)&&(this.cell.style["max-height"]=this._coords.cellMaxHeight+"px"),this.cell.attr["data-r"]=e,this.cell.attr["data-c"]=-1,n&&(this.cell.style.top=this._coords.getRowY(e,!1)+"px"),this.cell},o.prototype.getCellByPosition=function(e,n){var i=this._coords.getColIndexAtPosition(e)-1,r=this._coords.getRowIndexAtPosition(n)-1,o=null;return null!=this._getDataFunc&&(o=this._getDataFunc(r,i)),null==o&&((o=new t.vo.GridCell).rowIdx=r,o.colIdx=i),o},o.prototype.getCellByElement=function(e){for(;!e.hasClass(t.vo.GridStyleName.CELL);)if(null==(e=e.parent))return null;var n=parseInt(e.attr("data-c"));e=parseInt(e.attr("data-r"));var i=null;return null!=this._getDataFunc&&(i=this._getDataFunc(e,n)),null==i&&((i=new t.vo.GridCell).rowIdx=e,i.colIdx=n),i},o.prototype.onMouseEvent=function(e){var n,r=i.UIElement.convert(e.target),o=this.getCellByElement(r)||this.getCellByPosition(e.offsetX,e.offsetY);switch(e.type){case"click":n=new t.GridClickEvent(o,r)}n&&this.dispatch(n)},o.prototype.dispose=function(){r.prototype.dispose.call(this),this._coords=this._getDataFunc=null},o}(i.UIElement),n.AbstractSheet=r}((t=e._view||(e._view={})).grid||(t.grid={}))}(r||(r={})),function(e){!function(e){!function(e){var t,n;n=function(n){function r(e,i){var r=n.call(this,e,i)||this;return r.SWITCH_TO_SMOOTH_DELAY=1e3,r._isSmooth=!1,r.addClass("wdr-sheet-canvas"),r._scrollPane=new l,r.addChild(r._scrollPane),r._bounds=new t.Bounds,r._boundsSmooth=new t.Bounds,r}return a(r,n),r.prototype.draw=function(){},r.prototype.drawSmooth=function(){},Object.defineProperty(r.prototype,"isSmooth",{get:function(){return this._isSmooth},set:function(e){this._isSmooth!=e&&(this._isSmooth=e,this.dispatchWith(this.isSmooth?r.EVENT_SWITCHED_TO_SMOOTH:r.EVENT_SWITCHED_TO_SIMPLE))},enumerable:!0,configurable:!0}),r.prototype.switchToSimple=function(){0!=this.isSmooth&&(this._bounds.reset(),this._boundsSmooth.reset(),this.draw())},r.prototype.clearBounds=function(){this._bounds.reset()},r.prototype.clearBoundsSmooth=function(){this._boundsSmooth.reset()},r.prototype.clearAllBounds=function(){this.clearBounds(),this.clearBoundsSmooth()},r.prototype.calculateSizes=function(e){void 0===e&&(e=!1);for(var t=!1,n=this._scrollPane.content.element.children,i=0;i<n.length;i++)for(var r=n.item(i),o=(t=this.updateRowHeight(r,e)||t,r=r.children,0);o<r.length;o++){var s=r.item(o);t=this.updateColWidth(s,e)||t}this._isDirty=t},r.prototype.calculateSizesSmooth=function(e){void 0===e&&(e=!1);for(var t=!1,n=this.scrollPane.placeholder.element.children,i=0;i<n.length;i++){var r=n.item(i);t=this.updateColWidth(r,e)||t,t=this.updateRowHeight(r,e)||t}this._isDirty=t},r.prototype.setContentSize=function(){this._scrollPane.content.width=this._width-this._coords.scrollBarWidth,this._scrollPane.content.height=this._height-this._coords.scrollBarHeight},Object.defineProperty(r.prototype,"scrollPane",{get:function(){return this._scrollPane},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"width",{get:function(){return this._width},set:function(e){this._width!=e&&(this.element.style.minWidth=e+"px",this._width=e,this._scrollPane.width=e)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this._height},set:function(e){this._height!=e&&(this.element.style.height=e+"px",this._height=e,this._scrollPane.height=e)},enumerable:!0,configurable:!0}),r.prototype.onMouseEvent=function(t){var n,r=null,o=null;if(t.target==this.scrollPane.placeholder.element?r=this.getCellByPosition(t.offsetX,t.offsetY):(o=i.UIElement.convert(t.target),r=this.getCellByElement(o)||this.getCellByPosition(t.offsetX,t.offsetY)),null!=r&&null!=o){var s=e.vo.GridCellElementType.BACKGROUND;o.hasClass(e.vo.GridStyleName.HIERARCHY)?s=e.vo.GridCellElementType.DRILL:o.hasClass(e.vo.GridStyleName.EXPANDED_ICON)||o.hasClass(e.vo.GridStyleName.COLLAPSED_ICON)?s=e.vo.GridCellElementType.LEFT_ICON:o.hasClass(e.vo.GridStyleName.SORT_ICON)?s=e.vo.GridCellElementType.RIGHT_ICON:o.hasClass(e.vo.GridStyleName.LINK)&&(s=e.vo.GridCellElementType.LINK),r.activeElementType=s}switch(t.type){case"click":n=new e.GridClickEvent(r,o);break;case"mousedown":n=new e.GridMouseDownEvent(r);break;case"mouseup":n=new e.GridMouseUpEvent(r);break;case"mousemove":n=new e.GridMouseMoveEvent(r)}n&&this.dispatch(n)},r.EVENT_SWITCHED_TO_SMOOTH="switched_to_smooth",r.EVENT_SWITCHED_TO_SIMPLE="switched_to_simple",r}((t=e.sheet||(e.sheet={})).AbstractSheet),t.BaseSheet=n}(e.grid||(e.grid={}))}(e._view||(e._view={}))}(r||(r={})),function(e){!function(e){!function(e){!function(e){var t=function(){function e(e,t,n,i){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),void 0===i&&(i=0),this.left=e,this.top=t,this.right=n,this.bottom=i}return e.prototype.set=function(e){this.left=e.left,this.top=e.top,this.right=e.right,this.bottom=e.bottom},e.prototype.reset=function(){this.bottom=this.right=this.top=this.left=0},e.prototype.contains=function(e){return this.left<=e.left&&this.top<=e.top&&this.right>=e.right&&this.bottom>=e.bottom},e.prototype.clone=function(){return new e(this.left,this.top,this.right,this.bottom)},e}();e.Bounds=t}(e.sheet||(e.sheet={}))}(e.grid||(e.grid={}))}(e._view||(e._view={}))}(r||(r={})),function(e){var t;!function(t){!function(t){var n=function(t){function n(e){void 0===e&&(e=null);var n=t.call(this,"div","wdr-auto-calculation-bar")||this;return n._listOfAggregations=["average","count","sum"],n.aggregationLables={},n._coordinates={right:-1e3,bottom:1e3},n._aggregationsElements=new s.AssociativeArray,n._listOfAggregations=null==e?n._listOfAggregations:e,n.initAggregationLabels(),n.setControls(),n}return a(n,t),n.prototype.initAggregationLabels=function(){this.aggregationLables.average=e.model._labels.Labels.AVERAGE_CAPTION,this.aggregationLables.sum=e.model._labels.Labels.SUM_CAPTION,this.aggregationLables.count=e.model._labels.Labels.COUNT_CAPTION},Object.defineProperty(n.prototype,"aggregationsElements",{get:function(){return this._aggregationsElements},enumerable:!0,configurable:!0}),n.prototype.setControls=function(){this._relativeContainer=new i.UIElement("div"),this._relativeContainer.css("position","relative"),this.addChild(this.relativeContainer),this._absoluteContainer=new i.UIElement("div","wdr-auto-calculation-bar-conainer"),this.absoluteContainer.css("position","absolute"),this._relativeContainer.addChild(this.absoluteContainer);for(var e=null,t=0;t<this.listOfAggregations.length;t++)(e=new r).setAggregationLabel(this.aggregationLables[this.listOfAggregations[t]]),this.absoluteContainer.addChild(e),this.aggregationsElements.addItem(this.listOfAggregations[t],e)},n.prototype.isCoordinationChanged=function(){return-1e3!=this._coordinates.right&&1e3!=this._coordinates.bottom},n.prototype.setValue=function(e,t){this.aggregationsElements.getItem(e).setAggregationResult(t)},n.prototype.hideAggregationElement=function(e){this.aggregationsElements.getItem(e).hide()},Object.defineProperty(n.prototype,"absoluteContainer",{get:function(){return this._absoluteContainer},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"relativeContainer",{get:function(){return this._relativeContainer},enumerable:!0,configurable:!0}),n.prototype.makeAggregationsVissible=function(){for(var e=null,t=0;t<this.aggregationsElements.length;t++)(e=this.aggregationsElements.getItemAt(t)).visible||e.show()},n.prototype.isAllAggregationsHidden=function(){for(var e=0;e<this.aggregationsElements.length;e++)if(this.aggregationsElements.getItemAt(e).visible)return!1;return!0},Object.defineProperty(n.prototype,"coordinates",{get:function(){return this._coordinates},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"listOfAggregations",{get:function(){return this._listOfAggregations},enumerable:!0,configurable:!0}),n.prototype.resetCoordinates=function(){this._coordinates={right:-1e3,bottom:1e3}},n.prototype.clear=function(){for(;0<this.aggregationsElements.length;)this.aggregationsElements.getItemAt(0).dispose(),this.aggregationsElements.removeItemAt(0);this.dispose()},n}(i.UIElement);t.AutoCalculationBar=n;var r=function(e){function t(){var t=e.call(this,"div","wdr-auto-calculation-bar-content")||this;return t.display="inline-block",t.setControls(),t}return a(t,e),t.prototype.setControls=function(){this.aggregationLabel=new i.UIElement("div","wdr-auto-calculation-bar-content-text"),this.addChild(this.aggregationLabel),this.aggregationResult=new i.UIElement("div","wdr-auto-calculation-bar-content-results"),this.addChild(this.aggregationResult)},t.prototype.show=function(){this.element.style.display=this.display},t.prototype.setAggregationLabel=function(e){this.aggregationLabel.text(e+":")},t.prototype.setAggregationResult=function(e){this.aggregationResult.text(e)},t}(i.UIElement);t.AutoCalculationBarContent=r}(t.sheet||(t.sheet={}))}((t=e._view||(e._view={})).grid||(t.grid={}))}(r||(r={})),function(e){var t;!function(t){!function(t){var n=function(){function t(){this._generalMeasure=null}return t.prototype.recalculateAutoCalculationBar=function(t,n){var i=0;this.generalMeasure=this.findGeneralMeasure(n);var r=null==this.generalMeasure?e.model.format.FormatManager.getFormat("").clone():this.generalMeasure.getFormat().clone();r.decimalPlaces=r.decimalPlaces==e.model.format.FormatManager.getDefaultFormat().decimalPlaces?2:r.decimalPlaces;for(var o=0;o<t.listOfAggregations.length;o++)0!=(i=this.calculateSelectedCells(t.listOfAggregations[o],n))?t.setValue(t.listOfAggregations[o],this.getFormatedValue(i,t.listOfAggregations[o],r.clone())):t.hideAggregationElement(t.listOfAggregations[o]);this.generalMeasure=null},t.prototype.getFormatedValue=function(t,n,i){var r="count"==n||null!=this.generalMeasure&&e.data_.consts.AggregationName.isCount(this.generalMeasure.aggregation),o="count"!=n&&null!=this.generalMeasure&&e.data_.consts.AggregationName.isPercent(this.generalMeasure.aggregation),a=null!=this.generalMeasure&&this.generalMeasure.type==e.data_.types.MeasureType.TIME&&e.data_.consts.AggregationName.validForTimeFormatting(this.generalMeasure.aggregation);return i.isPercent="count"!=n&&i.isPercent,i.currencySymbol=null!=this.generalMeasure&&this.generalMeasure.aggregation==e.data_.consts.AggregationName.INDEX?"":i.currencySymbol,a&&!isNaN(t)&&"count"!=n?s.StringUtils.toTime(t):s.NumberFormatter.format(t,i,r,o)},t.prototype.calculateSelectedCells=function(e,t){switch(e){case"sum":return this.calculateSelectedCellsSum(t);case"average":return this.calculateSelectedCellsAverage(t);case"count":return this.calculateSelectedCellsCount(t)}return 0},t.prototype.calculateSelectedCellsSum=function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n].isValue&&!isNaN(e[n].value)&&this.isNumericType(e[n])?e[n].value:0;return t},t.prototype.calculateSelectedCellsAverage=function(e){for(var t=0,n=0,i=0;i<e.length;i++)e[i].isValue&&!isNaN(e[i].value)&&this.isNumericType(e[i])&&(t+=e[i].value,n++);return 0==n?0:t/n},t.prototype.calculateSelectedCellsCount=function(e){for(var t=0,n=0;n<e.length;n++)(e[n].isValue&&!isNaN(e[n].value)||e[n].isDrillThrough&&""!=e[n].label)&&t++;return t},t.prototype.findGeneralMeasure=function(e){for(var t=null,n=0;n<e.length;n++)if(this.isNumericType(e[n])&&null==t&&!s.nullOrUndefined(e[n].measure))t=e[n].measure;else if(this.isNumericType(e[n])&&null!=t&&t.uniqueName!=e[n].measure.uniqueName){t=null;break}return t},t.prototype.isNumericType=function(t){return t.isValue&&null!=t.measure&&(null==t.member||e.data_.types.MeasureType.COUNT!=t.measure.type)&&e.data_.types.MeasureType.DATE!=t.measure.type&&e.data_.types.MeasureType.DATETIME!=t.measure.type||!isNaN(t.value)},Object.defineProperty(t.prototype,"generalMeasure",{get:function(){return this._generalMeasure},set:function(e){this._generalMeasure=e},enumerable:!0,configurable:!0}),t}();t.AutoCalculationManager=n}(t.sheet||(t.sheet={}))}((t=e._view||(e._view={})).grid||(t.grid={}))}(r||(r={})),function(e){!function(e){!function(e){!function(e){var t=function(){function e(e){this.frozenCells=[],this.data=[],this.coords=e}return e.prototype.reset=function(){this.data=[],this.frozenCells=[]},e.prototype.setData=function(e,t,n,i){void 0===i&&(i=!1),n.rowIdx=e,n.colIdx=t,(t<this.coords.frozenColsCount||i)&&(null==this.data[e]&&(this.data[e]=[]),this.data[e][t]=n)},e.prototype.setDataFrozen=function(e,t,n){null==this.frozenCells[e]&&(this.frozenCells[e]=[]),this.frozenCells[e][t]=n},e.prototype.positionFrozenCells=function(e){if(null!=this.frozenCells[e]){for(var t=[],n=!1,i=0;i<this.frozenCells[e].length;i++){if(null!=this.frozenCells[e][i]||!n){var r=this.frozenCells[e][i];null!=r&&(r.colIdx=t.length),t.push(r)}null!=this.frozenCells[e][i]&&(n=!0)}this.frozenCells[e]=t}},e.prototype.cellExists=function(e,t){return void 0===this.data[e]&&(this.data[e]=[]),void 0!==this.data[e][t]},e.prototype.getData=function(e,t,n){if(void 0===n&&(n=!0),0==this.cellExists(e,t)){var i=this.getDataFunction(e,t);if(null!=i&&(i.rowIdx=e,i.colIdx=t),!n)return i;this.data[e][t]=i}return null===this.data[e][t]?void 0:this.data[e][t]},e.prototype.clearDataRow=function(e){if(e<this.coords.frozenRowsCount)for(var t=this.data[e]?this.data[e].length:0,n=1;n<t;n++)this.data[e]&&(this.data[e][n]=null);else this.data[e]&&(this.data[e]=null)},e.prototype.clearDataColumn=function(e){for(var t=this.data.length,n=0;n<t;n++)0==e&&n<this.coords.frozenRowsCount||this.data[n]&&(this.data[n][e]=null)},e.prototype.getDataFrozen=function(e,t){return this.frozenCells[e]&&this.frozenCells[e][t]?this.frozenCells[e][t]:null},e.prototype.clearCell=function(e,t){null!=this.data[e]&&(this.data[e][t]=this.getData(e,t))},e.prototype.dispose=function(){this.reset(),this.getDataFunction=null},e}();e.SheetDataProvider=t}(e.sheet||(e.sheet={}))}(e.grid||(e.grid={}))}(e._view||(e._view={}))}(r||(r={})),function(e){var t;!function(t){!function(t){var n=function(){function n(e){var n=this;this._to=this._from=null,this._isFocused=!1,this.listOfSelectedCells=new s.AssociativeArray,this._rowsSelectedSet={},this._columnsSelectedSet={},this.focusHandler=function(){n._isFocused=!0},this.blurHandler=function(){n._isFocused=!1},this.keydownHandler=function(e){return n.onKeyDown(e)},this.gridLayout=e,this.gridLayout.element.setAttribute("tabindex","0"),this.gridLayout.element.addEventListener("focus",this.focusHandler),this.gridLayout.element.addEventListener("focusin",this.focusHandler),this.gridLayout.element.addEventListener("blur",this.blurHandler),this.gridLayout.element.addEventListener("focusout",this.blurHandler),this.coords=this.gridLayout.coords,this.selectionCanvas=new t.SelectionCanvas(this,this.gridLayout),this.selectedCellsCalculator=new t.AutoCalculationManager,this.keyboardListener=s.KeyboardListener.getInstance(),this.keyboardListener.addEventListener(s.KeyboardEvent.KEY_DOWN,this.keydownHandler)}return n.prototype.dispose=function(){this.gridLayout.element&&this.gridLayout.element.removeEventListener("focus",this.focusHandler),this.gridLayout.element&&this.gridLayout.element.removeEventListener("blur",this.blurHandler),null!=this.listOfSelectedCells&&0<this.listOfSelectedCells.length&&this.clearMultySelect(),this.keyboardListener.removeEventListener(s.KeyboardEvent.KEY_DOWN,this.keydownHandler),this.keyboardListener=this.gridLayout=null,this.selectionCanvas.dispose()},n.prototype.draw=function(){this.selectionCanvas.redraw()},n.prototype.preDraw=function(e,t){this.runSelect(e,t),this.draw()},n.prototype.preDrawHeader=function(e,n){this.selectionCanvas.isCtrlPressed||(null==this.selectionCanvas.selectedHeader&&(this.selectionCanvas.selectedHeader=new t.SelectionCanvasElement(this.gridLayout)),this.selectionCanvas.selectedHeader.cellKey=e.toString()+"|"+n.toString(),this.draw())},n.prototype.select=function(e,t){this.deselect(),this._from=e,this._to=t,this.preDraw(e,t)},n.prototype.runSelect=function(e,n){if(null!=this.selectionCanvas.selectedHeader&&(this.selectionCanvas.selectedHeader.remove(),this.selectionCanvas.selectedHeader=null),!this.selectionCanvas.isCtrlPressed||this.isCoordinatesValid(e,n))if(this.listOfSelectedCells.keyExists(this.composeCellKey(e,n)))null!=(i=this.listOfSelectedCells.getItem(this.composeCellKey(e,n))).rowOverlay&&delete this._rowsSelectedSet[e.y.toString()],null!=i.colOverlay&&delete this._columnsSelectedSet[e.x.toString()],i.remove(),this.listOfSelectedCells.removeItem(this.composeCellKey(e,n));else if(null!=e&&null!=n){var i=new t.SelectionCanvasElement(this.gridLayout);i.cellKey=this.composeCellKey(e,n),this.listOfSelectedCells.addItem(i.cellKey,i)}},n.prototype.clearMultySelect=function(){for(;0<this.listOfSelectedCells.length;)this.listOfSelectedCells.getItemAt(0).remove(),this.listOfSelectedCells.removeItemAt(0);this._rowsSelectedSet={},this._columnsSelectedSet={}},n.prototype.composeCellKey=function(e,t){return e.x.toString()+"|"+e.y.toString()+"|"+t.x.toString()+"|"+t.y.toString()},n.prototype.decomposeCellKey=function(t){var n={};return 4==(t=t.split("|")).length?(n.from=new e._view.grid.sheet.Point(parseInt(t[0]),parseInt(t[1])),n.to=new e._view.grid.sheet.Point(parseInt(t[2]),parseInt(t[3]))):2==t.length&&(n.row=parseInt(t[0]),n.column=parseInt(t[1])),n},n.prototype.isArea=function(e){return!(e=this.decomposeCellKey(e.cellKey)).from.equals(e.to)},n.prototype.isPointInArea=function(e){return this._rowsSelectedSet.hasOwnProperty(e.y.toString())&&this._columnsSelectedSet.hasOwnProperty(e.x.toString())&&this._rowsSelectedSet[e.y.toString()]==t.CellType.AREA&&this._columnsSelectedSet[e.x.toString()]==t.CellType.AREA},n.prototype.isCoordinatesValid=function(e,t){return!(null==e||null==t||!e.equals(t)||this.isPointInArea(e)||this.isPointInArea(t)||0>e.x*e.y||0>t.x*t.y)},n.prototype.selectAll=function(){this.select(new i(0,0),new i(this.coords.getBoundRight(),this.coords.getBoundBottom()))},n.prototype.selectTo=function(e){if(null!=this._from&&!this._from.equals(e)){var t=this._from;this.deselect(),this._from=t,this._to=e,this.preDraw(t,e)}},n.prototype.selectRow=function(e){this.deselect(),this.preDrawHeader(e,-1)},n.prototype.selectColumn=function(e){this.deselect(),this.preDrawHeader(-1,e)},n.prototype.deselect=function(){!this.selectionCanvas.isCtrlPressed&&0<this.listOfSelectedCells.length&&this.clearMultySelect(),null!=this.selectionCanvas.selectedHeader&&(this.selectionCanvas.selectedHeader.remove(),this.selectionCanvas.selectedHeader=null),this._to=this._from=null},n.prototype.clear=function(){this.deselect(),this.draw()},n.prototype.isAutoCalculationBarAvailable=function(){return 1<this.selectedCells.length||null!=this.selectedCells.getItemAt(0)&&this.isArea(this.selectedCells.getItemAt(0))},Object.defineProperty(n.prototype,"selectedCells",{get:function(){return this.listOfSelectedCells},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"to",{get:function(){return this._to},set:function(e){this._to=e},enumerable:!0,configurable:!0}),n.prototype.fromCol=function(e,t){return e&&t?Math.min(e.x,t.x):-1},n.prototype.toCol=function(e,t){return e&&t?Math.max(e.x,t.x):-1},n.prototype.fromRow=function(e,t){return e&&t?Math.min(e.y,t.y):-1},n.prototype.toRow=function(e,t){return e&&t?Math.max(e.y,t.y):-1},n.prototype.move=function(e,t,n){switch(void 0===t&&(t=!1),void 0===n&&(n=!1),e){case 37:this.moveLeft(t,n);break;case 38:this.moveUp(t,n);break;case 39:this.moveRight(t,n);break;case 40:this.moveDown(t,n)}},Object.defineProperty(n.prototype,"rowsSelectedSet",{get:function(){return this._rowsSelectedSet},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"columnsSelectedSet",{get:function(){return this._columnsSelectedSet},enumerable:!0,configurable:!0}),n.prototype.moveLeft=function(e,t){void 0===t&&(t=!1),this.moveHorizontal(-1,t)},n.prototype.moveRight=function(e,t){void 0===t&&(t=!1),this.moveHorizontal(1,t)},n.prototype.moveUp=function(e,t){void 0===t&&(t=!1),this.moveVertical(-1,t)},n.prototype.moveDown=function(e,t){void 0===t&&(t=!1),this.moveVertical(1,t)},n.prototype.moveHorizontal=function(e,t){if(void 0===t&&(t=!1),1==this.listOfSelectedCells.length){var n=(o=this.decomposeCellKey(this.listOfSelectedCells.getItemAt(0).cellKey)).from,r=o.to,o=t?r.x:n.x,s=t?r.x:n.x,a=0;(o=Math.max(0,Math.min(o+e,this.coords.maxColsCount-1)))<this.coords.firstDataColIdx?(a=Math.max(o,this.coords.frozenColsCount),this.gridLayout.scrollToColumn(a)):o>=this.coords.getVisibleColsCount(this.coords.firstDataColIdx)+this.coords.firstDataColIdx-1&&this.gridLayout.scrollToColumn((a=this.coords.firstDataColIdx+(o-s))+1),r=t?r.y:n.y,s=o,this.select(new i(t?n.x:o,n.y),new i(s,r))}},n.prototype.moveVertical=function(e,t){if(void 0===t&&(t=!1),1==this.listOfSelectedCells.length){var n=(o=this.decomposeCellKey(this.listOfSelectedCells.getItemAt(0).cellKey)).from,r=o.to,o=t?r.y:n.y,s=t?r.y:n.y,a=0;(o=Math.max(0,Math.min(o+e,this.coords.maxRowsCount-1)))<this.coords.firstDataRowIdx?(a=Math.max(o,this.coords.frozenRowsCount),this.gridLayout.scrollToRow(a)):o>=this.coords.getVisibleRowsCount(this.coords.firstDataRowIdx)+this.coords.firstDataRowIdx-1&&this.gridLayout.scrollToRow((a=this.coords.firstDataRowIdx+(o-s))+1),s=o,r=t?r.x:n.x,this.select(new i(n.x,t?n.y:o),new i(r,s))}},Object.defineProperty(n.prototype,"autoCalculationManager",{get:function(){return this.selectedCellsCalculator},enumerable:!0,configurable:!0}),n.prototype.onKeyDown=function(e){if(null!=this.keyboardListener&&(this._isFocused||this.keyboardListener.isFocused)){var t=e.ctrlKey||e.metaKey;switch(e.keyCode){case 32:t||this.gridLayout.triggerCellAction(this.gridLayout.selectedCells[0]);break;case 65:t&&this.selectAll();break;case 37:case 38:case 39:case 40:this.move(e.keyCode,e.ctrlKey,e.shiftKey),e.originalEvent.preventDefault()}!t||e.altKey||e.shiftKey||this.keyboardListener.isFocused||this.copy()}},n.prototype.copy=function(){var e="";if(0<this.listOfSelectedCells.length)for(var t=null,n=(t=null,0);n<this.listOfSelectedCells.length;n++)null!=(t=this.listOfSelectedCells.getItemAt(n)).cellElement&&(t=this.decomposeCellKey(t.cellKey),e+=this.copyElement(t.from,t.to),n<this.listOfSelectedCells.length-1&&(e+="\n"));0<e.length&&this.keyboardListener.copy(e)},n.prototype.copyElement=function(e,t){var n="";if(null==e||null==t)return n;var i,r=Math.min(e.x,t.x),o=Math.max(e.x,t.x);i=Math.min(e.y,t.y);for(var s=Math.max(e.y,t.y),a=i;a<=s;a++){for(var l=r;l<=o;l++)l>r&&(n+="\t"),null==(i=this.gridLayout.getCell(a,l,!0,!0))&&null==(i=a<this.coords.firstDataRowIdx&&l>=this.coords.firstDataColIdx?this.gridLayout.getCell(a,l-this.coords.firstDataColIdx+this.coords.frozenColsCount,!0,!0):null)||(n+=null==i?"":i.label);a<s&&(n+="\n")}return n},n}();t.SelectionManager=n;var i=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.x=e,this.y=t}return e.prototype.equals=function(e){return e.x==this.x&&e.y==this.y},e}();t.Point=i}(t.sheet||(t.sheet={}))}((t=e._view||(e._view={})).grid||(t.grid={}))}(r||(r={})),function(e){var t;!function(t){!function(n){var r=function(){function r(e,t){var i=this;this._started=this.isCtrlPressed=!1,this._calculatedArea=this._selectedHeader=null,this.autoCalculationBarMargin=5,this.scrollbarSize=17,this.mouseEventHandler=function(e){return i.onMouseEvent(e)},this.mouseLeaveHandler=function(e){return i.onMouseLeave(e)},this.manager=e,this.gridLayout=t,this.coords=this.gridLayout.coords,this._calculatedArea=new n.AutoCalculationBar,this._calculatedArea.hide(),this.gridLayout.addChild(this._calculatedArea),this.gridLayout.element.addEventListener("mousedown",this.mouseEventHandler),this.gridLayout.element.addEventListener("mouseup",this.mouseEventHandler)}return Object.defineProperty(r.prototype,"started",{get:function(){return this._started},set:function(e){this._started=e,this.started||(this.gridLayout.element.removeEventListener("mousemove",this.mouseEventHandler),document.removeEventListener("mousemove",this.mouseLeaveHandler))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"selectedHeader",{get:function(){return this._selectedHeader},set:function(e){this._selectedHeader=e},enumerable:!0,configurable:!0}),r.prototype.onMouseEvent=function(e){if(1==e.which){var n=i.UIElement.convert(e.target);if("mousedown"!=e.type||!(n.hasClass(t.vo.GridStyleName.FILTER_HEADER)||n.hasClass(t.vo.GridStyleName.FILTER_ICON)||n.hasClass(t.vo.GridStyleName.FILTERED_ICON)||null!=n.closest(".wdr-filters"))){var r=this.gridLayout.getOffset();if(n=e.clientX-r.left,r=e.clientY-r.top,!(n>this.coords.availableWidth||r>this.coords.gridStartY+this.coords.availableHeight||(r=this.coords.getRowIdxByRelativePosition(r,this.gridLayout.isSmooth),n=this.coords.getColIdxByRelativePosition(n,this.gridLayout.isSmooth),isNaN(r)||isNaN(n))))switch(this.isCtrlPressed=s.OSUtil.isWin&&e.ctrlKey||s.OSUtil.isMac&&e.metaKey,e.type){case"mousedown":this.onMouseDown(r,n);break;case"mousemove":this.onMouseMove(r,n);break;case"mouseup":this.onMouseUp(r,n)}}}},r.prototype.onMouseLeave=function(e){var t=i.UIElement.convert(this.gridLayout.element),n=e.clientX;e=e.clientY,(n<t.left||e<t.top||n>t.left+this.gridLayout.width||e>t.top+this.gridLayout.height)&&this.stopSelection()},r.prototype.select=function(e,t,i,r){this.started=!1,this.manager.select(new n.Point(t,e),new n.Point(r,i))},r.prototype.stopSelection=function(){this.started=!1},r.prototype.onMouseDown=function(e,t){this.started=!0,this.manager.select(new n.Point(t,e),new n.Point(t,e)),this.gridLayout.element.addEventListener("mousemove",this.mouseEventHandler),s.fmdocument.addEventListener("mousemove",this.mouseLeaveHandler)},r.prototype.onMouseUp=function(e,t){this.started&&(this.started=!1,-1==e?this.manager.selectColumn(t):-1==t?this.manager.selectRow(e):this.manager.selectTo(new n.Point(t,e)))},r.prototype.onMouseMove=function(e,t){this.started&&(!this.manager.to||this.manager.to.x==t&&this.manager.to.y==e||this.manager.selectTo(new n.Point(t,e)))},r.prototype.dispose=function(){this.gridLayout.element&&this.gridLayout.element.removeEventListener("mousedown",this.mouseEventHandler),this.gridLayout.element&&this.gridLayout.element.removeEventListener("mouseup",this.mouseEventHandler),this._calculatedArea.dispose(),this.coords=this.gridLayout=this.manager=null,null!=this.selectedHeader&&(this.selectedHeader.remove(),this.selectedHeader=null)},r.prototype.redraw=function(){var e=null,t=null;this._calculatedArea.resetCoordinates();for(var n=0;n<this.manager.selectedCells.length;n++)e=this.manager.selectedCells.getItemAt(n),t=this.manager.decomposeCellKey(this.manager.selectedCells.getKeyAt(n)),this._redraw(e,t.from,t.to);this._redrawAutoCalculationBar(this._calculatedArea),this.drawHeader(this.selectedHeader)},r.prototype.drawHeader=function(e){if(null!=e){e.hide();var t=this.manager.decomposeCellKey(e.cellKey);-1!=t.row&&this.drawSelectedRow(t.row,e),-1!=t.column&&this.drawSelectedColumn(t.column,e)}},r.prototype._redrawAutoCalculationBar=function(t){if(t.hide(),this.manager.isAutoCalculationBarAvailable()&&e.model._options.OptionsManager.showAutoCalculationBar&&t.isCoordinationChanged()&&null!=e.data_.Cube.getInstance()&&null!=e.data_.Cube.getInstance().structure_&&(t.makeAggregationsVissible(),this.updateAutoCalculationBar(t),!t.isAllAggregationsHidden())){t.show(),t.top=t.coordinates.bottom;for(var n=this.coords.getRelativeColX(this.coords.frozenColsCount,this.gridLayout.isSmooth),i=0,r=0;r<t.aggregationsElements.length;r++)i+=t.aggregationsElements.getItemAt(r).width;t.absoluteContainer.width=i=i+2*this.autoCalculationBarMargin+2*(t.aggregationsElements.length-1)*this.autoCalculationBarMargin,n-t.coordinates.right+i>this.coords.scrollLeft?t.coordinates.right=t.coordinates.left+i:n>t.coordinates.right-i?(t.absoluteContainer.css("left","auto"),t.absoluteContainer.right=0,i=t.coordinates.right-n):t.coordinates.rightRaw>=this.coords.availableWidth&&(t.absoluteContainer.css("left","right"),t.absoluteContainer.left=0,i=0>(i=i-(t.coordinates.rightRaw-this.coords.availableWidth)-1)?0:i),this.coords.gridStartY+this.coords.availableHeight<=t.coordinates.bottom+t.height&&(t.top=t.coordinates.bottom-this.scrollbarSize),t.left=t.coordinates.right-i,t.relativeContainer.width=i,t.width=i}},r.prototype.updateAutoCalculationBar=function(e){this.manager.isAutoCalculationBarAvailable()&&this.manager.autoCalculationManager.recalculateAutoCalculationBar(e,this.gridLayout.selectedCells)},r.prototype._redraw=function(t,n,i){t.hide();var r=Math.min(n.x,i.x),o=Math.min(n.y,i.y),s=Math.max(n.x,i.x);n=Math.max(n.y,i.y),e.model._options.OptionsManager.showHeaders&&this.drawHeaderSelection(r,s,o,n,t),i=this.coords.availableWidth;var a=this.coords.gridStartY+this.coords.availableHeight,l=Math.max(this.coords.gridStartY,this.coords.getRelativeRowY(o,this.gridLayout.isSmooth)-1),c=this.coords.getRelativeRowY(n+1,this.gridLayout.isSmooth),u=Math.min(a,c),d=Math.max(0,this.coords.getRelativeColX(r,this.gridLayout.isSmooth)-1),h=this.coords.getRelativeColX(s+1,this.gridLayout.isSmooth),p=Math.min(i,h),f=u-l,A=p-d;2>=A||2>=f?null!=t.cellElement&&t.cellElement.hide():d<i&&l<a?(null!=t.cellElement&&(t.cellElement.show(),t.cellElement.top=l,t.cellElement.left=d,t.cellElement.width=A,t.cellElement.height=f,this._calculatedArea.coordinates.bottom*this._calculatedArea.coordinates.right<=p*u&&(this._calculatedArea.coordinates.left=d,this._calculatedArea.coordinates.right=p,this._calculatedArea.coordinates.bottom=u,this._calculatedArea.coordinates.rightRaw=h)),o<this.coords.frozenRowsCount&&h>p&&(t.createColFix(),t.colFix.top=l,t.colFix.left=p,t.colFix.width=Math.min(h,this.coords.layoutWidth)-p,t.colFix.height=Math.min(u,this.coords.gridStartY+this.coords.colHeadersHeight)-l,t.colFix.toggleClass("wdr-clear-border-bottom",n>this.coords.frozenRowsCount),t.colFix.toggleClass("wdr-clear-border-right",h>this.coords.layoutWidth),t.colFix.removeClass("wdr-clear-border"),t.colFix.show()),r<this.coords.frozenColsCount&&c>u&&(t.createRowFix(),t.rowFix.top=u,t.rowFix.left=d,t.rowFix.width=Math.min(p,this.coords.rowHeadersWidth)-d,t.rowFix.height=Math.min(c,this.coords.layoutHeight)-u,t.rowFix.toggleClass("wdr-clear-border-bottom",c>this.coords.layoutHeight),t.rowFix.toggleClass("wdr-clear-border-right",s>this.coords.frozenColsCount),t.rowFix.removeClass("wdr-clear-border"),t.rowFix.show()),null!=t.cellElement&&(t.cellElement.toggleClass("wdr-clear-border-right",h>p),t.cellElement.toggleClass("wdr-clear-border-bottom",c>u))):null!=t.cellElement&&t.cellElement.hide()},r.prototype.drawSelectedRow=function(e,t){if(!isNaN(e)){null==t.rowOverlay&&t.createRowOverlay();var n=this.coords.getRelativeRowY(e,this.gridLayout.isSmooth),i=this.coords.getRelativeRowY(e+1,this.gridLayout.isSmooth),r=Math.min(this.coords.gridStartY+this.coords.availableHeight,i);n<this.coords.gridStartY+this.coords.availableHeight?(t.rowOverlay.left=0,t.rowOverlay.top=n,t.rowOverlay.width=this.coords.availableWidth,t.rowOverlay.height=r-n,t.rowOverlay.show(),i>r&&(t.createRowFix(),t.rowFix.top=r,t.rowFix.left=0,t.rowFix.width=this.coords.rowHeadersWidth,t.rowFix.height=Math.min(i,this.coords.layoutHeight)-r,t.rowFix.addClass("wdr-clear-border"),t.rowFix.show())):t.rowOverlay.hide()}},r.prototype.drawSelectedColumn=function(e,t){if(!isNaN(e)){null==t.colOverlay&&t.createColOverlay();var n=this.coords.getRelativeColX(e,this.gridLayout.isSmooth),i=this.coords.getRelativeColX(e+1,this.gridLayout.isSmooth),r=Math.min(this.coords.availableWidth,i);n<this.coords.availableWidth?(t.colOverlay.left=n,t.colOverlay.top=this.coords.gridStartY,t.colOverlay.width=r-n,t.colOverlay.height=this.coords.availableHeight,t.colOverlay.show(),i>r&&(t.createColFix(),t.colFix.top=this.coords.gridStartY,t.colFix.left=r,t.colFix.width=Math.min(i,this.coords.layoutWidth)-r,t.colFix.height=this.coords.colHeadersHeight,t.colFix.addClass("wdr-clear-border"),t.colFix.show())):t.colOverlay.hide()}},r.prototype.drawHeaderSelection=function(e,t,n,i,r){this.processHeaders(e,t,n,i,r),this.drawHeaderColumn(r.colOverlay,e,t),this.drawHeaderRow(r.rowOverlay,n,i)},r.prototype.processHeaders=function(e,t,n,i,r){if(!this.manager.rowsSelectedSet.hasOwnProperty(n.toString())){r.createRowOverlay();for(var s=n;s<=i;s++)this.manager.rowsSelectedSet[s.toString()]=n==i&&e==t?o.ONE_CELL:o.AREA}if(!this.manager.columnsSelectedSet.hasOwnProperty(e.toString()))for(r.createColOverlay(),s=e;s<=t;s++)this.manager.columnsSelectedSet[s.toString()]=n==i&&e==t?o.ONE_CELL:o.AREA},r.prototype.drawHeaderColumn=function(e,t,n){null!=e&&(t=this.coords.getRelativeColX(t,this.gridLayout.isSmooth),n=Math.min(this.coords.layoutWidth,this.coords.getRelativeColX(n+1,this.gridLayout.isSmooth)),t<this.coords.layoutWidth?(e.left=t,e.top=this.coords.gridStartY,e.width=n-t,e.height=this.coords.getSheetHeaderHeight(),e.show()):e.hide())},r.prototype.drawHeaderRow=function(e,t,n){null!=e&&(t=this.coords.getRelativeRowY(t,this.gridLayout.isSmooth),n=Math.min(this.coords.layoutHeight,this.coords.getRelativeRowY(n+1,this.gridLayout.isSmooth)),e.left=0,e.top=t,e.width=this.coords.getSheetHeaderWidth(),e.height=n-t,e.show())},r}();n.SelectionCanvas=r;var o=function(){function e(){}return e.ONE_CELL=1,e.AREA=2,e}();n.CellType=o,r=function(){function e(e){this.gridLayout=this._rowFix=this._colFix=this._rowOverlay=this._colOverlay=this._cellElement=null,this.gridLayout=e,this._cellElement=this.createUIElement()}return e.prototype.createUIElement=function(){var e=new i.UIElement("div","wdr-sheet-selection-canvas");return e.hide(),this.gridLayout.addChild(e),e},e.prototype.createCellElement=function(){null==this._cellElement&&(this._cellElement=this.createUIElement())},e.prototype.createColOverlay=function(){null==this._colOverlay&&(this._colOverlay=this.createUIElement(),this._colOverlay.addClass("wdr-sheet-selection-header"))},e.prototype.createRowOverlay=function(){null==this._rowOverlay&&(this._rowOverlay=this.createUIElement(),this._rowOverlay.addClass("wdr-sheet-selection-header"))},e.prototype.createRowFix=function(){null==this._rowFix&&(this._rowFix=this.createUIElement(),this._rowFix.addClass("wdr-clear-border-top"))},e.prototype.createColFix=function(){null==this._colFix&&(this._colFix=this.createUIElement(),this._colFix.addClass("wdr-clear-border-left"))},Object.defineProperty(e.prototype,"cellKey",{get:function(){return this._cellKey},set:function(e){this._cellKey=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rowFix",{get:function(){return this._rowFix},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"colFix",{get:function(){return this._colFix},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rowOverlay",{get:function(){return this._rowOverlay},set:function(e){this._rowOverlay=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"colOverlay",{get:function(){return this._colOverlay},set:function(e){this._colOverlay=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cellElement",{get:function(){return this._cellElement},set:function(e){this._cellElement=e},enumerable:!0,configurable:!0}),e.prototype.hide=function(){this.colOverlay&&this.colOverlay.hide(),this.rowOverlay&&this.rowOverlay.hide(),this.colFix&&this.colFix.hide(),this.rowFix&&this.rowFix.hide(),this.cellElement&&this.cellElement.hide()},e.prototype.remove=function(){null!=this.cellElement&&(this.cellElement.remove(),this._cellElement=null),null!=this.colOverlay&&(this.colOverlay.remove(),this._colOverlay=null),null!=this.rowOverlay&&(this.rowOverlay.remove(),this._rowOverlay=null),null!=this.colFix&&(this.colFix.remove(),this._colFix=null),null!=this.rowFix&&(this.rowFix.remove(),this._rowFix=null),this.gridLayout=null},e}(),n.SelectionCanvasElement=r}(t.sheet||(t.sheet={}))}((t=e._view||(e._view={})).grid||(t.grid={}))}(r||(r={}));var l=function(e){function t(){var t=e.call(this,"div","wdr-scroll-pane")||this;return t._placeholder=new i.UIElement("div","wdr-scroll-placeholder"),t._content=new i.UIElement("div","wdr-scroll-content"),t.addChild(t._content),t.addChild(t._placeholder),t}return a(t,e),Object.defineProperty(t.prototype,"contentWidth",{get:function(){return this._placeholder.width},set:function(e){this._placeholder.width=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contentHeight",{get:function(){return this._placeholder.height},set:function(e){this._placeholder.height=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollLeft",{get:function(){return this.element.scrollLeft},set:function(e){this.element.scrollLeft=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollTop",{get:function(){return this.element.scrollTop},set:function(e){this.element.scrollTop=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"content",{get:function(){return this._content},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"placeholder",{get:function(){return this._placeholder},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"horizontalScroll",{set:function(e){this.element.style.overflowX=e?"scroll":"hidden"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"verticalScroll",{set:function(e){this.element.style.overflowY=e?"scroll":"hidden"},enumerable:!0,configurable:!0}),t}(i.UIElement);!function(e){var t;!function(t){!function(t){var n=function(t){function n(e){var n=t.call(this,e,null)||this;return n._coords=e,n}return a(n,t),n.prototype.draw=function(){var t=[],n=new d;if(e.model._options.OptionsManager.showHeaders){n.tag="div",n.addClass("wdr-row"),n.text+=this.createSheetHeaderCell().toHtml();for(var i=0;i<this._coords.frozenColsCount;i++)n.text+=this.createColumnSheetHeaderCell(i).toHtml();for(t.push(n.toHtml()),i=0;i<this._coords.frozenRowsCount;i++)n.text=this.createRowSheetHeaderCell(i).toHtml(),t.push(n.toHtml())}t=t.join(""),this.element.innerHTML!=t&&this.html(t)},n.prototype.clear=function(){},n}(t.AbstractSheet);t.SheetHeaders=n}(t.sheet||(t.sheet={}))}((t=e._view||(e._view={})).grid||(t.grid={}))}(r||(r={}));var c,u=function(){function e(e){void 0===e&&(e="div"),this.text=this.tag="",this.style={},this.attr={},this.classes=[],this.tag=e}return e.prototype.addClass=function(e){0>this.classes.indexOf(e)&&this.classes.push(e)},e.prototype.toHtml=function(){var e,t="<"+this.tag,n=[];for(e in this.style)n.push(e+":"+this.style[e]);for(var i in 0<n.length&&(t+=' style="'+n.join(";")+';"'),0<this.classes.length&&(t+=' class="'+this.classes.join(" ")+'"'),this.attr)t+=" "+i+'="'+this.attr[i]+'"';return t+">"+(this.text||"")+"</"+this.tag+">"},e}(),d=function(){function e(e){void 0===e&&(e="div"),this._node=new u,this.clear(),this.tag=e}return Object.defineProperty(e.prototype,"node",{get:function(){return this._node},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tag",{get:function(){return this.node.tag},set:function(e){this.node.tag=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this.node.text},set:function(e){this.node.text=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"style",{get:function(){return this.node.style},set:function(e){this.node.style=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"attr",{get:function(){return this.node.attr},set:function(e){this.node.attr=e},enumerable:!0,configurable:!0}),e.prototype.addClass=function(e){this.node.addClass(e)},e.prototype.clear=function(){this.tag="div",this.text="",this.style={},this.attr={},this.node.classes=[]},e.prototype.toHtml=function(e){void 0===e&&(e=!0);var t=this.node.toHtml();return e&&this.clear(),null!=r._view.grid.vo.GridCell.customizeCellFunction&&(t=r.model.XSSCheck.valid(t)?t:r.model.XSSCheck.validate(t)),t},e}();return function(e){!function(e){!function(e){!function(e){var t=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return a(n,t),n.prototype.draw=function(){this.setContentSize();var e=this.getBounds();if(this.isSmooth||this._coords.isOnRowEdge(e.bottom)||this._coords.isOnColEdge(e.right)||!this._bounds.contains(e)){var t=e.clone();if(0!=this._coords.maxColsCount&&(t.right=Math.min(t.right,this._coords.maxColsCount)),0!=this._coords.maxRowsCount&&(t.bottom=Math.min(t.bottom,this._coords.maxRowsCount)),!this.isSmooth||!this._boundsSmooth.contains(t)||!this._coords.canDrawAll&&(e.left>this._coords.frozenColsCount&&e.left<=this._boundsSmooth.left||e.top>this._coords.frozenRowsCount&&e.top<=this._boundsSmooth.top)){this._coords.isOnColEdge(e.right)&&(e.left=Math.max(e.left-1,this._coords.frozenColsCount)),this._coords.isOnRowEdge(e.bottom)&&(e.top=Math.max(e.top-1,this._coords.frozenRowsCount)),t=[];for(var n=new d,i=e.top;i<e.bottom;i++){n.tag="div",n.addClass("wdr-row"),n.attr["data-r"]=i;for(var r=e.left;r<e.right;++r)n.text+=this.createCell(i,r).toHtml();t.push(n.toHtml())}this.scrollPane.placeholder.html(""),this.scrollPane.placeholder.visible=this._coords.hasHorizontalScroll||this._coords.hasVerticalScroll,this.scrollPane.content.html(t.join("")),this.scrollPane.content.show(),t.length=0,this.isSmooth=!1,this._bounds.set(e)}}},n.prototype.adjustScrollPaneOffset=function(){this.scrollPane.content.left=this._coords.getColEdgeOffset(this._bounds.left),this.scrollPane.content.top=this._coords.getRowEdgeOffset(this._bounds.top)},n.prototype.drawSmooth=function(){var e=this.getBounds(!0);if(!(this.isSmooth&&this._coords.canDrawAll&&this._boundsSmooth.contains(e))){this._boundsSmooth=e,e=[];for(var t=this._boundsSmooth.top;t<this._boundsSmooth.bottom;t++){this._coords.getRowHeight(t);for(var n=this._boundsSmooth.left;n<this._boundsSmooth.right;++n)e.push(this.createCell(t,n,!0).toHtml())}this.scrollPane.placeholder.html(e.join("")),this.scrollPane.placeholder.show(),this.scrollPane.content.hide(),this.scrollPane.content.html(""),e=this.getBounds(),this.isSmooth||this._coords.isOnRowEdge(e.bottom)||(this.scrollPane.scrollTop=this._coords.getRowY(this._coords.firstDataRowIdx,!1)),this.isSmooth||this._coords.isOnColEdge(e.right)||(this.scrollPane.scrollLeft=this._coords.getColX(this._coords.firstDataColIdx,!1)),this.isSmooth=!0}},n.prototype.getBounds=function(t){void 0===t&&(t=!1);var n=new e.Bounds;return n.top=this._coords.getBoundTop(t),n.left=this._coords.getBoundLeft(t),n.bottom=this._coords.getBoundBottom(t),n.right=this._coords.getBoundRight(t),n},n.prototype.setContentSize=function(){this.scrollPane.contentWidth=Math.max(this._coords.dataContentWidth,this._coords.dataWidth-this._coords.scrollBarWidth),this.scrollPane.contentHeight=Math.max(this._coords.dataContentHeight,this._coords.dataHeight-this._coords.scrollBarHeight),this.scrollPane.content.right=this._coords.scrollBarWidth,this.scrollPane.content.bottom=this._coords.scrollBarHeight,this.scrollPane.horizontalScroll=this._coords.hasHorizontalScroll,this.scrollPane.verticalScroll=this._coords.hasVerticalScroll},n}(e.BaseSheet);e.DataSheet=t}(e.sheet||(e.sheet={}))}(e.grid||(e.grid={}))}(e._view||(e._view={}))}(r||(r={})),function(e){var t;!function(t){var n,i;i=function(i){function r(){return null!==i&&i.apply(this,arguments)||this}return a(r,i),r.prototype.draw=function(){this.setContentSize();var t=this.getBounds();if(this.isSmooth||this._coords.isOnRowEdge(t.bottom)||!this._bounds.contains(t)){var n=t.clone();if(0!=this._coords.maxRowsCount&&(n.bottom=Math.min(n.bottom,this._coords.maxRowsCount)),!this.isSmooth||!this._boundsSmooth.contains(n)){this._coords.isOnRowEdge(t.bottom)&&(t.top=Math.max(t.top-1,this._coords.frozenRowsCount)),n=[];for(var i=new d,r=t.top;r<t.bottom;r++){i.tag="div",i.addClass("wdr-row"),i.attr["data-r"]=r,e.model._options.OptionsManager.showHeaders&&(i.text+=this.createRowSheetHeaderCell(r).toHtml());for(var o=t.left;o<t.right;++o)i.text+=this.createCell(r,o).toHtml();n.push(i.toHtml())}this.scrollPane.placeholder.html(""),this.scrollPane.placeholder.hide(),this.scrollPane.content.html(n.join("")),this.scrollPane.content.show(),n.length=0,this._isSmooth=!1,this._bounds.set(t)}}},r.prototype.createRowSheetHeaderCell=function(e,t){return void 0===t&&(t=!1),this.cell=i.prototype.createRowSheetHeaderCell.call(this,e,t),t||(this.cell.style["min-height"]=this.cell.style.height,delete this.cell.style.height,delete this.cell.style["line-height"]),this.cell},r.prototype.adjustScrollPaneOffset=function(){this.scrollPane.content.top=this._coords.getRowEdgeOffset(this._bounds.top)},r.prototype.getBounds=function(e){void 0===e&&(e=!1);var t=new n.Bounds;return t.top=this._coords.getBoundTop(e),t.left=0,t.bottom=this._coords.getBoundBottom(e),t.right=this._coords.frozenColsCount,e&&t.bottom==this._coords.maxRowsCount&&t.bottom++,t},r.prototype.drawSmooth=function(){var t=this.getBounds(!0);if(!(this.isSmooth&&this._coords.canDrawAll&&this._boundsSmooth.contains(t))){this._boundsSmooth=t,t=[];for(var n=this._boundsSmooth.top;n<this._boundsSmooth.bottom;n++){e.model._options.OptionsManager.showHeaders&&t.push(this.createRowSheetHeaderCell(n,!0).toHtml());for(var i=this._boundsSmooth.left;i<this._boundsSmooth.right;++i)t.push(this.createCell(n,i,!0).toHtml())}this.scrollPane.placeholder.html(t.join("")),this.scrollPane.content.hide(),this.scrollPane.content.html(""),this.scrollPane.placeholder.show(),this.isSmooth||this._coords.isOnRowEdge(this._bounds.bottom)?this._scrollPane.scrollTop=this._coords.scrollTop:this.scrollPane.scrollTop=this._coords.getRowY(this._coords.firstDataRowIdx,!1),this.isSmooth=!0}},r.prototype.setContentSize=function(){this.scrollPane.contentHeight=this._coords.dataContentHeight+this._coords.scrollBarHeight,this.scrollPane.content.bottom=0,this.scrollPane.scrollTop=this._coords.scrollTop},r.prototype.getCellByPosition=function(e,n){var i=this._coords.getColIndexAtPosition(e,!0)-1,r=this._coords.getRowIndexAtPosition(n)-1,o=this._getDataFunc(r,i);return null==o&&((o=new t.vo.GridCell).rowIdx=r,o.colIdx=i),o},r}((n=t.sheet||(t.sheet={})).BaseSheet),n.RowHeadersSheet=i}((t=e._view||(e._view={})).grid||(t.grid={}))}(r||(r={})),function(e){var t;!function(t){var n,i;i=function(i){function r(){return null!==i&&i.apply(this,arguments)||this}return a(r,i),r.prototype.draw=function(){s.fmClearTimeout(this._bgTimeout),this.setContentSize();var t=this.getBounds();if(this.isSmooth||this._coords.isOnColEdge(t.right)||!this._bounds.contains(t)){var n=t.clone();if(0!=this._coords.maxColsCount&&(n.right=Math.min(n.right,this._coords.maxColsCount)),!this.isSmooth||!this._boundsSmooth.contains(n)){this._coords.isOnColEdge(t.right)&&(t.left=Math.max(t.left-1,this._coords.frozenColsCount)),n=[],e.model._options.OptionsManager.showHeaders&&n.push(this.createSheetHeaders(t));for(var i=new d,r=t.top;r<t.bottom;r++){i.tag="div",i.addClass("wdr-row"),i.attr["data-r"]=r;for(var o=t.left;o<t.right;++o)i.text+=this.createCell(r,o).toHtml();n.push(i.toHtml())}this.scrollPane.placeholder.html(""),this.scrollPane.placeholder.hide(),this.scrollPane.content.html(n.join("")),this.scrollPane.content.show(),n.length=0,this.isSmooth=!1,this._bounds.set(t)}}},r.prototype.adjustScrollPaneOffset=function(){this.scrollPane.content.left=this._coords.getColEdgeOffset(this._bounds.left)},r.prototype.getBounds=function(e){void 0===e&&(e=!1);var t=new n.Bounds;return t.top=0,t.left=this._coords.getBoundLeft(e),t.bottom=this._coords.frozenRowsCount,t.right=this._coords.getBoundRight(e),e&&t.right==this._coords.maxColsCount&&t.right++,t},r.prototype.drawSmooth=function(){var t=this.getBounds(!0);if(!(this.isSmooth&&this._coords.canDrawAll&&this._boundsSmooth.contains(t))){this._boundsSmooth=t,s.fmClearTimeout(this._bgTimeout),t=[];for(var n=this._boundsSmooth.top;n<this._boundsSmooth.bottom;n++)for(var i=this._boundsSmooth.left;i<this._boundsSmooth.right;++i)t.push(this.createCell(n,i,!0).toHtml());n="",e.model._options.OptionsManager.showHeaders&&(n+=this.createSheetHeaders(this._boundsSmooth,!0)),n+=t.join(""),this.scrollPane.placeholder.html(n),this.scrollPane.content.hide(),this.scrollPane.content.html(""),this.scrollPane.placeholder.show(),this.scrollPane.scrollLeft=this.isSmooth||this._coords.isOnColEdge(this._bounds.right)?this._coords.scrollLeft:this._coords.getColX(this._coords.firstDataColIdx,!1),this.isSmooth=!0}},r.prototype.setContentSize=function(){this.scrollPane.contentWidth=this._coords.dataContentWidth+this._coords.scrollBarWidth,this.scrollPane.content.right=0},r.prototype.backgroundProcess=function(){var e=this;s.fmClearTimeout(this._bgTimeout);for(var t=[],n=this._coords.getColIndicesWithUndefinedWidth(50),i=0;i<this._coords.frozenRowsCount;i++)for(var r=0;r<n.length;r++){var o=n[r];this.isCellEmpty(i,o)||t.push(this.createCell(i,o,!0).toHtml())}if(0<t.length){var a=this._scrollPane.placeholder.element,l=a.children.length,c=a.innerHTML;a.innerHTML=c+t.join(),this.requestAnimationFrame(function(){for(;l<a.children.length;l++)e.updateColWidth(a.children.item(l));a.innerHTML=c,e._bgTimeout=s.fmSetTimeout(function(){return e.backgroundProcess()},500)})}},r.prototype.createSheetHeaders=function(e,t){void 0===t&&(t=!1);for(var n="",i=e.left;i<e.right;++i)n+=this.createColumnSheetHeaderCell(i,t).toHtml();return t||((i=new d).tag="div",i.addClass("wdr-row"),i.text=n,n=i.toHtml()),n},r.prototype.getCellByPosition=function(e,n){var i=this._coords.getColIndexAtPosition(e)-1,r=this._coords.getRowIndexAtPosition(n,!0)-1,o=this._getDataFunc(r,i);return null==o&&((o=new t.vo.GridCell).rowIdx=r,o.colIdx=i),o},r.prototype.clearDrawings=function(){s.fmClearTimeout(this._bgTimeout)},r.prototype.dispose=function(){this.clearDrawings(),i.prototype.dispose.call(this)},r}((n=t.sheet||(t.sheet={})).BaseSheet),n.ColumnHeadersSheet=i}((t=e._view||(e._view={})).grid||(t.grid={}))}(r||(r={})),function(e){var t,n,r,o;t=e._view||(e._view={}),n=t.grid||(t.grid={}),r=n.sheet||(n.sheet={}),o=function(o){function l(){var e=o.call(this,"div","wdr-grid-layout")||this;return e.smoothTimeout=1e3,e.animationDraws=[],e._isHeadersDirty=!1,e.colsScrollHandler=function(t){return e.onColsScroll(t)},e.rowsScrollHandler=function(t){return e.onRowsScroll(t)},e.dataScrollHandler=function(){return e.onDataScroll()},e.sheetHeaderDbClickHandler=function(t){return e.onSheetHeaderDbClick(t)},e.clicks=0,e.disableSelection(),e._coords=new r.GridCoords,e._dataProvider=new r.SheetDataProvider(e._coords),e._selectionManager=new r.SelectionManager(e),e.setControls(),e}return a(l,o),l.prototype.setControls=function(){this.createTitle(),this.createSheetHeaders(),this.createColsSheet(),this.createRowsSheet(),this.createDataSheet(),this.createResizeHandles()},l.prototype.createTitle=function(){this._title=new i.UILabel,this._title.container.display="block",this._title.setId("wdr-grid-title"),this._title.addClass("wdr-pivot-title"),this._title.setSelectable(!0),this._title.container.css("position","relative"),this._title.hide(),this.addComponent(this._title)},l.prototype.createSheetHeaders=function(){this._sheetHeaders=new r.SheetHeaders(this._coords),this._sheetHeaders.id="wdr-sheet-headers",this.addChild(this._sheetHeaders)},l.prototype.createColsSheet=function(){var e=this;this._colsSheet=new r.ColumnHeadersSheet(this._coords,function(t,n){return e.getCell(t,n)}),this._colsSheet.id="wdr-cols-sheet",this._colsSheet.scrollPane.element.addEventListener("wheel",this.colsScrollHandler),this._colsSheet.addEventListener(n.GridEvent.MOUSE_CLICK,function(t){return e.onClick(t)}),this.addChild(this._colsSheet)},l.prototype.createRowsSheet=function(){var e=this;this._rowsSheet=new r.RowHeadersSheet(this._coords,function(t,n){return e.getCell(t,n)}),this._rowsSheet.id="wdr-rows-sheet",this._rowsSheet.scrollPane.element.addEventListener("wheel",this.rowsScrollHandler),this._rowsSheet.addEventListener(n.GridEvent.MOUSE_CLICK,function(t){return e.onClick(t)}),this.addChild(this._rowsSheet)},l.prototype.createDataSheet=function(){var e=this;this._dataSheet=new r.DataSheet(this._coords,function(t,n){return e.getCell(t,n)}),this._dataSheet.id="wdr-data-sheet",this._dataSheet.scrollPane.element.addEventListener("scroll",this.dataScrollHandler,!0),this._dataSheet.addEventListener(r.BaseSheet.EVENT_SWITCHED_TO_SIMPLE,function(t){return e.onModeSwitched(t)}),this._dataSheet.addEventListener(r.BaseSheet.EVENT_SWITCHED_TO_SMOOTH,function(t){return e.onModeSwitched(t)}),this._dataSheet.addEventListener(n.GridEvent.MOUSE_CLICK,function(t){return e.onClick(t)}),this.addChild(this._dataSheet)},l.prototype.createResizeHandles=function(){var e=this;this._colResizeHandles=new r.ColumnResizeHandles(this),this._colResizeHandles.id="wdr-cols-resize",this._colResizeHandles.addEventListener(n.GridEvent.RESIZE_COLUMN,function(t){return e.onColResize(t)}),this.addChild(this._colResizeHandles),this._rowResizeHandles=new r.RowResizeHandles(this),this._rowResizeHandles.id="wdr-rows-resize",this._rowResizeHandles.addEventListener(n.GridEvent.RESIZE_ROW,function(t){return e.onRowResize(t)}),this.addChild(this._rowResizeHandles),this.element.addEventListener("dblclick",this.sheetHeaderDbClickHandler)},l.prototype.draw=function(){var e=this;this._coords.clearCache(),this._dataSheet.width&&this._dataSheet.height||this.drawLayout(),this._coords.setScale(),this.adjustScrollPosition()||(s.fmClearTimeout(this._drawSmoothTimer),this.disposeAnimationDraws(),this.animationDraws.push(this.requestAnimationFrame(function(){return e._draw()})))},l.prototype.disposeAnimationDraws=function(){for(;0<this.animationDraws.length;)this.cancelAnimationFrame(this.animationDraws.pop())},l.prototype._draw=function(){var n=this;t.PivotView.stage.dispatchWith(t.ViewEvent.BEFORE_GRID_DRAW,this,{smooth:!1}),this._coords.applyPendingSizes(),this.drawFirst(),this._isHeadersDirty&&(this.calculateSizesFirst()&&(this._coords.applyPendingSizes(),this._colsSheet.clearBounds(),this._rowsSheet.clearBounds(),this.drawFirst()),this._isHeadersDirty=!1),this.drawLast(),e.model.JavaScriptHandlers.getInstance().dispatch(new e.model.APIEvent(e.model.JavaScriptHandlers.AFTER_GRID_DRAW,{smooth:!1})),this.animationDraws.push(this.requestAnimationFrame(function(){n.drawLayout(),n._selectionManager.draw()})),this.animationDraws.push(this.requestAnimationFrame(function(){var e=n.calculateSizesAll();e?(n._colsSheet.clearBounds(),n._rowsSheet.clearBounds(),n._dataSheet.clearBounds(),n.draw()):n._coords.canDrawSmooth&&(s.fmClearTimeout(n._drawSmoothTimer),n._drawSmoothTimer=s.fmSetTimeout(function(){return n.drawSmooth()},n.smoothTimeout)),e||n.makeFieldsDraggable()})),this.animationDraws.push(this.requestAnimationFrame(function(){t.PivotView.stage.dispatchWith(t.ViewEvent.AFTER_GRID_DRAW,n,{smooth:!1})}))},l.prototype.drawFirst=function(){this._coords.titleHeight=s.nullOrEmpty(e.model._options.OptionsManager.gridTitle)?0:this._title.getHeight(!0),this._colsSheet.draw(),this._colsSheet.adjustScrollPaneOffset(),this._rowsSheet.draw(),this._rowsSheet.adjustScrollPaneOffset()},l.prototype.drawLast=function(){this._sheetHeaders.draw(),this._selectionManager.draw(),this._colResizeHandles.draw(),this._rowResizeHandles.draw(),this._dataSheet.draw(),this._dataSheet.adjustScrollPaneOffset()},l.prototype.calculateSizesFirst=function(){return this._colsSheet.calculateSizes(!0),this._rowsSheet.calculateSizes(!0),this._colsSheet.isDirty||this._rowsSheet.isDirty},l.prototype.calculateSizesAll=function(){return this._dataSheet.calculateSizes(!0),this._colsSheet.calculateSizes(!0),this._rowsSheet.calculateSizes(!0),this._dataSheet.isDirty||this._colsSheet.isDirty||this._rowsSheet.isDirty},l.prototype.drawSmooth=function(){var e=this;this.disposeAnimationDraws(),this.animationDraws.push(this.requestAnimationFrame(function(){return e._drawSmooth()}))},l.prototype._drawSmooth=function(){var n=this;t.PivotView.stage.dispatchWith(t.ViewEvent.BEFORE_GRID_DRAW,this,{smooth:!0}),this._colsSheet.drawSmooth(),this._rowsSheet.drawSmooth(),this._dataSheet.drawSmooth(),e.model.JavaScriptHandlers.getInstance().dispatch(new e.model.APIEvent(e.model.JavaScriptHandlers.AFTER_GRID_DRAW,{smooth:!0})),this.type==r.flat.FlatGridLayout.TYPE&&this.makeFieldsDraggable(),this.animationDraws.push(this.requestAnimationFrame(function(){n._colsSheet.calculateSizesSmooth(!0),n._rowsSheet.calculateSizesSmooth(!0),n._dataSheet.calculateSizesSmooth(!0),(n._colsSheet.isDirty||n._rowsSheet.isDirty||n._dataSheet.isDirty)&&(n._colsSheet.clearBoundsSmooth(),n._rowsSheet.clearBoundsSmooth(),n._dataSheet.clearBoundsSmooth()),n._coords.canDrawAll||n._colsSheet.backgroundProcess()})),this.animationDraws.push(this.requestAnimationFrame(function(){t.PivotView.stage.dispatchWith(t.ViewEvent.AFTER_GRID_DRAW,n,{smooth:!0})}))},l.prototype.onModeSwitched=function(e){var t=this;e.type==r.BaseSheet.EVENT_SWITCHED_TO_SIMPLE&&this.animationDraws.push(this.requestAnimationFrame(function(){t._colsSheet.switchToSimple(),t._rowsSheet.switchToSimple()}))},l.prototype.onDataScroll=function(){this.setScroll(this._dataSheet.scrollPane.scrollTop,this._dataSheet.scrollPane.scrollLeft)},l.prototype.onRowsScroll=function(e){this.coords.hasVerticalScroll&&(e=e.wheelDeltaY||e.deltaY||e.wheelDelta||0,s.browserVersion().isFirefox&&(e*=-40),s.browserVersion().isMsie&&(e*=-1),isNaN(e)||0==e||(this._dataSheet.scrollPane.scrollTop=this._coords.scrollTop-e))},l.prototype.onColsScroll=function(e){this.coords.hasHorizontalScroll&&(e=e.wheelDeltaX||e.deltaX||0,s.browserVersion().isFirefox&&(e*=-40),s.browserVersion().isMsie&&(e*=-1),0!=e&&(this._dataSheet.scrollPane.scrollLeft=this._coords.scrollLeft-e))},Object.defineProperty(l.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"coords",{get:function(){return this._coords},enumerable:!0,configurable:!0}),l.prototype.drawLayout=function(){this.width=this.coords.layoutWidth,this.height=this.coords.layoutHeight,s.nullOrEmpty(e.model._options.OptionsManager.gridTitle)?this._title.hide():(this._title.setLabel(e.model._options.OptionsManager.gridTitle),this._title.show()),this._colResizeHandles.left=0,this._colResizeHandles.top=this.coords.gridStartY,this._colResizeHandles.right=0,this._colResizeHandles.height=this.coords.getSheetHeaderHeight(),this._rowResizeHandles.left=0,this._rowResizeHandles.top=this.coords.gridStartY,this._rowResizeHandles.bottom=0,this._rowResizeHandles.width=this.coords.getSheetHeaderWidth()},l.prototype.triggerCellAction=function(e){null!=e&&this.dispatch(new n.GridClickEvent(e))},Object.defineProperty(l.prototype,"selectedCells",{get:function(){var e=[];if(0<this.selectionManager.selectedCells.length)for(var t=null,n=0;n<this._selectionManager.selectedCells.length;n++)null!=this._selectionManager.selectedCells.getItemAt(n).cellElement&&(t=this._selectionManager.decomposeCellKey(this._selectionManager.selectedCells.getItemAt(n).cellKey),this.getSelectedCells(e,t.from,t.to));return e},enumerable:!0,configurable:!0}),l.prototype.getSelectedCells=function(e,t,i){var r=null;if(t&&i)for(var o=this._selectionManager.fromRow(t,i);o<=this._selectionManager.toRow(t,i);o++)for(var s=this._selectionManager.fromCol(t,i);s<=this._selectionManager.toCol(t,i);s++)null==(r=this.getCell(o,s,!0,!0))&&((r=new n.vo.GridCell).rowIdx=o,r.colIdx=s),e.push(r)},l.prototype.getCell=function(e,t,n,i){return void 0===i&&(i=!1),n=this._dataProvider.getData(e,t,!i),i&&null==n?this._dataProvider.getDataFrozen(e,t):n},l.prototype.insertCell=function(e,t,n,i){void 0===i&&(i=!1),this._dataProvider.setData(e,t,n,i)},l.prototype.resize=function(e,t){this._coords.resize(e,t,!0)},Object.defineProperty(l.prototype,"getDataFunction",{set:function(e){this._dataProvider.getDataFunction=e},enumerable:!0,configurable:!0}),l.prototype.setDataSize=function(e,t){this._coords.dataRowsCount=e,this._coords.dataColsCount=t},l.prototype.freezeRows=function(e){e!=this._coords.frozenRowsCount&&(this._coords.firstDataRowIdx=e+(this._coords.firstDataRowIdx-this._coords.frozenRowsCount)),this._coords.frozenRowsCount=e},l.prototype.freezeColumns=function(e){e!=this._coords.frozenColsCount&&(this._coords.firstDataColIdx=e+(this._coords.firstDataColIdx-this._coords.frozenColsCount)),this._coords.firstDataColIdx<e&&(this._coords.firstDataColIdx=e),this._coords.frozenColsCount=e},l.prototype.clearAll=function(){this._isHeadersDirty=!0,this._dataProvider.reset(),this._coords.reset(),this._colsSheet.clearAllBounds(),this._rowsSheet.clearAllBounds(),this._dataSheet.clearAllBounds(),this._selectionManager.clear(),this._dataSheet.scrollPane.scrollTop=0,this._dataSheet.scrollPane.scrollLeft=0,this.clearDrawings()},l.prototype.clearData=function(){this._dataProvider.reset(),this._colsSheet.clearAllBounds(),this._rowsSheet.clearAllBounds(),this._dataSheet.clearAllBounds(),this._coords.clearCache()},l.prototype.clearColSizes=function(e){this._isHeadersDirty=!0,this._coords.clearColSizes(e)},l.prototype.clearRowSizes=function(e){this._isHeadersDirty=!0,this._coords.clearRowSizes(e)},l.prototype.select=function(e,t,n,i){this._selectionManager.select(new r.Point(t,e),new r.Point(i,n))},l.prototype.deselect=function(){this._selectionManager.clear()},l.prototype.clearDrawings=function(){this.disposeAnimationDraws(),s.fmClearTimeout(this._drawSmoothTimer),s.fmClearTimeout(this.clickTimeout),this._colsSheet.clearDrawings()},l.prototype.dispose=function(){this._dataProvider.dispose(),this._selectionManager.dispose(),this.clearDrawings(),this._colsSheet.removeAllEventListeners(),this._colsSheet.scrollPane.element&&this._colsSheet.scrollPane.element.removeEventListener("wheel",this.colsScrollHandler),this._colsSheet.dispose(),this._rowsSheet.removeAllEventListeners(),this._rowsSheet.scrollPane.element&&this._rowsSheet.scrollPane.element.removeEventListener("wheel",this.rowsScrollHandler),this._rowsSheet.dispose(),this._dataSheet.removeAllEventListeners(),this._dataSheet.scrollPane.element&&this._dataSheet.scrollPane.element.removeEventListener("scroll",this.dataScrollHandler),this._dataSheet.dispose(),this._colResizeHandles.removeAllEventListeners(),this._colResizeHandles.dispose(),this._rowResizeHandles.removeAllEventListeners(),this._rowResizeHandles.dispose(),this.element&&this.element.removeEventListener("dbclick",this.sheetHeaderDbClickHandler),o.prototype.dispose.call(this)},l.prototype.onClick=function(e){null!=e.cell&&this.dispatch(e),this.onClickForApi(e)},l.prototype.onFilterClick=function(e){this.dispatch(e)},l.prototype.onClickForApi=function(e){var t=this;this.clicks++,1==this.clicks&&(this.clickTimeout=s.fmSetTimeout(function(){if(1==t.clicks){if(e.cell){var i=new n.GridSingleDoubleClickEvent(e.cell,!0,e.element);t.dispatch(i)}}else e.cell&&(i=new n.GridSingleDoubleClickEvent(e.cell,!1,e.element),t.dispatch(i));t.clicks=0},300))},l.prototype.setScroll=function(e,t){void 0===e&&(e=NaN),void 0===t&&(t=NaN);var n=!1;isNaN(e)||e==this.coords.scrollTop||(this.coords.scrollTop=e,this.coords.firstDataRowIdx=this.coords.getRowIndexAtPosition(e),this._rowsSheet.scrollPane.scrollTop=e,n=!0),isNaN(t)||t==this.coords.scrollLeft||(this.coords.scrollLeft=t,this.coords.firstDataColIdx=this.coords.getColIndexAtPosition(t),this._colsSheet.scrollPane.scrollLeft=t,n=!0),n&&this.draw()},l.prototype.onColResize=function(e){this.dispatch(e),this._coords.applyPendingSizes(),0<e.data.width?this._coords.setColWidth(e.data.colIdx,e.data.width,!1,!0):this._coords.resetColWidth(e.data.colIdx),this.drawAfterResize()},l.prototype.onRowResize=function(e){this.dispatch(e),this._coords.applyPendingSizes(),0<e.data.height?this._coords.setRowHeight(e.data.rowIdx,e.data.height,!1,!0):this._coords.resetRowHeight(e.data.rowIdx),this.drawAfterResize()},l.prototype.onSheetHeaderDbClick=function(t){if(0!=e.model._options.OptionsManager.showHeaders){var i=this.getOffset(),r=t.clientX-i.left;t=t.clientY-i.top,r>this.coords.getSheetHeaderWidth()&&t>this.coords.gridStartY+this.coords.getSheetHeaderHeight()||(t=this.coords.getRowIdxByRelativePosition(t,this.isSmooth),r=this.coords.getColIdxByRelativePosition(r,this.isSmooth),-1!=t||isNaN(r)||this._colResizeHandles.dispatchWith(n.GridEvent.RESIZE_COLUMN,this,{width:-1,colIdx:r}),-1!=r||isNaN(t)||this._rowResizeHandles.dispatchWith(n.GridEvent.RESIZE_ROW,this,{height:-1,rowIdx:t}))}},l.prototype.drawAfterResize=function(){this._colsSheet.clearAllBounds(),this._rowsSheet.clearAllBounds(),this._dataSheet.clearAllBounds(),this.adjustScrollPosition()||this.draw()},l.prototype.adjustScrollPosition=function(){var e=!1;return 0<this._coords.scrollLeft&&this._coords.freeSpaceRight>this._coords.scrollLeft&&(this._dataSheet.scrollPane.scrollLeft=0,e=!0),0<this._coords.scrollTop&&this._coords.freeSpaceTop>this._coords.scrollTop&&(this._dataSheet.scrollPane.scrollTop=0,e=!0),e},l.prototype.getCellByElement=function(e){var t=i.UIElement.convert(e).closest(".wdr-cell");return null!=t?(e=parseInt(t.attr("data-r")),t=parseInt(t.attr("data-c")),this.getCell(e,t,!0,!0)):null},Object.defineProperty(l.prototype,"isSmooth",{get:function(){return this._dataSheet.isSmooth},enumerable:!0,configurable:!0}),l.prototype.scrollToRow=function(e){this._dataSheet.scrollPane.scrollTop=this.coords.getRowY(e)},l.prototype.scrollToColumn=function(e){this._dataSheet.scrollPane.scrollLeft=this.coords.getColX(e)},Object.defineProperty(l.prototype,"dataProvider",{get:function(){return this._dataProvider},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"selectionManager",{get:function(){return this._selectionManager},enumerable:!0,configurable:!0}),l.prototype.resizeColumn=function(e,t){this.coords.setColWidth(e,t,!1,!0)},l.prototype.resizeRow=function(e,t){this.coords.setRowHeight(e,t,!1,!0)},l.prototype.makeFieldsDraggable=function(){var e=this;this.droppable({onDrop:function(t,n,i,r){return e.onDrop(t,n,i,r)},onDragOver:function(t,n,i,r){return e.onDragOver(t,n,i,r)},onDragLeave:function(t,n,i,r){return e.onDragLeave(t,n,i,r)}})},l.prototype.createHeaderDragHelper=function(e){var t=new i.UIElement("span");return t.addClass("wdr-helper"),t.addClass("wdr-draggable"),t.addClass("wdr-header-helper"),t.css("position","absolute"),t.css("z-index",100),t.text(e.element.firstChild.textContent),t},l.prototype.onDragOver=function(e,t,n,r){(e=i.UIElement.convert(r.target)).hasClass("wdr-header-drop-indicator")||this.showIndicator(e,e)},l.prototype.onDragLeave=function(e,t,n,i){this.removeDropIndicator()},l.prototype.onDrop=function(e,t,n,i){},l.prototype.showIndicator=function(e,t){},l.prototype.createDropIndicator=function(){return this._dropIndicator?this._dropIndicator:new i.UIElement("div","wdr-header-drop-indicator")},l.prototype.removeDropIndicator=function(){this._dropIndicator&&(this._dropIndicator.removeFromParent(!0),this._dropIndicator=null)},l}(i.UIElement),r.BaseGridLayout=o}(r||(r={})),function(e){var t;!function(t){var n,i;i=function(n){function i(e){var i=n.call(this,e,null)||this;return i._coords=e,i._hierarchies=[],i.addClass("wdr-filters"),i.addEventListener(t.GridEvent.MOUSE_CLICK,function(e){return i.onClick(e)}),i}return a(i,n),i.prototype.draw=function(){for(var t=[],n=new d,i=0;i<this._coords.frozenRowsCount;i++){n.tag="div",n.addClass("wdr-row");for(var r=0;r<this._coords.frozenColsCount;r++)if(e.model._options.OptionsManager.showHierarchyCaptions){var o=i-this._coords.frozenRowsCount+this._hierarchies.length;n.text+=this.createFilterCell(i,r,0<=o?this._hierarchies[o]:null).toHtml()}else n.text+=this.createCell(i,r).toHtml();t.push(n.toHtml())}t=t.join(""),this.element.innerHTML!=t&&this.html(t)},i.prototype.createFilterCell=function(n,i,r){var o=this._hierarchies.indexOf(r);return this.cell.clear(),this.cell.tag="div",this.cell.addClass(t.vo.GridStyleName.CELL),this.cell.addClass(t.vo.GridStyleName.HEADER),this.cell.addClass(t.vo.GridStyleName.HEADER_ROW),r?(this.cell.addClass(t.vo.GridStyleName.LEVEL+o),this.cell.text=r.caption,e.model._options.OptionsManager.showFilter&&(this.cell.addClass(t.vo.GridStyleName.FILTER_HEADER),r.hasFilter()&&(this.cell.addClass(t.vo.GridStyleName.FILTERED),this.cell.text+=this.createIcon(t.vo.GridStyleName.FILTERED_ICON,e.model._labels.Labels.TOOLTIPS_FILTERED)),this.cell.attr.title=e.model._labels.Labels.TOOLTIPS_FILTER_ICON,this.cell.text+=this.createIcon(t.vo.GridStyleName.FILTER_ICON))):this.cell.addClass(t.vo.GridStyleName.CELL_EMPTY),this.setCellSize(this.cell,n,i),this.cell.attr["data-c"]=i,this.cell.attr["data-r"]=n,0<=o&&(this.cell.attr["data-h"]=o),this.cell},i.prototype.setHierarchies=function(e){for(var t=this._hierarchies.length=0;t<e.length;t++){var n=e.getItemAt(t);0==n.isMeasures&&this._hierarchies.push(n)}},i.prototype.onClick=function(e){var n=e.element;n.hasClass(t.vo.GridStyleName.FILTER_HEADER)&&(n=parseInt(n.attr("data-h")),isNaN(n)||this.dispatch(new t.FilterClickEvent(this._hierarchies[n],e.cell)))},i.prototype.clear=function(){this._hierarchies.length=0,this.draw()},i}((n=t.sheet||(t.sheet={})).AbstractSheet),n.RowsFilter=i}((t=e._view||(e._view={})).grid||(t.grid={}))}(r||(r={})),function(e){var t;!function(t){var n,i;i=function(n){function i(e){var i=n.call(this,e,null)||this;return i.rowIndex=0,i._coords=e,i._hierarchies=[],i.addClass("wdr-filters"),i.hide(),i.addEventListener(t.GridEvent.MOUSE_CLICK,function(e){return i.onClick(e)}),i}return a(i,n),i.prototype.draw=function(){if(this.removeAllChildren(),e.model._options.OptionsManager.showHierarchyCaptions){var t=new d("div");t.addClass("wdr-row"),t.style.height=this._coords.getRowHeight(this.rowIndex)+"px";for(var n=0;n<this._hierarchies.length;n++)t.text+=this.createFilterCell(this.rowIndex,n,this._hierarchies[n]).toHtml();this.html(t.toHtml()),0==this._hierarchies.length?this.hide():this.show()}else this.hide()},i.prototype.createFilterCell=function(n,i,r){return this.cell.clear(),this.cell.tag="div",this.cell.addClass(t.vo.GridStyleName.CELL),this.cell.addClass(t.vo.GridStyleName.HEADER),r&&(this.cell.text=r.caption,e.model._options.OptionsManager.showFilter&&(this.cell.addClass(t.vo.GridStyleName.FILTER_HEADER),this.cell.attr.title=e.model._labels.Labels.TOOLTIPS_FILTER_ICON,r.hasFilter()&&(this.cell.addClass(t.vo.GridStyleName.FILTERED),this.cell.text+=this.createIcon(t.vo.GridStyleName.FILTERED_ICON,e.model._labels.Labels.TOOLTIPS_FILTERED)),this.cell.text+=this.createIcon(t.vo.GridStyleName.FILTER_ICON))),this.cell.style["min-height"]=this._coords.getRowHeight(n)+"px",this.cell.attr["data-r"]=n,this.cell.attr["data-h"]=i,this.cell},i.prototype.setHierarchies=function(e){for(var t=this._hierarchies.length=0;t<e.length;t++){var n=e.getItemAt(t);0==n.isMeasures&&this._hierarchies.push(n)}0==this._hierarchies.length?this.hide():this.show()},i.prototype.onClick=function(e){if((e=e.element).hasClass(t.vo.GridStyleName.FILTER_HEADER)){var n=parseInt(e.attr("data-h"));isNaN(n)||this.dispatch(new t.FilterClickEvent(this._hierarchies[n],null,e))}},i.prototype.clear=function(){this._hierarchies.length=0,this.draw()},i}((n=t.sheet||(t.sheet={})).AbstractSheet),n.ColumnsFilter=i}((t=e._view||(e._view={})).grid||(t.grid={}))}(r||(r={})),function(e){var t;!function(t){!function(n){var r=function(n){function r(){var e=n.call(this)||this;return e._hierarchies=[],e.addClass("wdr-ui-hgroup"),e.addClass("wdr-filters"),e.hide(),e}return a(r,n),r.prototype.draw=function(){var t=this;if(this.removeAllChildren(),e.model._options.OptionsManager.showFilter&&e.model._options.OptionsManager.showReportFiltersArea){for(var n=0;n<this._hierarchies.length;n++){var r=new o(this._hierarchies[n],!0);r.container.attr("data-h",n),r.addEventListener(i.UIButton.CLICK_EVENT,function(e){return t.onClick(e)}),this.addChild(r.container)}0==this._hierarchies.length?this.hide():this.show()}else this.hide()},r.prototype.setHierarchies=function(e){for(var t=this._hierarchies.length=0;t<e.length;t++){var n=e.getItemAt(t);0==n.isMeasures&&this._hierarchies.push(n)}this.draw()},r.prototype.onClick=function(e){this.dispatch(new t.FilterClickEvent((e=e.target).hierarchy,null,e.container))},r.prototype.clear=function(){this._hierarchies.length=0,this.draw()},Object.defineProperty(r.prototype,"isEmpty",{get:function(){return 0==this._hierarchies.length},enumerable:!0,configurable:!0}),r}(i.UIElement);n.PagesFilter=r;var o=function(n){function r(e,r){void 0===r&&(r=!1);var o=n.call(this)||this;return o._isPage=!1,o._hierarchy=e,o._isPage=r,o.setLabel(o._hierarchy.caption),o.removeClass("wdr-ui-btn"),o.addClass(t.vo.GridStyleName.FILTER_HEADER),o.addClass(t.vo.GridStyleName.HEADER),o._filterIcon=new i.UIElement("i",t.vo.GridStyleName.ICON),o._filterIcon.addClass(t.vo.GridStyleName.FILTER_ICON),o.container.append(o._filterIcon),o._filteredIcon=new i.UIElement("i",t.vo.GridStyleName.ICON),o._filteredIcon.addClass(t.vo.GridStyleName.FILTERED_ICON),o.container.append(o._filteredIcon),o.isFiltered=o._hierarchy.hasFilter(),o._isPage&&(o._description=new i.UILabel,o._description.setLabel(o.getFilterDescription()),o._description.addClass("wdr-filter-desc"),o.addChild(o._description)),o}return a(r,n),Object.defineProperty(r.prototype,"hierarchy",{get:function(){return this._hierarchy},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isFiltered",{get:function(){return this.container.hasClass("wdr-filtered")},set:function(e){this.container.toggleClass("wdr-filtered",e)},enumerable:!0,configurable:!0}),r.prototype.getFilterDescription=function(){var t=e.model._labels.Labels.FILTER_ALL;return this.hierarchy.hasFilter()&&(t=1==this.hierarchy.filter.length?this.hierarchy.filter.getItemAt(0).caption:e.model._labels.Labels.FILTER_MULTIPLE_ITEMS),t},r}(i.UIButton);n.FilterCell=o}(t.sheet||(t.sheet={}))}((t=e._view||(e._view={})).grid||(t.grid={}))}(r||(r={})),function(e){var t;!function(t){var n,i;i=function(i){function r(){var e=i.call(this)||this;return e._type=r.TYPE,e.addClass("wdr-compact-view"),e}return a(r,i),r.prototype.setControls=function(){i.prototype.setControls.call(this),this.createColsFilter(),this.createRowsFilter(),this.createPageFilter()},r.prototype.createColsFilter=function(){var e=this;this._colsFilter=new n.ColumnsFilter(this._coords),this._colsFilter.id="wdr-cols-filter",this._colsFilter.addEventListener(t.GridEvent.FILTER_CLICK,function(t){return e.onFilterClick(t)}),this.addChild(this._colsFilter)},r.prototype.createRowsFilter=function(){var e=this;this._rowsFilter=new n.RowsFilter(this._coords),this._rowsFilter.id="wdr-rows-filter",this._rowsFilter.addEventListener(t.GridEvent.FILTER_CLICK,function(t){return e.onFilterClick(t)}),this._rowsFilter.addEventListener(t.GridEvent.MOUSE_CLICK,function(t){return e.onClick(t)}),this.addChild(this._rowsFilter)},r.prototype.createPageFilter=function(){var e=this;this._pageFilter=new n.PagesFilter,this._pageFilter.id="wdr-page-filter",this._pageFilter.addEventListener(t.GridEvent.FILTER_CLICK,function(t){return e.onFilterClick(t)}),this.addChild(this._pageFilter)},r.prototype.drawFirst=function(){this._coords.filtersHeight=this._pageFilter.isEmpty?0:this._pageFilter.element.offsetHeight,i.prototype.drawFirst.call(this),this._rowsFilter.draw()},r.prototype.drawLast=function(){i.prototype.drawLast.call(this),this._colsFilter.draw()},r.prototype.calculateSizesFirst=function(){return this._rowsFilter.calculateSizes(!0),i.prototype.calculateSizesFirst.call(this)||this._rowsFilter.isDirty},r.prototype.calculateSizesAll=function(){return this._rowsFilter.calculateSizes(!0),i.prototype.calculateSizesAll.call(this)||this._rowsFilter.isDirty},r.prototype.drawLayout=function(){i.prototype.drawLayout.call(this),this._pageFilter.isEmpty||(this._pageFilter.top=this._coords.titleHeight,this._pageFilter.left=0,this._pageFilter.right=0),this._colResizeHandles.top=this._coords.gridStartY,this._rowResizeHandles.top=this._coords.gridStartY,this._sheetHeaders.top=this._coords.gridStartY,this._sheetHeaders.left=0,this._sheetHeaders.width=this._coords.rowHeadersWidth,this._sheetHeaders.height=this._coords.colHeadersHeight,this._rowsFilter.left=this._coords.getColX(0,!0),this._rowsFilter.top=this._coords.gridStartY+this._coords.getRowY(0,!0),this._colsFilter.top=this._coords.gridStartY+this._coords.getRowY(this._colsFilter.rowIndex,!0),this._colsFilter.left=this._coords.rowHeadersWidth,this._colsFilter.right=Math.max(0,this._coords.layoutWidth-this._coords.getRelativeColX(this._coords.maxColsCount,this.isSmooth)),this._colsSheet.left=this._coords.rowHeadersWidth,this._colsSheet.top=this._coords.gridStartY,this._colsSheet.width=this._coords.dataWidth,this._colsSheet.height=this._coords.layoutHeight-this._coords.gridStartY,this._rowsSheet.left=0,this._rowsSheet.top=this._coords.colHeadersHeight+this._coords.gridStartY,this._rowsSheet.width=this._coords.layoutWidth,this._rowsSheet.height=this._coords.dataHeight,this._dataSheet.left=this._coords.rowHeadersWidth-1,this._dataSheet.top=this._coords.colHeadersHeight+this._coords.gridStartY-1,this._dataSheet.width=this._coords.dataWidth,this._dataSheet.height=this._coords.dataHeight+1},r.prototype.drawAfterResize=function(){i.prototype.drawAfterResize.call(this),this._rowsFilter.draw(),this._colsFilter.draw()},r.prototype.makeFieldsDraggable=function(){var e=this;i.prototype.makeFieldsDraggable.call(this);for(var t={createHelper:function(t){return e.createHeaderDragHelper(t)}},n=this._colsFilter.find(".wdr-header:not(.wdr-empty)",!0),r=0;r<n.length;r++)n[r].draggable(t);for(n=this._rowsFilter.find(".wdr-header:not(.wdr-empty)",!0),r=0;r<n.length;r++)n[r].draggable(t);for(n=this._pageFilter.find(".wdr-header:not(.wdr-empty)",!0),r=0;r<n.length;r++)n[r].draggable(t)},r.prototype.onDrop=function(t,n,i,r){if(null==(i=this.getDropTargetFilter(i)))this.removeDropIndicator();else if(r=this.getDropPosition(i,this._dropIndicator),this.removeDropIndicator(),!isNaN(r)){var o,s=parseInt(t.attr("data-h")),a=t.closest(".wdr-filters");n=e.data_.Cube.getInstance().slice_.clone(),a==this._colsFilter?(o=n.columnsOnly.getItemAt(s),s=n.columns.indexOf(o.uniqueName)):a==this._rowsFilter?(o=n.rowsOnly.getItemAt(s),s=n.rows.indexOf(o.uniqueName)):a==this._pageFilter&&(o=n.pages.getItemAt(s),s=n.pages.indexOf(o.uniqueName)),null==o||i==a&&s==r||(t.hide(),i==a?i==this._colsFilter?n.columns.moveItemAt(s,r):i==this._rowsFilter?n.rows.moveItemAt(s,r):i==this._pageFilter&&n.pages.moveItemAt(s,r):(n.columns.removeItem(o.uniqueName),n.rows.removeItem(o.uniqueName),n.pages.removeItem(o.uniqueName),i==this._colsFilter?n.columns.addItemAt(o.uniqueName,o,r):i==this._rowsFilter?n.rows.addItemAt(o.uniqueName,o,r):i==this._pageFilter&&n.pages.addItemAt(o.uniqueName,o,r)),1<n.columns.length&&n.columns.getItemAt(0).isMeasures&&(t=n.columns.getItemAt(0),n.columns.splice(0,1),n.columns.addItemAt(t.uniqueName,t,n.columns.length)),e.model.PivotModel.getInstance().runQuery(n))}},r.prototype.getDropPosition=function(e,t){return e==this._colsFilter?this.getColumnDropPosition(t):e==this._rowsFilter?this.getRowDropPosition(t):e==this._pageFilter?this.getPageDropPosition(t):NaN},r.prototype.getColumnDropPosition=function(t){var n=e.data_.Cube.getInstance().slice_;return null!=t?(t=t.index())>n.columns.length?n.columns.length:(0<=(n=n.columns.indexOf("[Measures]"))&&n<=t&&0!=t&&t++,t):NaN},r.prototype.getRowDropPosition=function(t){var n=e.data_.Cube.getInstance().slice_;return null!=t?(t=t.parent.hasClass("wdr-filters")?n.rows.length:(t=t.parent.find(".wdr-header"))?parseInt(t.attr("data-h")):0)>n.rows.length?n.rows.length:(0<=(n=n.rows.indexOf("[Measures]"))&&n<=t&&0!=t&&t++,t):NaN},r.prototype.getPageDropPosition=function(t){var n=e.data_.Cube.getInstance().slice_;return null!=t?(t=t.index())>n.columns.length?n.columns.length:t:NaN},r.prototype.getDropTargetFilter=function(e){var t=e.closest(".wdr-filters");if(null==t){var n=e.closest(".wdr-cell");null!=n?(e=parseInt(n.attr("data-r")),n=parseInt(n.attr("data-c")),this.isOverColumns(e,n)?t=this._colsFilter:this.isOverRows(e,n)&&(t=this._rowsFilter)):null!=(n=e.closest(".wdr-resize-handles"))&&("wdr-cols-resize"==n.id?t=this._colsFilter:"wdr-rows-resize"==n.id&&(t=this._rowsFilter))}return t},r.prototype.isOverColumns=function(e,t){return t>=this.coords.frozenColsCount},r.prototype.isOverRows=function(e,t){return t<=this.coords.frozenColsCount},r.prototype.showIndicator=function(e,t){if(null==(e=this.getDropTargetFilter(e)))this.removeDropIndicator();else{var i=t.closest(".wdr-header:not(.wdr-empty)");null!=t.closest(".wdr-filters")&&null!=i?(this._dropIndicator=this.createDropIndicator(),e==this._pageFilter?i.before(this._dropIndicator):t.before(this._dropIndicator)):(this._dropIndicator=this.createDropIndicator(),e==this._colsFilter?this._colsFilter.find(".wdr-row").append(this._dropIndicator):e==this._rowsFilter?null!=t.closest(".wdr-filters")?this._rowsFilter.find(".wdr-header").before(this._dropIndicator):this._type==n.classic.ClassicGridLayout.TYPE?this._rowsFilter.find(".wdr-header").parent.append(this._dropIndicator):this._rowsFilter.append(this._dropIndicator):e==this._pageFilter&&this._pageFilter.append(this._dropIndicator))}},r.prototype.clearAll=function(){i.prototype.clearAll.call(this),this._colsFilter.clear(),this._pageFilter.clear(),this._rowsFilter.clear()},Object.defineProperty(r.prototype,"colsFilter",{get:function(){return this._colsFilter},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"rowsFilter",{get:function(){return this._rowsFilter},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"pageFilter",{get:function(){return this._pageFilter},enumerable:!0,configurable:!0}),r.prototype.dispose=function(){this._colsFilter.removeAllEventListeners(),this._colsFilter.dispose(),this._rowsFilter.removeAllEventListeners(),this._rowsFilter.dispose(),this._pageFilter.removeAllEventListeners(),i.prototype.dispose.call(this)},r.TYPE="compact",r}((n=t.sheet||(t.sheet={})).BaseGridLayout),n.CompactGridLayout=i}((t=e._view||(e._view={})).grid||(t.grid={}))}(r||(r={})),function(e){var t;!function(t){!function(t){var n=function(t){function n(n){var r=t.call(this,"div","wdr-resize-handles")||this;return r._mouseDownHandler=function(e){return r.onMouseDown(e)},r._mouseUpHandler=function(e){return r.onMouseUp(e)},r._mouseMoveHandler=function(e){return r.onMouseMove(e)},r._handle=new d,r._gridLayout=n,r._coords=n.coords,r.element.addEventListener("mousedown",r._mouseDownHandler),document.body.addEventListener("mouseup",r._mouseUpHandler),r._indicator=new i.UIElement("div","wdr-indicator"),r._indicator.hide(),r.addChild(r._indicator),r._wrapper=new i.UIElement("div","wdr-wrapper"),r._wrapper.attr("title",e.model._labels.Labels.TOOLTIPS_HEADER_FIT),r.addChild(r._wrapper),r}return a(n,t),n.prototype.draw=function(){this._wrapper.attr("title",e.model._labels.Labels.TOOLTIPS_HEADER_FIT)},n.prototype.createHandle=function(t){return this._handle.tag="div",this._handle.addClass("wdr-handle"),this._handle.attr["data-idx"]=t,this._handle.attr.title=e.model._labels.Labels.TOOLTIPS_HEADER_RESIZE,this._handle},n.prototype.onMouseDown=function(e){if(e.target.classList.contains("wdr-handle")){this._currentHandle=e.target,this._currentHandle.classList.add("wdr-active"),this._baseOffset=this.getOffset(),document.body.addEventListener("mousemove",this._mouseMoveHandler),e.stopImmediatePropagation();var t=parseInt(this._currentHandle.getAttribute("data-idx"));this.startResizing(this._currentHandle,t),e.preventDefault(),e.stopImmediatePropagation()}},n.prototype.startResizing=function(e,t){},n.prototype.onMouseUp=function(e){document.body.removeEventListener("mousemove",this._mouseMoveHandler),this._currentHandle&&(this._currentHandle.classList.remove("wdr-active"),e=parseInt(this._currentHandle.getAttribute("data-idx")),this.stopResizing(this._currentHandle,e),this._currentHandle=null,this._indicator.hide())},n.prototype.stopResizing=function(e,t){},n.prototype.onMouseMove=function(e){var t=e.clientX-this._baseOffset.left,n=e.clientY-this._baseOffset.top;0>t||0>n||t>this._coords.layoutWidth||n>this._coords.layoutHeight?this.onMouseUp(e):(this.positionHandle(this._currentHandle,t,n),this._indicator.show())},n.prototype.positionHandle=function(e,t,n){},n.prototype.dispose=function(){this.element&&this.element.removeEventListener("mousedown",this._mouseDownHandler),document.body.removeEventListener("mousemove",this._mouseMoveHandler),document.body.removeEventListener("mouseup",this._mouseUpHandler),t.prototype.dispose.call(this)},n}(i.UIElement);t.ResizeHandles=n}(t.sheet||(t.sheet={}))}((t=e._view||(e._view={})).grid||(t.grid={}))}(r||(r={})),function(e){!function(e){!function(e){var t,n;n=function(n){function i(){return null!==n&&n.apply(this,arguments)||this}return a(i,n),i.prototype.draw=function(){n.prototype.draw.call(this),this._wrapper.removeAllChildren();for(var e="",t=0;t<this._coords.frozenRowsCount;t++)e+=this.createHandle(t).toHtml(!0);t=this._coords.getBoundTop();for(var i=Math.min(this._coords.maxRowsCount,this._coords.getBoundBottom());t<i;t++)e+=this.createHandle(t).toHtml(!0);this._wrapper.html(e)},i.prototype.createHandle=function(e){return n.prototype.createHandle.call(this,e),this._handle.style.top=this._coords.getRelativeRowY(e,this._gridLayout.isSmooth,!1)+this._coords.getRowHeight(e)+"px",this._handle},i.prototype.startResizing=function(e,t){this._startY=this._coords.getRelativeRowY(t,this._gridLayout.isSmooth,!1)},i.prototype.stopResizing=function(n,i){var r=Math.round(n.offsetTop+n.clientHeight/2-this._startY);r=Math.max(t.GridCoords.CELL_MIN_HEIGHT,r),this.dispatchWith(e.GridEvent.RESIZE_ROW,this,{height:r,rowIdx:i})},i.prototype.positionHandle=function(e,n,i){i=Math.max(this._startY+t.GridCoords.CELL_MIN_HEIGHT,i),e.style.top=i+"px",this._indicator.top=i,this._indicator.width=this._coords.availableWidth},i}((t=e.sheet||(e.sheet={})).ResizeHandles),t.RowResizeHandles=n}(e.grid||(e.grid={}))}(e._view||(e._view={}))}(r||(r={})),function(e){!function(e){!function(e){var t,n;n=function(n){function i(){return null!==n&&n.apply(this,arguments)||this}return a(i,n),i.prototype.draw=function(){n.prototype.draw.call(this),this._wrapper.removeAllChildren();for(var e="",t=0;t<this._coords.frozenColsCount;t++)e+=this.createHandle(t).toHtml(!0);var i=Math.min(this._coords.maxColsCount,this._coords.getBoundRight());for(t=this._coords.getBoundLeft();t<i;t++)e+=this.createHandle(t).toHtml(!0);this._wrapper.html(e)},i.prototype.createHandle=function(e){return n.prototype.createHandle.call(this,e),this._handle.style.left=this._coords.getRelativeColX(e,this._gridLayout.isSmooth)+this._coords.getColWidth(e)+"px",this._handle},i.prototype.startResizing=function(e,t){this._startX=this._coords.getRelativeColX(t,this._gridLayout.isSmooth)},i.prototype.stopResizing=function(n,i){var r=Math.round(n.offsetLeft+n.clientWidth/2-this._startX);r=Math.max(t.GridCoords.CELL_MIN_WIDTH,r),this.dispatchWith(e.GridEvent.RESIZE_COLUMN,this,{width:r,colIdx:i})},i.prototype.positionHandle=function(e,n,i){n=Math.max(this._startX+t.GridCoords.CELL_MIN_WIDTH,n),e.style.left=n+"px",this._indicator.left=n,this._indicator.height=this._coords.availableHeight},i}((t=e.sheet||(e.sheet={})).ResizeHandles),t.ColumnResizeHandles=n}(e.grid||(e.grid={}))}(e._view||(e._view={}))}(r||(r={})),function(e){var t;!function(t){var n;!function(i){var r=function(n){function r(){var e=n.call(this)||this;return e._type=r.TYPE,e.removeClass("wdr-compact-view"),e.addClass("wdr-classic-view"),e}return a(r,n),r.prototype.createRowsFilter=function(){var e=this;this._rowsFilter=new i.ClassicRowsFilter(this._coords),this._rowsFilter.id="wdr-rows-filter",this._rowsFilter.addEventListener(t.GridEvent.FILTER_CLICK,function(t){return e.onFilterClick(t)}),this._rowsFilter.addEventListener(t.GridEvent.MOUSE_CLICK,function(t){return e.onClick(t)}),this.addChild(this._rowsFilter)},r.prototype.drawFirst=function(){this.isClassicViewOk?n.prototype.drawFirst.call(this):(e.uialert(e.model._labels.Labels.MESSAGE_TOO_MANY_COLUMNS_IN_CLASSIC_MODE,e.model._labels.Labels.CONFIRMATION,e.AlertType.CONFIRMATION),e.model.PivotModel.getInstance().setOptions({gridType:t.GridType.COMPACT}),e.model.PivotModel.getInstance().refresh())},Object.defineProperty(r.prototype,"isClassicViewOk",{get:function(){return this._coords.dataWidth>this._coords.minDataWidth},enumerable:!0,configurable:!0}),r.prototype.clearDrawings=function(){n.prototype.clearDrawings.call(this),this._rowsFilter.clearDrawings()},r.prototype.getRowDropPosition=function(t){var n=e.data_.Cube.getInstance().slice_;return null!=t?(t=t.index())>n.rows.length?n.rows.length:(0<=(n=n.rows.indexOf("[Measures]"))&&n<=t&&0!=t&&t++,t):NaN},r.TYPE="classic",r}(n.CompactGridLayout);i.ClassicGridLayout=r}((n=t.sheet||(t.sheet={})).classic||(n.classic={}))}((t=e._view||(e._view={})).grid||(t.grid={}))}(r||(r={})),function(e){var t;!function(t){!function(t){!function(n){var i=function(t){function n(e){return t.call(this,e)||this}return a(n,t),n.prototype.dispose=function(){s.fmClearTimeout(this._timeout),t.prototype.dispose.call(this)},n.prototype.draw=function(){for(var t=this,n=[],i=new d,r=0;r<this._coords.frozenRowsCount;r++){i.tag="div",i.addClass("wdr-row");for(var o=0;o<this._coords.frozenColsCount;o++)i.text=e.model._options.OptionsManager.showHierarchyCaptions?i.text+this.createFilterCell(r,o,r==this._coords.frozenRowsCount-1?this._hierarchies[o]:null).toHtml():i.text+this.createCell(r,o).toHtml();n.push(i.toHtml())}this.html(n.join("")),this._timeout=s.fmSetTimeout(function(){return t.calculateSizes(!0)},0)},n.prototype.clearDrawings=function(){s.fmClearTimeout(this._timeout)},n}(t.RowsFilter);n.ClassicRowsFilter=i}(t.classic||(t.classic={}))}(t.sheet||(t.sheet={}))}((t=e._view||(e._view={})).grid||(t.grid={}))}(r||(r={})),function(e){var t,n,i;t=e._view||(e._view={}),n=t.grid||(t.grid={}),function(r){var o=function(i){function o(){var e=i.call(this)||this;return e._isDrillThrough=!1,e._hierachiesList=null,e.colsScrollHander=function(t){return e.onColsScroll(t)},e._type=o.TYPE,e.addClass("wdr-flat-view"),e}return a(o,i),o.prototype.createColsSheet=function(){var e=this;this._colsSheet=new r.FlatColumnsSheet(this._coords,function(t,n){return e.getCell(t,n)}),this._colsSheet.id="wdr-cols-sheet",this._colsSheet.scrollPane.element.addEventListener("wheel",this.colsScrollHander),this._colsSheet.addEventListener(n.GridEvent.MOUSE_CLICK,function(t){return e.onClick(t)}),this._colsSheet.addEventListener(n.GridEvent.MOUSE_CLICK,function(t){return e.onClickForApi(t)}),this._colsSheet.addEventListener(n.GridEvent.FILTER_CLICK,function(t){return e.onFilterClick(t)}),this.addChild(this._colsSheet)},o.prototype.drawLayout=function(){i.prototype.drawLayout.call(this),this._sheetHeaders.top=this._coords.gridStartY,this._sheetHeaders.left=0,this._sheetHeaders.width=this._coords.rowHeadersWidth,this._sheetHeaders.height=this._coords.colHeadersHeight,this._colsSheet.left=this._coords.rowHeadersWidth,this._colsSheet.top=this._coords.gridStartY,this._colsSheet.width=this._coords.dataWidth,this._colsSheet.height=this._coords.layoutHeight-this._coords.gridStartY,this._rowsSheet.left=0,this._rowsSheet.top=this._coords.colHeadersHeight+this._coords.gridStartY,this._rowsSheet.width=this._coords.layoutWidth,this._rowsSheet.height=this._coords.dataHeight,this._dataSheet.left=this._coords.rowHeadersWidth-1,this._dataSheet.top=this._coords.colHeadersHeight+this._coords.gridStartY-1,this._dataSheet.width=this._coords.dataWidth,this._dataSheet.height=this._coords.dataHeight+1},o.prototype.drawLast=function(){i.prototype.drawLast.call(this)},Object.defineProperty(o.prototype,"isDrillThrough",{get:function(){return this._isDrillThrough},set:function(e){this._isDrillThrough=e},enumerable:!0,configurable:!0}),o.prototype.makeFieldsDraggable=function(){var e=this;i.prototype.makeFieldsDraggable.call(this);for(var t={createHelper:function(t){return e.createHeaderDragHelper(t)}},n=this._colsSheet.find(".wdr-header",!0),r=0;r<n.length;r++)n[r].draggable(t)},o.prototype.showIndicator=function(e,t){var n=t.closest(".wdr-cell");null!=n?(n=parseInt(n.attr("data-c")),n=Math.min(n,this.coords.dataColsCount),this._dropIndicator=this.createDropIndicator(),this._dropIndicator.left=this.coords.getRelativeColX(n,this.isSmooth)-(n==this.coords.dataColsCount?0:this._dropIndicator.width),this._dropIndicator.top=this._coords.gridStartY+this.coords.getRelativeRowY(0,this.isSmooth)-1,this._dropIndicator.height=this.coords.getRowHeight(0)+1,this.append(this._dropIndicator)):this.removeDropIndicator()},o.prototype.onDrop=function(n,i,r,o){this.removeDropIndicator(),null!=(o=r.closest(".wdr-cell"))&&(i=e.data_.Cube.getInstance().slice_.clone(),r=this.isDrillThrough&&null!=this._hierachiesList?this._hierachiesList:i.flatten(),o=parseInt(o.attr("data-c")),(n=parseInt(n.attr("data-c")))!=(o=Math.max(0,Math.min(o,r.length-1)))&&(r.moveItemAt(n,o),0<i.flatOrder.length&&(i.flatOrder=r.toKeyArray()),this.isDrillThrough?(this._hierachiesList=r,i.flatOrder=r.toKeyArray(),this.dispatchWith(t.config.FieldsView.EVENT_APPLY_SLICE,this,i)):(i.rows=r,e.model.PivotModel.getInstance().runQuery(i))))},o.TYPE="flat",o}(i.BaseGridLayout);r.FlatGridLayout=o}((i=n.sheet||(n.sheet={})).flat||(i.flat={}))}(r||(r={})),function(e){var t;!function(t){var n;!function(i){var r=function(n){function i(e,i){var r=n.call(this,e,i)||this;return r.addEventListener(t.GridEvent.MOUSE_CLICK,function(e){return r.onFilterClick(e)}),r}return a(i,n),i.prototype.onFilterClick=function(e){null!=e.cell&&e.cell.isFilterHeader&&null!=e.cell.hierarchy&&e.cell.activeElementType!=t.vo.GridCellElementType.RIGHT_ICON&&this.dispatch(new t.FilterClickEvent(e.cell.hierarchy,e.cell))},i.prototype.createCell=function(i,r,o){return void 0===o&&(o=!1),this.cell=n.prototype.createCell.call(this,i,r,o),(i=this._getDataFunc?this._getDataFunc(i,r):null)&&i.isFilterHeader&&(this.cell.addClass(t.vo.GridStyleName.FILTER_HEADER),i.filtered&&(this.cell.addClass(t.vo.GridStyleName.FILTERED),this.cell.text+=this.createIcon(t.vo.GridStyleName.FILTERED_ICON,e.model._labels.Labels.TOOLTIPS_FILTERED)),this.cell.attr.title=e.model._labels.Labels.TOOLTIPS_FILTER_ICON,this.cell.text+=this.createIcon(t.vo.GridStyleName.FILTER_ICON)),this.cell},i}(n.ColumnHeadersSheet);i.FlatColumnsSheet=r}((n=t.sheet||(t.sheet={})).flat||(n.flat={}))}((t=e._view||(e._view={})).grid||(t.grid={}))}(r||(r={})),function(e){!function(e){!function(e){var n=function(e){function n(){var n=e.call(this,"div")||this;n.leaveHandler=function(e){return n.onMouseLeave(e)},n.list=new i.lists.UIList,n.list.markSelected=!0,n.list.setItemRendererFactory(n.itemRendererFactory),n.list.setLabelField("caption"),n.list.addEventListener(t._Event.CHANGE,function(e){return n.onListChange(e)}),n.addChild(n.list),n.container.disableSelection();var r=new i.UIElement("div","wdr-arrow");return n.container.addChild(r),n}return a(n,e),n.prototype.showWith=function(e,t){this.origin=t,this.fieldData=e,this.setData(e),this.show(),this.container.addEventListener("mouseleave",this.leaveHandler),document.body.addEventListener("mousedown",this.leaveHandler);var n=t.getOffset(this.container.element.offsetParent);this.container.css("right",this.container.element.offsetParent.clientWidth-n.left+"px"),this.container.css("top",n.top-this.getHeight()/2+t.getHeight()/2+"px")},n.prototype.onMouseLeave=function(e){"mousedown"==e.type&&null!=i.UIElement.convert(event.target).closest("#wdr-aggregations-view")||(this.container.removeEventListener("mouseleave",this.leaveHandler),document.body.removeEventListener("mousedown",this.leaveHandler),this.hide())},n.prototype.onStageMouseDown=function(e){null==i.UIElement.convert(e.target).closest("#wdr-aggregations-view")&&this.hide()},n.prototype.setData=function(e){for(var t,n=0,i=[],r=0;r<e.availableAggregations.length;r++)t={caption:e.availableAggregationsCaptions[r],aggregation:e.availableAggregations[r]},null!=e.availableAggregationsTotalCaptions&&(t.totalCaption=e.availableAggregationsTotalCaptions[r]),i.push(t),e.availableAggregations[r]==e.aggregation&&(n=r);this.list.setDataProvider(i),this.list.setSelectedIndex(n),this.list.container.setScrollTop(0)},n.prototype.onListChange=function(e){this.dispatchWith(t._Event.CHANGE,this,{fieldData:this.fieldData,aggrData:e.data.selectedItem,origin:this.origin}),this.hide()},n.prototype.itemRendererFactory=function(e,t){var n=new i.renderers.SelectItemRenderer;return n.setData(e),n.setIndex(t),n},n}(i.UIComponentBase);e.AggregationsView=n}(e.config||(e.config={}))}(e._view||(e._view={}))}(r||(r={})),function(e){var t;!function(t){!function(t){var n=function(){function t(){}return t.prototype.update=function(e,t,n){this._structure=e,this._slice=t,this._dataSourceType=n,this.clearSearch(),this.updateSlice(),this.updateStructure()},t.prototype.updateSlice=function(){this.pages=this.getPages(),this.rows=this.getRows(),this.markValues(this.rows),this.columns=this.getColumns(),this.markValues(this.columns),this.measures=this.getMeasures(),this.markMeasures(this.measures)},t.prototype.updateStructure=function(){if(this._hierarchies=[],this.allHierarchies=[],this.addHierarchies(this._hierarchies,this.getAllHierarchies()),this.removeSingleDimensions(this._hierarchies),this.addMeasures(this._hierarchies,this.getAllMeasures()),this.sortHierarchies(this._hierarchies),t.expandFormulas){t.expandFormulas=!1;var n=s.ArrayUtils.find(this._hierarchies,"/"+e.model._labels.Labels.FIELDS_LIST_FORMULAS_GROUP_NAME,"uniqueName");null!=n&&this.expandField(n)}this.markSelected(this.pages),this.markSelected(this.columns),this.markSelected(this.rows),this.markSelected(this.measures)},t.prototype.onCalculatedValueAdded=function(e){if(null!=this._structure){var t=s.ArrayUtils.find(this.getAllMeasures(),e,"uniqueName");null!=t&&(t.isMeasure=!0,t.showAggregations=this.isMeasuresAsHierarchies,0<=(e=s.ArrayUtils.findIndex(this.measures,e,"uniqueName"))?(t.isChanged=!0,this.measures[e]=t):this.measures.push(t)),this.updateStructure()}},t.prototype.onCalculatedValueRemoved=function(e){null!=this._slice&&null!=this._structure&&(this.updateSlice(),this.updateStructure())},t.prototype.removeItemByName=function(e,t){for(var n=0;n<e.length;n++)if(e[n].uniqueName==t){e.splice(n,1);break}},t.prototype.markValues=function(t){null!=(t=s.ArrayUtils.find(t,e.data_.Cube.MEASURES_NAME,"uniqueName"))&&(t.caption=e.model._labels.Labels.FIELDS_LIST_VALUES,t.isValues=!0)},t.prototype.markMeasures=function(t){for(var n=0;n<t.length;n++)t[n].isMeasure=!0,t[n].showAggregations=e.model._options.OptionsManager.showAggregations},t.prototype.markSelected=function(e){for(var t,n=0;n<e.length;n++)e[n].isSelected=!0,t=this.findItem(e[n].uniqueName,e[n].isMeasure),this._slice.allHierarchies().getItem(e[n].uniqueName),null!=t&&this.selectField(t,!0)},t.prototype.selectField=function(e,t){if(e.isSelected=t,null!=e.parent&&e.parent.isSelected!=t&&(1==t||0==this.hasSelected(e.parent.children))&&this.selectField(e.parent,t),e.isLevelFolder&&0==t)for(var n=0;n<e.children.length;n++)this.selectField(e.children[n],t)},t.prototype.hasSelected=function(e){for(var t=0;t<e.length;t++)if(!0===e[t].isSelected)return!0;return!1},t.prototype.addHierarchies=function(t,n){for(var i,r,o=0;o<n.length;o++)null!=(i=this._structure.hierarchyToMeasure(n[o].uniqueName))&&i.type!=e.data_.types.MeasureType.COUNT&&""!=n[o].folder?(null==(r=s.ArrayUtils.find(this.allHierarchies,"Folder."+n[o].folder,"uniqueName"))&&((r={isFolder:!0}).uniqueName="Folder."+n[o].folder,r.caption=n[o].folder,r.children=[],t.push(r),this.allHierarchies.push(r)),n[o].level=1,n[o].parent=r,r.children.push(n[o])):(null==(i=s.ArrayUtils.find(t,n[o].dimensionUniqueName,"uniqueName"))&&((i={isFolder:!0}).uniqueName=n[o].dimensionUniqueName,i.caption=n[o].dimensionCaption,i.children=[],i.level=0,t.push(i),this.allHierarchies.push(i)),n[o].isLevel?(i=s.ArrayUtils.find((i=""==n[o].folder?i:r).children,n[o].hierarchyName,"uniqueName"),n[o].level=i.level+1,n[o].parent=i,null==i.children&&(i.children=[]),i.children.push(n[o]),i.isLevelFolder=!0):""!=n[o].folder?(null==(r=s.ArrayUtils.find(i.children,i.uniqueName+n[o].folder,"uniqueName"))&&((r={isFolder:!0}).uniqueName=i.uniqueName+n[o].folder,r.caption=n[o].folder,r.children=[],r.level=1,r.parent=i,i.children.push(r),this.allHierarchies.push(r)),n[o].level=2,n[o].parent=r,r.children.push(n[o])):(n[o].level=1,n[o].parent=i,i.children.push(n[o]))),this.allHierarchies.push(n[o])},t.prototype.addMeasures=function(t,n){for(var i,r={},o=0;o<n.length;o++){if(n[o].isMeasure=!0,n[o].showAggregations=e.model._options.OptionsManager.showAggregations,n[o].calculated&&(n[o].groupName=e.model._labels.Labels.FIELDS_LIST_FORMULAS_GROUP_NAME),this.isMeasuresAsHierarchies&&(i=this.toHierarchyUniqueName(n[o].uniqueName),i=s.ArrayUtils.find(this.allHierarchies,i,"uniqueName")),this.isMeasuresAsHierarchies&&null!=i)i.measureItem=n[o],i.measureItem.hierarchyItem=i,n[o].parent=i.parent;else if(""!=n[o].groupName){var a=this.addMeasureFolders(r,n[o].groupName,n[o].folder.split("\\"),n[o].calculated),l=a.folder;null!=l&&0>l.children.indexOf(n[o])&&l.children.push(n[o]),null!=a.root&&0>t.indexOf(a.root)&&t.push(a.root),n[o].level=a.folder.level+1,n[o].parent=l}else n[o].level=0,t.push(n[o]);this.allHierarchies.push(n[o])}},t.prototype.addMeasureFolders=function(e,t,n,i){void 0===i&&(i=!1),n.unshift(t),t="";for(var r,o,a,l=0,c=0;c<n.length;c++){var u=t+"/"+n[c];s.nullOrEmpty(n[c])||(null==(o=e[u])&&((o={}).caption=n[c],o.uniqueName=u,o.folder=t,o.children=[],o.level=l,o.isFolder=!0,o.isMeasuresFolder=!0,o.isCalculatedMeasuresFolder=i,this.allHierarchies.push(o),e[o.uniqueName]=o),(o.parent=r)&&r.children&&0>r.children.indexOf(o)&&r.children.push(o),null==a&&(a=o),e=e[t+="/"+n[c]],r=o,l++)}return{folder:o,root:a}},t.prototype.removeSingleDimensions=function(e){for(var t,n=0;n<e.length;n++)if(!0===e[n].isFolder&&1==e[n].children.length&&!0!==e[n].children[0].isFolder&&!e[n].children[0].calculated&&((t=e[n].children[0]).level=0,t.parent=null,e.splice(n,1,t),t.children))for(var i=0;i<t.children.length;i++)t.children[i].level-=1},t.prototype.sortHierarchies=function(e){var t=this;e.sort(function(e,n){var i=t.getFieldRank(e),r=t.getFieldRank(n);return i==r?e.caption.localeCompare(n.caption):r-i})},t.prototype.getFieldRank=function(e){return!0===e.isLevel?0:!0===e.isFolder&&!0!==e.isMeasuresFolder?3:!0!==e.isFolder&&!0!==e.isMeasure?2:!0===e.isFolder&&!0===e.isMeasuresFolder?1:0},t.prototype.collapseField=function(e){if(!this.isSearch){for(var t=this._hierarchies.indexOf(e)+1,n=0;n<e.children.length;n++)!0===e.children[n].isExpanded&&this.collapseField(e.children[n]);this._hierarchies.splice(t,e.children.length),e.isExpanded=!1}},t.prototype.expandField=function(e){if(!this.isSearch){var t=this._hierarchies.indexOf(e)+1;e.isLevelFolder||this.sortHierarchies(e.children),s.ArrayUtils.insert(this._hierarchies,e.children,t),e.isExpanded=!0}},t.prototype.toHierarchyUniqueName=function(e){return null!=(e=this._structure.measureToHierarchy(e))?e.uniqueName:""},t.prototype.toMeasureUniqueName=function(e){return null!=(e=this._structure.hierarchyToMeasure(e))?e.uniqueName:""},t.prototype.findHierarchy=function(e){for(var t=0;t<this.allHierarchies.length;t++)if(!this.allHierarchies[t].isMeasure&&!this.allHierarchies[t].isFolder&&this.allHierarchies[t].uniqueName==e)return this.allHierarchies[t]},t.prototype.findMeasure=function(e){for(var t=0;t<this.allHierarchies.length;t++)if(this.allHierarchies[t].isMeasure&&!this.allHierarchies[t].isFolder&&this.allHierarchies[t].uniqueName==e)return this.allHierarchies[t]},t.prototype.findItem=function(e,t){return void 0===t&&(t=!1),t?this.findMeasure(e):this.findHierarchy(e)},t.prototype.isValidSlice=function(){return 0<this.measures.length},t.prototype.getSlice=function(){return{pages:this.toPlainArray(this.pages),rows:this.toPlainArray(this.rows),columns:this.toPlainArray(this.columns),measures:this.toPlainArray(this.measures),flatOrder:this._slice?this._slice.flatOrder:[]}},t.prototype.isSliceDifferent=function(e){return null==this._slice||this.isDifferent(e.pages,this._slice.pages.toArray())||this.isDifferent(e.rows,this._slice.rows.toArray())||this.isDifferent(e.columns,this._slice.columns.toArray())||this.isDifferent(e.measures,this._slice.measures_.toArray())},t.prototype.toPlainArray=function(e){for(var t,n=[],i=0;i<e.length;i++)t={uniqueName:e[i].uniqueName},e[i].isMeasure&&(t.aggregation=e[i].aggregation,t.isChanged=e[i].isChanged),e[i].isLevel&&(t.activeLevelName=e[i].uniqueName,t.uniqueName=e[i].hierarchyName),n.push(t);return n},t.prototype.isDifferent=function(e,t){if(e.length!=t.length)return!0;for(var n=0;n<t.length;n++)if(e[n].uniqueName!=t[n].uniqueName||e[n].aggregation!=t[n].aggregation||e[n].activeLevelName!=t[n].activeLevelName||e[n].isChanged)return!0;return!1},Object.defineProperty(t.prototype,"isMeasuresAsHierarchies",{get:function(){var t=this._dataSourceType;return t==e.data_.consts.DataSourceType.CSV||t==e.data_.consts.DataSourceType.JSON},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isExpandAll",{get:function(){for(var e=0;e<this._hierarchies.length;e++)if((this._hierarchies[e].isFolder||this._hierarchies[e].isMeasuresFolder||this._hierarchies[e].isLevelFolder)&&!this._hierarchies[e].isExpanded)return!0;return!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasFolders",{get:function(){for(var e=0;e<this._hierarchies.length;e++)if(this._hierarchies[e].isFolder||this._hierarchies[e].isMeasuresFolder||this._hierarchies[e].isLevelFolder)return!0;return!1},enumerable:!0,configurable:!0}),t.prototype.collapseAll=function(){if(!this.isSearch){for(var e=0;e<this._hierarchies.length;e++)(this._hierarchies[e].isFolder||this._hierarchies[e].isMeasuresFolder||this._hierarchies[e].isLevelFolder)&&(this._hierarchies[e].isExpanded=!1);var t=[];for(e=0;e<this._hierarchies.length;e++)0==this._hierarchies[e].level&&t.push(this._hierarchies[e]);this._hierarchies.splice(0,this._hierarchies.length),s.ArrayUtils.insert(this._hierarchies,t,0)}},t.prototype.expandAll=function(){if(!this.isSearch){this.collapseAll();for(var e=0;e<this._hierarchies.length;e++)(this._hierarchies[e].isFolder||this._hierarchies[e].isLevelFolder)&&this._expandField(this._hierarchies[e],e+1)}},t.prototype._expandField=function(e,t){e.isExpanded=!0,null!=e.children&&0<e.children.length&&(this.sortHierarchies(e.children),s.ArrayUtils.insert(this._hierarchies,e.children,t))},t.prototype.getPages=function(){return null!=this._slice?this.convertHierarchies(this._slice.pages):[]},t.prototype.getRows=function(){return null!=this._slice?this.convertHierarchies(this._slice.rows):[]},t.prototype.getColumns=function(){return null!=this._slice?this.convertHierarchies(this._slice.columns):[]},t.prototype.getMeasures=function(){return null!=this._slice?this.convertMeasures(this._slice.measures_):[]},t.prototype.getAllHierarchies=function(){return null!=this._structure?this.convertHierarchies(this._structure.allHierarchies(!1),!0):[]},t.prototype.getAllMeasures=function(){return null!=this._structure?this.convertMeasures(this._structure.measures_):[]},t.prototype.convertHierarchies=function(e,t){void 0===t&&(t=!1);for(var n=[],i=0;i<e.length;i++){var r=e.getItemAt(i);if(n.push({caption:r.caption,uniqueName:r.uniqueName,dimensionUniqueName:r.dimension.uniqueName,dimensionCaption:r.dimension.caption,folder:r.folder,isLevel:!1,isLevelFolder:r.isHierarchy&&t}),r.isHierarchy&&t)for(var o=0;o<r.levels_.length;o++)if(0!=o){var s=r.levels_.getItemAt(o);n.push({caption:s.caption,uniqueName:s.uniqueName,dimensionUniqueName:r.dimension.uniqueName,dimensionCaption:r.dimension.caption,folder:r.folder,hierarchyName:r.uniqueName,hierarchyCaption:r.caption,isLevel:!0,isLevelFolder:!1})}}return n},t.prototype.convertMeasures=function(t){for(var n=[],i=0;i<t.length;i++){var r=t.getItemAt(i),o=e.data_._structure.GenericMeasure.toObject(r),s=r.availableAggregations;0!=r.availableAggregations.length||r.calculated||(s=e.data_.consts.AggregationName.ALL_AGGREGATIONS),o.availableAggregations=s,o.availableAggregationsCaptions=e.data_.consts.AggregationName.aggregationCaptions(s),o.availableAggregationsTotalCaptions=e.data_.consts.AggregationName.aggregationTotalCaptions(s),n.push(o)}return n},t.prototype.search=function(e){if(e=e.toLowerCase(),this.searchPhrase!=e){this.searchPhrase=e,this.searchedHierarchies=[];for(var t=this.allHierarchies.length,n=0;n<t;n++){var i=this.allHierarchies[n];i.isFolder||i.isMeasure&&this.isMeasuresAsHierarchies||!s.StringUtils.contains(i.caption,e)||(this.addParents(i,this.searchedHierarchies),this.searchedHierarchies.push(i))}}},t.prototype.addParents=function(e,t){if(e.parent&&0>t.indexOf(e.parent)){for(var n=[];null!=e.parent;)n.push(e.parent),e=e.parent;n=n.reverse();for(var i=0;i<n.length;i++)0>t.indexOf(n[i])&&t.push(n[i])}},t.prototype.clearSearch=function(){this.searchPhrase="",this.searchedHierarchies=null},Object.defineProperty(t.prototype,"isSearch",{get:function(){return!s.nullOrEmpty(this.searchPhrase)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isSearchNeeded",{get:function(){return this.allHierarchies&&50<this.allHierarchies.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isCalculatedAvailable",{get:function(){return e.model._options.OptionsManager.showCalculatedValuesButton},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hierarchies",{get:function(){return this.isSearch?this.searchedHierarchies:this._hierarchies},enumerable:!0,configurable:!0}),t.expandFormulas=!1,t}();t.PivotFieldsModel=n}(t._pivot||(t._pivot={}))}((t=e._view||(e._view={})).config||(t.config={}))}(r||(r={})),function(e){var n,r,o,l;n=e._view||(e._view={}),r=n.config||(n.config={}),o=r._pivot||(r._pivot={}),l=function(l){function c(e){var n=l.call(this)||this;return n.type="pivot",n.calculatedValueAddedHandler=function(e){return n.onCalculatedValueAdded(e)},n.calculatedValueRemovedHandler=function(e){return n.onCalculatedValueRemoved(e)},n.model=new o.PivotFieldsModel,n.view=new o.PivotFieldsView(n,e),n.view.addEventListener(t._Event.CLOSED,function(e){return n.dispatch(e)}),n.lists=[n.view.lstPages,n.view.lstRows,n.view.lstColumns,n.view.lstMeasures],n.view.btnOk&&n.view.btnOk.addEventListener(i.UIButton.CLICK_EVENT,function(){return n.onOkClick()}),n.view.btnCancel&&n.view.btnCancel.addEventListener(i.UIButton.CLICK_EVENT,function(){return n.onCancelClick()}),null!=n.view.aggrView&&n.view.aggrView.addEventListener(t._Event.CHANGE,function(e){return n.onAggregationChange(e)}),n.view.lstHierarchies&&(n.view.lstHierarchies.container.addEventListener("click",function(e){return n.onHierarchyFieldClick(e)}),n.view.lstHierarchies.droppable({onDrop:function(e,t,i,r){return n.onHierarchiesDrop(e,t,i,r)},onDragEnter:function(e,t,i,r){return n.onHierarchiesDragEnterOrOver(e,t,i,r)},onDragOver:function(e,t,i,r){return n.onHierarchiesDragEnterOrOver(e,t,i,r)},onDragLeave:function(e,t,i,r){return n.onDragLeave(e,t,i,r)},itemSelector:"li"}),n.view.lstHierarchies.container.disableSelection()),e={onDrop:function(e,t,i,r){return n.onDrop(e,t,i,r)},onDragEnter:function(e,t,i,r){return n.onDragEnterOrOver(e,t,i,r)},onDragOver:function(e,t,i,r){return n.onDragEnterOrOver(e,t,i,r)},onDragLeave:function(e,t,i,r){return n.onDragLeave(e,t,i,r)},itemSelector:"li"},n.view.lstPages&&(n.view.lstPages.droppable(e),n.view.lstPages.container.addEventListener("dblclick",function(e){return n.onFieldDoubleClick(e)}),n.view.lstPages.container.disableSelection()),n.view.lstRows&&(n.view.lstRows.droppable(e),n.view.lstRows.container.addEventListener("dblclick",function(e){return n.onFieldDoubleClick(e)}),n.view.lstRows.container.disableSelection()),n.view.lstColumns&&(n.view.lstColumns.droppable(e),n.view.lstColumns.container.addEventListener("dblclick",function(e){return n.onFieldDoubleClick(e)}),n.view.lstColumns.container.disableSelection()),n.view.lstMeasures&&(n.view.lstMeasures.container.addEventListener("click",function(e){return n.onMeasureFieldClick(e)}),n.view.lstMeasures.container.addEventListener("dblclick",function(e){return n.onFieldDoubleClick(e)}),n.view.lstMeasures.droppable(e),n.view.lstMeasures.container.disableSelection()),n.view.btnAddMeasure&&n.view.btnAddMeasure.addEventListener(i.UIButton.CLICK_EVENT,function(){return n.onAddMeasureClick()}),n.view.btnCollapseExpand&&n.view.btnCollapseExpand.addEventListener(i.UIButton.CLICK_EVENT,function(){return n.onCollapseExpandClick()}),n.view.inpSearch&&(n.view.inpSearch.setChangeDelay(500),n.view.inpSearch.addEventListener(i.UITextInput.CHANGE_EVENT,function(){return n.onSearchChange()})),n}return a(c,l),c.prototype.onCancelClick=function(){this.view.close()},c.prototype.onOkClick=function(){this.applySlice(),this.view.close()},c.prototype.onSearchChange=function(){this.model.search(this.view.inpSearch.getText()),this.view.lstHierarchies.container.toggleClass("wdr-searched",this.model.isSearch),this.view.lstHierarchies.setDataProvider(this.model.hierarchies),this.validateList(this.view.lstHierarchies),this.view.btnCollapseExpand&&this.view.btnCollapseExpand.isVisible(this.model.hasFolders&&!this.model.isSearch)},c.prototype.applySlice=function(){var e=this.model.getSlice();this.model.isSliceDifferent(e)&&this.dispatchWith(r.FieldsView.EVENT_APPLY_SLICE,this,e)},c.prototype.onCalculatedValueAdded=function(t){e.model.PivotModel.getInstance().removeEventListener(n.calculated.CalculatedView.EVENT_CALCULATED_VALUE_ADDED,this.calculatedValueAddedHandler),this.model.onCalculatedValueAdded(t.data.measureUniqueName),this.updateView()},c.prototype.onCalculatedValueRemoved=function(t){e.model.PivotModel.getInstance().removeEventListener(n.calculated.CalculatedView.EVENT_CALCULATED_VALUE_REMOVED,this.calculatedValueRemovedHandler),this.model.onCalculatedValueRemoved(t.data),this.updateView()},c.prototype.onAddMeasureClick=function(){e.model.PivotModel.getInstance().dispatchWith(n.ViewEvent.CALCULATED_VIEW_OPEN),e.model.PivotModel.getInstance().addEventListener(n.calculated.CalculatedView.EVENT_CALCULATED_VALUE_ADDED,this.calculatedValueAddedHandler)},c.prototype.onCollapseExpandClick=function(){this.model.isExpandAll?this.model.expandAll():this.model.collapseAll(),this.validateList(this.view.lstHierarchies),this.view.setLabels()},c.prototype.onFieldDoubleClick=function(e){var t=i.UIElement.convert(e.target).closest("ul");null!=t&&(t=this.getListById(t.attr("id")),null!=(e=i.UIElement.convert(e.target).closest("li"))&&(e=parseInt(e.attr("data-index")),this.removeField(t,e)))},c.prototype.onMeasureFieldClick=function(e){var t=i.UIElement.convert(e.target).closest("li");null!=t&&(t=parseInt(t.attr("data-index")),t=this.model.measures[t],"wdr-aggr-display"==i.UIElement.convert(e.target).attr("id")&&this.view.aggrView.showWith(t,i.UIElement.convert(e.target)))},c.prototype.onAggregationChange=function(t){var n=t.data.fieldData,r=t.data.aggrData;i.UIElement.convert(t.data.origin),n.aggregation=r.aggregation,n.caption=e.model._options.OptionsManager.showAggregationLabels?s.StringUtils.bind(r.totalCaption,n.name):n.name,this.view.lstMeasures.validateItem(n),null!=(t=s.ArrayUtils.find(this.model.hierarchies,n.uniqueName,"uniqueName"))&&(this.model.isMeasuresAsHierarchies&&null!=t.measureItem&&(t=t.measureItem),t.aggregation=n.aggregation,t.caption=n.caption,this.view.lstHierarchies.validateItem(t))},c.prototype.onHierarchyFieldClick=function(t){if(null!=(r=i.UIElement.convert(t.target).closest("li"))){var r=parseInt(r.attr("data-index")),o=this.model.hierarchies[r];if("wdr-aggr-display"==i.UIElement.convert(t.target).attr("id"))this.view.aggrView.showWith(o,i.UIElement.convert(t.target));else if("wdr-calc-display"==i.UIElement.convert(t.target).attr("id"))e.model.PivotModel.getInstance().dispatchWith(n.ViewEvent.CALCULATED_VIEW_OPEN,null,{measureName:o.uniqueName}),e.model.PivotModel.getInstance().addEventListener(n.calculated.CalculatedView.EVENT_CALCULATED_VALUE_ADDED,this.calculatedValueAddedHandler),e.model.PivotModel.getInstance().addEventListener(n.calculated.CalculatedView.EVENT_CALCULATED_VALUE_REMOVED,this.calculatedValueRemovedHandler);else if(o.isFolder||o.isLevelFolder&&"wdr-moreicon-display"!=i.UIElement.convert(t.target).attr("id"))!0===o.isExpanded?this.model.collapseField(o):this.model.expandField(o),this.validateList(this.view.lstHierarchies),this.view.setLabels();else{if(1==o.isSelected||null!=o.measureItem&&1==o.measureItem.isSelected)1==o.isSelected&&(this.model.selectField(o,!1),this.findAndRemoveField(o)),null!=o.measureItem&&1==o.measureItem.isSelected&&(this.model.selectField(o.measureItem,!1),this.findAndRemoveField(o.measureItem));else if(o.isMeasure)this.model.selectField(o,!0),this.model.measures.push(o),this.validateList(this.view.lstMeasures);else if(o.measureItem&&o.measureItem.type!=e.data_.types.MeasureType.COUNT&&o.measureItem.type!=e.data_.types.MeasureType.DATE)this.model.selectField(o.measureItem,!0),this.model.measures.push(o.measureItem),this.validateList(this.view.lstMeasures);else{if(o.isLevel)for(o.parent.isSelected&&this.findAndRemoveField(o.parent),t=0;t<o.parent.children.length;t++){var s=o.parent.children[t];s.uniqueName!=o.uniqueName&&(s.isSelected&&this.findAndRemoveField(s),s.isSelected=!1)}this.model.selectField(o,!0),this.model.rows.push(o),this.validateList(this.view.lstRows)}this.validateItemRecursivelyAt(this.view.lstHierarchies,r),this.validateSlice()}}},c.prototype.validateItemRecursivelyAt=function(e,t){e.validateItemAt(t);var n=e.getDataProvider()[t];if(null!=n.parent&&this.validateItemRecursively(e,n.parent),n.isLevelFolder)for(var i=0;i<n.children.length;i++)e.validateItem(n.children[i]);if(n.isLevel)for(i=0;i<n.parent.children.length;i++)e.validateItem(n.parent.children[i])},c.prototype.validateItemRecursively=function(e,t){if(e.validateItem(t),t.parent&&this.validateItemRecursively(e,t.parent),t.isLevelFolder)for(var n=0;n<t.children.length;n++)e.validateItem(t.children[n]);if(t.isLevel)for(n=0;n<t.parent.children.length;n++)e.validateItem(t.parent.children[n])},c.prototype.onDragStart=function(e){return!0},c.prototype.onHierarchiesDrop=function(e,t,n,i){e&&e.closest("ul")&&(t=parseInt(e.attr("data-index")),(e=this.getListById(e.closest("ul").attr("id")))!=this.view.lstHierarchies&&this.removeField(e,t))},c.prototype.onHierarchiesDragEnterOrOver=function(e,t,n,i){e&&e.closest("ul")&&(e=this.getListById(e.closest("ul").attr("id")))!=this.view.lstHierarchies&&(e.container.hasClass("wdr-droppable")?t&&t.addClass("wdr-droppable-valid"):t&&t.addClass("wdr-droppable-invalid"))},c.prototype.onDragEnterOrOver=function(e,t,n,r){this.removeDropIndicator(),e&&e.closest("ul")&&(n instanceof i.lists.UIList||(n=this.getListById(n.attr("id"))),(t=this.getListById(e.closest("ul").attr("id"))).container.hasClass("wdr-droppable")&&this.isDropAllowed(this.getDataByElement(e,t),t,n)&&(r instanceof MouseEvent?this.showIndicator(i.UIElement.convert(r.target)):(e=r.changedTouches[0],this.showIndicator(i.UIElement.convert(document.elementFromPoint(e.clientX,e.clientY))))))},c.prototype.isDropAllowed=function(e,t,n){return!(e.isValues&&n!=this.view.lstColumns&&n!=this.view.lstRows||0==this.model.isMeasuresAsHierarchies&&(n!=this.view.lstMeasures&&e.isMeasure||n==this.view.lstMeasures&&!e.isMeasure)||e.calculated&&n!=this.view.lstMeasures||t==this.view.lstHierarchies&&null!=s.ArrayUtils.find(n.getDataProvider(),e.uniqueName,"uniqueName"))},c.prototype.getDataByElement=function(e,t){var n=parseInt(e.attr("data-index"));return t.getDataProvider()[n]},c.prototype.onDragLeave=function(e,t,n,i){this.removeDropIndicator(),e&&e.closest("ul")&&t&&(t.removeClass("wdr-droppable-valid"),t.removeClass("wdr-droppable-invalid"))},c.prototype.onDrop=function(e,t,n,r){this.removeDropIndicator(),e&&e.closest("ul")&&(t instanceof i.lists.UIList||(t=this.getListById(t.attr("id"))),r=this.getListById(e.closest("ul").attr("id")),0!=this.isDropAllowed(this.getDataByElement(e,r),r,t)&&(n=n?parseFloat(n.attr("data-index")):t.getDataProvider().length,e=parseInt(e.attr("data-index")),r!=t||e!=n))&&(r==this.view.lstHierarchies&&t!=this.view.lstHierarchies?this.addField(r,t,e,n):this.moveField(r,t,e,n),this.validateView())},c.prototype.showIndicator=function(e){var t=e.closest("li");null!=t?(this._dropIndicator=this.createDropIndicator(),t.before(this._dropIndicator)):null!=(e=e.closest("ul"))&&(this._dropIndicator=this.createDropIndicator(),0<e.element.children.length?e.append(this._dropIndicator):e.prepend(this._dropIndicator))},c.prototype.createDropIndicator=function(){return new i.UIElement("div","wdr-drop-indicator")},c.prototype.removeDropIndicator=function(){this._dropIndicator&&(this._dropIndicator.removeFromParent(!0),this._dropIndicator=null)},c.prototype.moveField=function(e,t,n,i){var r=e.getDataProvider()[n];e==t?(n<i&&(i-=1),(e=t.getDataProvider()).splice(i,0,e.splice(n,1)[0])):(r=e.getDataProvider()[n],e.getDataProvider().splice(n,1),e.validateNow(),t==this.view.lstMeasures&&(this.model.selectField(r,!1),r=this.model.findMeasure(this.model.toMeasureUniqueName(r.uniqueName))),e==this.view.lstMeasures&&(this.model.selectField(r,!1),r=this.model.findHierarchy(this.model.toHierarchyUniqueName(r.uniqueName))),null!=r&&(this.model.selectField(r,!0),this.findAndRemoveField(r),t.getDataProvider().splice(i,0,r))),this.validateList(t),this.validateSlice()},c.prototype.addField=function(e,t,n,i){if((n=e.getDataProvider()[n]).isLevel){n.parent.isSelected&&this.findAndRemoveField(n.parent);for(var r=0;r<n.parent.children.length;r++){var o=n.parent.children[r];o.uniqueName!=n.uniqueName&&(o.isSelected&&this.findAndRemoveField(o),o.isSelected=!1)}this.validateItemRecursively(this.view.lstHierarchies,n)}this.model.isMeasuresAsHierarchies&&t==this.view.lstMeasures&&null!=n.measureItem&&(n=n.measureItem),n.isSelected?(this.model.selectField(n,!1),this.findAndRemoveField(n,e,!0),this.model.selectField(n,!0)):(this.model.selectField(n,!0),e=s.ArrayUtils.findIndex(this.view.lstHierarchies.getDataProvider(),n.uniqueName,"uniqueName"),this.validateItemRecursivelyAt(this.view.lstHierarchies,e),this.view.lstHierarchies.validateItemAt(e)),t.getDataProvider().splice(i,0,n),this.validateList(t),this.validateSlice()},c.prototype.removeField=function(e,t){if(!(e.getDataProvider().length<=t)){var n=e.getDataProvider()[t];n.isValues||(e.getDataProvider().splice(t,1),this.validateList(e),null!=(n=this.model.findItem(n.uniqueName,n.isMeasure))&&(this.model.selectField(n,!1),this.validateItemRecursively(this.view.lstHierarchies,null!=n.hierarchyItem?n.hierarchyItem:n),n.isLevel&&(this.model.selectField(n.parent,!1),this.validateItemRecursively(this.view.lstHierarchies,n.parent))),this.validateSlice())}},c.prototype.findAndRemoveField=function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);for(var i=-1,r=0;r<this.lists.length;r++)this.lists[r]==t||this.lists[r]==this.view.lstMeasures&&n||(-1==(i=s.ArrayUtils.findIndex(this.lists[r].getDataProvider(),e.uniqueName,"uniqueName"))&&(i=s.ArrayUtils.findIndex(this.lists[r].getDataProvider(),e.uniqueName,"hierarchyName")),-1<i&&(this.lists[r].getDataProvider().splice(i,1),this.validateList(this.lists[r])))},c.prototype.getListById=function(e){switch(e){case this.view.lstHierarchies.getId():return this.view.lstHierarchies;case this.view.lstPages.getId():return this.view.lstPages;case this.view.lstRows.getId():return this.view.lstRows;case this.view.lstColumns.getId():return this.view.lstColumns;case this.view.lstMeasures.getId():return this.view.lstMeasures}return null},c.prototype.update=function(e,t,n,i){void 0===n&&(n=""),void 0===i&&(i=!0),i&&this.model.update(e,t,n),this.updateView()},c.prototype.validateSlice=function(){this.view.btnOk&&this.view.btnOk.setEnabled(this.model.isValidSlice())},Object.defineProperty(c.prototype,"isExpandAll",{get:function(){return this.model.isExpandAll},enumerable:!0,configurable:!0}),c.prototype.updateView=function(){var e=this;this.view.reset&&this.view.reset(),this.view.btnAddMeasure&&this.view.btnAddMeasure.isVisible(this.model.isCalculatedAvailable),this.view.lstHierarchies&&this.view.lstHierarchies.setDataProvider(this.model.hierarchies,!1),this.view.lstPages&&this.view.lstPages.setDataProvider(this.model.pages,!1),this.view.lstRows&&this.view.lstRows.setDataProvider(this.model.rows,!1),this.view.lstColumns&&this.view.lstColumns.setDataProvider(this.model.columns,!1),this.view.lstMeasures&&this.view.lstMeasures.setDataProvider(this.model.measures,!1),this.view.btnCollapseExpand&&this.view.btnCollapseExpand.isVisible(this.model.hasFolders),this.view.searchWrap&&this.view.searchWrap.isVisible(this.model.isSearchNeeded),this.view.inpSearch&&(this.view.inpSearch.clear(!1),this.model.clearSearch()),this.view.setLabels(),this.view.container.requestAnimationFrame(function(){e.validateView()})},c.prototype.validateList=function(e){var t=this;e.validateNow();var n={onDragStart:function(e){return t.onDragStart(e)},createHelper:function(e){return t.view.createHelper(e)}};s.browserVersion().isMobile&&(n.handle="#wdr-drag-handle");var i=e.container.find("li",!0);if(e==this.view.lstHierarchies)for(e=0;e<i.length;e++)i[e].hasClass("wdr-folder")&&!i[e].hasClass("wdr-level-folder")||i[e].draggable(n);else for(e.droppable({onDrop:function(e,n,i,r){return t.onDrop(e,n,i,r)},onDragEnter:function(e,n,i,r){return t.onDragEnterOrOver(e,n,i,r)},onDragOver:function(e,n,i,r){return t.onDragEnterOrOver(e,n,i,r)},onDragLeave:function(e,n,i,r){return t.onDragLeave(e,n,i,r)},itemSelector:"li"}),e=0;e<i.length;e++)i[e].draggable(n)},c.prototype.validateView=function(){try{this.validateSlice(),this.validateList(this.view.lstHierarchies),this.validateList(this.view.lstPages),this.validateList(this.view.lstRows),this.validateList(this.view.lstColumns),this.validateList(this.view.lstMeasures)}catch(l){}},c}(t.EventDispatcher),o.PivotFieldsController=l}(r||(r={})),function(e){var t;!function(t){var n,r;n=t._pivot||(t._pivot={}),r=function(n){function r(e,t){var i=n.call(this,t)||this;return i.toolbarHeight=0,i.controller=e,i.addClass("wdr-pivot-fields"),i.setControls(),i.container.disableSelection(),i.container.resizable({sides:["left","right"],resize:function(e){return i.onViewResize(e)}}),i}return a(r,n),r.prototype.onViewResize=function(e){this.setWidth(e.size.width+(e.size.width-e.originalSize.width)),this.addLayoutClasses(),this.centerPosition()},r.prototype.setControls=function(){var n=this,r=new i.UIComponentBase("div","wdr-popup-header wdr-ui-row");this.addChild(r);var o=new i.UIComponentBase("div","wdr-ui-col wdr-vam");r.addChild(o),this.lblTitle=new i.UILabel(e.model._labels.Labels.FIELDS_LIST_TITLE),this.lblTitle.addClass("wdr-popup-title"),o.addChild(this.lblTitle),this.lblSubtitle=new i.UILabel(e.model._labels.Labels.FIELDS_LIST_SUBTITLE),this.lblSubtitle.addClass("wdr-popup-subtitle"),o.addChild(this.lblSubtitle),o=new i.UIComponentBase("div","wdr-ui-col wdr-vam wdr-tar wdr-ui-btns-row"),r.addChild(o),this.btnAddMeasure=new i.UIButton("wdr-ui-btn-light wdr-icon-act_calc"),this.btnAddMeasure.setId("wdr-btn-add-measure"),this.btnAddMeasure.setLabel(e.model._labels.Labels.FIELDS_LIST_ADD_CALCULATED_MEASURE),o.addChild(this.btnAddMeasure),this.btnCancel=new i.UIButton,this.btnCancel.setLabel(e.model._labels.Labels.BUTTON_CANCEL),this.btnOk=new i.UIButton("wdr-ui-btn-dark"),this.btnOk.setLabel(e.model._labels.Labels.BUTTON_APPLY),s.OSUtil.isIOS||s.OSUtil.isMac?(o.addChild(this.btnCancel),o.addChild(this.btnOk)):(o.addChild(this.btnOk),o.addChild(this.btnCancel)),r=new i.UIComponentBase("div","wdr-popup-content"),this.addChild(r);var a=new i.UIComponentBase("div","wdr-ui-row");r.addChild(a),o=new i.UIComponentBase("div","wdr-ui-col-3"),a.addChild(o);var l=new i.UIComponentBase("div","wdr-list-wrap wdr-list-wrap-all");o.addChild(l);var c=new i.UIComponentBase("div","wdr-list-header wdr-list-header-wide");l.addChild(c),o=new i.UIComponentBase("div","wdr-list-header-label-wrap"),c.addChild(o),this.lblHierarchies=new i.UILabel(e.model._labels.Labels.FIELDS_LIST_ALL_FIELDS),o.addChild(this.lblHierarchies),this.btnCollapseExpand=new i.UIButton("wdr-ui-link-btn"),this.btnCollapseExpand.removeClass("wdr-ui-btn"),this.btnCollapseExpand.setId("wdr-btn-collapse-expand-all"),this.btnCollapseExpand.setLabel(e.model._labels.Labels.FIELDS_LIST_COLLAPSE_ALL),o.addChild(this.btnCollapseExpand),this.searchWrap=new i.UIComponentBase("div","wdr-search-wrap"),c.addChild(this.searchWrap),(o=new i.UIComponentBase("button","wdr-search-btn")).addEventListener("click",function(){return n.onSearchClick()}),this.searchWrap.addChild(o),c=new i.UIComponentBase("span","wdr-ui-icon wdr-icon-act_search"),o.addChild(c),this.inpSearch=new i.UITextInput,this.inpSearch.addClass("wdr-search-inp"),this.searchWrap.addChild(this.inpSearch),(o=new i.UIComponentBase("span","wdr-close-search wdr-ui-icon wdr-icon-act_close")).addEventListener("click",function(){return n.onSearchCloseClick()}),this.searchWrap.addChild(o),c=new i.UIComponentBase("div","wdr-list-content"),l.addChild(c),this.lstHierarchies=new i.lists.UIList,this.lstHierarchies.setId("wdr-lst-hierarchies"),this.lstHierarchies.setItemRendererFactory(function(e,t){return n.selectableItemRendererFactory(e,t)}),this.lstHierarchies.setLabelField("caption"),c.addChild(this.lstHierarchies),o=new i.UIComponentBase("div","wdr-ui-col-3"),a.addChild(o),(l=new i.UIComponentBase("div","wdr-list-wrap wdr-list-wrap-pages")).setId("wdr-wrap-pages"),o.addChild(l),c=new i.UIComponentBase("div","wdr-list-header"),l.addChild(c),this.lblPages=new i.UILabel(e.model._labels.Labels.FIELDS_LIST_FILTERS),c.addChild(this.lblPages),c=new i.UIComponentBase("div","wdr-list-content"),l.addChild(c),this.lstPages=new i.lists.UIList,this.lstPages.setId("wdr-lst-pages"),this.lstPages.setItemRendererFactory(function(e,t){return n.fieldItemRendererFactory(e,t)}),this.lstPages.setLabelField("caption"),c.addChild(this.lstPages),this.lblPagesPrompt=new i.UILabel(e.model._labels.Labels.FIELDS_LIST_DROP_FIELD),this.lblPagesPrompt.addClass("wdr-prompt"),l.addChild(this.lblPagesPrompt),(l=new i.UIComponentBase("div","wdr-list-wrap wdr-list-wrap-rows")).setId("wdr-wrap-rows"),o.addChild(l),c=new i.UIComponentBase("div","wdr-list-header"),l.addChild(c),this.lblRows=new i.UILabel(e.model._labels.Labels.FIELDS_LIST_ROWS),c.addChild(this.lblRows),c=new i.UIComponentBase("div","wdr-list-content"),l.addChild(c),this.lstRows=new i.lists.UIList,this.lstRows.setId("wdr-lst-rows"),this.lstRows.setItemRendererFactory(function(e,t){return n.fieldItemRendererFactory(e,t)}),this.lstRows.setLabelField("caption"),c.addChild(this.lstRows),this.lblRowsPrompt=new i.UILabel(e.model._labels.Labels.FIELDS_LIST_DROP_FIELD),this.lblRowsPrompt.addClass("wdr-prompt"),l.addChild(this.lblRowsPrompt),o=new i.UIComponentBase("div","wdr-ui-col-3"),a.addChild(o),(l=new i.UIComponentBase("div","wdr-list-wrap wdr-list-wrap-cols")).setId("wdr-wrap-columns"),o.addChild(l),c=new i.UIComponentBase("div","wdr-list-header"),l.addChild(c),this.lblColumns=new i.UILabel(e.model._labels.Labels.FIELDS_LIST_COLUMNS),c.addChild(this.lblColumns),c=new i.UIComponentBase("div","wdr-list-content"),l.addChild(c),this.lstColumns=new i.lists.UIList,this.lstColumns.setId("wdr-lst-columns"),this.lstColumns.setItemRendererFactory(function(e,t){return n.fieldItemRendererFactory(e,t)}),this.lstColumns.setLabelField("caption"),c.addChild(this.lstColumns),this.lblColumnsPrompt=new i.UILabel(e.model._labels.Labels.FIELDS_LIST_DROP_FIELD),this.lblColumnsPrompt.addClass("wdr-prompt"),l.addChild(this.lblColumnsPrompt),(l=new i.UIComponentBase("div","wdr-list-wrap wdr-list-wrap-measures")).setId("wdr-wrap-measures"),o.addChild(l),c=new i.UIComponentBase("div","wdr-list-header"),l.addChild(c),this.lblMeasures=new i.UILabel(e.model._labels.Labels.FIELDS_LIST_VALUES),c.addChild(this.lblMeasures),c=new i.UIComponentBase("div","wdr-list-content"),l.addChild(c),this.lstMeasures=new i.lists.UIList,this.lstMeasures.setId("wdr-lst-measures"),this.lstMeasures.setItemRendererFactory(function(e,t){return n.fieldItemRendererFactory(e,t)}),this.lstMeasures.setLabelField("caption"),c.addChild(this.lstMeasures),this.lblMeasuresPrompt=new i.UILabel(e.model._labels.Labels.FIELDS_LIST_DROP_FIELD),this.lblMeasuresPrompt.addClass("wdr-prompt"),l.addChild(this.lblMeasuresPrompt),this.aggrView=new t.AggregationsView,this.aggrView.setId("wdr-aggregations-view"),this.aggrView.hide(),r.addChild(this.aggrView)},r.prototype.setLabels=function(){this.lblTitle.setLabel(e.model._labels.Labels.FIELDS_LIST_TITLE),this.lblSubtitle.setLabel(e.model._labels.Labels.FIELDS_LIST_SUBTITLE),this.btnCancel.setLabel(e.model._labels.Labels.BUTTON_CANCEL),this.btnOk.setLabel(e.model._labels.Labels.BUTTON_APPLY),this.lblHierarchies.setLabel(e.model._labels.Labels.FIELDS_LIST_ALL_FIELDS),this.lblPages.setLabel(e.model._labels.Labels.FIELDS_LIST_FILTERS),this.lblRows.setLabel(e.model._labels.Labels.FIELDS_LIST_ROWS),this.lblColumns.setLabel(e.model._labels.Labels.FIELDS_LIST_COLUMNS),this.lblMeasures.setLabel(e.model._labels.Labels.FIELDS_LIST_VALUES),this.btnAddMeasure.setLabel(e.model._labels.Labels.FIELDS_LIST_ADD_CALCULATED_MEASURE),this.lblPagesPrompt.setLabel(e.model._labels.Labels.FIELDS_LIST_DROP_FIELD),this.lblRowsPrompt.setLabel(e.model._labels.Labels.FIELDS_LIST_DROP_FIELD),this.lblColumnsPrompt.setLabel(e.model._labels.Labels.FIELDS_LIST_DROP_FIELD),this.lblMeasuresPrompt.setLabel(e.model._labels.Labels.FIELDS_LIST_DROP_FIELD),this.btnCollapseExpand.setLabel(this.controller.isExpandAll?e.model._labels.Labels.FIELDS_LIST_EXPAND_ALL:e.model._labels.Labels.FIELDS_LIST_COLLAPSE_ALL)},r.prototype.fieldItemRendererFactory=function(e,n){var i=new t.renderers.FieldItemRenderer;return i.setData(e),i.setIndex(n),i},r.prototype.selectableItemRendererFactory=function(e,n){var i=new t.renderers.SelectableItemRenderer(e,n);return i.setIndex(n),i},r.prototype.onSearchClick=function(){this.searchWrap.addClass("wdr-search-opened"),this.inpSearch.container.focus()},r.prototype.onSearchCloseClick=function(){this.searchWrap.removeClass("wdr-search-opened"),this.inpSearch.clear()},r.prototype.reset=function(){this.searchWrap.removeClass("wdr-search-opened"),this.inpSearch.clear(!1)},r.prototype.createHelper=function(e){var t=new i.UIElement("span");return t.attr("id","wdr-drag-handle"),t.addClass("wdr-helper"),t.addClass("wdr-draggable"),t.toggleClass("wdr-values",e.hasClass("wdr-values")),t.css("width",e.css("width")),t.css("position","absolute"),t.css("z-index",100),t.attr("data-index",e.attr("data-index")),t.text(e.text()),t},r.prototype.addLayoutClasses=function(e){n.prototype.addLayoutClasses.call(this,!0)},r}(i.containers.UIPopup),n.PivotFieldsView=r}((t=e._view||(e._view={})).config||(t.config={}))}(r||(r={})),function(e){var n,r,o;n=e._view||(e._view={}),r=n.config||(n.config={}),o=function(o){function s(){var e=o.call(this)||this;return e.addClass("wdr-fields-view-wrap"),e.setControls(),e}return a(s,o),s.prototype.setControls=function(){var e=this;this.openBtn=new i.UIButton,this.openBtn.setId("wdr-btn-open-fields"),this.openBtn.addEventListener(i.UIButton.CLICK_EVENT,function(t){return e.onOpenClick()}),this.addChild(this.openBtn)},s.prototype.open=function(t,n,i){void 0===i&&(i=""),this.container.toggleClass("wdr-fields-opened",!0),this.isForDillThrough||(e.model.JavaScriptHandlers.getInstance().dispatch(new e.model.APIEvent(e.model.JavaScriptHandlers.FILDS_LIST_OPEN)),e.model._options.OptionsManager.configuratorOpened=!0),this._isFlat=e.model._options.OptionsManager.flatView,this.controller=this.getController(),this.controller.update(t,n,i,this.hasChanged),this.controller.view.setId("wdr-fields-view"),this.controller.view.container.toggleClass("wdr-dt-fields",this.isForDillThrough),this.controller.view.overlay.container.toggleClass("wdr-dt-fields-overlay",this.isForDillThrough),this._modalParent?this._modalParent.addChild(this.controller.view.container):this.addChild(this.controller.view),this.isVisible()||this.show(),this.controller.view.open(),this._isActive=!0,this._prevSlice=e.data_.Cube.getInstance().slice_?e.data_.Cube.getInstance().slice_.clone():null,this._connectionInfo=e.data_.Cube.getInstance().connectionInfo_},Object.defineProperty(s.prototype,"isFlatChange",{get:function(){return this._isFlat!=e.model._options.OptionsManager.flatView},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"isActiveChange",{get:function(){return this._isActive!=e.model._options.OptionsManager.configuratorOpened},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"isDataSourceChange",{get:function(){return null==this._connectionInfo||null==e.data_.Cube.getInstance().structure_||!this._connectionInfo.isEqual(e.data_.Cube.getInstance().connectionInfo_)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"isSliceChange",{get:function(){return null==e.data_.Cube.getInstance().slice_&&null!=this._prevSlice||null!=e.data_.Cube.getInstance().slice_&&null==this._prevSlice||e.data_.Cube.getInstance().slice_&&this._prevSlice&&!e.data_.Cube.getInstance().slice_.isEqual(this._prevSlice)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"hasChanged",{get:function(){return this.isActiveChange||this.isDataSourceChange||this.isSliceChange||this.isFlatChange},enumerable:!0,configurable:!0}),s.prototype.getController=function(){var e=this,i=null,o=this._isFlat||this._isForDillThrough,a=this._modalParent||n.PivotView.stage.container;return null==this.controller?i=o?new r.flat.FlatFieldsController(a):new r._pivot.PivotFieldsController(a):o&&"flat"!=this.controller.type?i=new r.flat.FlatFieldsController(a):o||"pivot"==this.controller.type||(i=new r._pivot.PivotFieldsController(a)),null==i?this.controller:(this.controller&&this.controller.removeAllEventListeners(),i.addEventListener(t._Event.CLOSED,function(){return e.onViewClosed()}),i.addEventListener(s.EVENT_APPLY_SLICE,function(t){return e.onApplySlice(t)}),i)},s.prototype.onApplySlice=function(e){this.dispatch(e)},s.prototype.onViewClosed=function(){this._isActive=void 0,this._connectionInfo=null,this._isFlat=void 0,this.isForDillThrough||(e.model.JavaScriptHandlers.getInstance().dispatch(new e.model.APIEvent(e.model.JavaScriptHandlers.FILDS_LIST_CLOSE)),e.model._options.OptionsManager.getInstance(),e.model._options.OptionsManager.configuratorButton?this.show():this.hide(),e.model._options.OptionsManager.configuratorOpened=!1,this.dispatchWith(t._Event.CLOSED)),this.container.toggleClass("wdr-fields-opened",!1)},s.prototype.close=function(){this.controller&&this.controller.view.close()},s.prototype.onOpenClick=function(){this.dispatchWith(s.EVENT_OPEN)},Object.defineProperty(s.prototype,"isForDillThrough",{get:function(){return this._isForDillThrough},set:function(e){this._isForDillThrough=e},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"modalParent",{set:function(e){this._modalParent=e},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"containtment",{set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"isOpen",{get:function(){return this._isActive},enumerable:!0,configurable:!0}),s.EVENT_APPLY_SLICE="EVENT_APPLY_SLICE",s.EVENT_OPEN="EVENT_OPEN",s}(i.UIComponentBase),r.FieldsView=o}(r||(r={})),function(e){var t;!function(t){!function(t){var n=function(t){function n(){var e=t.call(this)||this;return e.createTextDisplay(),e}return a(n,t),n.prototype.createTextDisplay=function(){null==this.textDisplay&&(this.textDisplay=new i.UIElement("span"),this.textDisplay.attr("id","wdr-text-display"))},n.prototype.createArrgDisplay=function(){null==this.aggrDisplay&&(this.aggrDisplay=new i.UIElement("span"),this.aggrDisplay.attr("id","wdr-aggr-display"))},n.prototype.createDragHandle=function(){null==this.dragHandle&&(this.dragHandle=new i.UIElement("span"),this.dragHandle.attr("id","wdr-drag-handle"))},n.prototype.draw=function(){var t=this.getData();this.container.empty();var n=null!=this.getLabelFunction()?this.getLabelFunction()(t):t.isLevel?t.hierarchyCaption+" / "+t[this.getLabelField()]:t[this.getLabelField()];this.textDisplay.text(n),this.textDisplay.attr("title",n),this.container.append(this.textDisplay),1==t.isMeasure&&1==t.showAggregations&&1<t.availableAggregations.length&&e.model._options.OptionsManager.showAggregations&&(this.createArrgDisplay(),this.container.append(this.aggrDisplay)),this.createDragHandle(),this.container.append(this.dragHandle),this.container.toggleClass("wdr-measure",!0===t.isMeasure),this.container.toggleClass("wdr-values",!0===t.isValues),this.container.toggleClass("wdr-selected",!0===t.isSelected),this.container.toggleClass("wdr-level",!0===t.isLevel)},n}(i.renderers.UIItemRenderer);t.FieldItemRenderer=n}(t.renderers||(t.renderers={}))}((t=e._view||(e._view={})).config||(t.config={}))}(r||(r={})),function(e){!function(e){var t,n,r;n=(t=e.config||(e.config={})).renderers||(t.renderers={}),r=function(t){function n(e,n){void 0===e&&(e=null);var i=t.call(this)||this;return i.data=e,i.createIconDisplay(),i.createTextDisplay(),i}return a(n,t),n.prototype.createIconDisplay=function(){null==this.iconDisplay&&(this.iconDisplay=new i.UIElement("span"),this.iconDisplay.attr("id","wdr-icon-display"))},n.prototype.createMoreIconDisplay=function(){null==this.moreIconDisplay&&(this.moreIconDisplay=new i.UIElement("span"),this.moreIconDisplay.attr("id","wdr-moreicon-display"))},n.prototype.createTextDisplay=function(){null==this.textDisplay&&(this.textDisplay=new i.UIElement("span"),this.textDisplay.attr("id","wdr-text-display"))},n.prototype.createArrgDisplay=function(){null==this.aggrDisplay&&(this.aggrDisplay=new i.UIElement("span"),this.aggrDisplay.attr("id","wdr-aggr-display"))},n.prototype.createCalcDisplay=function(){null==this.calcDisplay&&(this.calcDisplay=new i.UIElement("span"),this.calcDisplay.attr("id","wdr-calc-display"))},n.prototype.createDragHandle=function(){null==this.dragHandle&&(this.dragHandle=new i.UIElement("span"),this.dragHandle.attr("id","wdr-drag-handle"))},n.prototype.draw=function(){var t=this.getData();this.container.empty(),this.container.append(this.iconDisplay),t.isLevelFolder&&(this.createMoreIconDisplay(),this.container.append(this.moreIconDisplay)),this.textDisplay.text(t[this.getLabelField()]),this.textDisplay.attr("title",t[this.getLabelField()]),this.container.append(this.textDisplay),!0===t.isMeasure&&!0===t.calculated&&!0===t.showAggregations&&(this.createCalcDisplay(),this.container.append(this.calcDisplay)),t.isFolder||t.isMeasuresFolder?null!=this.dragHandle&&this.dragHandle.remove():(this.createDragHandle(),this.container.append(this.dragHandle));for(var n=!0===t.isSelected||null!=t.measureItem&&!0===t.measureItem.isSelected,i=1;10>i;i++)this.container.toggleClass("wdr-level-"+i,t.level===i);this.container.toggleClass("wdr-selected",!0===n),this.container.toggleClass("wdr-checked",!0!==t.isFolder&&!0!==t.isLevel&&!0===n),this.container.toggleClass("wdr-unchecked",!0!==t.isFolder&&!0!==t.isLevel&&!0!==n),this.container.toggleClass("wdr-measure",!0===t.isMeasure),this.container.toggleClass("wdr-folder",!0===t.isFolder||!0===t.isLevelFolder),this.container.toggleClass("wdr-level-folder",!0===t.isLevelFolder),this.container.toggleClass("wdr-level",!0===t.isLevel),this.container.toggleClass("wdr-measures-folder",!0===t.isMeasuresFolder),this.container.toggleClass("wdr-measures-calculated-folder",!0===t.isMeasuresFolder&&!0===t.isCalculatedMeasuresFolder),this.container.toggleClass("wdr-calculated",!0===t.calculated),this.container.toggleClass(e.grid.vo.GridStyleName.COLLAPSED,(!0===t.isFolder||!0===t.isLevelFolder)&&!0!==t.isExpanded),this.container.toggleClass(e.grid.vo.GridStyleName.EXPANDED,(!0===t.isFolder||!0===t.isLevelFolder)&&!0===t.isExpanded)},n}(i.renderers.UIItemRenderer),n.SelectableItemRenderer=r}(e._view||(e._view={}))}(r||(r={})),function(e){var t;!function(t){!function(t){var n=function(){function t(){this.newCalculated=[]}return t.prototype.update=function(t,n){this._structure=t,this._slice=n,this.hierarchies=[];var i,r=null,o=this._structure.calculatedMeasures;if(null!=this._slice){r=this._slice.flatten(!0);for(var s=0;s<r.length;s++)i=r.getItemAt(s),o.keyExists(i.uniqueName)&&((i=o.getItem(i.uniqueName)).showAggregations=e.model._options.OptionsManager.showAggregations,i.isMeasure=!0),i.isSelected=!0,this.hierarchies.push(i)}var a=[],l=this._structure.allHierarchies(!1);for(s=0;s<l.length;s++)i=l.getItemAt(s),null==r||r.keyExists(i.uniqueName)||(i.isSelected=!1,a.push(i));for(s=0;s<o.length;s++)i=o.getItemAt(s),null==r||r.keyExists(i.uniqueName)||(i.isSelected=n.measures_.keyExists(i.uniqueName)||-1<this.newCalculated.indexOf(i.uniqueName),i.showAggregations=e.model._options.OptionsManager.showAggregations,i.isMeasure=!0,a.push(i));for(a.sort(function(e,t){return e.caption<t.caption?-1:e.caption>t.caption?1:0}),s=0;s<a.length;s++)this.hierarchies.push(i=a[s])},t.prototype.isValidSlice=function(){return!0},t.prototype.toPlainArray=function(e,t){for(var n=[],i=0;i<t.length;i++){var r=e[t[i]];r.isSelected&&n.push(r.uniqueName)}return n},t.prototype.getSlice=function(e){var t=this._slice.clone();e=this.toPlainArray(this.hierarchies,e),t.flatOrder=e;for(var n,i=t.flatten(!0),r=t.measures_,o=0;o<e.length;o++){var s=e[o];i.keyExists(s)||((n=this._structure.allHierarchies().getItem(s))?t.rows.addItem(s,n):this._structure.calculatedMeasures.keyExists(s)&&(r.addItem(s,this._structure.calculatedMeasures.getItem(s)),t.measures_=r))}for(o=0;o<i.length;o++)n=i.getItemAt(o),-1==e.indexOf(n.uniqueName)&&(t.columns.keyExists(n.uniqueName)&&t.columns.removeItem(n.uniqueName),t.rows.keyExists(n.uniqueName)&&t.rows.removeItem(n.uniqueName),null==(s=this._structure.hierarchyToMeasure(n.uniqueName))&&(s=this._structure.calculatedMeasures.getItem(n.uniqueName)),r.keyExists(s.uniqueName)&&r.removeItem(s.uniqueName));return t.measures_=r,this.newCalculated=[],t},t.prototype.onCalculatedValueAdded=function(e){if(null!=this._slice&&null!=this._structure){this.update(this._structure,this._slice);var t=s.ArrayUtils.find(this.hierarchies,e,"uniqueName");null!=t&&(t.isSelected=!0),this.newCalculated.push(e)}},t.prototype.onCalculatedValueRemoved=function(e){null!=this._slice&&null!=this._structure&&this.update(this._structure,this._slice)},t.prototype.isSliceDifferent=function(e){e=e.flatten(!0);var t=this._slice.flatten(!0);if(e.length!=t.length)return!0;for(var n=0;n<e.length;n++)if(e.getKeyAt(n)!=t.getKeyAt(n))return!0;return!1},t.prototype.getSelectAllSelection=function(){for(var e=0,t=0;t<this.hierarchies.length;t++)this.hierarchies[t].isSelected&&e++;return 0==e?i.UICheckBox.UNSELECTED:e==this.hierarchies.length?i.UICheckBox.SELECTED:i.UICheckBox.SEMI_SELECTED},t}();t.FlatFieldsModel=n}(t.flat||(t.flat={}))}((t=e._view||(e._view={})).config||(t.config={}))}(r||(r={})),function(e){var n,r,o,l;n=e._view||(e._view={}),r=n.config||(n.config={}),o=r.flat||(r.flat={}),l=function(l){function c(e){var n=l.call(this)||this;return n.type="flat",n.calculatedValueAddedHandler=function(e){return n.onCalculatedValueAdded(e)},n.calculatedValueRemovedHandler=function(e){return n.onCalculatedValueRemoved(e)},n.model_=new o.FlatFieldsModel,n.view=new o.FlatFieldsView(n,e),n.view.addEventListener(t._Event.CLOSED,function(e){return n.dispatch(e)}),n.view.btnOk&&n.view.btnOk.addEventListener(i.UIButton.CLICK_EVENT,function(){return n.onOkClick()}),n.view.btnCancel&&n.view.btnCancel.addEventListener(i.UIButton.CLICK_EVENT,function(){return n.onCancelClick()}),n.view.lstHierarchies&&(n.view.lstHierarchies.container.addEventListener("click",function(e){return n.onHierarchyFieldClick(e)}),n.view.lstHierarchies.container.droppable({onDrop:function(e,t,i,r){return n.onDrop(e,t,i,r)},onDragEnter:function(e,t,i,r){return n.onDragEnterOrOver(e,t,i,r)},onDragOver:function(e,t,i,r){return n.onDragEnterOrOver(e,t,i,r)},onDragLeave:function(e,t,i,r){return n.onDragLeave(e,t,i,r)},itemSelector:"li"})),n.view.selectAllCbx&&n.view.selectAllCbx.addEventListener(t._Event.CHANGE,function(){return n.onSelectAllChange()}),n.view.btnAddMeasure&&n.view.btnAddMeasure.addEventListener(i.UIButton.CLICK_EVENT,function(){return n.onAddMeasureClick()}),n}return a(c,l),c.prototype.onDragEnterOrOver=function(e,t,n,r){this.removeDropIndicator(),e&&e.closest("ul")&&(t&&t.addClass("wdr-droppable-valid"),e.addClass("wdr-drag-over"),this.showIndicator(i.UIElement.convert(r.target)))},c.prototype.onDragLeave=function(e,t,n,i){this.removeDropIndicator(),e&&e.closest("ul")&&(t&&t.removeClass("wdr-droppable-valid"),t&&t.removeClass("wdr-droppable-invalid"),e.removeClass("wdr-drag-over"))},c.prototype.onDrop=function(e,t,n,i){this.removeDropIndicator(),e&&e.closest("ul")&&(e=parseInt(e.attr("data-index")))!=(n=n?parseFloat(n.attr("data-index")):this.view.lstHierarchies.getDataProvider().length)&&(e<n&&(n-=1),(t=this.view.lstHierarchies.getDataProvider()).splice(n,0,t.splice(e,1)[0]),this.updateView())},c.prototype.onCancelClick=function(){this.view.close()},c.prototype.onOkClick=function(){this.applySlice(),this.view.close()},c.prototype.onSelectAllChange=function(){for(var e=this.view.selectAllCbx.checked,t=this.model_.hierarchies,n=0;n<t.length;n++)t[n].isSelected=e;this.view.lstHierarchies.validateNow()},c.prototype.onHierarchyFieldClick=function(t){if(null!=(r=i.UIElement.convert(t.target).closest("li"))){var r=parseInt(r.attr("data-index")),o=this.model_.hierarchies[r];"wdr-calc-display"==i.UIElement.convert(t.target).attr("id")?e.model.PivotModel.getInstance().dispatchWith(n.ViewEvent.CALCULATED_VIEW_OPEN,null,{measureName:o.uniqueName}):(o.isSelected=!o.isSelected,this.view.lstHierarchies&&this.view.lstHierarchies.validateItemAt(r),this.view.selectAllCbx&&this.view.selectAllCbx.setSelection(this.model_.getSelectAllSelection()))}},c.prototype.onAddMeasureClick=function(){e.model.PivotModel.getInstance().dispatchWith(n.ViewEvent.CALCULATED_VIEW_OPEN),e.model.PivotModel.getInstance().addEventListener(n.calculated.CalculatedView.EVENT_CALCULATED_VALUE_ADDED,this.calculatedValueAddedHandler),e.model.PivotModel.getInstance().addEventListener(n.calculated.CalculatedView.EVENT_CALCULATED_VALUE_REMOVED,this.calculatedValueRemovedHandler)},c.prototype.onCalculatedValueAdded=function(t){e.model.PivotModel.getInstance().removeEventListener(n.calculated.CalculatedView.EVENT_CALCULATED_VALUE_ADDED,this.calculatedValueAddedHandler),this.model_.onCalculatedValueAdded(t.data.measureUniqueName),this.updateView()},c.prototype.onCalculatedValueRemoved=function(t){e.model.PivotModel.getInstance().removeEventListener(n.calculated.CalculatedView.EVENT_CALCULATED_VALUE_REMOVED,this.calculatedValueRemovedHandler),this.model_.onCalculatedValueRemoved(t.data),this.updateView()},c.prototype.updateView=function(){var e=this;if(this.view.lstHierarchies){this.view.lstHierarchies.setDataProvider(this.model_.hierarchies),this.validateSlice(),this.view.lstHierarchies.validateNow();var t={createHelper:function(t){return e.view.createHelper(t)}};s.browserVersion().isMobile&&(t.handle="#wdr-drag-handle");for(var n=this.view.lstHierarchies.container.find("li",!0),i=0;i<n.length;i++)n[i].draggable(t)}},c.prototype.update=function(e,t){this.model_.update(e,t),this.updateView(),this.view.selectAllCbx&&this.view.selectAllCbx.setSelection(this.model_.getSelectAllSelection()),this.view.setLabels()},c.prototype.validateSlice=function(){this.view.btnOk&&this.view.btnOk.setEnabled(this.model_.isValidSlice())},c.prototype.applySlice=function(){for(var e=[],t=this.view.lstHierarchies.container.find("li",!0),n=0;n<t.length;n++){var i=parseInt(t[n].attr("data-index"));e.push(i)}e=this.model_.getSlice(e),this.model_.isSliceDifferent(e)&&this.dispatchWith(r.FieldsView.EVENT_APPLY_SLICE,this,e)},c.prototype.showIndicator=function(e){var t=e.closest("li");null!=t?(this._dropIndicator=this.createDropIndicator(),t.before(this._dropIndicator)):null!=(e=e.closest("ul"))&&(this._dropIndicator=this.createDropIndicator(),0<e.element.children.length?e.append(this._dropIndicator):e.prepend(this._dropIndicator))},c.prototype.createDropIndicator=function(){return new i.UIElement("div","wdr-drop-indicator")},c.prototype.removeDropIndicator=function(){this._dropIndicator&&(this._dropIndicator.removeFromParent(!0),this._dropIndicator=null)},c}(t.EventDispatcher),o.FlatFieldsController=l}(r||(r={})),function(e){var t;!function(t){var n,r;n=t.flat||(t.flat={}),r=function(n){function r(e,t){var i=n.call(this,t)||this;return i.addClass("wdr-flat-fields"),i.controller=e,i.setControls(),i}return a(r,n),r.prototype.setControls=function(){var t=new i.UIComponentBase("div","wdr-popup-header wdr-ui-row");this.addChild(t);var n=new i.UIComponentBase("div","wdr-ui-col wdr-vam");t.addChild(n),this.lblTitle=new i.UILabel(e.model._labels.Labels.FIELDS_LIST_TITLE),this.lblTitle.addClass("wdr-popup-title"),n.addChild(this.lblTitle),this.lblSubtitle=new i.UILabel(e.model._labels.Labels.FIELDS_LIST_FLAT_HIERARCHY_BOX),this.lblSubtitle.addClass("wdr-popup-subtitle"),n.addChild(this.lblSubtitle),n=new i.UIComponentBase("div","wdr-ui-col wdr-vam wdr-tar wdr-ui-btns-row"),t.addChild(n),this.btnAddMeasure=new i.UIButton("wdr-ui-btn-light wdr-icon-act_calc"),this.btnAddMeasure.setId("wdr-btn-add-measure"),n.addChild(this.btnAddMeasure),this.btnCancel=new i.UIButton,this.btnCancel.setLabel(e.model._labels.Labels.BUTTON_CANCEL),this.btnOk=new i.UIButton("wdr-ui-btn-dark"),this.btnOk.setLabel(e.model._labels.Labels.BUTTON_APPLY),s.OSUtil.isIOS||s.OSUtil.isMac?(n.addChild(this.btnCancel),n.addChild(this.btnOk)):(n.addChild(this.btnOk),n.addChild(this.btnCancel)),n=new i.UIComponentBase("div","wdr-popup-content"),this.addChild(n),t=new i.UIComponentBase("div","wdr-list-wrap"),n.addChild(t),n=new i.UIComponentBase("div","wdr-list-header"),t.addChild(n),this.selectAllCbx=new i.UICheckBox,this.selectAllCbx.setId("wdr-select-all-cbx"),this.selectAllCbx.setLabel(e.model._labels.Labels.FILTER_SELECT_ALL),n.addChild(this.selectAllCbx),n=new i.UIComponentBase("div","wdr-list-content"),t.addChild(n),this.lstHierarchies=new i.lists.UIList,this.lstHierarchies.setId("wdr-lst-hierarchies"),this.lstHierarchies.setItemRendererFactory(this.selectableItemRendererFactory),this.lstHierarchies.setLabelField("caption"),n.addChild(this.lstHierarchies)},r.prototype.selectableItemRendererFactory=function(e,n){var i=new t.renderers.SelectableItemRenderer(e,n);return i.setData(e),i.setIndex(n),i},r.prototype.setLabels=function(){this.lblTitle.setLabel(e.model._labels.Labels.FIELDS_LIST_TITLE),this.lblSubtitle.setLabel(e.model._labels.Labels.FIELDS_LIST_FLAT_HIERARCHY_BOX),this.btnCancel.setLabel(e.model._labels.Labels.BUTTON_CANCEL),this.btnOk.setLabel(e.model._labels.Labels.BUTTON_APPLY),this.selectAllCbx.setLabel(e.model._labels.Labels.FILTER_SELECT_ALL)},r.prototype.createHelper=function(e){var t=new i.UIElement("span");return t.attr("id","wdr-drag-handle"),t.addClass("wdr-helper"),t.addClass("wdr-draggable"),t.toggleClass("wdr-values",e.hasClass("wdr-values")),t.css("width",e.css("width")),t.css("position","absolute"),t.css("z-index",100),t.attr("data-index",e.attr("data-index")),t.text(e.text()),t},r}(i.containers.UIPopup),n.FlatFieldsView=r}((t=e._view||(e._view={})).config||(t.config={}))}(r||(r={})),function(e){!function(e){var n,r;n=e.calculated||(e.calculated={}),r=function(i){function r(){var r=i.call(this,e.PivotView.stage.container)||this;return r.setId("wdr-calculated-view"),r.container.disableSelection(),r.overlay.addClass("wdr-calculated-view-overlay"),r.controller=new n.CalculatedController,r.controller.addEventListener(t._Event.CLOSE,function(){return r.close()}),r.addChild(r.controller.view),r}return a(r,i),r.prototype.openView=function(e){this.controller.update(e),this.open()},r.prototype.close=function(){i.prototype.close.call(this),this.controller.clear()},r.EVENT_CALCULATED_VALUE_ADDED="EVENT_CALCULATED_VALUE_ADDED",r.EVENT_CALCULATED_VALUE_REMOVED="EVENT_CALCULATED_VALUE_REMOVED",r.addingMeasureFlag=!1,r}(i.containers.UIPopup),n.CalculatedView=r}(e._view||(e._view={}))}(r||(r={})),function(e){var t,n,i;t=e._view||(e._view={}),n=t.calculated||(t.calculated={}),i=function(){function i(){this.model_=e.model.PivotModel.getInstance(),this.funcButtonsDataProvider=[{name:"_addBtn",label:"+",func:e.data_.consts.FunctionName.ADD},{name:"_subtractBtn",label:"-",func:e.data_.consts.FunctionName.SUBTRACT},{name:"_multiplyBtn",label:"Ã",func:e.data_.consts.FunctionName.MULTIPLY},{name:"_divideBtn",label:"Ã·",func:e.data_.consts.FunctionName.DIVIDE},{name:"_powerBtn",label:"^",func:e.data_.consts.FunctionName.POWER},{name:"_equalBtn",label:"=",func:e.data_.consts.FunctionName.EQUAL},{name:"_lessBtn",label:"<",func:e.data_.consts.FunctionName.LESS},{name:"_greaterBtn",label:">",func:e.data_.consts.FunctionName.GREATER},{name:"_lessOrEqualBtn",label:"â¤",func:e.data_.consts.FunctionName.LESS_OR_EQUAL},{name:"_greaterOrEqualBtn",label:"â¥",func:e.data_.consts.FunctionName.GREATER_OR_EQUAL},{name:"_equalBtn2",label:"==",func:e.data_.consts.FunctionName.EQUAL_2},{name:"_notEqualBtn",label:"!=",func:e.data_.consts.FunctionName.NOT_EQUAL},{name:"_orBtn",label:"OR",func:e.data_.consts.FunctionName.OR},{name:"_andBtn",label:"AND",func:e.data_.consts.FunctionName.AND},{name:"_ifBtn",label:"IF",func:e.data_.consts.FunctionName.IF},{name:"_absBtn",label:"ABS",func:e.data_.consts.FunctionName.ABS},{name:"_minBtn",label:"MIN",func:e.data_.consts.FunctionName.MIN},{name:"_maxBtn",label:"MAX",func:e.data_.consts.FunctionName.MAX}]}return i.prototype.update=function(e){s.nullOrEmpty(e)||(this.currentMeasure=this.model_.cube_.structure_.findMeasure(e))},Object.defineProperty(i.prototype,"showAggregations",{get:function(){return!0},enumerable:!0,configurable:!0}),i.prototype.getAllMeasures=function(){return this.model_.getAllMeasures()},i.prototype.removeMeasure=function(e){n.CalculatedView.addingMeasureFlag=!0,this.model_.removeCalculatedMeasure(e.uniqueName),this.model_.dispatchWith(n.CalculatedView.EVENT_CALCULATED_VALUE_REMOVED,null,e.uniqueName),s.fmSetTimeout(function(){n.CalculatedView.addingMeasureFlag=!1},1e3)},i.prototype.addMeasure=function(i,r,o){var a;void 0===r&&(r=""),void 0===o&&(o=!1),r=0<r.length?r:this.generateMeasureName(),null!=this.currentMeasure?this.currentMeasure.caption==r&&this.currentMeasure.formula==i&&this.currentMeasure.individual==o||((a=new e.data_._structure.GenericMeasure(this.currentMeasure.uniqueName,r)).formula=i,a.individual=o):((a=new e.data_._structure.GenericMeasure(r,r)).formula=i,a.individual=o),null!=a&&(n.CalculatedView.addingMeasureFlag=!0,t.config._pivot.PivotFieldsModel.expandFormulas=!0,this.model_.addCalculatedMeasure(a),this.model_.dispatchWith(n.CalculatedView.EVENT_CALCULATED_VALUE_ADDED,null,{measureUniqueName:a.uniqueName}),s.fmSetTimeout(function(){n.CalculatedView.addingMeasureFlag=!1},1e3))},i.prototype.isValidFormula=function(e){return null!=(e=(new s.Lexer).parse(e))&&null!=e.length},i.prototype.generateMeasureName=function(){for(var t=e.model._labels.Labels.CALCULATED_VIEW_FORMULA+" #",n=0,i=this.model_.cube_.structure_.calculatedMeasures,r=RegExp(e.model._labels.Labels.CALCULATED_VIEW_FORMULA+" #"),o=0;o<i.length;o++){var s=i.getItemAt(o).caption;r.test(s)&&(n=Math.max(n,parseInt(s.substr(e.model._labels.Labels.CALCULATED_VIEW_FORMULA.length+2))))}return t+(n+1)},i}(),n.CalculatedModel=i}(r||(r={})),function(e){var n,r,o;n=e._view||(e._view={}),r=n.calculated||(n.calculated={}),o=function(o){function l(){var e=o.call(this)||this;if(e.model_=new r.CalculatedModel,e.view=new r.CalculatedViewContent(e),e.view.removeButton&&e.view.removeButton.addEventListener(i.UIButton.CLICK_EVENT,function(t){return e.onRemoveBtnClick(t)}),e.view.measuresDragList&&e.view.measuresDragList.setItemRendererFactory(function(t,n){return e.fieldItemRendererFactory(t,n)}),e.view.formulaInput&&e.view.formulaInput.container.droppable({onDrop:function(t){return e.onMeasureDrop(t)},onDragEnter:function(){return e.onFormulaDragEnterOrOver()},onDragOver:function(){return e.onFormulaDragEnterOrOver()},onDragLeave:function(){return e.onFormulaDragLeave()},itemSelector:"li"}),e.view.btnOk&&e.view.btnOk.addEventListener(i.UIButton.CLICK_EVENT,function(){return e.onOkClick()}),e.view.btnCancel&&e.view.btnCancel.addEventListener(i.UIButton.CLICK_EVENT,function(){return e.onCancelClick()}),e.view.aggrView&&e.view.aggrView.addEventListener(t._Event.CHANGE,function(t){return e.onAggrChange(t)}),e.view.funcBtns)for(var n=0;n<e.view.funcBtns.length;n++)e.view.funcBtns[n].addEventListener(i.UIButton.CLICK_EVENT,function(t){return e.onFuncBtnClick(t)});return e}return a(l,o),l.prototype.onFormulaDragEnterOrOver=function(){this.view.formulaInput.addClass("wdr-droppable-over")},l.prototype.onFormulaDragLeave=function(){this.view.formulaInput.removeClass("wdr-droppable-over")},l.prototype.onMeasureDrop=function(e){this.view.formulaInput.removeClass("wdr-droppable-over"),e=parseInt(e.attr("data-index")),e=this.view.measuresDragList.getDataProvider()[e],this.addNewFieldToFormula(e)},l.prototype.fieldItemRendererFactory=function(t,i){var r=this,o=new n.config.renderers.FieldItemRenderer;return o.setData(t),o.setIndex(i),o.setLabelFunction(function(t){return t.name+" ("+e.data_.consts.AggregationName.aggregationCaption(t.aggregation)+")"}),o.addEventListener("click",function(e){return r.onAggrClick(e)}),o.addEventListener("dblclick",function(e){return r.onItemDblClick(e)}),o},Object.defineProperty(l.prototype,"funcButtonsDataProvider",{get:function(){return this.model_.funcButtonsDataProvider},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"isFormulaEmpty",{get:function(){return 0==this.view.formulaInput.getText().length},enumerable:!0,configurable:!0}),l.prototype.update=function(e){this.model_.update(e),null!=this.model_.currentMeasure?(this.view.nameInput&&(this.view.nameInput.setText(this.model_.currentMeasure.caption),this.view.nameInput.container.toggleClass("wdr-compact",!0)),this.view.formulaInput&&this.view.formulaInput.setText(this.model_.currentMeasure.formula),this.view.removeButton&&this.view.removeButton.isVisible(!0)):(this.view.nameInput&&this.view.nameInput.container.toggleClass("wdr-compact",!1),this.view.cbxIndiValues&&(this.view.cbxIndiValues.checked=!1),this.view.removeButton&&this.view.removeButton.isVisible(!1)),this.view.cbxIndiValues&&(this.view.cbxIndiValues.checked=!!this.model_.currentMeasure&&this.model_.currentMeasure.individual),this.view.setLabels(),this.updateMeasuresList()},l.prototype.updateMeasuresList=function(){for(var t=this,n=this.model_.getAllMeasures(),i=[],r=0;r<n.length;r++)null!=this.model_.currentMeasure&&this.model_.currentMeasure.uniqueName==n[r].uniqueName||(n[r].isMeasure=!0,n[r].showAggregations=this.model_.showAggregations&&!n[r].calculated&&n[r].type!=e.data_.types.MeasureType.COUNT,i.push(n[r]));if(i.sort(this.compareFunction),this.view.measuresDragList)for(this.view.measuresDragList.setDataProvider(i),n={createHelper:function(e){return t.view.createHelper(e)}},s.browserVersion().isMobile&&(n.handle="#wdr-drag-handle"),i=this.view.measuresDragList.container.find("li",!0),r=0;r<i.length;r++)i[r].draggable(n)},l.prototype.clear=function(){this.view.nameInput&&this.view.nameInput.setText(""),this.view.formulaInput&&this.view.formulaInput.setText(""),this.model_.currentMeasure=null},l.prototype.compareFunction=function(e,t){return e.name>t.name?1:-1},l.prototype.onRemoveBtnClick=function(e){s.browserVersion().isMobile?this.onRemoveMeasure():this.showRemoveAlert()},l.prototype.showRemoveAlert=function(){var t,n,i=this;s.OSUtil.isIOS||s.OSUtil.isMac?(t=[e.model._labels.Labels.BUTTON_NO,e.model._labels.Labels.BUTTON_YES],n=[null,function(){return i.onRemoveMeasure()}]):(t=[e.model._labels.Labels.BUTTON_YES,e.model._labels.Labels.BUTTON_NO],n=[function(){return i.onRemoveMeasure()},null]);var r=e.model.XSSCheck.valid(this.model_.currentMeasure.caption)?this.model_.currentMeasure.caption:e.model.XSSCheck.validate(this.model_.currentMeasure.caption);e.uialert(e.model._labels.Labels.CALCULATED_VIEW_REMOVE_VALUE_MESSAGE,s.StringUtils.bind(e.model._labels.Labels.CALCULATED_VIEW_REMOVE_VALUE_TITLE,r),e.AlertType.ALERT,t,n)},l.prototype.onRemoveMeasure=function(){this.model_.removeMeasure(this.model_.currentMeasure),this.close()},l.prototype.onAggrClick=function(e){if("wdr-aggr-display"==e.target.id){var t=parseInt(i.UIElement.convert(e.target).closest("li").attr("data-index"));t=this.view.measuresDragList.getDataProvider()[t],this.view.aggrView.showWith(t,i.UIElement.convert(e.target))}},l.prototype.onItemDblClick=function(e){e=parseInt(i.UIElement.convert(e.target).closest("li").attr("data-index")),e=this.view.measuresDragList.getDataProvider()[e],this.addNewFieldToFormula(e)},l.prototype.addNewFieldToFormula=function(t){null!=t&&this.insertText(t.aggregation==e.data_.consts.AggregationName.NONE?s.StringUtils.bind('"{0}"',t.uniqueName):s.StringUtils.bind('{0}("{1}")',t.aggregation,t.uniqueName))},l.prototype.onAggrChange=function(e){var t=e.data.fieldData;t.aggregation=(e=e.data.aggrData).aggregation,t.caption=e.caption+" of "+t.name,this.view.measuresDragList.validateItem(t)},l.prototype.onFuncBtnClick=function(t){t=parseInt(t.target.container.attr("data-index")),(t=this.funcButtonsDataProvider[t].func)==e.data_.consts.FunctionName.IF||t==e.data_.consts.FunctionName.ABS||t==e.data_.consts.FunctionName.MIN||t==e.data_.consts.FunctionName.MAX||t==e.data_.consts.FunctionName.VALUE?this.addSpecialOperation(t):this.addOperation(t)},l.prototype.onCancelClick=function(){this.close()},l.prototype.onOkClick=function(){var t=this.view.formulaInput.getText();0==t.length?this.close():0==this.model_.isValidFormula(t)?e.uialert(e.model._labels.Labels.MESSAGE_WRONG_FORMULA_FORMAT):(this.model_.addMeasure(t,this.view.nameInput.getText(),this.view.cbxIndiValues.checked),this.close())},l.prototype.close=function(){this.dispatchWith(t._Event.CLOSE)},l.prototype.insertText=function(e,t){void 0===t&&(t=0);var n=this.view.formulaInput.getSelectionBeginIndex();this.view.formulaInput.getSelectionEndIndex();var i=this.view.formulaInput.getText();-1==n&&(n=this.lastPosition),0==n||" "==i.charAt(n-1)?(this.view.formulaInput.insertText(e+" "),this.lastPosition=n+e.length+1):(this.view.formulaInput.insertText(" "+e+" "),this.lastPosition=n+e.length+2),this.lastPosition-=t,this.view.formulaInput.setSelection(this.lastPosition)},l.prototype.addOperation=function(e){this.insertText(e)},l.prototype.addSpecialOperation=function(e){var t=this.view.formulaInput.getSelectionBeginIndex(),n=this.view.formulaInput.getSelectionEndIndex(),i=this.view.formulaInput.getText();"if"==e?this.insertText(e+"("+i.slice(t,n)+", , )",6):this.insertText(e+"("+i.slice(t,n)+")",2)},l}(t.EventDispatcher),r.CalculatedController=o}(r||(r={})),function(e){var t,n,r;n=(t=e._view||(e._view={})).calculated||(t.calculated={}),r=function(n){function r(e){var t=n.call(this)||this;return t.controller=e,t.setControls(),t}return a(r,n),r.prototype.setControls=function(){var n=this,r=new i.UIComponentBase("div","wdr-popup-header wdr-ui-row");this.addChild(r);var o=new i.UIComponentBase("div","wdr-ui-col wdr-vam");r.addChild(o),this.titleLabel=new i.UILabel(e.model._labels.Labels.CALCULATED_VIEW_TITLE),this.titleLabel.addClass("wdr-popup-title"),o.addChild(this.titleLabel),this.subtitleLabel=new i.UILabel(e.model._labels.Labels.CALCULATED_VIEW_MEASURE_BOX),this.subtitleLabel.addClass("wdr-popup-subtitle"),o.addChild(this.subtitleLabel),o=new i.UIComponentBase("div","wdr-ui-col wdr-vam wdr-tar wdr-ui-btns-row"),r.addChild(o),this.removeButton=new i.UIButton("wdr-ui-btn-light wdr-icon-act_trash"),this.removeButton.setId("wdr-remove-btn"),this.removeButton.container.attr("title",e.model._labels.Labels.CALCULATED_VIEW_REMOVE_VALUE),o.addChild(this.removeButton),this.btnCancel=new i.UIButton("wdr-ui-btn"),this.btnCancel.setLabel(e.model._labels.Labels.BUTTON_CANCEL),this.btnOk=new i.UIButton("wdr-ui-btn-dark"),this.btnOk.setLabel(e.model._labels.Labels.BUTTON_APPLY),s.OSUtil.isIOS||s.OSUtil.isMac?(o.addChild(this.btnCancel),o.addChild(this.btnOk)):(o.addChild(this.btnOk),o.addChild(this.btnCancel)),r=new i.UIComponentBase("div","wdr-popup-content"),this.addChild(r),this.nameInput=new i.UITextInput,this.nameInput.setId("wdr-name-input"),this.nameInput.setPrompt(e.model._labels.Labels.CALCULATED_VIEW_MEASURE_NAME),r.addChild(this.nameInput),this.measuresDragList=new i.lists.UIList,this.measuresDragList.setId("wdr-lst-measures"),this.measuresDragList.useCache=!1,this.measuresDragList.setLabelField("caption"),r.addChild(this.measuresDragList),this.cbxIndiValues=new i.UICheckBox,this.cbxIndiValues.setLabel(e.model._labels.Labels.CALCULATED_VIEW_CALCULATE_INDI_VALUES),r.addChild(this.cbxIndiValues),this.funcBtnsContainer=new i.UIComponentBase("div","wdr-ui-row"),this.funcBtnsContainer.setId("wdr-func-btn-group"),r.addChild(this.funcBtnsContainer),this.funcBtns=[],o=this.controller.funcButtonsDataProvider;for(var a=0;a<o.length;a++){var l=new i.UIButton("wdr-ui-col-9 wdr-calc-action");l.removeClass("wdr-ui-btn"),l.setName(o[a].name),l.setLabel(o[a].label),l.container.attr("data-index",a),this.funcBtnsContainer.addChild(l),this.funcBtns.push(l)}o=new i.UIComponentBase("div","wdr-formula-wrap"),r.addChild(o),this.formulaInput=new i.UITextArea,this.formulaInput.setId("wdr-formula-input"),this.formulaInput.addEventListener(i.UITextInput.CHANGE_EVENT,function(){return n.onFormulaChange()}),o.addChild(this.formulaInput),this.lblFormulaPrompt=new i.UILabel(e.model._labels.Labels.CALCULATED_VIEW_FORMULA_PROMPT),this.lblFormulaPrompt.addClass("wdr-prompt"),o.addChild(this.lblFormulaPrompt),this.aggrView=new t.config.AggregationsView,this.aggrView.setId("wdr-aggregations-view"),this.aggrView.hide(),r.addChild(this.aggrView)},r.prototype.setLabels=function(){this.titleLabel.setLabel(e.model._labels.Labels.CALCULATED_VIEW_TITLE),this.subtitleLabel.setLabel(e.model._labels.Labels.CALCULATED_VIEW_MEASURE_BOX),this.btnOk.setLabel(e.model._labels.Labels.BUTTON_APPLY),this.btnCancel.setLabel(e.model._labels.Labels.BUTTON_CANCEL),this.nameInput.setPrompt(e.model._labels.Labels.CALCULATED_VIEW_MEASURE_NAME),this.cbxIndiValues.setLabel(e.model._labels.Labels.CALCULATED_VIEW_CALCULATE_INDI_VALUES),this.lblFormulaPrompt.setLabel(e.model._labels.Labels.CALCULATED_VIEW_FORMULA_PROMPT),this.removeButton.container.attr("title",e.model._labels.Labels.CALCULATED_VIEW_REMOVE_VALUE)},r.prototype.createHelper=function(e){var t=new i.UIElement("span");return t.attr("id","wdr-drag-handle"),t.addClass("wdr-helper"),t.addClass("wdr-draggable"),t.css("width",e.css("width")),t.css("position","absolute"),t.css("z-index",100),t.attr("data-index",e.attr("data-index")),t.text(e.text()),t},r.prototype.onFormulaChange=function(){this.lblFormulaPrompt.isVisible(0==this.formulaInput.getText().length)},r}(i.UIComponentBase),n.CalculatedViewContent=r}(r||(r={})),function(e){!function(e){var n=function(){function e(){}return e.FILTER_OPEN="FILTER_OPEN",e.FILTER_CLOSE="FILTER_CLOSE",e.FILTER_SELECTION_CHANGE="FILTER_SELECTION_CHANGE",e.FILTER_COLLAPSE_EXPAND="FILTER_COLLAPSE_EXPAND",e.CALCULATED_VIEW_OPEN="CALCULATED_VIEW_OPEN",e.CALCULATED_VIEW_CLOSE="CALCULATED_VIEW_CLOSE",e.DRILL_THROUGH_OPEN="DRILL_THROUGH_OPEN",e.DRILL_THROUGH_CLOSE="DRILL_THROUGH_CLOSE",e.CONTEXT_MENU_OPEN="CONTEXT_MENU_OPEN",e.CLASSIC_TO_COMPACT="CLASSIC_TO_COMPACT",e.RENDER_COMPLETE="RENDER_COMPLETE",e.BEFORE_GRID_DRAW="beforegriddraw",e.AFTER_GRID_DRAW="aftergriddraw",e}();e.ViewEvent=n;var i=function(e){function t(t){var i=e.call(this,n.FILTER_OPEN)||this;return i.hierarchy=t,i}return a(t,e),t}(t._Event);e.FilterOpenEvent=i}(e._view||(e._view={}))}(r||(r={})),function(e){!function(e){!function(e){var t=function(){function e(){this.allMembers=[],this.selectedMembers=[],this.searchedMembers=[],this.searchPhrase="",this.isAllSelected=!0}return e.prototype.setHierarchy=function(e){this.currentHierarchy=e},e.prototype.getHierarchy=function(){return this.currentHierarchy},e.prototype.setSortType=function(e){this.sortType=e,this.allMembers=this.currentHierarchy.sortChildren(this.currentHierarchy.allMember,!1,this.sortType).toArray()},e.prototype.getSortType=function(){return this.sortType},e.prototype.select=function(e,t){if(this.isAllSelected!=t)this.selectedMembers.push(e);else{var n=this.selectedMembers.indexOf(e);-1<n&&this.selectedMembers.splice(n,1)}this.selectedMembers.length==this.allMembers.length&&this.selectAll(!this.isAllSelected)},e.prototype.search=function(e,t){if(e=e.toLowerCase(),this.searchPhrase===e)t();else if(this.searchPhrase=e,0==this.searchPhrase.length)t();else{this.searchedMembers.length=0;var n=this.allMembers.length,i=0;for(i=0;i<n;i++)s.StringUtils.contains(this.allMembers[i].caption,e)&&this.searchedMembers.push(this.allMembers[i]);t(this.searchedMembers)}},e.prototype.setSearchedMembers=function(e){null!=e?this.searchedMembers=e:this.searchedMembers.length=0},e.prototype.selectAll=function(e){if(this.isSearched())for(var t=this.searchedMembers.length,n=0;n<t;n++)s.StringUtils.contains(this.searchedMembers[n].caption,this.searchPhrase)&&this.select(this.searchedMembers[n],e);else this.isAllSelected=e,this.selectedMembers.length=0},e.prototype.selectDescendants=function(e){},e.prototype.getTotalSelectedLength=function(){var e;return 0<(e=this.isAllSelected||this.isSearched()?this.isAllSelected&&this.isSearched()?this.searchedMembers.length+this.countTheDifference()-this.selectedMembers.length:this.isAllSelected||0!=this.selectedMembers.length?this.allMembers.length-this.selectedMembers.length:this.selectedMembers.length:this.selectedMembers.length)?e:0},e.prototype.countTheDifference=function(){for(var e=0,t=0,n=0;t<this.selectedMembers.length;){for(;n<this.searchedMembers.length&&this.searchedMembers[n].uniqueName!=this.selectedMembers[t].uniqueName;)n++;this.searchedMembers.length==n&&e++,n=0,t++}return e},e.prototype.getSelectedLength=function(){if(this.isSearched()){for(var e=0,t=0;t<this.searchedMembers.length;t++)0>s.ArrayUtils.findIndex(this.selectedMembers,this.searchedMembers[t].uniqueName,"uniqueName")==this.isAllSelected&&e++;return e}return this.getTotalSelectedLength()},e.prototype.setFilterItems=function(e){this.selectedMembers.length=0;var t=e.length;if(this.isAllSelected=0==t,!this.isAllSelected)for(var n=0;n<t;n++)this.selectedMembers.push(e[n])},e.prototype.getFilterItems=function(){var e=0,t=[],n=[],i=(n=this.isSearched()&&this.isAllSelected?this.searchedMembers:this.selectedMembers).length;if(this.isSearched()&&this.isAllSelected)for(n=e=0;e<this.searchedMembers.length;){for(;n<this.selectedMembers.length&&this.searchedMembers[e].uniqueName!=this.selectedMembers[n].uniqueName;)n++;n==this.selectedMembers.length&&t.push(this.searchedMembers[e]),n=0,e++}else for(;e<i;e++)t[e]=n[e];return{items:t,negation:e=(!this.isSearched()||!this.isAllSelected)&&0!=t.length&&this.isAllSelected}},e.prototype.setItems=function(e){this.allMembers=e,this.searchPhrase="",this.searchedMembers.length=0},e.prototype.getItems=function(e,t){for(var n,i=[],r=e,o=RegExp("("+this.searchPhrase+")","i"),s=this.isSearched()?this.searchedMembers:this.allMembers;r<t&&!(r>s.length-1);r++)n={member:n=s[r],label:this.isSearched()?n.caption.replace(o,"<b>$1</b>"):n.caption,isSelected:(-1==this.selectedMembers.indexOf(n)?this.isAllSelected:!this.isAllSelected)?1:0,levelNum:0,rightMargin:t-e<s.length-1?15:0},i.push(n);return i},e.prototype.getLength=function(){return this.isSearched()?this.searchedMembers.length:this.allMembers.length},e.prototype.getTotalLength=function(){return this.getLength()},e.prototype.isSearched=function(){return 0<this.searchPhrase.length},e.prototype.expand=function(e){},e.prototype.collapse=function(e){},e}();e.MembersFilterDataProvider=t}(e.filter||(e.filter={}))}(e._view||(e._view={}))}(r||(r={})),function(e){var t;!function(t){var n=function(){function t(){this.numParentsInSearch=0,this.members=[],this.selectedMembers=[],this.searchedMembers=[],this.partlySelectedMembers=[],this.expandedMembers=[],this.searchPhrase="",this.isAllSelected=!0,this.sortType=e.data_.consts.SortType.UNSORTED}return t.prototype.setHierarchy=function(e){this.currentHierarchy=e,this.members.length=0},t.prototype.getHierarchy=function(){return this.currentHierarchy},t.prototype.setSortType=function(e){this.sortType=e,this.members.length=0,this.insertDescendants(this.currentHierarchy.allMember,-1)},t.prototype.getSortType=function(){return this.sortType},t.prototype.setItems=function(t){for(var n,i=0,r=t.length;i<r;i++)(n=t[i]).isAll||(this.members.push(n),n.isDrilledDown&&n.children&&0<n.children.length&&(this.expandedMembers.push(n),this.setItems(this.sortType===e.data_.consts.SortType.UNSORTED?n.children.toArray():this.currentHierarchy.sortChildren(n,!1,this.sortType).toArray())))},t.prototype.getItems=function(e,t){for(var n,i=e,r=[],o=RegExp("("+this.searchPhrase+")","i"),s=this.isSearched()?this.searchedMembers:this.members;i<t&&!(i>s.length-1);i++)n={member:n=s[i],levelNum:n.level.num,label:this.isSearched()?n.caption.replace(o,"<b>$1</b>"):n.caption,isSelected:this.isSelected(n),isSearched:this.isSearched(),isExpanded:this.isExpanded(n),rightMargin:t-e<s.length-1?17:0},r.push(n);return r},t.prototype.isSelected=function(e){var t=(-1==this.selectedMembers.indexOf(e)?this.isAllSelected:!this.isAllSelected)?1:0;return 0<this.selectedMembers.length&&-1!=this.partlySelectedMembers.indexOf(e)&&(t=-1),t},t.prototype.isExpanded=function(e){return this.isSearched()||e.isLeaf?-1:-1!=this.expandedMembers.indexOf(e)?1:0},t.prototype.getLength=function(){return this.isSearched()?this.searchedMembers.length:this.members.length},t.prototype.getTotalLength=function(){return this.isSearched()?this.searchedMembers.length-this.numParentsInSearch:this.currentHierarchy?this.currentHierarchy.members.length-1:0},t.prototype.select=function(e,t){var n=-1;n=this.selectedMembers.indexOf(e),this.isAllSelected!==t?(-1==n&&this.selectedMembers.push(e),0<e.children.length&&this.pushDescendantsToSelected(e)):(-1!=n&&this.selectedMembers.splice(n,1),0<e.children.length&&this.removeDescendantsFromSelected(e)),-1!=(n=s.ArrayUtils.findIndex(this.partlySelectedMembers,e.uniqueName,"uniqueName"))&&this.partlySelectedMembers.splice(n,1),this.selectParents(e),this.selectedMembers.length===this.currentHierarchy.members.length-1&&(this.selectedMembers.length=0,this.partlySelectedMembers.length=0,this.isAllSelected=!this.isAllSelected)},t.prototype.selectDescendants=function(e){-1==this.partlySelectedMembers.indexOf(e)&&(-1==this.selectedMembers.indexOf(e)?this.removeDescendantsFromSelected(e):this.pushDescendantsToSelected(e))},t.prototype.selectParents=function(e){var t,n=e.parent;if(n&&!n.isAll){e=s.ArrayUtils.findIndex(this.selectedMembers,n.uniqueName,"uniqueName"),t=s.ArrayUtils.findIndex(this.partlySelectedMembers,n.uniqueName,"uniqueName");var i=-1!=e;this.hasSelectedChildren(n,!1)?(this.hasSelectedChildren(n)?(-1==t&&this.partlySelectedMembers.push(n),this.isAllSelected&&i&&this.selectedMembers.splice(e,1)):(-1!=t&&this.partlySelectedMembers.splice(t,1),this.isAllSelected&&!i&&this.selectedMembers.push(n)),!this.isAllSelected&&i&&this.selectedMembers.splice(e,1)):(-1!=t&&this.partlySelectedMembers.splice(t,1),this.isAllSelected&&i?this.selectedMembers.splice(e,1):this.isAllSelected||i||this.selectedMembers.push(n)),this.selectParents(n)}},t.prototype.hasSelectedChildren=function(e,t){void 0===t&&(t=!0);for(var n,i=0,r=e.children.toArray(),o=r.length;i<o;i++)if(-1==s.ArrayUtils.findIndex(this.selectedMembers,(n=r[i]).uniqueName,"uniqueName")==this.isAllSelected==t||-1!=s.ArrayUtils.findIndex(this.partlySelectedMembers,n.uniqueName,"uniqueName"))return!0;return!1},t.prototype.pushDescendantsToSelected=function(e){for(var t,n,i=0,r=e.children.toArray(),o=r.length;i<o;i++)e=s.ArrayUtils.findIndex(this.selectedMembers,(n=r[i]).uniqueName,"uniqueName"),t=s.ArrayUtils.findIndex(this.partlySelectedMembers,n.uniqueName,"uniqueName"),-1==e&&this.selectedMembers.push(n),-1!=t&&this.partlySelectedMembers.splice(t,1),0<n.children.length&&this.pushDescendantsToSelected(n)},t.prototype.removeDescendantsFromSelected=function(e){for(var t,n,i=0,r=e.children.toArray(),o=r.length;i<o;i++)e=s.ArrayUtils.findIndex(this.selectedMembers,(n=r[i]).uniqueName,"uniqueName"),t=s.ArrayUtils.findIndex(this.partlySelectedMembers,n.uniqueName,"uniqueName"),-1!=e&&this.selectedMembers.splice(e,1),-1!=t&&this.partlySelectedMembers.splice(t,1),0<n.children.length&&this.removeDescendantsFromSelected(n)},t.prototype.selectAll=function(e){if(this.isSearched())for(var t=this.searchedMembers.length,n=0;n<t;n++)s.StringUtils.contains(this.searchedMembers[n].caption,this.searchPhrase)&&this.select(this.searchedMembers[n],e);else this.isAllSelected=e,this.selectedMembers.length=0,this.partlySelectedMembers.length=0},t.prototype.getSelectedLength=function(){if(this.isSearched()){for(var e=0,t=this.searchedMembers.length,n=0;n<t;n++)s.StringUtils.contains(this.searchedMembers[n].caption,this.searchPhrase)&&0>s.ArrayUtils.findIndex(this.selectedMembers,this.searchedMembers[n].uniqueName,"uniqueName")==this.isAllSelected&&e++;return e}return this.getTotalSelectedLength()},t.prototype.getTotalSelectedLength=function(){var e=this.isAllSelected?this.currentHierarchy.members.length-this.selectedMembers.length-this.partlySelectedMembers.length-1:this.selectedMembers.length;return 0>e?0:e},t.prototype.setFilterItems=function(e){var t=e.length;if(this.selectedMembers.length=0,this.partlySelectedMembers.length=0,0==t)this.isAllSelected=!0;else{this.isAllSelected=!1;for(var n,i,r=0;r<t;r++)for(i=(i=(n=e[r]).children.toArray()).length,this.selectedMembers.push(n),0<i&&this.pushDescendantsToSelected(n);n.parent&&!n.parent.isAll;)-1==s.ArrayUtils.findIndex(this.partlySelectedMembers,(n=n.parent).uniqueName,"uniqueName")&&this.partlySelectedMembers.push(n)}},t.prototype.getFilterItems=function(){for(var e,t,n,i,r=0,o=[],a=(i=this.isSearched()&&this.isAllSelected?this.searchedMembers:this.selectedMembers).length;r<a;r++)n=-1,s.nullOrUndefined(t=(e=i[r]).parent)||(n=s.ArrayUtils.findIndex(i,t.uniqueName,"uniqueName")),-1===n&&o.push(e);return{items:o,negation:r=(!this.isSearched()||!this.isAllSelected)&&0!=o.length&&this.isAllSelected}},t.prototype.search=function(e,t){if(e=e.toLowerCase(),this.searchPhrase===e)t();else if(this.searchPhrase=e,0==this.searchPhrase.length)t();else{this.numParentsInSearch=this.searchedMembers.length=0,this.fillSearchTree(this.currentHierarchy.allMember,e);var n=0,i=0;for(i=0;i<this.searchedMembers.length;i++)n=this.insertParentsToSearch(this.searchedMembers[i],i),this.numParentsInSearch+=n,i+=n;t(this.searchedMembers)}},t.prototype.setSearchedMembers=function(e){null!=e?this.searchedMembers=e:this.searchedMembers.length=0},t.prototype.insertParentsToSearch=function(e,t){var n=e.parent,i=0;return s.nullOrUndefined(n)||n.isAll||(-1==s.ArrayUtils.findIndex(this.searchedMembers,n.uniqueName,"uniqueName")&&(i++,this.searchedMembers.splice(t,0,n)),i+=this.insertParentsToSearch(n,t)),i},t.prototype.fillSearchTree=function(e,t){for(var n,i=e.children,r=i.length,o=0;o<r;o++)n=i.getItemAt(o),s.StringUtils.contains(n.caption,t)&&this.searchedMembers.push(n),this.fillSearchTree(n,t)},t.prototype.isSearched=function(){return 0<this.searchPhrase.length},t.prototype.expand=function(e){-1==this.expandedMembers.indexOf(e)&&this.expandedMembers.push(e),this.showDescendants(e,!0)},t.prototype.collapse=function(e){var t=this.expandedMembers.indexOf(e);-1!=t&&this.expandedMembers.splice(t,1),this.showDescendants(e,!1)},t.prototype.showDescendants=function(e,t){var n=s.ArrayUtils.findIndex(this.members,e.uniqueName,"uniqueName");t?this.insertDescendants(e,n):this.members.splice(n+1,this.getNumDescendants(e))},t.prototype.insertDescendants=function(t,n){for(var i,r=this.sortType===e.data_.consts.SortType.UNSORTED?t.children.toArray():this.currentHierarchy.sortChildren(t,!1,this.sortType).toArray(),o=r.length-1,s=n+1;-1<o;o--)this.members.splice(s,0,i=r[o]),-1<this.expandedMembers.indexOf(i)&&this.insertDescendants(i,s)},t.prototype.getNumDescendants=function(e){for(var t,n=(e=e.children.toArray()).length,i=n,r=0;r<n;r++)-1<this.expandedMembers.indexOf(t=e[r])&&(i+=this.getNumDescendants(t));return i},t}();t.MembersTreeDataProvider=n}((t=e._view||(e._view={})).filter||(t.filter={}))}(r||(r={})),function(e){var t;!function(t){var n=function(n){function r(e){var t=n.call(this)||this;return t.controller=e,t.setControls(),t}return a(r,n),r.prototype.setControls=function(){var n=new i.UIComponentBase("div","wdr-popup-header wdr-ui-row");this.addChild(n);var r=new i.UIComponentBase("div","wdr-ui-col-2 wdr-vam");n.addChild(r),this.titleLabel=new i.UILabel,this.titleLabel.addClass("wdr-popup-title"),r.addChild(this.titleLabel),r=new i.UIComponentBase("div","wdr-ui-col wdr-vam wdr-ui-btns-row"),n.addChild(r),this.cancelBtn=new i.UIButton("wdr-ui-btn"),this.cancelBtn.setLabel(e.model._labels.Labels.BUTTON_CANCEL),this.okBtn=new i.UIButton("wdr-ui-btn-dark"),this.okBtn.setLabel(e.model._labels.Labels.BUTTON_APPLY),s.OSUtil.isIOS||s.OSUtil.isMac?(r.addChild(this.cancelBtn),r.addChild(this.okBtn)):(r.addChild(this.okBtn),r.addChild(this.cancelBtn)),n=new i.UIComponentBase("div","wdr-ui-row"),this.addChild(n),this.sortContainer=new i.UIComponentBase("div","wdr-ui-col-2"),this.sortContainer.container.display="inline-block",n.addChild(this.sortContainer),this.sortLabel=new i.UILabel,this.sortLabel.setId("wdr-sort-label"),this.sortLabel.addClass("wdr-ui-label-light"),this.sortLabel.setLabel(e.model._labels.Labels.FILTER_SORT),this.sortContainer.addChild(this.sortLabel),r=new i.UIComponentBase("div","wdr-sort-btns"),this.sortContainer.addChild(r),this.azBtn=new i.UIToggleButton,this.azBtn.container.addClass("wdr-sort-btn"),this.azBtn.setLabel(e.model._labels.Labels.FILTER_ASC_SORT),r.addChild(this.azBtn),this.zaBtn=new i.UIToggleButton,this.zaBtn.container.addClass("wdr-sort-btn"),this.zaBtn.setLabel(e.model._labels.Labels.FILTER_DESC_SORT),r.addChild(this.zaBtn),(r=new i.UIComponentBase("div","wdr-ui-col-2 wdr-tar wdr-topx-col")).container.display="inline-block",n.addChild(r),this.top10Btn=new i.UIToggleButton,this.top10Btn.setId("wdr-top10-btn"),this.top10Btn.addClass("wdr-ui-toggle-btn-dark"),this.top10Btn.setLabel(e.model._labels.Labels.FILTER_TOP_X),r.addChild(this.top10Btn),this.clearTopBtn=new i.UIComponentBase("span","wdr-btn-canceltopx"),this.clearTopBtn.setId("wdr-clear-top-btn"),this.clearTopBtn.container.attr("title",e.model._labels.Labels.FILTER_TOP_X_CLEAR),this.top10Btn.addChild(this.clearTopBtn),this.topBottomView=new t.TopBottomView,this.topBottomView.setId("wdr-filters-topx-view"),this.topBottomView.hide(),this.addChild(this.topBottomView),this.membersView=new t.MembersView,this.membersView.addClass("wdr-ft-contentheight-220"),this.addChild(this.membersView)},Object.defineProperty(r.prototype,"selectAllCbx",{get:function(){return this.membersView.selectAllCbx},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"membersFilterList",{get:function(){return this.membersView.membersFilterList},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"selectedAmountLabel",{get:function(){return this.membersView.selectedAmountLabel},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"searchInput",{get:function(){return this.membersView.searchInput},enumerable:!0,configurable:!0}),r.prototype.setLabels=function(){this.top10Btn.setLabel(e.model._labels.Labels.FILTER_TOP_X),this.clearTopBtn.container.attr("title",e.model._labels.Labels.FILTER_TOP_X_CLEAR),this.azBtn.setLabel(e.model._labels.Labels.FILTER_ASC_SORT),this.zaBtn.setLabel(e.model._labels.Labels.FILTER_DESC_SORT),this.searchInput.setPrompt(e.model._labels.Labels.FILTER_SEARCH),this.selectAllCbx.setLabel(e.model._labels.Labels.FILTER_SELECT_ALL),this.okBtn.setLabel(e.model._labels.Labels.BUTTON_APPLY),this.cancelBtn.setLabel(e.model._labels.Labels.BUTTON_CANCEL),this.sortLabel.setLabel(e.model._labels.Labels.FILTER_SORT),this.topBottomView.setLabels()},r}(i.containers.UIContainer);t.FilterViewContent=n}((t=e._view||(e._view={})).filter||(t.filter={}))}(r||(r={})),function(e){var t;!function(t){var n=function(n){function r(){var r=n.call(this,"div","wdr-filters-table")||this,o=new i.UIComponentBase("div","wdr-filters-table-header wdr-fth-withsearch");r.addChild(o),r.selectAllCbx=new i.UICheckBox,r.selectAllCbx.setLabel(e.model._labels.Labels.FILTER_SELECT_ALL),o.addChild(r.selectAllCbx),r.selectedAmountLabel=new i.UILabel,r.selectedAmountLabel.setId("wdr-select-counter"),o.addChild(r.selectedAmountLabel),r.searchWrap=new i.UIComponentBase("div","wdr-search-wrap"),o.addChild(r.searchWrap),(o=new i.UIComponentBase("a","wdr-search-btn")).container.text(e.model._labels.Labels.FILTER_SEARCH),o.addEventListener("click",function(){return r.onSearchClick()}),r.searchWrap.addChild(o);var s=new i.UIComponentBase("span","wdr-ui-icon wdr-icon-act_search");return o.addChild(s),r.searchInput=new i.UITextInput,r.searchInput.addClass("wdr-search-inp"),r.searchWrap.addChild(r.searchInput),(o=new i.UIComponentBase("span","wdr-close-search wdr-ui-icon wdr-icon-act_close")).addEventListener("click",function(){return r.onSearchCloseClick()}),r.searchWrap.addChild(o),o=new i.UIComponentBase("div","wdr-filters-table-content"),r.addChild(o),r.membersFilterList=new t.FilterList,r.membersFilterList.setSmartDataProvider(new t.MembersFilterDataProvider),r.membersFilterList.setId("wdr-members-filter-list"),o.addChild(r.membersFilterList),r}return a(r,n),r.prototype.onSearchClick=function(){this.searchWrap.addClass("wdr-search-opened"),this.searchInput.container.focus(),this.selectedAmountLabel.hide()},r.prototype.onSearchCloseClick=function(){this.searchWrap.removeClass("wdr-search-opened"),this.searchInput.clear(),this.selectedAmountLabel.show()},r.prototype.reset=function(){this.onSearchCloseClick()},r}(i.UIComponentBase);t.MembersView=n}((t=e._view||(e._view={})).filter||(t.filter={}))}(r||(r={})),function(e){!function(e){!function(e){var n=function(n){function r(){var e=n.call(this)||this;return e.levelMargin=20,e.expandBtn=new i.UIToggleButton,e.expandBtn.removeClass("wdr-ui-toggle-btn"),e.expandBtn.addClass("wdr-expand-toggle-btn"),e.expandBtn.addEventListener(t._Event.CHANGE,function(){return e.onCollapseExpand()}),e.container.append(e.expandBtn.container),e.selectedCheckBox=new i.UICheckBox,e.selectedCheckBox.addEventListener(t._Event.CHANGE,function(){return e.onSelect()}),e.container.append(e.selectedCheckBox.container),e.container.addEventListener("click",function(t){return e.onClick(t)}),e.invalidate("all"),e}return a(r,n),r.prototype.onCollapseExpand=function(){var t=this.getData();t.isExpanded=this.expandBtn.getSelection(),this.container.dispatchWith(e.FilterList.EXPAND_EVENT,this,t)},r.prototype.onClick=function(e){e.target==this.container.element&&(this.selectedCheckBox.toggle(),this.onSelect())},r.prototype.onSelect=function(){var t=this.getData();t.isSelected=this.selectedCheckBox.getSelection(),this.container.dispatchWith(e.FilterList.SELECT_EVENT,this,t)},r.prototype.draw=function(){if(this.isInvalid("data")){var e=this.getData();if(this.expandBtn&&this.selectedCheckBox&&e){this.container.css("padding-left","");var t=this.levelMargin*(e.levelNum-1);e.isSearched||-1!==e.isExpanded||(t+=30),0<t&&this.container.css("padding-left",t+"px"),isNaN(e.isExpanded)||-1===e.isExpanded||e.isSearched?this.expandBtn.hide():(this.expandBtn.show(),this.expandBtn.setSelection(e.isExpanded)),t=(t=e[this.getLabelField()]).replace(/<(?:.|\n)*?>/gi,""),this.selectedCheckBox.setLabel(t,!0),this.selectedCheckBox.setSelection(e.isSelected)}}},r}(i.renderers.UIItemRenderer);e.FilterListItemRenderer=n}(e.filter||(e.filter={}))}(e._view||(e._view={}))}(r||(r={})),function(e){var n;!function(n){var r=function(i){function r(){var e=i.call(this)||this;return e.setItemRendererFactory(function(t,n){return e.getItemRendererFactory(t,n)}),e}return a(r,i),r.prototype.getItemRendererFactory=function(e,t){var i=this,o=new n.FilterListItemRenderer;return o.setData(e),o.setIndex(t),o.addEventListener(r.SELECT_EVENT,function(e){return i.onSelect(e)}),o.addEventListener(r.EXPAND_EVENT,function(e){return i.onExpand(e)}),o},r.prototype.onSelect=function(e){this.setSelected(e=e.data,1===e.isSelected),this.dispatch(new t._Event(r.SELECT_EVENT,this))},r.prototype.onExpand=function(n){var i=this,o=n.data;1===o.isExpanded?0===o.member.children.length?e.model.PivotModel.getInstance().cube_.loadMemberChildren(o.member.hierarchy_,o.member,function(e){return i.onChildrenLoaded(o.member)}):this.onChildrenLoaded(o.member):(this.getSmartDataProvider().collapse(o.member),this.invalidate("data"),this.dispatch(new t._Event(r.EXPAND_EVENT,this)))},r.prototype.onChildrenLoaded=function(n){e.preloader(!1),this.getSmartDataProvider().selectDescendants(n),this.getSmartDataProvider().expand(n),this.invalidate("data"),this.dispatch(new t._Event(r.EXPAND_EVENT,this))},r.prototype.getSmartDataProvider=function(){return this.filterDataProvider},r.prototype.setSmartDataProvider=function(e){this.filterDataProvider=e},r.prototype.getFilterItems=function(){return this.getSmartDataProvider().getFilterItems()},r.prototype.setFilterItems=function(e){this.getSmartDataProvider().setFilterItems(e),this.invalidate("data")},r.prototype.getSelectedLength=function(){return this.getSmartDataProvider().getSelectedLength()},r.prototype.getTotalSelectedLength=function(){return this.getSmartDataProvider().getTotalSelectedLength()},r.prototype.getTotalLength=function(){return this.getSmartDataProvider().getLength()},r.prototype.getTotalItemsCount=function(){return this.getSmartDataProvider().getTotalLength()},r.prototype.setSelected=function(e,t){this.getSmartDataProvider().select(e.member,t),this.invalidate("data")},r.prototype.selectAll=function(e){this.getSmartDataProvider().selectAll(e),this.invalidate("data")},r.prototype.search=function(e,t){var n=this;this.getSmartDataProvider().search(e,function(e){n.getSmartDataProvider().setSearchedMembers(e),n.invalidate("data"),t()})},r.prototype.isSearched=function(){return this.getSmartDataProvider().isSearched()},r.prototype.setHierarchy=function(e){this.getSmartDataProvider().setHierarchy(e)},r.prototype.sort=function(e){e!==this.getSmartDataProvider().getSortType()&&(this.getSmartDataProvider().setSortType(e),this.invalidate("data"))},r.SELECT_EVENT="_",r.EXPAND_EVENT="__",r}(i.lists.UIVirtualList);n.FilterList=r}((n=e._view||(e._view={})).filter||(n.filter={}))}(r||(r={})),function(e){var n;!function(n){var r=function(n){function r(){var r=n.call(this,"div")||this;r._isEmpty=!0,r.addClass("wdr-filters-subview"),r.quantityInput=new i.UITextInput,r.quantityInput.setId("wdr-top-amount-input"),r.quantityInput.setRestriction(/^\d+$/),r.quantityInput.setType("number"),r.quantityInput.addEventListener(i.UITextInput.CHANGE_EVENT,function(){return r.onQuantityChange()}),r.addChild(r.quantityInput);var o=new i.UIComponentBase("div");return o.setId("wdr-topx-btns"),r.addChild(o),r.btnTop=new i.UIToggleButton,r.btnTop.setId("wdr-btn-top"),r.btnTop.addClass("wdr-topx-btn"),r.btnTop.setLabel(e.model._labels.Labels.FILTER_TOP),r.btnTop.addEventListener(t._Event.CHANGE,function(){return r.onBtnTopChange()}),o.addChild(r.btnTop),r.btnBottom=new i.UIToggleButton,r.btnBottom.setId("wdr-btn-bottom"),r.btnBottom.addClass("wdr-topx-btn"),r.btnBottom.setLabel(e.model._labels.Labels.FILTER_BOTTOM),r.btnBottom.addEventListener(t._Event.CHANGE,function(){return r.onBtnBottomChange()}),o.addChild(r.btnBottom),r.measuresDropDown=new i.lists.UIDropDownList,r.measuresDropDown.setId("wdr-top-measures-dropdown"),r.measuresDropDown.setLabelField("caption"),r.measuresDropDown.setPrompt(""),r.measuresDropDown.addEventListener(t._Event.CHANGE,function(e){return r.onMeasuresChange(e)}),r.addChild(r.measuresDropDown),r}return a(r,n),r.prototype.onBtnTopChange=function(){this._isEmpty=!1,this.btnBottom.setSelection(1-this.btnTop.getSelection()),this.dispatch(new t._Event(r.CHANGE_EVENT,this))},r.prototype.onBtnBottomChange=function(){this._isEmpty=!1,this.btnTop.setSelection(1-this.btnBottom.getSelection()),this.dispatch(new t._Event(r.CHANGE_EVENT,this))},r.prototype.onMeasuresChange=function(e){this._isEmpty=!1,this.dispatch(new t._Event(r.CHANGE_EVENT,this))},r.prototype.onQuantityChange=function(){this._isEmpty=!1,""==this.getFilterType()&&this.setFilterType(e.data_.consts.FilterType.TOP),this.dispatch(new t._Event(r.CHANGE_EVENT,this))},r.prototype.setMeasures=function(e){this.measuresDropDown.setDataProvider(e),this.measuresDropDown.setSelectedIndex(0)},r.prototype.getSelectedMeasure=function(){return this.measuresDropDown.getSelectedItem()},r.prototype.setSelectedMeasure=function(e){this._isEmpty=!1,this.measuresDropDown.setSelectedItem(e,"uniqueName")},r.prototype.reset=function(){this._isEmpty=!0;var t=e.model._options.OptionsManager.flatView;this.btnTop.setSelection(t?0:1),this.btnBottom.setSelection(0),this.measuresDropDown.setSelectedIndex(0),this.measuresDropDown.isVisible(!t),this.quantityInput.setText("10")},r.prototype.setLabels=function(){this.btnTop.setLabel(e.model._labels.Labels.FILTER_TOP),this.btnBottom.setLabel(e.model._labels.Labels.FILTER_BOTTOM),this.measuresDropDown.setPrompt("")},r.prototype.getFilterType=function(){return 1===this.btnTop.getSelection()?e.data_.consts.FilterType.TOP:1===this.btnBottom.getSelection()?e.data_.consts.FilterType.BOTTOM:""},r.prototype.setFilterType=function(t){t==e.data_.consts.FilterType.TOP?(this._isEmpty=!1,this.btnTop.setSelection(1),this.btnBottom.setSelection(0)):t==e.data_.consts.FilterType.BOTTOM&&(this._isEmpty=!1,this.btnTop.setSelection(0),this.btnBottom.setSelection(1))},r.prototype.getFilterQuantity=function(){return parseInt(this.quantityInput.getText())},r.prototype.setFilterQuantity=function(e){this._isEmpty=!1,this.quantityInput.setText(e.toString())},Object.defineProperty(r.prototype,"isEmpty",{get:function(){return this._isEmpty},enumerable:!0,configurable:!0}),r.CHANGE_EVENT="_",r}(i.UIComponentBase);n.TopBottomView=r}((n=e._view||(e._view={})).filter||(n.filter={}))}(r||(r={})),function(e){var t,n,i;n=(t=e._view||(e._view={})).filter||(t.filter={}),i=function(){function n(){if(this.sortTypeChanged=!1,null!=n.instance)throw"FilterModel is singleton!";this.pivotInstance=e.Pivot.instance,this.modelLocator=e.model.PivotModel.getInstance(),this.zeroCoord=t.PivotView.stage.position()}return n.getInstance=function(){return null==n.instance&&(n.instance=new n),n.instance},n.dispose=function(){n.instance=null},n.prototype.getHierarchies=function(){return this.hierarchies},n.prototype.setHierarchies=function(e){this.hierarchies=e},n.prototype.update=function(e){this.currentCoord={top:this.zeroCoord.top,left:this.zeroCoord.left};var t=this.modelLocator.cube_.slice_.allHierarchies(!1,!0,this.isFlatTable).toArray();this.setHierarchies(t),this.setCurrentHierarchy(e),this.measures=this.modelLocator.cube_.slice_.measures_.toArray()},n.prototype.clearValuesFilter=function(){this.filterType=e.data_.consts.FilterType.NONE,this.filterQuantity=-1,this.filterMeasureName=""},n.prototype.setCurrentHierarchy=function(t){(this.currentHierarchy=t)&&(this.sortType=this.currentHierarchy.sortName,this.sortTypeChanged=!1,this.filterMeasureName=this.currentHierarchy.filterMeasureName,this.filterQuantity=this.currentHierarchy.filterQuantity,this.filterType=this.currentHierarchy.filterType,this.members=this.sortType!==e.data_.consts.SortType.UNSORTED?this.currentHierarchy.sortChildren(this.currentHierarchy.allMember,!1,this.sortType).toArray():this.currentHierarchy.allMember.children.toArray())},n.prototype.getTopBottomMeasures=function(){return this.isFlatTable?[this.modelLocator.cube_.structure_.hierarchyToMeasure(this.currentHierarchy.uniqueName)]:this.measures},n.prototype.getSortType=function(){return this.sortType},n.prototype.setSortType=function(e){this.sortType=e,this.sortTypeChanged=!0},n.prototype.applyChanges=function(){this.currentHierarchy.hasValuesFilter()&&this.isValuesFilterEmpty&&this.modelLocator.clearFilter(this.currentHierarchy.uniqueName),this.applyMembersFilter(),this.applyValuesFilter(),this.applySort()},Object.defineProperty(n.prototype,"isValuesFilterEmpty",{get:function(){return!this.filterMeasureName||0===this.filterMeasureName.length||isNaN(this.filterQuantity)||1>this.filterQuantity||!this.filterType||0===this.filterType.length||this.filterType===e.data_.consts.FilterType.NONE},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isValuesFilterChanged",{get:function(){return this.currentHierarchy.filterMeasureName!==this.filterMeasureName||this.currentHierarchy.filterQuantity!==this.filterQuantity||this.currentHierarchy.filterType!==this.filterType},enumerable:!0,configurable:!0}),n.prototype.applyValuesFilter=function(){!this.isValuesFilterEmpty&&this.isValuesFilterChanged&&("top"===this.filterType?this.modelLocator.setTopX(this.currentHierarchy.uniqueName,this.filterQuantity,this.filterMeasureName):"bottom"===this.filterType&&this.modelLocator.setBottomX(this.currentHierarchy.uniqueName,this.filterQuantity,this.filterMeasureName))},n.prototype.isMembersFilterChanged=function(){if(this.filteredMembers.length!==this.currentHierarchy.filterMembers.length&&!this.filterNegation)return!0;for(var e=0,t=this.filteredMembers.length;e<t;e++)if(this.filterNegation===this.currentHierarchy.filterMembers.keyExists(this.filteredMembers[e].uniqueName))return!0;return!(!this.filterNegation||!this.currentHierarchy||this.currentHierarchy.filterMembers.length+this.filteredMembers.length===this.currentHierarchy.members.length-1)},n.prototype.applyMembersFilter=function(){this.isMembersFilterChanged()&&this.modelLocator.setFilter(this.currentHierarchy.uniqueName,this.filteredMembers,this.filterNegation)},n.prototype.isSortTypeChanged=function(){return this.sortTypeChanged},n.prototype.applySort=function(){this.isSortTypeChanged()&&this.modelLocator.setSort(this.currentHierarchy.uniqueName,this.sortType)},Object.defineProperty(n.prototype,"isPages",{get:function(){return!this.isFlatTable&&this.modelLocator.cube_.slice_.pages.keyExists(this.currentHierarchy.uniqueName)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isFlatTable",{get:function(){return e.model._options.OptionsManager.flatView},enumerable:!0,configurable:!0}),n}(),n.FilterModel=i}(r||(r={})),function(e){var n,r,o;n=e._view||(e._view={}),r=n.filter||(n.filter={}),o=function(o){function l(){var e=o.call(this)||this;return e.model=r.FilterModel.getInstance(),e.view=new r.FilterViewContent(e),null!=e.view.hierarchiesList&&e.view.hierarchiesList.addEventListener(t._Event.CHANGE,function(t){return e.onHierarchiesListChange(t)}),null!=e.view.searchInput&&e.view.searchInput.addEventListener(i.UITextInput.CHANGE_EVENT,function(t){return e.onSearchInputChange(t.data)}),null!=e.view.membersFilterList&&(e.view.membersFilterList.addEventListener(r.FilterList.SELECT_EVENT,function(){return e.onMembersFilterSelect()}),e.view.membersFilterList.addEventListener(r.FilterList.EXPAND_EVENT,function(){return e.onMembersFilterExpand()})),null!=e.view.selectAllCbx&&e.view.selectAllCbx.addEventListener(t._Event.CHANGE,function(){return e.onSelectAllChange()}),null!=e.view.azBtn&&e.view.azBtn.addEventListener(t._Event.CHANGE,function(){return e.onAzBtnChange()}),null!=e.view.zaBtn&&e.view.zaBtn.addEventListener(t._Event.CHANGE,function(){return e.onZaBtnChange()}),null!=e.view.top10Btn&&e.view.top10Btn.addEventListener(t._Event.CHANGE,function(){return e.onTop10Change()}),null!=e.view.clearTopBtn&&e.view.clearTopBtn.container.addEventListener("click",function(t){return e.onClearTop(t)}),null!=e.view.topBottomView&&e.view.topBottomView.addEventListener(r.TopBottomView.CHANGE_EVENT,function(){return e.onTopBottomChange()}),null!=e.view.okBtn&&e.view.okBtn.addEventListener(i.UIButton.CLICK_EVENT,function(t){return e.onOkClick(t)}),null!=e.view.cancelBtn&&e.view.cancelBtn.addEventListener(i.UIButton.CLICK_EVENT,function(t){return e.onCancelClick(t)}),e}return a(l,o),l.prototype.onDataUpdated=function(){this.update(this.model.currentHierarchy)},l.prototype.onClearTop=function(e){e.stopImmediatePropagation(),this.model.clearValuesFilter(),this.view.topBottomView&&(this.view.topBottomView.reset(),this.view.topBottomView.hide()),this.view.top10Btn&&(this.view.top10Btn.container.removeClass("wdr-not-empty"),this.view.top10Btn.setSelection(0))},l.prototype.onTopBottomChange=function(){if(this.view.topBottomView){this.model.filterType=this.view.topBottomView.getFilterType(),this.model.filterQuantity=this.view.topBottomView.getFilterQuantity();var e=this.view.topBottomView.getSelectedMeasure();this.model.filterMeasureName=e?e.uniqueName:""}this.view.top10Btn&&this.view.top10Btn.container.addClass("wdr-not-empty")},l.prototype.onTop10Change=function(){this.view.topBottomView&&this.view.topBottomView.isVisible(1===this.view.top10Btn.getSelection())},l.prototype.onOkClick=function(e){this.dispatchWith("close"),e=this.view.membersFilterList.getFilterItems(),this.model.filteredMembers=e.items,this.model.filterNegation=e.negation,this.model.applyChanges()},l.prototype.onCancelClick=function(e){this.dispatchWith("close")},l.prototype.onAzBtnChange=function(){1===this.view.azBtn.getSelection()&&(this.view.zaBtn.setSelection(0),this.model.setSortType(e.data_.consts.SortType.ASC),this.view.membersFilterList&&this.view.membersFilterList.sort(this.model.getSortType())),0===this.view.azBtn.getSelection()&&0===this.view.zaBtn.getSelection()&&(this.model.setSortType(e.data_.consts.SortType.UNSORTED),this.view.membersFilterList&&this.view.membersFilterList.sort(this.model.getSortType()))},l.prototype.onZaBtnChange=function(){1===this.view.zaBtn.getSelection()&&(this.view.azBtn.setSelection(0),this.model.setSortType(e.data_.consts.SortType.DESC),this.view.membersFilterList&&this.view.membersFilterList.sort(this.model.getSortType())),0===this.view.azBtn.getSelection()&&0===this.view.zaBtn.getSelection()&&(this.model.setSortType(e.data_.consts.SortType.UNSORTED),this.view.membersFilterList&&this.view.membersFilterList.sort(this.model.getSortType()))},l.prototype.onSelectAllChange=function(){this.view.membersFilterList&&(this.view.membersFilterList.selectAll(1==this.view.selectAllCbx.getSelection()),this.view.membersFilterList.getTotalSelectedLength(),this.view.okBtn.setEnabled(0<this.view.membersFilterList.getTotalSelectedLength())),this.updateSelectedLabel()},l.prototype.onMembersFilterSelect=function(){this.view.okBtn.setEnabled(0<this.view.membersFilterList.getTotalSelectedLength()),this.updateAllSelectedCbx(),this.updateSelectedLabel()},l.prototype.onMembersFilterExpand=function(){this.updateLayout(),this.updateSelectedLabel()},l.prototype.updateAllSelectedCbx=function(){0==this.view.membersFilterList.getSelectedLength()?this.view.selectAllCbx.setSelection(0):this.view.membersFilterList.getTotalItemsCount()>this.view.membersFilterList.getSelectedLength()?this.view.selectAllCbx.setSelection(-1):this.view.membersFilterList.getTotalItemsCount()==this.view.membersFilterList.getSelectedLength()&&this.view.selectAllCbx.setSelection(1)},l.prototype.update=function(t){var n=this;0!=this.view.isVisible()&&(1e4<t.members.length?(e.preloader(!0,"Please, wait","Sorting members...",!0,!0),setTimeout(function(){n.model.update(t),n.updateView(),e.preloader(!1)},50)):(this.model.update(t),this.updateView()))},l.prototype.onSearchInputChange=function(e){var t=this;e.trim()==e&&this.view.membersFilterList&&this.view.membersFilterList.search(e,function(){return t.onSearchComplete()})},l.prototype.onSearchComplete=function(){this.updateLayout(),this.updateSelectedLabel(),this.updateAllSelectedCbx()},l.prototype.updateView=function(){this.view.setLabels(),this.view.container.toggleClass("wdr-filter-pages-layout",this.model.isPages),this.view.membersView&&this.view.membersView.reset(),this.view.searchInput&&(this.view.searchInput.clear(),this.view.searchInput.setChangeDelay(0)),this.view.top10Btn&&(e.data_.types.MeasureType.STRING==e.data_.types.MeasureType.fromDataType(this.model.currentHierarchy.dimension.type+"")&&e.model._options.OptionsManager.flatView?this.view.top10Btn.hide():this.view.top10Btn.show()),this.updateSortType(),this.updateHierarchy(),this.updateMembers(),this.updateTopBottom(),this.updateLayout(),this.updateSelectedLabel();var t=!this.model.isPages;this.view.azBtn&&(t?this.view.azBtn.show():this.view.azBtn.hide()),this.view.zaBtn&&(t?this.view.zaBtn.show():this.view.zaBtn.hide()),this.view.top10Btn&&(this.isAvailableTopX?this.view.top10Btn.show():this.view.top10Btn.hide()),this.view.sortContainer&&(t?this.view.sortContainer.show():this.view.sortContainer.hide())},Object.defineProperty(l.prototype,"isAvailableTopX",{get:function(){if(this.model.isFlatTable){var t=this.model.modelLocator.cube_.structure_.hierarchyToMeasure(this.model.currentHierarchy.uniqueName);return t&&t.type==e.data_.types.MeasureType.NUMBER}return!this.model.isPages},enumerable:!0,configurable:!0}),l.prototype.updateMembers=function(){var e,t=this.model.currentHierarchy;this.view.selectAllCbx&&this.view.selectAllCbx.setSelection(0<t.filterMembers.length?-1:1),e=2<t.levels_.length?new r.MembersTreeDataProvider:new r.MembersFilterDataProvider,this.view.membersFilterList&&(this.view.membersFilterList.setSmartDataProvider(e),this.view.membersFilterList.setHierarchy(t),this.view.membersFilterList.setDataProvider(this.model.members),this.view.membersFilterList.setFilterItems(t.filterMembers.toArray()),this.view.membersFilterList.sort(this.model.getSortType()))},l.prototype.updateHierarchy=function(){this.view.titleLabel&&this.view.titleLabel.setLabel(this.model.currentHierarchy.caption),this.view.toolbar&&this.view.toolbar.setHeader(this.model.currentHierarchy.caption)},l.prototype.updateLayout=function(){if(this.view.membersFilterList&&0<this.view.membersFilterList.getTotalLength())if(this.view.selectAllCbx&&this.view.selectAllCbx.show(),0==this.view.explicitListHeight||isNaN(this.view.explicitListHeight)){var e=s.browserVersion().isMobile?s.viewportHeight()-50:n.PivotView.stage.getY()+n.PivotView.stageHeight-window.document.documentElement.scrollTop;e=Math.min(e,parseFloat(window.document.documentElement.style.height))-this.view.membersFilterList.container.offset().top+window.document.documentElement.scrollTop-n.PivotView.stage.toolbarHeight,e=Math.max(e,84),this.setOptimalListHeight(e,!0)}else this.setOptimalListHeight(this.view.explicitListHeight,!1);else this.view.selectAllCbx&&this.view.selectAllCbx.hide()},l.prototype.updateSortType=function(){this.view.azBtn&&this.view.azBtn.setSelection("asc"===this.model.getSortType()?1:0),this.view.zaBtn&&this.view.zaBtn.setSelection("desc"===this.model.getSortType()?1:0)},l.prototype.updateTopBottom=function(){this.view.topBottomView&&(this.view.topBottomView.reset(),this.view.topBottomView.setMeasures(this.model.getTopBottomMeasures())),"top"===this.model.filterType||"bottom"===this.model.filterType?(this.view.topBottomView&&(this.view.topBottomView.setFilterType(this.model.filterType),this.view.topBottomView.setFilterQuantity(this.model.filterQuantity),this.view.topBottomView.setSelectedMeasure(s.ArrayUtils.find(this.model.measures,this.model.filterMeasureName,"uniqueName")),this.view.topBottomView.show()),this.view.top10Btn&&this.view.top10Btn.setSelection(1)):(this.view.topBottomView&&this.view.topBottomView.hide(),this.view.top10Btn&&this.view.top10Btn.setSelection(0)),this.view.top10Btn&&this.view.top10Btn.container.toggleClass("wdr-not-empty",!(!this.view.topBottomView||this.view.topBottomView.isEmpty))},l.prototype.setOptimalListHeight=function(e,t){var n=Math.max(Math.min(e,this.view.membersFilterList.getMaxHeight()),this.view.membersFilterList.getMinHeight());t&&(n-=n%this.view.membersFilterList.getRowHeight()),this.view.membersFilterList.setHeight(n),this.view.table&&this.view.contentPanel.setHeight(this.view.table.getHeight())},l.prototype.updateSelectedLabel=function(){var t="";this.view.membersFilterList&&(t=this.view.membersFilterList.isSearched()?s.StringUtils.bind(e.model._labels.Labels.FILTER_AMOUNT_FOUND,this.view.membersFilterList.getSelectedLength(),this.view.membersFilterList.getTotalItemsCount()):s.StringUtils.bind(e.model._labels.Labels.FILTER_AMOUNT_SELECTED,this.view.membersFilterList.getSelectedLength(),this.view.membersFilterList.getTotalItemsCount())),this.view.selectedAmountLabel&&this.view.selectedAmountLabel.setLabel(t),this.view.selectAllCbx&&this.view.selectAllCbx.setLabel(this.view.membersFilterList&&this.view.membersFilterList.isSearched()?e.model._labels.Labels.FILTER_SELECT_ALL_RESULTS:e.model._labels.Labels.FILTER_SELECT_ALL)},l.prototype.onHierarchiesListChange=function(e){-1<e.data.selectedIndex&&(this.model.setCurrentHierarchy(e.data.selectedItem),this.updateView())},l}(t.EventDispatcher),r.FilterController=o}(r||(r={})),function(e){!function(e){var n,r;n=e.filter||(e.filter={}),r=function(i){function r(){var t=i.call(this,e.PivotView.stage.container)||this;return t.setId("wdr-filter-view"),t.addClass("wdr-noselect"),t.controller=new n.FilterController,t.controller.addEventListener("close",function(){return t.close()}),t.addChild(t.controller.view),t.controller.view.show(),t}return a(r,i),r.prototype.openView=function(e){this.open(),this.controller.update(e),this.centerPosition(),this.dispatchWith(t._Event.OPENED)},r.prototype.close=function(){i.prototype.close.call(this),this.dispatchWith(t._Event.CLOSED)},r}(i.containers.UIPopup),n.FilterView=r}(e._view||(e._view={}))}(r||(r={})),function(e){var t=function(){function t(){this.styleSheet=new e.styles.XLSStyleSheet,this.sheets=[],e.styles.format.XLSStyleFormat.lastNumFmtId=e.styles.format.XLSStyleFormat.defaultNumFmtId}return t.prototype.toUint8Array=function(){s.getTimer();var t=new JSZip;t.file("[Content_Types].xml",e.XLSTemplates.XML_HEADER+this.composeContentTypeXMLString()),t.file("_rels/.rels",e.XLSTemplates.XML_HEADER+e.XLSTemplates._RELS),t.file("xl/_rels/workbook.xml.rels",e.XLSTemplates.XML_HEADER+this.composeWorkbookRelsXMLString()),t.file("xl/workbook.xml",e.XLSTemplates.XML_HEADER+this.composeWorkbookXMLString()),t.file("xl/theme/theme1.xml",e.XLSTemplates.XML_HEADER+e.XLSTemplates.THEME);for(var n=0;n<this.sheets.length;n++){var i=this.sheets[n].toXMLString();t.file("xl/worksheets/sheet"+(n+1)+".xml",e.XLSTemplates.XML_HEADER+i)}return t.file("xl/sharedStrings.xml",e.XLSTemplates.XML_HEADER+this.composeSharedStrings()),t.file("xl/styles.xml",e.XLSTemplates.XML_HEADER+this.styleSheet.toXMLString()),t.file("docProps/app.xml",e.XLSTemplates.XML_HEADER+e.XLSTemplates.APP_XML),t.file("docProps/core.xml",e.XLSTemplates.XML_HEADER+e.XLSTemplates.CORE_XML),t.generate({compression:"STORE",type:"uint8array"})},t.prototype.composeSharedStrings=function(){var t="";o.XML.create("<axis/>").attr("name","rows");for(var n=0;n<e.XLSSharedStrings.strings.length;n++)t=t+"<si><t>"+s.StringUtils.escapeHtml(e.XLSSharedStrings.strings[n])+"</t></si>";return s.StringUtils.bind(e.XLSTemplates.SHARED_STRING_XML,t)},t.prototype.composeWorkbookXMLString=function(){for(var t="",n=0;n<this.sheets.length;n++)t+=s.StringUtils.bind('<sheet name="{0}" sheetId="{1}" r:id="{2}"/>',this.sheets[n].name,n+1,"rId"+(n+4));return s.StringUtils.bind(e.XLSTemplates.WORKBOOK_XML,t)},t.prototype.composeWorkbookRelsXMLString=function(){for(var t="",n=0;n<this.sheets.length;n++)t+=s.StringUtils.bind(e.XLSTemplates.WORKBOOK_XML_RELS_SHEET,"rId"+(n+4),"worksheets/sheet"+(n+1)+".xml");return s.StringUtils.bind(e.XLSTemplates.WORKBOOK_XML_RELS,t)},t.prototype.composeContentTypeXMLString=function(){for(var t="",n=0;n<this.sheets.length;n++)t+=s.StringUtils.bind(e.XLSTemplates.CONTENT_TYPES_XML_SHEET,"/xl/worksheets/sheet"+(n+1)+".xml");return s.StringUtils.bind(e.XLSTemplates.CONTENT_TYPES_XML,t)},t}();e.XLS=t}(c||(c={})),function(e){var t=function(){function t(e,t,n,i){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=""),void 0===i&&(i=0),this.row=e,this.column=t,this.value=n,this.styleIndex=i}return Object.defineProperty(t.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(t){if("number"==typeof t&&isNaN(t)&&(t=""),"string"==typeof t){t=(t=(t=t.replace(RegExp("<br/?>","gmi"),"\n")).replace("/&/gmi","")).replace(RegExp("<[^<]+?>","gmi"),"");var n=e.XLSSharedStrings.strings.indexOf(t);-1==n?(this._value=e.XLSSharedStrings.strings.length,e.XLSSharedStrings.strings.push(t)):this._value=n,this._type=e.XLSType.STRING}else this._value=t,this._type="number"==typeof t?e.XLSType.NUMBER:null===t?e.XLSType.NULL:!1===t?e.XLSType.MERGED:e.XLSType.UNKNOWN},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){for(var e="",t=this.column+1,n=0;26<t;){var i=0<t%26?t%26:26;if(t/=26,26==i&&t--,e=String.fromCharCode(i+64)+e,3==n++)break}return(e=String.fromCharCode(t+64)+e)+(this.row+1)},set:function(e){},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return"XLSCell {row: "+this.row+", column: "+this.column+", type: "+this.type+", id: "+this.id+", value: "+this.value+"}"},t}();e.XLSCell=t}(c||(c={})),function(e){var t=function(){function e(){}return e.strings=[],e}();e.XLSSharedStrings=t}(c||(c={})),function(e){var t=function(){function t(e){this.cells=[],this.maxColumn=this.maxRow=0,this.columns=[],this.rows=[],this.mergedCells=[],this.name=e}return Object.defineProperty(t.prototype,"maxCell",{get:function(){return this.getCell(this.maxRow,this.maxColumn)},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnsCount",{get:function(){return this.maxColumn+1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rowsCount",{get:function(){return this.maxRow+1},enumerable:!0,configurable:!0}),t.prototype.setColumnWidth=function(e,t){this.columns[e]=t},t.prototype.getColumnWidth=function(e){return this.columns[e]?this.columns[e]:0},t.prototype.setRowHeight=function(e,t){this.rows[e]=t},t.prototype.getRowHeight=function(e){return this.rows[e]?this.rows[e]:0},t.prototype.setCell=function(t,n,i,r){void 0===r&&(r=null),null==this.cells[t]&&(this.cells[t]=[]),this.cells[t][n]=i instanceof e.XLSCell?i:new e.XLSCell(t,n,i,null==r?0:r.index),this.maxRow<t&&(this.maxRow=t),this.maxColumn<n&&(this.maxColumn=n)},t.prototype.getCell=function(t,n){var i;return null!=this.cells[t]&&(i=this.cells[t][n]),null==i&&(i=new e.XLSCell(t,n,null)),i},t.prototype.mergeCells=function(t,n,i){var r=this.getCell(t,n);if(null!=r){for(var o,s=r.id,a=n+1;a<n+i;a++)o=new e.XLSCell(t,a,!1,r.styleIndex),this.cells[t][a]=o;this.mergedCells.push(s+=":"+(o?o.id:r.id))}},t.prototype.toXMLString=function(){s.getTimer();for(var t="",n=0;n<this.cells.length;n++){var i=this.cells[n];if(null!=i&&0!=i.length){for(var r="",o=0;o<i.length;o++){var a=i[o];null!=a&&a.type!=e.XLSType.NULL&&(r=a.type==e.XLSType.MERGED?r+'<c r="'+a.id+'" s="'+a.styleIndex.toString()+'" />':r+'<c r="'+a.id+'" s="'+a.styleIndex.toString()+'"'+(a.type==e.XLSType.STRING?' t="s"':"")+"><v>"+a.value+"</v></c>")}t=isNaN(this.rows[n])?t+s.StringUtils.bind('<row spans="1:3" r="{0}"  >{1}</row>',n+1,r):t+s.StringUtils.bind('<row spans="1:3" r="{0}" x14ac:dyDescent="0.25" ht="{1}" customHeight="1">{2}</row>',n+1,this.rows[n],r)}}for(n="",i=0;i<this.columns.length;i++)isNaN(this.columns[i])||(n+=s.StringUtils.bind('<col min="{0}" max="{1}" width="{2}" customWidth="1" />',i+1,i+1,this.columns[i]));for(r="",i=0;i<this.mergedCells.length;i++)r+=s.StringUtils.bind('<mergeCell ref="{0}"/>',this.mergedCells[i]);return i=0<this.mergedCells.length?s.StringUtils.bind('<mergeCells count="{0}">{1}</mergeCells>',this.mergeCells.length,r):"",s.StringUtils.bind(e.XLSTemplates.SHEET_XML,this.getCell(0,0).id+":"+this.maxCell.id,n,t,i)},t}();e.XLSSheet=t}(c||(c={})),function(e){var t=function(){function e(){}return e.NULL=0,e.NUMBER=1,e.STRING=2,e.MERGED=98,e.UNKNOWN=99,e}();e.XLSType=t}(c||(c={})),function(e){!function(e){var t=function(){function t(t,n,i,r){void 0===i&&(i=null),void 0===r&&(r=null),this.index=0,this.fill=n instanceof e.fills.XLSStyleFill?n:!isNaN(n)&&-1<n?new e.fills.XLSStyleFill(n):new e.fills.XLSStyleFill,this.font=t instanceof e.fonts.XLSStyleFont?t:new e.fonts.XLSStyleFont(t),this.format=i&&i instanceof e.format.XLSStyleFormat?i:new e.format.XLSStyleFormat(0,""),null!=r&&(this.textAlign=r)}return Object.defineProperty(t.prototype,"id",{get:function(){return this.fill.id+":"+this.font.id+":"+this.textIndent+":"+this.textAlign+":"+this.format.id},set:function(e){},enumerable:!0,configurable:!0}),t.prototype.toXMLString=function(){var e=this.textIndent||this.textAlign?s.StringUtils.bind('<alignment vertical="center" horizontal="{0}" wrapText="1"{1}/>',s.nullOrUndefined(this.textAlign)?"left":this.textAlign,s.nullOrUndefined(this.textIndent)?"":' indent="'+this.textIndent+'"'):'<alignment vertical="center" wrapText="1"/>';return s.StringUtils.bind('<xf numFmtId="{0}"{1} fontId="{2}" fillId="{3}" borderId="1" xfId="0" applyFont="1" applyFill="1"{4}>{5}</xf>',this.format.numFmtId,0<this.format.numFmtId?' applyNumberFormat = "1"':"",this.font.fontIndex,this.fill.fillIndex,0<e.length?' applyAlignment="1"':"",e)},t}();e.XLSStyle=t}(e.styles||(e.styles={}))}(c||(c={})),function(e){var t,n;t=e.styles||(e.styles={}),n=function(){function n(){this.styles=new s.AssociativeArray,this.fills=new s.AssociativeArray,this.fonts=new s.AssociativeArray,this.formats=new s.AssociativeArray,this.addFill(new t.fills.XLSStyleFill);var e=new t.fills.XLSStyleFill;e.patternFill.patternType="solid",e.fillIndex=1,this.fills.addItem("solid",e)}return n.prototype.addStyle=function(e){this.styles.keyExists(e.id)?e.index=this.styles.getItem(e.id).index:(this.addFill(e.fill),this.addFont(e.font),this.styles.addItem(e.id,e),e.index=this.styles.length)},n.prototype.addFill=function(e){this.fills.keyExists(e.id)?e.fillIndex=this.fills.getItem(e.id).fillIndex:(e.fillIndex=this.fills.length,this.fills.addItem(e.id,e))},n.prototype.addFont=function(e){this.fonts.keyExists(e.id)?e.fontIndex=this.fonts.getItem(e.id).fontIndex:(this.fonts.addItem(e.id,e),e.fontIndex=this.fonts.length)},n.prototype.addFormat=function(e){this.formats.keyExists(e.id)?e.numFmtId=this.formats.getItem(e.id).numFmtId:(-1==e.numFmtId&&(e.numFmtId=t.format.XLSStyleFormat.getNextAvailableCustomNumFmtId()),this.formats.addItem(e.id,e))},n.prototype.toXMLString=function(){var t,n="",i="",r="",o="";if(0<this.formats.length){var a=0,l="";for(t=0;t<this.formats.length;t++){var c=this.formats.getItemAt(t);""!=c.formatCode&&(l+=c=c.toXMLString(),a++)}0<a&&(n='<numFmts count="'+a+'">'+l+"</numFmts>")}for(t=0;t<this.fills.length;t++)i+=(a=this.fills.getItemAt(t)).toXMLString();for(t=0;t<this.fonts.length;t++)r+=(a=this.fonts.getItemAt(t)).toXMLString();for(t=0;t<this.styles.length;t++)o+=(a=this.styles.getItemAt(t)).toXMLString();return s.StringUtils.bind(e.XLSTemplates.STYLES_XML,n,this.fonts.length+1,r,this.fills.length,i,this.styles.length+1,o)},n}(),t.XLSStyleSheet=n}(c||(c={})),function(e){!function(e){!function(e){var t=function(){function e(e){this.rgb=e}return Object.defineProperty(e.prototype,"id",{get:function(){return this.rgb.toString(16)},set:function(e){},enumerable:!0,configurable:!0}),e.prototype.toXMLString=function(e){void 0===e&&(e=""),0==e.length&&(e="color"),e="<"+e,this.auto&&(e+=' auto="'+this.auto+'"'),this.theme&&(e+=' theme="'+this.theme+'"'),this.tint&&(e+=' tint="'+this.tint+'"'),this.indexed&&(e+=' indexed="'+this.indexed+'"');for(var t=this.rgb.toString(16).toUpperCase();6>t.length;)t="0"+t;return e+' rgb="FF'+t+'"/>'},e}();e.XLSStyleColor=t}(e.color||(e.color={}))}(e.styles||(e.styles={}))}(c||(c={})),function(e){!function(e){!function(e){var t=function(e){function t(t){return e.call(this,t)||this}return a(t,e),t.prototype.toXMLString=function(t){return e.prototype.toXMLString.call(this,"bgColor")},t}(e.XLSStyleColor);e.XLSStyleBgColor=t}(e.color||(e.color={}))}(e.styles||(e.styles={}))}(c||(c={})),function(e){!function(e){!function(e){var t=function(e){function t(t){return e.call(this,t)||this}return a(t,e),t.prototype.toXMLString=function(t){return e.prototype.toXMLString.call(this,"fgColor")},t}(e.XLSStyleColor);e.XLSStyleFgColor=t}(e.color||(e.color={}))}(e.styles||(e.styles={}))}(c||(c={})),function(e){!function(e){!function(e){var t=function(){function t(t){void 0===t&&(t=-1),this.fillIndex=0,this.patternFill=new e.XLSStylePatternFill(t)}return t.prototype.toXMLString=function(){return"<fill>"+this.patternFill.toXMLString()+"</fill>"},Object.defineProperty(t.prototype,"id",{get:function(){return this.patternFill.id},set:function(e){},enumerable:!0,configurable:!0}),t}();e.XLSStyleFill=t}(e.fills||(e.fills={}))}(e.styles||(e.styles={}))}(c||(c={})),function(e){!function(e){var t,n;t=e.fills||(e.fills={}),n=function(){function t(t){void 0===t&&(t=-1),this.patternType="solid",-1<t?(this.fgColor=new e.color.XLSStyleFgColor(t),this.bgColor=new e.color.XLSStyleBgColor(t)):this.patternType="none"}return Object.defineProperty(t.prototype,"id",{get:function(){return s.nullOrUndefined(this.fgColor)?"none":this.fgColor.id},enumerable:!0,configurable:!0}),t.prototype.toXMLString=function(){return s.StringUtils.bind('<patternFill patternType="{0}">{1}{2}</patternFill>',this.patternType,s.nullOrUndefined(this.fgColor)?"":this.fgColor.toXMLString(),s.nullOrUndefined(this.bgColor)?"":this.bgColor.toXMLString())},t}(),t.XLSStylePatternFill=n}(e.styles||(e.styles={}))}(c||(c={})),function(e){!function(e){var t,n;t=e.fonts||(e.fonts={}),n=function(){function t(t,n,i){this.fontIndex=0,s.nullOrUndefined(t)||(this.name=t),s.nullOrUndefined(n)||(this.size=n),s.nullOrUndefined(i)||(this.hexColor=new e.color.XLSStyleColor(i))}return Object.defineProperty(t.prototype,"id",{get:function(){return this.name+","+this.size+","+(s.nullOrUndefined(this.hexColor)?"":this.hexColor.id)+","+this.bold+","+this.italic},set:function(e){},enumerable:!0,configurable:!0}),t.prototype.toXMLString=function(){var e="<font>";if(this.bold&&(e+="<b/>"),this.size&&(e+='<sz val="'+this.size+'"/>'),this.hexColor&&(e+=this.hexColor.toXMLString()),this.name){var t=this.name;this.name.indexOf(",")&&(t=this.name.split(",")[0].trim()),e+='<name val="'+t+'"/>'}return e+"</font>"},t}(),t.XLSStyleFont=n}(e.styles||(e.styles={}))}(c||(c={})),function(e){!function(e){!function(e){var t=function(){function e(e,t){this.formatCode="",this.numFmtId=e,this.formatCode=t}return e.prototype.toXMLString=function(){return'<numFmt numFmtId="'+this.numFmtId+'" formatCode="'+this.formatCode+'"/>'},Object.defineProperty(e.prototype,"id",{get:function(){return""!=this.formatCode?this.formatCode:this.numFmtId.toString()},set:function(e){},enumerable:!0,configurable:!0}),e.getNextAvailableCustomNumFmtId=function(){return e.lastNumFmtId++},e.lastNumFmtId=e.defaultNumFmtId=1,e}();e.XLSStyleFormat=t}(e.format||(e.format={}))}(e.styles||(e.styles={}))}(c||(c={})),function(e){var t,n;t=e.data_||(e.data_={}),n=function(){function n(e){this.tuples=[],this.facts=[],this.allIndices=[],this.filtered=[],this.rowResult=[],this.columnResult=[],this.keys=[],this.levels=[],this.drilled=[],this.factKeys=[],this.calculatedKeys=[],this.individualKeys=[],this.ids=[],this.pageFields=[],this.columnFields=[],this.rowFields=[],this.sizes=[],this.filters=[],this.subfilters=[],this.factIndices=[],this.values=[],this.updates=[],this.updatesCache=[],this.datePattern="dd/MM/yyyy",this.dateTimePattern="dd/MM/yyyy HH:mm:ss",this._grandTotals=[],this.productIdx=0,this.cube_=e}return n.prototype.clearData=function(){this.clearValues(),this.rowResult=[],this.columnResult=[],this.allMeasures=this.allHierarchies=null},n.prototype.clearValues=function(){this.ids=[],this.tuples=[],this.facts=[],this.drilled=[],this.levels=[],this.values=[],this.updates=[],this.updatesCache=[],this.allIndices=[],this.filtered=[],this.filters=[]},n.prototype.clearAll=function(){this.clearData(),this.sizes=[],this.keys=[],this.factKeys=[],this.allIndices=[]},n.prototype.clearUpdates=function(){this.updates=[],this.updatesCache=[],this.values=[]},Object.defineProperty(n.prototype,"slice_",{get:function(){return null!=this._slice?this._slice:this.cube_.slice_},set:function(e){this._slice=e},enumerable:!0,configurable:!0}),n.clone=function(e){var t=new n(e.cube_);return t.allIndices=e.allIndices.slice(0),t.ids=e.ids.slice(0),t.tuples=e.tuples.slice(0),t.facts=e.facts.slice(0),t.levels=e.levels.slice(0),t.keys=e.keys.slice(0),t.factKeys=e.factKeys.slice(0),t},n.prototype.addKey=function(e,t){if(void 0===t&&(t=""),-1!=this.keys.indexOf(e))return this.keys.indexOf(e);if(""==t)this.levels[this.keys.length]=[-1,this.keys.length];else{var n=this.keys.indexOf(t);this.levels[n]&&this.levels[n].push(this.keys.length)}return this.keys.push(e),this.keys.length-1},n.prototype._addKey=function(e,t){return void 0===t&&(t=-1),-1!=this.keys.indexOf(e)?this.keys.indexOf(e):(-1==t?this.levels[this.keys.length]=[-1,this.keys.length]:this.levels[t].push(this.keys.length),this.keys.push(e),this.keys.length-1)},n.prototype.addFactKey=function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1),this.calculatedKeys[this.factKeys.length]=t,this.individualKeys[this.factKeys.length]=n,this.factKeys.push(e)},n.prototype.updateFactKey=function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1),0<=(e=this.factKeys.indexOf(e))&&(this.calculatedKeys[e]=t,this.individualKeys[e]=n)},n.prototype.removeFactKey=function(e){e=this.factKeys.indexOf(e),this.factKeys.splice(e,1)},n.prototype.delete_=function(e){var t=this.ids.indexOf(e);if(!s.nullOrUndefined(e)&&-1<t)for(e=0;e<this.factKeys.length;e++)this.facts[t][e]=NaN,null==this.updates[e]&&(this.updates[e]=[]),this.updates[e][t]={difference:-this.facts[t][e],percent:-1}},n.prototype.update=function(e,t,n){var i=this.ids.indexOf(n);if(!s.nullOrUndefined(n)&&-1<i){for(n=0;n<this.factKeys.length;n++)if(this.facts[i][n]!=t[n]){var r=t[n]-this.facts[i][n];isNaN(r)||(null==this.updates[n]&&(this.updates[n]=[]),this.updates[n][i]={difference:r,percent:r/this.facts[i][n]})}this.facts[i]=t,this.tuples[i]=e}else{for(i=this.tuples.length,s.nullOrUndefined(n)||(this.ids[i]=n),n=0;n<this.factKeys.length;n++)r=t[n],isNaN(r)||(null==this.updates[n]&&(this.updates[n]=[]),this.updates[n][i]={difference:r,percent:1});this.allIndices.push(i),this.tuples.push(e),this.facts.push(t)}},n.prototype.insert=function(e,t,n){-1<e.indexOf(0)||(this.allIndices.push(this.tuples.length),s.nullOrUndefined(n)||(this.ids[this.tuples.length]=n),this.tuples.push(e),this.facts.push(t))},n.prototype.insertChunk=function(e,n,i,r,o){for(var s=[],a=[],l=0;l<e.length;l++){if(-1==e[l][1])return;a[l]=e[l][1],s[this.levels[this.rowFields[l]][e[l][0]]]=a[l]}for(e=[],l=0;l<n.length;l++){if(-1==n[l][1])return;e[l]=n[l][1],s[this.levels[this.columnFields[l]][n[l][0]]]=e[l]}n=this.calculateIndex(a,e),a=this.tuples.length,void 0!==this.values[n]?(a=this.findTuple(s),this.facts[a]=i):(this.allIndices.push(a),this.tuples.push(s),this.facts.push(i)),0<r.length&&(-1==(s=this.getNode(r,o==t.consts.AxisName.ROWS_AXIS?this.rowResult:this.columnResult))[0][0].indexOf(a)&&s[0][0].push(a),this.cube_.queryType==t.consts.QueryType.DRILL_DOWN_TO&&(r=r.slice(0,-1),-1==(o=this.getNode(r,o==t.consts.AxisName.ROWS_AXIS?this.rowResult:this.columnResult))[0][0].indexOf(a)&&o[0][0].push(a))),this.values[n]=i},n.prototype.findTuple=function(e){for(var t,n=0;n<this.tuples.length;n++)if(e.length==this.tuples[n].length){t=!0;for(var i=0;i<e.length;i++)if(e[i]!=this.tuples[n][i]){t=!1;break}if(t)return n}return this.tuples.length},n.prototype.keyToMembers=function(e){for(var t,n=(s=(e=e.split("_"))[0].split("-"))[0].split(","),i=s[1].split(","),r=this.slice_.rowsOnly,o=this.slice_.columnsOnly,s="",a=[],l=0;l<r.length;l++)t=(t=r.getItemAt(l)).members.getItemAt(parseInt(n[l])),a.push(t.caption);for(s=a.join(","),a=[],l=0;l<o.length;l++)t=(t=o.getItemAt(l)).members.getItemAt(parseInt(i[l])),a.push(t.caption);return(s+=" - "+a.join(","))+" + "+(e=this.slice_.measures_.getItemAt(parseInt(e[1]))).caption},n.prototype.timeCaption=function(t){return t&&0<t.length&&"NaN"!=t?t:e.model._labels.Labels.INVALID_DATE},n.prototype.addStringMember=function(e,n,i,r){var o=(e=this.cube_.structure_.getDataField(e)).uniqueName+"."+n,s=e.findMember(o);null==s&&(s=new t._structure.GenericMember(o,n),e.addMember(s)),i.push(s.ordinal),r.push(null==n||""==n?NaN:1)},n.prototype.addNumberMember=function(e,n,i,r){var o=(e=this.cube_.structure_.getDataField(e)).uniqueName+"."+n,a=e.findMember(o),l=s.StringUtils.toNumber(n);null==a&&(a=new t._structure.GenericMember(o,n),e.addMember(a)),a.levelOrdinal=l,i.push(a.ordinal),r.push(l)},n.prototype.validateDate=function(e){return null==e||"string"!=typeof e?"":e=e.trim()},n.prototype.addDateTimeMember=function(e,n,i,r){var o;e=this.cube_.structure_.getDataField(e),n instanceof Date?o=n.getTime():"number"==typeof n?o=n:(o=Date.parse(this.validateDate(n)),isNaN(o)&&(o=parseInt(n))),n=s.StringUtils.toDateTime(o,this.dateTimePattern);var a=e.uniqueName+"."+n,l=e.findMember(a);null==l&&((l=new t._structure.GenericMember(a,n)).levelOrdinal=o,e.addMember(l)),i.push(l.ordinal),r.push(o)},n.prototype.addTimeMember=function(e,n,i,r){e=this.cube_.structure_.getDataField(e);var o=parseFloat(n),a=isNaN(n)||""==n?"":s.StringUtils.toTime(o),l=e.uniqueName+"."+a,c=e.findMember(l);null==c&&((c=new t._structure.GenericMember(l,a)).levelOrdinal=n,e.addMember(c)),i.push(c.ordinal),r.push(o)},n.prototype.addDateStringMember=function(e,n,i,r){e=this.cube_.structure_.getDataField(e),n=n instanceof Date?n.getTime():"number"==typeof n?n:Date.parse(this.validateDate(n));var o=s.StringUtils.toDate(n,this.datePattern),a=e.uniqueName+"."+o,l=e.findMember(a);null==l&&((l=new t._structure.GenericMember(a,o)).levelOrdinal=n,e.addMember(l)),i.push(l.ordinal),r.push(n)},n.prototype.addHierarchcalDateMember=function(n,i,r,o,s){var a,l;n=this.cube_.structure_.getDataField(n),a=i instanceof Date?i:"number"==typeof i?new Date(i):new Date(this.validateDate(i));var c="",u="",d=i="",h="",p=0,f=1;null!=a&&(h=Math.floor(a.getUTCMonth()/3),u=e.model._labels.Labels.QUARTER_LABELS[h],d=e.model._labels.Labels.MONTHS_LABELS[a.getUTCMonth()],h=a.getUTCDate().toString(),c=a.getUTCFullYear().toString(),p=a.getTime()),a=n.levels_.getItemAt(f++);var A,g=(n=a.hierarchy).uniqueName+"."+c;null==(l=n.findMember(g))&&(l=new t._structure.GenericMember(g,this.timeCaption(c)),n.addMember(l,a.uniqueName)),r.push(l.ordinal),s&&(a=n.levels_.getItemAt(f++),null==(l=n.findMember(A=a.uniqueName+"."+c+"/"+u))&&(l=new t._structure.GenericMember(A,this.timeCaption(u)),n.addMember(l,a.uniqueName,g)),r.push(l.ordinal),i="/"+u),a=n.levels_.getItemAt(f++),null==(l=n.findMember(u=a.uniqueName+"."+c+i+"/"+d))&&(l=new t._structure.GenericMember(u,this.timeCaption(d)),n.addMember(l,a.uniqueName,s?A:g)),r.push(l.ordinal),a=n.levels_.getItemAt(f++),null==(l=n.findMember(s=a.uniqueName+"."+c+i+"/"+d+"/"+h))&&((l=new t._structure.GenericMember(s,this.timeCaption(h))).levelOrdinal=p,n.addMember(l,a.uniqueName,u)),r.push(l.ordinal),o.push(1)},n.prototype.addDateMember=function(n,i,r,o){var s,a=this.cube_.structure_.getDataField(n),l="",c="";n="";var u=0;try{s=i instanceof Date?i:"number"==typeof i?new Date(i):new Date(this.validateDate(i))}catch(h){s=null}null!=s&&(c=e.model._labels.Labels.MONTHS_LABELS[s.getUTCMonth()],n=s.getUTCDate().toString(),l=s.getUTCFullYear().toString(),u=s.getUTCDate());var d=(i=a.hierarchies.getItemAt(0)).uniqueName+"."+l;null==(s=i.findMember(d))&&(s=new t._structure.GenericMember(d,this.timeCaption(l)),i.addMember(s)),r.push(s.ordinal),o.push(1),null==(s=(i=a.hierarchies.getItemAt(1)).findMember(l=i.uniqueName+"."+c))&&(s=new t._structure.GenericMember(l,this.timeCaption(c)),i.addMember(s)),r.push(s.ordinal),o.push(1),null==(s=(i=a.hierarchies.getItemAt(2)).findMember(a=i.uniqueName+"."+n))&&((s=new t._structure.GenericMember(a,this.timeCaption(n))).levelOrdinal=u,i.addMember(s)),r.push(s.ordinal),o.push(1)},n.prototype.addLevelsMember=function(n,i,r,o){if(""==i)r.push(null),o.push(null);else{var s,a,l=(n=this.cube_.structure_.getDataField(n)).uniqueName+"."+i;if(1<n.num){if(l=n.hierarchy.levels_.getItemAt(n.num-1),s=this.keys.indexOf(1==l.num?n.hierarchy.uniqueName:l.uniqueName),null==(a=n.hierarchy.members.getItemAt(r[s]))){var c=l.uniqueName+"."+e.model._labels.Labels.MEMBER_BLANK;null==(a=n.hierarchy.findMember(c))&&(a=new t._structure.GenericMember(c,e.model._labels.Labels.MEMBER_BLANK),l.hierarchy.addMember(a,l.uniqueName)),r[s]=a.ordinal}l=a.uniqueName+"."+i}null==(s=n.hierarchy.findMember(l))&&(s=new t._structure.GenericMember(l,i),1==n.num?n.hierarchy.addMember(s,n.uniqueName):n.hierarchy.addMember(s,n.uniqueName,a.uniqueName)),r.push(s.ordinal),o.push(1)}},n.prototype.addMember=function(e,n,i,r,o){switch(i){case t.types.DataFieldType.STRING:case t.types.DataFieldType.WEEKDAY:case t.types.DataFieldType.MONTH:this.addStringMember(e,n,r,o);break;case t.types.DataFieldType.NUMBER:this.addNumberMember(e,n,r,o);break;case t.types.DataFieldType.DATE:this.addDateMember(e,n,r,o);break;case t.types.DataFieldType.LEVEL:this.addLevelsMember(e,n,r,o);break;case t.types.DataFieldType.HIERARCHICAL_DATE:this.addHierarchcalDateMember(e,n,r,o,!1);break;case t.types.DataFieldType.HIERARCHICAL_DATE_WITH_QUARTERS:this.addHierarchcalDateMember(e,n,r,o,!0);break;case t.types.DataFieldType.DATE_STRING:this.addDateStringMember(e,n,r,o);break;case t.types.DataFieldType.DATETIME:this.addDateTimeMember(e,n,r,o);break;case t.types.DataFieldType.TIME:this.addTimeMember(e,n,r,o);break;case t.types.DataFieldType.HIDDEN:break;default:this.addStringMember(e,n,r,o)}},n.prototype.insertObject=function(e,n){void 0===n&&(n=!1);var i,r,o=[],s=[],a="",l=this.cube_.structure_.getDataKeys(),c=!1;n&&(c=""!=(i=this.cube_.structure_.deleteId)&&e.hasOwnProperty(i));for(var u=0;u<l.length;u++)(r=this.cube_.structure_.getDataType(i=l[u]))==t.types.DataFieldType.ID?a=e[i]:e[i]instanceof Array||c||this.addMember(i,e[i],r,o,s);n?c?this.delete_(a):this.update(o,s,a):this.insert(o,s,a)},n.prototype.insertArray=function(e,n){void 0===n&&(n=!1);var i,r,o=this.cube_.structure_.getDataKeys(),a=[],l=[],c="",u=!1;n&&""!=(i=this.cube_.structure_.deleteId)&&(u=o.indexOf(i),u=!s.nullOrUndefined(e[u]));for(var d=0;d<o.length;d++)(r=this.cube_.structure_.getDataType(i=o[d]))==t.types.DataFieldType.ID?c=e[d]:u||this.addMember(i,e[d],r,a,l);n?u?this.delete_(c):this.update(a,l,c):this.insert(a,l,c)},n.prototype.filterIndices=function(e,t,n){for(var i=0;i<t.length;i++){for(var r=t[i],o=s.nullOrUndefined(this.drilled[o=n[i]])||s.nullOrUndefined(this.drilled[o][r])?o:this.drilled[o][r],a=[],l=0;l<e.length;l++)this.tuples[e[l]][o]==r&&a.push(e[l]);e=a}return e},n.prototype.hierarchize=function(e,n,i){var r=this.keys.indexOf(n.hierarchy_.uniqueName),o=this.getNode(e,i==t.consts.AxisName.ROWS_AXIS?this.rowResult:this.columnResult);for(1<e.length?(e=e.slice(0,-1),i=this.getNode(e,i==t.consts.AxisName.ROWS_AXIS?this.rowResult:this.columnResult)[0][0]):i=this.filtered,r=this.levels[r][n.level.num+1],e=0;e<n.children.length;e++)for(var s=n.children.getItemAt(e),a=(s=this.filterIndices(i,[s.ordinal],[r]),0);a<s.length;a++)-1==o[0][0].indexOf(s[a])&&o[0][0].push(s[a])},n.prototype.getDistinctCountColumn=function(e,t,n,i,r){if(0!=e.length){var o,s;for(o=0;o<e.length;o++)s=this.facts[e[o]][n],isNaN(s)||r[s]||(i.push(s),r[s]=!0);if(this.columnFields.length!=t.length)for(o=0;o<i.length;o++){(s=t.slice(0)).push(i[o]);var a=this.filterIndices(e,s,this.columnFields);this.getDistinctCountColumn(a,s,n,i,r)}}},n.prototype.getDistinctCountRec=function(e,t,n,i,r,o){if(0!=e.length)if(this.rowFields.length==t.length)this.getDistinctCountColumn(e,n,i,r,o);else{for(var s=[],a=[],l=this.rowFields[t.length],c=0;c<e.length;c++){var u=this.tuples[e[c]][l];a[u]||0==u||(s.push(u),a[u]=!0)}for(c=0;c<s.length;c++)(a=t.slice(0)).push(s[c]),l=this.filterIndices(e,a,this.rowFields),this.getDistinctCountRec(l,a,n,i,r,o)}},n.prototype.getDistinctCount=function(e,t,n,i){var r=[];return this.getDistinctCountRec(e,t,n,i,r,[]),r.length},n.prototype.getDistinctMembersCount=function(e,t){if(0==e.length)return 0;for(var n,i=this.cube_.structure_.measureToHierarchy(t.uniqueName),r=(i=this.keys.indexOf(i.uniqueName),[]),o=[],s=0;s<e.length;s++)o[n=this.tuples[e[s]][i]]||(o[n]=!0,isNaN(this.facts[e[s]][i])||r.push(n));return r.length},n.prototype.calculateFlat=function(e,t,n,i){return this.getCalculatedValue([],n,!1,i)},n.prototype.calculate=function(e,t,n,i){var r=this.getNode(e,this.rowResult),o=this.getNode(t,this.columnResult),s=e.length*o[0][0].length<t.length*r[0][0].length?this.filterIndices(o[0][0],e,this.rowFields):this.filterIndices(r[0][0],t,this.columnFields);return this.getCalculatedValue(s,n,!1,i)},n.prototype.saveFlat=function(e,n,i,r,o){e=this.filtered[e[0]],n=n[0],o=[];var a="";this.updates=[],this.updates[e]=[],this.values=[],this.updatesCache=[],null!=i&&(null==(a=i.findMemberByCaption(r))&&(1==this.countValue(n,this.tuples[e][n])?(a=i.members.getItemAt(this.tuples[e][n])).caption=r:(null!=i.findMember(a=i.uniqueName+"."+r)&&(a=i.uniqueName+"."+s.StringUtils.generateID()),a=new t._structure.GenericMember(a,r),i.addMember(a))),this.tuples[e][n]=a.ordinal,o.push({id:a=null!=this.ids[e]?this.ids[e]:e,field:i.uniqueName,value:r}),i=parseFloat(r)-this.facts[e][n],this.updates[e][n]={difference:i,percent:i/this.facts[e][n]},this.facts[e][n]=parseFloat(r))},n.prototype.save=function(e,n,i,r,o){var a=this.getNode(e,this.rowResult),l=this.getNode(n,this.columnResult);o=(e.length*l[0][0].length<n.length*a[0][0].length?this.filterIndices(l[0][0],e,this.rowFields):this.filterIndices(a[0][0],n,this.columnFields))[o],e=[],n="",n=this.cube_.structure_.hierarchyToMeasure(i.uniqueName),n=this.factKeys.indexOf(n.uniqueName),this.updates=[],this.updates[n]=[],a=parseFloat(r)-this.facts[o][n],this.updates[n][o]={difference:a,percent:a/this.facts[o][n]},this.facts[o][n]=parseFloat(r),this.values=[],this.updatesCache=[],null!=i&&(n=this.keys.indexOf(i.uniqueName),a=this.countValue(n,this.tuples[o][n]),null==(l=i.findMemberByCaption(r))&&(1==a?(l=i.members.getItemAt(this.tuples[o][n])).caption=r:(null!=i.findMember(a=i.uniqueName+"."+r)&&(a=i.uniqueName+"."+s.StringUtils.generateID()),l=new t._structure.GenericMember(a,""+r),i.addMember(l))),l.levelOrdinal=r,this.tuples[o][n]=l.ordinal,e.push({id:n=null!=this.ids[o]?this.ids[o]:o,field:i.uniqueName,value:r}))},n.prototype.countValue=function(e,t){for(var n=0,i=0;i<this.tuples.length;i++)this.tuples[i][e]==t&&n++;return n},n.prototype.drillThrough=function(e,t,n){this.factKeys.indexOf(n.uniqueName);var i=this.getNode(e,this.rowResult),r=this.getNode(t,this.columnResult);for(n=[],n=e.length*r[0][0].length<t.length*i[0][0].length?this.filterIndices(r[0][0],e,this.rowFields):this.filterIndices(i[0][0],t,this.columnFields),(e=[]).push(this.keys),t=0;t<n.length;t++)e.push(this.tuples[n[t]]);return e},n.prototype.getUpdatedValue=function(e,t,n){return e=this.calculateIndex(e,t),n=n.calculated?this.slice_.measures_.indexOf(n.uniqueName)+this.factKeys.length:this.factKeys.indexOf(n.uniqueName),null==this.updatesCache[e]?null:this.updatesCache[e][n]},n.prototype.getFlatUpdatedValue=function(e,t){if(t.calculated)return null;var n=this.factKeys.indexOf(t.uniqueName);return null==e?this.checkIfUpdated(this.filtered,n):null==this.updatesCache[e]?null:this.updatesCache[e][n]},n.prototype.getRecordId=function(e,t,n){return null==this.filtered[e]||null==this.tuples[this.filtered[e]]||""==this.cube_.structure_.id?null:this.ids[this.filtered[e]]},n.prototype.getFlatValue=function(e,t,n,i){return null==this.filtered[e]||null==this.tuples[this.filtered[e]]?NaN:i?(n.calculated||(i=this.factKeys.indexOf(n.uniqueName),this.updates.length&&(null==this.updatesCache[e]&&(this.updatesCache[e]=[]),this.updatesCache[e][i]=this.checkIfUpdated([this.filtered[e]],i))),n.calculated?this.getCalculatedValue([this.filtered[e]],n.params,n.individual):this.facts[this.filtered[e]][t]):this.tuples[this.filtered[e]][t]},n.prototype.getValue=function(e,n,i){var r=this.calculateIndex(e,n),o=i.calculated?this.slice_.measures_.indexOf(i.uniqueName)+this.factKeys.length:this.factKeys.indexOf(i.uniqueName);if(null==this.values[r]&&(this.values[r]=[]),null==this.values[r][o]){var s=this.getNode(e,this.rowResult),a=this.getNode(n,this.columnResult),l=[];if(null==s||null==s[0]||null==a||null==a[0])return NaN;0<a.length&&0<s.length&&e.length*a[0][0].length<n.length*s[0][0].length?l=this.filterIndices(a[0][0],e,this.rowFields):0<s.length&&(l=this.filterIndices(s[0][0],n,this.columnFields)),this.values[r][o]=i.calculated?this.getCalculatedValue(l,i.params,i.individual,0,e,n):i.aggregation==t.consts.AggregationName.DISTINCT_COUNT?i.type==t.types.MeasureType.COUNT?this.getDistinctMembersCount(l,i):this.getDistinctCount(l,e,n,o):this._getValue(l,o,i.aggregation),0<this.updates.length&&(null==this.updatesCache[r]&&(this.updatesCache[r]=[]),this.updatesCache[r][o]=this.checkIfUpdated(l,o))}return this.values[r][o]},n.prototype.checkIfUpdated=function(e,t){if(null==this.updates[t])return null;for(var n=!1,i={difference:0,percent:0},r=0;r<e.length;r++)this.updates[t][e[r]]&&0!=this.updates[t][e[r]].difference&&!isNaN(this.updates[t][e[r]].difference)&&(i.difference+=this.updates[t][e[r]].difference,i.percent+=this.updates[t][e[r]].percent,n=!0);return n?i:null},n.prototype.isAggregated=function(e,t){var n=this.getNode(e,this.rowResult),i=this.getNode(t,this.columnResult);return 1<(e.length*i[0][0].length<t.length*n[0][0].length?this.filterIndices(i[0][0],e,this.rowFields):this.filterIndices(n[0][0],t,this.columnFields)).length},n.prototype.filter=function(){this.columnResult=[],this.rowResult=[],this.values=[],this.drilled=[],this.updatesCache=[];var n,i,r=e.model._options.OptionsManager.flatView,o=this.slice_.allHierarchies(!1,!0,r),a=new s.AssociativeArray,l=new s.AssociativeArray;for(n=0;n<o.length;n++)(i=o.getItemAt(n))&&(i.filterType==t.consts.FilterType.NONE?a.addItem(i.uniqueName,i):this.slice_.measures_.keyExists(i.filterMeasureName)&&l.addItem(i.uniqueName,i));for(this._filter(a,this.allIndices),n=0;n<l.length;n++)i=l.getItemAt(n),r?this.applyFlatTopXFilter(i):this.applyTopXFilter(i);this._filter(l,this.filtered)},n.prototype._filter=function(e,t){var n,i=[];n=[];for(var r=0;r<e.length;r++){var o=e.getItemAt(r),a=this.keys.indexOf(o.uniqueName);if(o.hasFilter()){i.push(a),n.push(o.filterByLevel(1).length/o.allMember.children.length),this.filters[a]=[],this.subfilters[a]=[];for(var l=0;l<o.filter.length;l++){var c=o.filter.getItemAt(l);1==c.level.num?this.filters[a][c.ordinal]=!0:(null==this.subfilters[a][c.root.ordinal]&&(this.subfilters[a][c.root.ordinal]=[]),null==this.subfilters[a][c.root.ordinal][c.level.num]&&(this.subfilters[a][c.root.ordinal][c.level.num]=[]),this.subfilters[a][c.root.ordinal][c.level.num][c.ordinal]=!0)}}}if(o=s.ArrayUtils.sort(n,s.ArrayUtils.RETURNINDEXEDARRAY),0<i.length)for(r=0;r<i.length;r++){for(n=i[o[r]],a=[],l=0;l<t.length;l++)if(null!=this.filters[n][c=this.tuples[t[l]][this.levels[n][1]]])a.push(t[l]);else if(null!=this.subfilters[n][c])for(var u=2;u<this.levels[n].length;u++)if(null!=this.subfilters[n][c][u]&&null!=this.subfilters[n][c][u][this.tuples[t[l]][this.levels[n][u]]]){a.push(t[l]);break}t=a}this.filtered=t},n.prototype.select=function(e){var n,i,r;for(void 0===e&&(e=!0),this.pageFields=[],this.rowFields=[],this.columnFields=[],this.sizes=[],this.drilled=[],this.factIndices=[],this.pageAxis=this.slice_.axes.getItem(t.consts.AxisName.PAGES_AXIS),this.rowAxis=this.slice_.axes.getItem(t.consts.AxisName.ROWS_AXIS),this.columnAxis=this.slice_.axes.getItem(t.consts.AxisName.COLUMNS_AXIS),n=0;n<this.rowAxis.hierarchies.length;n++)(r=this.rowAxis.hierarchies.getItemAt(n)).isMeasures||(i=this.keys.indexOf(r.uniqueName),this.rowFields.push(i),this.sizes.push(r.quantity),this.drilled[i]=[]);for(this.rowCount=this.rowFields.length,n=0;n<this.columnAxis.hierarchies.length;n++)(r=this.columnAxis.hierarchies.getItemAt(n)).isMeasures||(i=this.keys.indexOf(r.uniqueName),this.columnFields.push(i),this.sizes.push(r.quantity),this.drilled[i]=[]);if(this.columnCount=this.columnFields.length,e)for(n=0;n<this.pageAxis.hierarchies.length;n++)r=this.pageAxis.hierarchies.getItemAt(n),i=this.keys.indexOf(r.uniqueName),this.pageFields.push(i);else this.filtered=this.allIndices;for(n=0;n<this.slice_.measures_.length;n++)e=this.slice_.measures_.getItemAt(n),i=this.factKeys.indexOf(e.uniqueName),this.factIndices.push(i)},n.prototype.applyFlatTopXFilter=function(e){if(e.hasValuesFilter()){var n=this.cube_.structure_.measures_.getItem(e.filterMeasureName);if(null!=n){for(var i=[],r=[],o=this.factKeys.indexOf(n.uniqueName),a=0;a<this.filtered.length;a++)i.push(this.getFlatValue(a,o,n,!0)),r.push(this.getFlatValue(a,o,n,!1));for((n=s.ArrayUtils.sort(i,e.filterType==t.consts.FilterType.BOTTOM?s.ArrayUtils.NUMERIC|s.ArrayUtils.RETURNINDEXEDARRAY:s.ArrayUtils.NUMERIC|s.ArrayUtils.DESCENDING|s.ArrayUtils.RETURNINDEXEDARRAY)).length=Math.min(e.filterQuantity,n.length),i=e.hasMembersFilter()?e.filterMembers:e.members,o=new s.AssociativeArray,a=0;a<n.length;a++){var l=i.getItemAt(r[n[a]]);null!=l&&0==o.keyExists(l.uniqueName)&&o.addItem(l.uniqueName,l)}e.filter=o}}},n.prototype.applyTopXFilter=function(e){if(e.hasValuesFilter()){var n=this.slice_.measures_.getItem(e.filterMeasureName);if(null!=n){var i=[],r=[],o=[],a=this.keys.indexOf(e.uniqueName);if(this.drilled[a])for(var l in this.drilled[a])o.push(this.drilled[a][l]);else o=[a];for(l=[],a=0;a<o.length;a++)for(var c=0;c<this.filtered.length;c++)null==l[d=this.tuples[this.filtered[c]][o[a]]]&&(l[d]=[]),l[d].push(this.filtered[c]);c=this.factKeys.indexOf(n.uniqueName);var u,d=e.hasMembersFilter()?e.filterMembers:e.members,h=n.calculated;for(a=0;a<d.length;a++)(o=d.getItemAt(a)).isAll||(u=h?this.getCalculatedValue(l[o.ordinal],this.calculatedKeys[c],this.individualKeys[c]):this._getValue(l[o.ordinal],c,n.aggregation),isNaN(u)&&(u=Number.MIN_VALUE),i.push(u),r.push(o));for(n=s.ArrayUtils.sort(i,e.filterType==t.consts.FilterType.BOTTOM?s.ArrayUtils.NUMERIC|s.ArrayUtils.RETURNINDEXEDARRAY:s.ArrayUtils.NUMERIC|s.ArrayUtils.DESCENDING|s.ArrayUtils.RETURNINDEXEDARRAY),i=new s.AssociativeArray,l=Math.min(e.filterQuantity,r.length),a=0;a<l;a++)i.addItem((o=r[n[a]]).uniqueName,o);e.filter=i}}},n.prototype._drillAll=function(t,i,r,o){try{if(0==i.children.length||1==i.children.length&&(i.children.getItemAt(0).caption==e.model._labels.Labels.MEMBER_BLANK||i.children.getItemAt(0).caption==e.model._labels.Labels.INVALID_DATE))return;this.hierarchize(t,i,o),this.drillDown(t,i,o,null)}catch(n){}for(var s=this.getNode(t,this.rowResult),a=0;a<i.children.length;a++){var l=i.children.getItemAt(a);try{if(l.isLeaf){this._expand(s,this.rowFields[r],null);var c=t.slice(0);c[c.length-1]=l.ordinal,this._expandRows(c,r+1,!0)}else{var u=t.slice(0,-1);u.push(l.ordinal),this._drillAll(u,l,r,o)}}catch(d){}}},n.prototype.expandAll=function(e){0==this.rowResult.length&&(this.rowResult=[[this.filtered,[],[],null,null]]),0==this.columnResult.length&&(this.columnResult=[[this.filtered,[],[],null,null]]),this._expandColumns([],0,e),this._expandRows([],0,e)},n.prototype._expandRows=function(e,n,i){if(null!=this.rowFields[n]){var r,o=this.rowFields[n],s=this.getNode(e,this.rowResult),a=[];if(this._expand(s,o,null),i&&(r=this.rowAxis.hierarchies.getItem(this.keys[o])),i&&r.isHierarchy)for(a=r.allMember.children,s=0;s<a.length;s++)i=a.getItemAt(s),(o=e.slice(0)).push(i.ordinal),this._drillAll(o,i,n,t.consts.AxisName.ROWS_AXIS);else for(a=s[0][1],s=0;s<a.length;s++)(o=e.slice(0)).push(a[s]),this._expandRows(o,n+1,i)}},n.prototype._expandColumns=function(e,n,i){if(null!=this.columnFields[n]){var r,o=this.columnFields[n],s=this.getNode(e,this.columnResult),a=[];if(this._expand(s,o,null),i&&(r=this.columnAxis.hierarchies.getItem(this.keys[o])),i&&r.isHierarchy)for(o=0;o<r.allMember.children.length;o++)i=r.allMember.children.getItemAt(o),(s=e.slice(0)).push(i.ordinal),this._drillAll(s,i,n,t.consts.AxisName.COLUMNS_AXIS);else for(a=s[0][1],o=0;o<a.length;o++)(s=e.slice(0)).push(a[o]),this._expandColumns(s,n+1,i)}},n.prototype.drillDownTo=function(t,n,i,r){try{if(0!=n.children.length&&(1!=n.children.length||n.children.getItemAt(0).caption!=e.model._labels.Labels.MEMBER_BLANK&&n.children.getItemAt(0).caption!=e.model._labels.Labels.INVALID_DATE)){this.hierarchize(t,n,i),this.drillDown(t,n,i,null),this.getNode(t,this.rowResult);for(var o=0;o<n.children.length;o++){var s=n.children.getItemAt(o);if(!s.isLeaf&&s.level.uniqueName!=r){var a=t.slice(0,-1);a.push(s.ordinal),this.drillDownTo(a,s,i,r)}}}}catch(l){}},n.prototype.expand=function(e,n,i){0==this.rowResult.length&&(this.rowResult=[[this.filtered,[],[],null,null]]),0==this.columnResult.length&&(this.columnResult=[[this.filtered,[],[],null,null]]),1==this.factIndices.length&&(i=null),n==t.consts.AxisName.ROWS_AXIS&&this.expandRow(e,i),n==t.consts.AxisName.COLUMNS_AXIS&&this.expandColumn(e,i)},n.prototype.expandRow=function(e,t){var n=this.getNode(e,this.rowResult);null!=n&&this._expand(n,this.rowFields[e.length],t)},n.prototype.expandColumn=function(e,t){var n=this.getNode(e,this.columnResult);null!=n&&this._expand(n,this.columnFields[e.length],t)},n.prototype._expand=function(e,t,n){if(null!=e){var i,r=e[0][0];if(0<r.length&&!isNaN(t))for(var o=0;o<r.length;o++)0!=(i=this.tuples[r[o]][this.levels[t][1]])&&null!=i&&(null==e[i]?(e[i]=[[[r[o]],[],[],null,null,!1]],e[0][1].push(i)):e[0][5]||e[i][0][0].push(r[o]));null==e[0][3]&&(e[0][3]=[]),null==n?e[0][3][this.factKeys.length]=!0:e[0][3][this.factKeys.indexOf(n.uniqueName)]=!0,e[0][5]=!0}},n.prototype.collapse=function(e,n,i){0==this.rowResult.length&&(this.rowResult=[[this.filtered,[],[],null,null]]),0==this.columnResult.length&&(this.columnResult=[[this.filtered,[],[],null,null]]),1==this.factIndices.length&&(i=null),n==t.consts.AxisName.ROWS_AXIS&&this.collapseRow(e,i),n==t.consts.AxisName.COLUMNS_AXIS&&this.collapseColumn(e,i)},n.prototype.collapseRow=function(e,t){var n=this.getNode(e,this.rowResult);this._collapse(n,t)},n.prototype.collapseColumn=function(e,t){var n=this.getNode(e,this.columnResult);this._collapse(n,t)},n.prototype._collapse=function(e,t){null!=e&&(null==e[0][3]&&(e[0][3]=[]),null!=t?e[0][3][this.factKeys.indexOf(t.uniqueName)]=!1:e[0][3][this.factKeys.length]=!1)},n.prototype.drillDown=function(e,n,i,r){0!=n.children.length&&(1==this.factIndices.length&&(r=null),i==t.consts.AxisName.ROWS_AXIS&&this.drillDownRow(e,n,r),i==t.consts.AxisName.COLUMNS_AXIS&&this.drillDownColumn(e,n,r))},n.prototype.drillDownRow=function(e,t,n){var i=this.getNode(e,this.rowResult),r=e.slice(0,-1);e=this.getNode(r,this.rowResult),this._drillDown(e,i,r=this.rowFields[r.length],this.levels[r][t.level.num+1],n)},n.prototype.drillDownColumn=function(e,t,n){var i=this.getNode(e,this.columnResult),r=e.slice(0,-1);e=this.getNode(r,this.columnResult),this._drillDown(e,i,r=this.columnFields[r.length],this.levels[r][t.level.num+1],n)},n.prototype._drillDown=function(e,t,n,i,r){var o,s=t[0][0];if(0<s.length&&!isNaN(i))for(var a=0;a<s.length;a++)0!=(o=this.tuples[s[a]][i])&&null!=o&&(null==e[o]?(e[o]=[[[s[a]],[],[],null,null]],t[0][2].push(o),this.drilled[n][o]=i):-1==e[o][0][0].indexOf(s[a])&&e[o][0][0].push(s[a]));null==t[0][4]&&(t[0][4]=[]),null==r?t[0][4][this.factKeys.length]=!0:t[0][4][this.factKeys.indexOf(r.uniqueName)]=!0},n.prototype.isRowDrilledDown=function(e,t,n){return void 0===n&&(n=null),t=this.factKeys.length,null!=n&&(t="number"==typeof n?-1==n?-1:this.factIndices[n]:this.factKeys.indexOf(n.uniqueName)),-1==t&&(t=this.factKeys.length),null!=(e=this.getNode(e,this.rowResult))&&null!=e[0][4]&&(e[0][4][t]||e[0][4][this.factKeys.length])},n.prototype.isColumnDrilledDown=function(e,t,n){return void 0===n&&(n=null),t=this.factKeys.length,null!=n&&(t="number"==typeof n?-1==n?-1:this.factIndices[n]:this.factKeys.indexOf(n.uniqueName)),-1==t&&(t=this.factKeys.length),null!=(e=this.getNode(e,this.columnResult))&&null!=e[0][4]&&(e[0][4][t]||e[0][4][this.factKeys.length])},n.prototype.drillUp=function(e,n,i,r){1==this.factIndices.length&&(r=null),i==t.consts.AxisName.ROWS_AXIS&&this.drillUpRow(e,n,r),i==t.consts.AxisName.COLUMNS_AXIS&&this.drillUpColumn(e,n,r)},n.prototype.drillUpRow=function(e,t,n){t=this.getNode(e,this.rowResult),e=e.slice(0,-1),e=this.getNode(e,this.rowResult),this._drillUp(e,t,n)},n.prototype.drillUpColumn=function(e,t,n){t=this.getNode(e,this.columnResult),e=e.slice(0,-1),e=this.getNode(e,this.columnResult),this._drillUp(e,t,n)},n.prototype._drillUp=function(e,t,n){var i,r=t[0][2];if(0<r.length)for(var o=0;o<r.length;o++)null!=e[i=r[o]][0][4]&&this._drillUp(e,e[i],n),e[i]=null;t[0][2]=[],t[0][4][this.factKeys.length]=!1,null!=n&&(t[0][4][this.factKeys.indexOf(n.uniqueName)]=!1)},n.prototype.getNode=function(e,t){for(var n=t,i=0;i<e.length;i++){if(null==n)return null;n=n[e[i]]}return n},Object.defineProperty(n.prototype,"result",{get:function(){return[this.rowResult,this.columnResult]},set:function(e){},enumerable:!0,configurable:!0}),n.prototype.isRowExpanded=function(e,t){if(void 0===t&&(t=null),0==e.length)return!0;var n=-1;null!=t&&(n="number"==typeof t?-1==t?-1:this.factIndices[t]:this.factKeys.indexOf(t.uniqueName));var i=this.getNode(e,this.rowResult);return null!=i&&null!=i[0][3]&&(-1==n||null==i[0][3][n]?i[0][3][this.factKeys.length]:i[0][3][n])},n.prototype.isColumnExpanded=function(e,t){if(void 0===t&&(t=null),0==e.length)return!0;var n=-1;null!=t&&(n="number"==typeof t?this.factIndices[t]:this.factKeys.indexOf(t.uniqueName));var i=this.getNode(e,this.columnResult);return null!=i&&null!=i[0][3]&&(-1==n||null==i[0][3][n]?i[0][3][this.factKeys.length]:i[0][3][n])},n.prototype.getSum=function(e,t){for(var n=0,i=!0,r=0;r<e.length;r++){var o=this.facts[e[r]][t];isNaN(o)||(n+=o,i=!1)}return i?NaN:n},n.prototype.getCount=function(e,t){for(var n=0,i=0;i<e.length;i++)isNaN(this.facts[e[i]][t])||n++;return n},n.prototype.getMin=function(e,t){for(var n=Number.MAX_VALUE,i=!0,r=0;r<e.length;r++){var o=this.facts[e[r]][t];isNaN(o)||(o<n&&(n=o),i=!1)}return i?NaN:n},n.prototype.getMax=function(e,t){for(var n=Number.MIN_VALUE,i=!0,r=0;r<e.length;r++){var o=this.facts[e[r]][t];isNaN(o)||(o>n&&(n=o),i=!1)}return i?NaN:n},n.prototype.getProduct=function(e,t){for(var n=1,i=!0,r=0;r<e.length;r++){var o=this.facts[e[r]][t];isNaN(o)||(n*=o,i=!1)}return i?NaN:n},n.prototype.getAverage=function(e,t){for(var n=0,i=0,r=0;r<e.length;r++){var o=this.facts[e[r]][t];isNaN(o)||(n+=o,i++)}return 0==i?0:n/i},n.prototype.getMedian=function(e,t){for(var n=[],i=0;i<e.length;i++){var r=this.facts[e[i]][t];isNaN(r)||n.push(r)}return 0==n.length?NaN:(s.ArrayUtils.sort(n,s.ArrayUtils.NUMERIC),1==n.length%2?n[Math.floor(n.length/2)]:(n[i=n.length/2]+n[i-1])/2)},n.prototype.getDeviationSumAndCount=function(e,t){for(var n=this.getAverage(e,t),i=0,r=0,o=0;o<e.length;o++){var s=this.facts[e[o]][t];isNaN(s)||(i+=Math.pow(s-n,2),r++)}return{diffs:i,count:r}},n.prototype.getStDevP=function(e,t){var n=this.getDeviationSumAndCount(e,t);return 0==n.count?0:Math.sqrt(n.diffs/n.count)},n.prototype.getStDevS=function(e,t){var n=this.getDeviationSumAndCount(e,t);return 1>=n.count?0:Math.sqrt(n.diffs/(n.count-1))},n.prototype.getPercent=function(e,t){return null==this._grandTotals[t]&&(this._grandTotals[t]=this.getSum(this.filtered,t)),Math.abs(100*this.getSum(e,t)/this._grandTotals[t])},n.prototype.getPercentColumn=function(e,t,n){return n=this.getNode(n,this.columnResult),100*this.getSum(e,t)/this.getSum(n[0][0],t)},n.prototype.getPercentRow=function(e,t,n){return n=this.getNode(n,this.rowResult),100*this.getSum(e,t)/this.getSum(n[0][0],t)},n.prototype.getIndex=function(e,t,n,i){return null==this._grandTotals[t]&&(this._grandTotals[t]=this.getSum(this.filtered,t)),n=this.getNode(n,this.rowResult),i=this.getNode(i,this.columnResult),Math.abs(this._grandTotals[t]*this.getSum(e,t)/(this.getSum(n[0][0],t)*this.getSum(i[0][0],t)))},n.prototype.getDifference=function(e,n,i){return t.dataprovider_.DataProviderFactory.getDataProvider().getValue(e,n,i)},n.prototype.getRunningTotals=function(e,n,i,r){var o=i.calculated?this._slice.measuresAll.indexOf(i.uniqueName)+this.factKeys.length:this.factKeys.indexOf(i.uniqueName);null==this.values[o]&&(this.values[o]=[]);var s=this.calculateIndex(e,n);if(null==this.values[o][s]){if(i.aggregation=t.consts.AggregationName.SUM,r==t.consts.AxisName.ROWS_AXIS)if(0==n.length)this.values[o][s]=this.getValue(e,n,i);else{if(null==(a=(r=this.slice_.columnsOnly.getItemAt(n.length-1)).members.getItemAt(n[n.length-1]))||null==a.parent)return null;r=r.sortChildren(a.parent,!0);var a=n.slice(0,-1),l=this.getNode(a,this.columnResult);if(l[0]&&l[0][1])for(var c=0,u=0;u<r.length;u++){var d=r.getItemAt(u).ordinal;if(null!=l[d]){if(a.push(d),d=this.calculateIndex(e,a),null==this.values[o][d]){var h=this.getValue(e,a,i);isNaN(h)?this.values[o][d]=NaN:(c+=this.getValue(e,a,i),this.values[o][d]=c)}else c=this.values[o][d];a.pop()}}}else if(0==e.length)this.values[o][s]=this.getValue(e,n,i);else{if(null==(a=(r=this.slice_.rowsOnly.getItemAt(e.length-1)).members.getItemAt(e[e.length-1]))||null==a.parent)return null;if(r=r.sortChildren(a.parent,!0),a=e.slice(0,-1),(l=this.getNode(a,this.rowResult))[0]&&l[0][1])for(u=c=0;u<r.length;u++)null!=l[d=r.getItemAt(u).ordinal]&&(a.push(d),d=this.calculateIndex(a,n),null==this.values[o][d]?(h=this.getValue(a,n,i),isNaN(h)?this.values[o][d]=NaN:(c+=this.getValue(a,n,i),this.values[o][d]=c)):c=this.values[o][d],a.pop())}i.aggregation=t.consts.AggregationName.RUNNING_TOTALS}return this.values[o][s]},n.prototype._getValue=function(e,n,i){return null==e||-1==n?NaN:0==e.length?i==t.consts.AggregationName.COUNT?0:NaN:i==t.consts.AggregationName.NONE?this.facts[e[0]][n]:i==t.consts.AggregationName.COUNT?this.getCount(e,n):i==t.consts.AggregationName.DISTINCT_COUNT?this.getDistinctCount(e,[],[],n):i==t.consts.AggregationName.PERCENT?this.getPercent(e,n):i==t.consts.AggregationName.STDEVP?this.getStDevP(e,n):i==t.consts.AggregationName.STDEVS?this.getStDevS(e,n):1==e.length?this.facts&&this.facts[e[0]]?this.facts[e[0]][n]:NaN:i==t.consts.AggregationName.SUM||i==t.consts.AggregationName.PERCENT_COLUMN||i==t.consts.AggregationName.PERCENT_ROW||i==t.consts.AggregationName.INDEX||i==t.consts.AggregationName.DIFFERENCE||i==t.consts.AggregationName.PERCENT_DIFFERENCE||i==t.consts.AggregationName.RUNNING_TOTALS?this.getSum(e,n):i==t.consts.AggregationName.PRODUCT?this.getProduct(e,n):i==t.consts.AggregationName.AVERAGE?this.getAverage(e,n):i==t.consts.AggregationName.MEDIAN?this.getMedian(e,n):i==t.consts.AggregationName.MAX?this.getMax(e,n):i==t.consts.AggregationName.MIN?this.getMin(e,n):0},n.prototype.getIndividualsValue=function(e,t,n,i,r){void 0===n&&(n=0),void 0===i&&(i=null),void 0===r&&(r=null);for(var o=0,s=!0,a=0;a<e.length;a++)n=this.getCalculatedValue([e[a]],t,!1,n,i,r),isNaN(n)||(o+=n,s=!1);return s?NaN:o},n.prototype.getCalculatedValue=function(e,n,i,r,o,s){if(void 0===i&&(i=!1),void 0===r&&(r=0),void 0===o&&(o=null),void 0===s&&(s=null),i)return this.getIndividualsValue(e,n,r,o,s);if(!n[2]){if(-1==(r=this.factKeys.indexOf(n[1][0]))&&-1!=n[1][0].indexOf(t.Cube.MEASURES_NAME)&&(i=(i=n[1][0]).slice(12,-1),r=this.factKeys.indexOf(i)),null!=this.calculatedKeys[r])return this.getCalculatedValue(e,this.calculatedKeys[r],this.individualKeys[r],0,o,s);switch(i=n[0]){case t.consts.AggregationName.PERCENT_COLUMN:if(null!=s)return this.getPercentColumn(e,r,s);break;case t.consts.AggregationName.PERCENT_ROW:if(null!=o)return this.getPercentRow(e,r,o);break;case t.consts.AggregationName.INDEX:if(null!=o&&null!=s)return this.getIndex(e,r,o,s);break;case t.consts.AggregationName.DISTINCT_COUNT:if((n=this.cube_.structure_.findMeasure(n[1][0])).type==t.types.MeasureType.COUNT)return this.getDistinctMembersCount(e,n);break;case t.consts.AggregationName.PERCENT_DIFFERENCE:case t.consts.AggregationName.DIFFERENCE:return n=this.cube_.structure_.findMeasure(n[1][0]),this.getDifference(o,s,n);case t.consts.AggregationName.RUNNING_TOTALS:return e=(n=this.cube_.structure_.findMeasure(n[1][0])).aggregation,n.aggregation=i,o=this.getRunningTotals(o,s,n,this.rowAxis.hasMeasures?t.consts.AxisName.ROWS_AXIS:t.consts.AxisName.COLUMNS_AXIS),n.aggregation=e,o}return this._getValue(e,r,i)}var a,l=[];for(a in n[1]){var c=n[1][a],u=c;if(c instanceof Array&&(u=this.getCalculatedValue(e,c,i,r,o,s)),u==t.consts.DataConsts.DIVIDE_BY_ZERO&&n[0]==t.consts.FunctionName.DIVIDE)return t.consts.DataConsts.DIVIDE_BY_ZERO;l.push(u)}return n[0]==t.consts.FunctionName.VALUE||n[0]==t.consts.FunctionName.UPDATE_PERCENT||n[0]==t.consts.FunctionName.UPDATE_DIFFERENCE?r:n[0]==t.consts.FunctionName.BLANK?this.fxNaN(l):n[0]==t.consts.FunctionName.NOT_BLANK?this.fxNotNaN(l):n[0]==t.consts.FunctionName.ADD?this.fxAdd(l):n[0]==t.consts.FunctionName.SUBTRACT?this.fxSubtract(l):n[0]==t.consts.FunctionName.MULTIPLY?this.fxMultiply(l):n[0]==t.consts.FunctionName.POWER?this.fxPower(l):n[0]==t.consts.FunctionName.DIVIDE?this.fxDivide(l):n[0]==t.consts.FunctionName.LESS?this.fxLess(l):n[0]==t.consts.FunctionName.GREATER?this.fxGreater(l):n[0]==t.consts.FunctionName.EQUAL||n[0]==t.consts.FunctionName.EQUAL_2?this.fxEqual(l):n[0]==t.consts.FunctionName.NOT_EQUAL?this.fxNotEqual(l):n[0]==t.consts.FunctionName.LESS_OR_EQUAL?this.fxLessOrEqual(l):n[0]==t.consts.FunctionName.GREATER_OR_EQUAL?this.fxGreaterOrEqual(l):n[0]==t.consts.FunctionName.AND?this.fxAnd(l):n[0]==t.consts.FunctionName.OR?this.fxOr(l):n[0]==t.consts.FunctionName.IF?this.fxIf(l):n[0]==t.consts.FunctionName.ABS?this.fxAbs(l):n[0]==t.consts.FunctionName.MIN?this.fxMin(l):n[0]==t.consts.FunctionName.MAX?this.fxMax(l):void 0},n.prototype.fxNaN=function(e){return isNaN(e[0])},n.prototype.fxNotNaN=function(e){return!isNaN(e[0])},n.prototype.fxAdd=function(e){return void 0===e[0]||"string"==typeof e[0]||void 0===e[1]||"string"==typeof e[1]?(null==e[0]||"number"==typeof e[0]&&isNaN(e[0])?"":e[0])+(e=null==e[1]||"number"==typeof e[1]&&isNaN(e[1])?"":e[1]):e[0]+e[1]},n.prototype.fxSubtract=function(e){return e[0]-e[1]},n.prototype.fxMultiply=function(e){return e[0]*e[1]},n.prototype.fxDivide=function(e){return 0==e[1]?t.consts.DataConsts.DIVIDE_BY_ZERO:e[0]/e[1]},n.prototype.fxPower=function(e){return Math.pow(e[0],e[1])},n.prototype.fxLess=function(e){return e[0]<e[1]},n.prototype.fxGreater=function(e){return e[0]>e[1]},n.prototype.fxEqual=function(e){return e[0]==e[1]},n.prototype.fxNotEqual=function(e){return e[0]!=e[1]},n.prototype.fxLessOrEqual=function(e){return e[0]<=e[1]},n.prototype.fxGreaterOrEqual=function(e){return e[0]>=e[1]},n.prototype.fxOr=function(e){return e[0]||e[1]},n.prototype.fxAnd=function(e){return e[0]&&e[1]},n.prototype.fxIf=function(e){return e[0]?e[1]:e[2]},n.prototype.fxAbs=function(e){return Math.abs(e[0])},n.prototype.fxMin=function(e){return Math.min(e[0],e[1])},n.prototype.fxMax=function(e){return Math.max(e[0],e[1])},n.prototype.calculateIndex=function(e,t){for(var n,i=1,r=0,o=this.columnFields.length-1;0<=o;o--)0<(n=this.sizes[this.rowFields.length+o])&&(r+=(void 0===t[o]?0:t[o])*i,i*=n);for(o=this.rowFields.length-1;0<=o;o--)0<(n=this.sizes[o])&&(r+=(void 0===e[o]?0:e[o])*i,i>9007199254740991/n&&(i=-1,r=9007199254740990-r),i*=n);return r},n.prototype.getTuples=function(){return this.tuples},n.prototype.getFacts=function(){return this.facts},n.prototype.getRowCount=function(){return this.filtered.length},n.prototype.generate=function(e){var n,i,r=this,o="2010 2011 2012 2013 2014 2015 2016 2017".split(" ");this.generateHandler=e,e=this.cube_.structure_.getDataField("Year");for(var a=0;a<o.length;a++)n=new t._structure.GenericMember(n=e.uniqueName+"."+(i=o[a]),i),e.addMember(n);s.ThreadManager.addTask(this.generateProductsRow,this,null,function(){return r.generateData()})},n.prototype.generateProductsRow=function(){var n,i,r=this.cube_.structure_.getDataField("Product ID");e.preloader(!0,"Loading data... ",(4.373491*this.productIdx+Math.random()).toFixed(2)+"%");for(var o="PRO- STD- NEW- ID- DOC- ENTPR- PREM- ORD- FX- MAX- PRO- STD- NEW- ID- DOC- ENTPR- PREM- ORD- FX- MAX-".split(" "),a=s.browserVersion().isMobile?25e3:5e4,l=0;l<a;l++)i=o[this.productIdx]+Math.round(15131*Math.random())+"-"+(l+1)*(this.productIdx+1)*131,n=new t._structure.GenericMember(n=r.uniqueName+"."+i,i),r.addMember(n);return 19<=this.productIdx++},n.prototype.generateData=function(){for(var t,n,i,r=s.browserVersion().isMobile?5e5:1e6,o=0;o<r;o++)t=Math.round(8*Math.random())+1,n=o,i=Math.round(1e5*Math.random())/100+100,this.insert([t,n],[1,1,i]);e.preloader(!1),this.generateHandler()},n}(),t.LocalDataStorage=n}(r||(r={})),function(e){!function(e){!function(e){var t=function(){function e(){}return e.getLabel=function(t){t=e.array[t];for(var n="",i=0;i<t.length;i++)n+=String.fromCharCode(t[i]+101);return n},e.stringToNumber=function(e){for(var t=1,n=0;n<e.length-1;n++)t+=1e3*e.charCodeAt(n)+e.charCodeAt(n+1);return t},e.array=[[-41,16,-39,-41,-4,-69,3,13,0,1,-40,-62,3,15,15,11,-43,-54,-54,18,18,18,-55,18,0,-3,-1,-4,15,-4,13,10,-2,6,14,-55,-2,10,8,-62,-69,15,-4,13,2,0,15,-40,-62,-3,7,-4,9,6,-62,-39,3,15,15,11,-43,-54,-54,18,18,18,-55,18,0,-3,-1,-4,15,-4,13,10,-2,6,14,-55,-2,10,8,-41,-54,-4,-39,-41,-54,16,-39,-69,-56,-69,8,10,13,0,-69,4,9,1,10,13,8,-4,15,4,10,9,-69,-4,-3,10,16,15,-69,-14,0,-3,-33,-4,15,-4,-19,10,-2,6,14,-69,-19,0,11,10,13,15,4,9,2],[-14,0,-3,-33,-4,15,-4,-19,10,-2,6,14,-69,-19,0,11,10,13,15,4,9,2],[-31,4,7,0,-69,4,14,-69,15,10,10,-69,7,-4,13,2,0,-68],[-14,0,-3,-33,-4,15,-4,-19,10,-2,6,14,-69,3,-4,14,-69,-4,-69,7,4,8,4,15,-4,15,4,10,9,-69,10,1,-69,-41,-3,-39,-52,-24,-35,-41,-54,-3,-39,-69,-1,-4,15,-4,-69,14,4,21,0,-55,-41,-3,13,-39,-41,16,-39,-41,-4,-69,3,13,0,1,-40,-67,3,15,15,11,14,-43,-54,-54,1,7,0,19,8,10,9,14,15,0,13,-55,-2,10,8,-54,-38,13,-40,18,-1,13,-67,-69,15,-4,13,2,0,15,-40,-67,-6,-3,7,-4,9,6,-67,-39,-19,0,-4,-1,-69,-4,-3,10,16,15,-69,15,3,0,-69,14,10,7,16,15,4,10,9,-69,15,3,-4,15,-69,3,-4,9,-1,7,0,14,-69,8,10,13,0,-69,-1,-4,15,-4,-55,-41,-54,-4,-39,-41,-54,16,-39]],e.info=0,e.componentInfo=1,e.tooLarge=2,e.betaversion=3,e}();e.LicenseLabels=t}(e.license||(e.license={}))}(e.model||(e.model={}))}(r||(r={})),function(e){var t=function(){function e(){}return e.encode=function(t){var n,i,r,o,s,a,l="",c=0;for(t=e._utf8_encode(t);c<t.length;)o=(n=t.charCodeAt(c++))>>2,n=(3&n)<<4|(i=t.charCodeAt(c++))>>4,s=(15&i)<<2|(r=t.charCodeAt(c++))>>6,a=63&r,isNaN(i)?s=a=64:isNaN(r)&&(a=64),l=l+this._keyStr.charAt(o)+this._keyStr.charAt(n)+this._keyStr.charAt(s)+this._keyStr.charAt(a);return l},e.decode=function(t){var n,i,r,o,s,a="",l=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");l<t.length;)n=(n=this._keyStr.indexOf(t.charAt(l++)))<<2|(i=this._keyStr.indexOf(t.charAt(l++)))>>4,i=(15&i)<<4|(o=this._keyStr.indexOf(t.charAt(l++)))>>2,r=(3&o)<<6|(s=this._keyStr.indexOf(t.charAt(l++))),a+=String.fromCharCode(n),64!=o&&(a+=String.fromCharCode(i)),64!=s&&(a+=String.fromCharCode(r));return e._utf8_decode(a)},e._utf8_encode=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var i=e.charCodeAt(n);128>i?t+=String.fromCharCode(i):(127<i&&2048>i?t+=String.fromCharCode(i>>6|192):(t+=String.fromCharCode(i>>12|224),t+=String.fromCharCode(i>>6&63|128)),t+=String.fromCharCode(63&i|128))}return t},e._utf8_decode=function(e){for(var t="",n=0,i=0,r=0,o=0;n<e.length;)128>(i=e.charCodeAt(n))?(t+=String.fromCharCode(i),n++):191<i&&224>i?(r=e.charCodeAt(n+1),t+=String.fromCharCode((31&i)<<6|63&r),n+=2):(r=e.charCodeAt(n+1),o=e.charCodeAt(n+2),t+=String.fromCharCode((15&i)<<12|(63&r)<<6|63&o),n+=3);return t},e._keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",e}();e.Base64=t}(s||(s={})),function(e){!function(e){!function(e){var t=function(){function e(){}return e.MAX_CSV=1048576,e.MAX_JSON=1048576,e}();e.Limitations=t}(e.license||(e.license={}))}(e.model||(e.model={}))}(r||(r={})),function(e){var n;!function(i){var r=function(){function e(){}return e.UNDEFINED="UNDEFINED",e.START_REPORT="START_REPORT",e.OPENING_REPORT_FILE="OPENING_REPORT_FILE",e.LOADING_REPORT_FILE="LOADING_REPORT_FILE",e.REPORT_FILE_LOADED="REPORT_FILE_LOADED",e.REPORT_FILE_ERROR="REPORT_FILE_ERROR",e.REPORT_FILE_CANCELLED="REPORT_FILE_CANCELLED",e.REPORT_CHANGED="REPORT_CHANGED",e.REPORT_DEFINED="REPORT_DEFINED",e.LOADING_DATA="LOADING_DATA",e.DATA_LOADED="DATA_LOADED",e.DATA_ERROR="DATA_ERROR",e.DATA_FILE_CANCELLED="DATA_FILE_CANCELLED",e.CONNECTED_TO_DATA_SOURCE="CONNECTED_TO_DATA_SOURCE",e.EMPTY_SLICE="EMPTY_SLICE",e.REBASE_CONNECTION="REBASE_CONNECTION",e.RUNNING_QUERY="RUNNING_QUERY",e.QUERY_COMPLETE="QUERY_COMPLETE",e.QUERY_ERROR="QUERY_ERROR",e.LOADING_LOCALIZATION="LOADING_LOCALIZATION",e.LOCALIZATION_LOADED="LOCALIZATION_LOADED",e.LOCALIZATION_ERROR="LOCALIZATION_ERROR",e.REPORT_COMPLETE="REPORT_COMPLETE",e}();i.StateEvent=r;var o=function(){function e(){}return e.UNDEFINED="UNDEFINED",e.INIT="INIT",e.CLEAR="CLEAR",e.SET_REPORT="SET_REPORT",e.RUN_QUERY="RUN_QUERY",e.UPDATE_DATA="UPDATE_DATA",e.UPDATE_DATA_PARTIAL="UPDATE_DATA_PARTIAL",e.CONNECT_TO="CONNECT_TO",e.LOAD="LOAD",e.OPEN="OPEN",e.COMPLETE="COMPLETE",e}();i.ReportType=o;var l=function(t){function l(){var i=t.call(this)||this;return i.cube_=e.data_.Cube.getInstance(),i._globalLocalization=null,i.reportType=o.UNDEFINED,i.reportState=r.UNDEFINED,i._isReportComplete=!1,i._isReportDefined=!1,i.updateActive=!1,i.connectedToDataSourceHandler=function(){return i.onConnectedToDataSource()},i.structureLoadedHandler=function(){return i.onStructureLoaded()},i.dataFileCancelledHandler=function(){return i.onDataFileCancelled()},i.structureLoadingFailedHandler=function(){return i.onStructureLoadingFailed()},i.beforeQueryHandler=function(){return i.onBeforeQuery()},i.queryCompleteHandler=function(){return i.onQueryComplete()},i.queryErrorHandler=function(){return i.onQueryError()},i.reportManager=new n.report.ReportManager,n._options.OptionsManager.getInstance(),i}return a(l,t),Object.defineProperty(l.prototype,"connectionInfo_",{get:function(){return s.nullOrUndefined(this._connectionInfo)||this._connectionInfo.isEmpty?this._globalConnectionInfo:this._connectionInfo},set:function(e){this._connectionInfo=e},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"isReportComplete",{get:function(){return this._isReportComplete},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"isReportDefined",{get:function(){return this._isReportDefined},enumerable:!0,configurable:!0}),l.prototype.init=function(t){var i=this;if(s.nullOrUndefined(t)&&(t={}),this.reportType=o.INIT,this.globalReport=s.nullOrUndefined(t.global)?{}:s.ObjectUtils.deepCopy(t.global),this.setReportState(r.START_REPORT),n._options.OptionsManager.getInstance().addEventListener(r.REPORT_CHANGED,function(){return i.dispatchReportChange()}),n.sizes.SizesManager.getInstance().addEventListener(r.REPORT_CHANGED,function(){return i.dispatchReportChange()}),n.condition.ConditionManager.getInstance().addEventListener(r.REPORT_CHANGED,function(){return i.dispatchReportChange()}),null!=e._view.PivotView.stage.getToolbar()&&s.fmSetTimeout(function(){e._view.PivotView.stage.getToolbar().updateDataSourceType()},1),this.globalReportVO=n.report.ReportValueObject.fromObject(this.globalReport),this.spreadGlobal(this.globalReportVO),this.applyEmptyState(),"string"==typeof t.report)this._load(t.report);else{var a=t.report||{};n._options.OptionsManager.setOptions(n._options.vo.OptionsValueObject.fromObject(null!=a.options?a.options:a)),s.fmSetTimeout(function(){i.reportType==o.INIT&&i._setReport(t.report||{})},1)}},l.prototype.setReportState=function(e){this.reportState=e,e!=r.START_REPORT&&e!=r.OPENING_REPORT_FILE&&e!=r.LOADING_REPORT_FILE||(this._isReportDefined=this._isReportComplete=!1),e==r.REPORT_COMPLETE&&(this._isReportDefined=this._isReportComplete=!0),e==r.REPORT_DEFINED&&(this._isReportDefined=!0),this.dispatchWith(e)},l.prototype.setReport=function(e){s.nullOrUndefined(e)&&(e={}),this.reportType=o.SET_REPORT,this.cancel(),this.setReportState(r.START_REPORT),this._setReport(e.report||{})},l.prototype.runQuery=function(t){this.reportType=o.RUN_QUERY,t=t instanceof e.data_._structure.Slice?t:e.data_._structure.Slice.fromObject(n.report.SliceValueObject.fromObject(t),this.cube_.structure_);var i=e.data_._structure.Slice.areRowsDiffer(t,this.cube_.slice_,!1),s=e.data_._structure.Slice.areColumnsDiffer(t,this.cube_.slice_,!1);!e.data_._structure.Slice.areMeasuresDiffer(t,this.cube_.slice_)||i||s||n.sizes.SizesManager.applySizes(n.sizes.SizesManager.rowSizesNamed,n.sizes.SizesManager.columnSizesNamed,n.sizes.SizesManager.rowSizesByIdx,n.sizes.SizesManager.columnSizesByIdx,n.sizes.SizesManager.rowHeaderSizes,n.sizes.SizesManager.columnHeaderSizes,n.sizes.SizesManager.rowFilterSizes),i&&(n.sizes.SizesManager.rowSizes={}),s&&(n.sizes.SizesManager.columnSizes={}),t.mergeExpandsAndDrills(this.cube_.slice_),n.JavaScriptHandlers.getInstance().dispatch(new n.APIEvent(n.JavaScriptHandlers.REPORT_CHANGE)),this.setReportState(r.RUNNING_QUERY),this.cube_.setSlice(t),this.cube_.filter()},l.prototype.updateData=function(t,i){this.reportType=o.UPDATE_DATA,this.cancel(),this.setReportState(r.START_REPORT);var s=this.getReport();if(i.ignoreSorting&&(s.slice.columnSorting={},s.slice.rowSorting={}),i.ignoreScroll){var a=this.cube_.slice_;this.cube_.setSlice(e.data_._structure.Slice.fromObject(n.report.SliceValueObject.fromObject({}),this.cube_.structure_)),this.cube_.setSlice(a)}s.connectionInfo=e.data_.vo.ConnectionInfo.fromObject(t),this._setReport(s,!0)},l.prototype.updateDataPartial=function(t,i){var a=this;if(this.reportType=o.UPDATE_DATA_PARTIAL,this.cancel(),this.setReportState(r.START_REPORT),i.ignoreSorting&&(this.reportVO.slice.columnSorting={},this.reportVO.slice.rowSorting={}),i.ignoreScroll){var l=this.cube_.slice_;this.cube_.setSlice(e.data_._structure.Slice.fromObject(n.report.SliceValueObject.fromObject({}),this.cube_.structure_)),this.cube_.setSlice(l)}this.reportVO.connectionInfo.data=t,this.cube_.updateData(t),this.addDataListeners(),e.data_.dataprovider_.DataProviderFactory.getDataProvider().reset(!1),this.updateActive=!0,s.fmSetTimeout(function(){a.updateActive=!1},500),this.cube_.filter()},l.prototype.connectTo=function(e){this.reportType=o.CONNECT_TO,this.cancel(),this.setReportState(r.START_REPORT),this._setReport(e)},l.prototype.load=function(e){this.reportType=o.LOAD,this.cancel(),this._load(e)},l.prototype._load=function(e){var t=this;this.setReportState(r.LOADING_REPORT_FILE),this.reportManager.addEventListener(n.report.ReportEvent.REPORT_FILE_LOADED,function(e){return t.onReportFileLoaded(e)}),this.reportManager.addEventListener(n.report.ReportEvent.REPORT_FILE_FAILED,function(){return t.onReportFileFailed()}),this.reportManager.load(e)},l.prototype.open=function(){var e=this;this.reportType=o.OPEN,this.setReportState(r.OPENING_REPORT_FILE),this.reportManager.addEventListener(n.report.ReportEvent.REPORT_FILE_LOADED,function(t){return e.onReportFileLoaded(t)}),this.reportManager.addEventListener(n.report.ReportEvent.REPORT_FILE_FAILED,function(){return e.onReportFileFailed()}),this.reportManager.addEventListener(n.report.ReportEvent.REPORT_FILE_CANCELLED,function(){return e.onReportFileCancelled()}),this.reportManager.open()},l.prototype.onReportFileLoaded=function(t){e.preloader(!1),this.setReportState(r.REPORT_FILE_LOADED),this._setReport(t.report)},l.prototype.onReportFileFailed=function(){e.preloader(!1),this.setReportState(r.REPORT_FILE_ERROR),this.setReportState(r.REPORT_DEFINED),this.setReportState(r.REPORT_COMPLETE)},l.prototype.onReportFileCancelled=function(){this.setReportState(r.REPORT_FILE_CANCELLED),this.setReportState(r.REPORT_DEFINED),this.setReportState(r.REPORT_COMPLETE)},l.prototype.dispatchReportChange=function(){this.reportState!=r.REPORT_COMPLETE&&this.reportState!=r.QUERY_COMPLETE||n.JavaScriptHandlers.getInstance().dispatch(new n.APIEvent(n.JavaScriptHandlers.REPORT_CHANGE))},l.prototype._setReport=function(e,t){void 0===t&&(t=!1),this.reportVO=n.report.ReportValueObject.fromObject(e),this.reportVO.connectionInfo.isUpdateData=t,this.loadLocalization()},l.prototype.onReportComplete=function(){this.reportType=o.COMPLETE},l.prototype.getReport=function(e){return void 0===e&&(e={}),i.vo.StateValueObject.toReport(this.getCurrentState(e))},l.prototype.clear=function(){this.cancel(),this.reportType=o.CLEAR,this.applyEmptyState(),this.cube_.cancel(),this.setReportState(r.REPORT_COMPLETE)},l.prototype.cancel=function(){this.reportManager.cancel(),this.removeDataListeners(),this.updateActive=!1,e.preloader(!1)},l.prototype.loadLocalization=function(){var e=this;null!=this.globalReport.localization&&""!=this.globalReport.localization?(this.setReportState(r.LOADING_LOCALIZATION),n._labels.LabelsManager.getInstance().load(this.globalReport.localization,function(t){return e.onGlobalLocalizationLoaded(t)},!0),this.globalReport.localization=null):this.onGlobalLocalizationLoaded(!0)},l.prototype.onGlobalLocalizationLoaded=function(e){var t=this;null==this.reportVO.localization||""==this.reportVO.localization?(n._labels.LabelsManager.getInstance().reset(),this.onLocalizationLoaded(e)):(this.setReportState(r.LOADING_LOCALIZATION),n._labels.LabelsManager.getInstance().load(this.reportVO.localization,function(e){return t.onLocalizationLoaded(e)}))},l.prototype.onLocalizationLoaded=function(e){this.setReportState(e?r.LOCALIZATION_LOADED:r.LOCALIZATION_ERROR),this.loadStructureAndData()},l.prototype.loadStructureAndData=function(){this.reportType!=o.CONNECT_TO&&this.reportType!=o.OPEN&&(this.applyEmptyState(),n._options.OptionsManager.setOptions(this.reportVO.options),n._options.OptionsManager.configuratorOpened=n._options.OptionsManager.configuratorActive);var t=this.reportType;this.setReportState(r.REPORT_DEFINED),t==this.reportType&&(t=this.reportVO.connectionInfo,!s.nullOrUndefined(this.connectionInfo_)&&!this.connectionInfo_.isEmpty&&this.connectionInfo_.isEqual(t)&&this.cube_.connectionInfo_&&this.cube_.structure_&&this.cube_.structure_.isComplete?(e.data_.dataprovider_.DataProviderFactory.getDataProvider(),this.addDataListeners(),this.cube_.rebaseConnection()):(t.isEmpty&&this._globalConnectionInfo&&!this._globalConnectionInfo.isEmpty&&(t=this._globalConnectionInfo),t.isEmpty?(this.connectionInfo_=t,this.cube_.cancel(),this.setReportState(r.REPORT_COMPLETE),e.preloader(!1)):(t.isInlineData||this.setReportState(r.LOADING_DATA),e.data_.dataprovider_.DataProviderFactory.getDataProvider(),this.addDataListeners(),this.cube_.connect(t))))},l.prototype.onConnectedToDataSource=function(e){this.reportType==o.CONNECT_TO&&(this.applyEmptyState(),this.cube_.slice_&&this.cube_.slice_.clear(),this.cube_.structure_&&this.cube_.structure_.clear()),this.setReportState(r.CONNECTED_TO_DATA_SOURCE),this.connectionInfo_=this.reportVO.connectionInfo},l.prototype.onStructureLoaded=function(t){t=e.data_._structure.Slice.fromObject(this.reportVO.slice,this.cube_.structure_),this.applyReport(),this.cube_.setSlice(t),this.setReportState(r.DATA_LOADED),this.cube_.filter()},l.prototype.onDataFileCancelled=function(){this.setReportState(r.DATA_FILE_CANCELLED),this.setReportState(r.REPORT_COMPLETE)},l.prototype.onStructureLoadingFailed=function(){n._options.OptionsManager.setOptions(this.reportVO.options),this.cube_.cancel(),e.preloader(!1),this.setReportState(r.DATA_ERROR),this.setReportState(r.REPORT_COMPLETE)},l.prototype.onBeforeQuery=function(){this.setReportState(r.RUNNING_QUERY)},l.prototype.onQueryComplete=function(){this.setReportState(r.QUERY_COMPLETE),this.reportState!=r.REPORT_COMPLETE&&this.setReportState(r.REPORT_COMPLETE)},l.prototype.onQueryError=function(){this.setReportState(r.QUERY_ERROR),this.reportState!=r.REPORT_COMPLETE&&this.setReportState(r.REPORT_COMPLETE)},l.prototype.addDataListeners=function(){var t=this;this.cube_.addEventListener(e.data_.DataEvent.STRUCTURE_CONNECTED,this.connectedToDataSourceHandler),this.cube_.addEventListener(e.data_.DataEvent.STRUCTURE_LOADED,this.structureLoadedHandler),this.cube_.addEventListener(e.data_.DataEvent.STRUCTURE_CANCELLED,this.dataFileCancelledHandler),this.cube_.addEventListener(e.data_.DataEvent.STRUCTURE_LOADING_FAILED,this.structureLoadingFailedHandler),this.cube_.addEventListener(e.data_.DataEvent.BEFORE_QUERY,this.beforeQueryHandler),this.cube_.addEventListener(e.data_.DataEvent.QUERY_COMPLETE,this.queryCompleteHandler),this.cube_.addEventListener(e.data_.DataEvent.QUERY_ERROR,this.queryErrorHandler),this.cube_.addEventListener(r.REPORT_CHANGED,function(){return t.dispatchReportChange()})},l.prototype.removeDataListeners=function(){this.cube_.removeEventListener(e.data_.DataEvent.STRUCTURE_CONNECTED,this.connectedToDataSourceHandler),this.cube_.removeEventListener(e.data_.DataEvent.STRUCTURE_LOADED,this.structureLoadedHandler),this.cube_.removeEventListener(e.data_.DataEvent.STRUCTURE_CANCELLED,this.dataFileCancelledHandler),this.cube_.removeEventListener(e.data_.DataEvent.STRUCTURE_LOADING_FAILED,this.structureLoadingFailedHandler),this.cube_.removeEventListener(e.data_.DataEvent.BEFORE_QUERY,this.beforeQueryHandler),this.cube_.removeEventListener(e.data_.DataEvent.QUERY_COMPLETE,this.queryCompleteHandler),this.cube_.removeEventListener(e.data_.DataEvent.QUERY_ERROR,this.queryErrorHandler)},l.prototype.save=function(e,t,n,i,r){return void 0===r&&(r=!1),this.reportManager.save(e,t,n,i,r,this.getReport(e instanceof Object?e:{}))},l.prototype.getCurrentState=function(t){var r=!!t.hasOwnProperty("withDefaults")&&1==t.withDefaults;t=!!t.hasOwnProperty("withGlobals")&&1==t.withGlobals;var o=new i.vo.StateValueObject;return o.withDefaults=r,o.withGlobals=t,o._connectionInfo=t&&this._connectionInfo.isEmpty&&!this._globalConnectionInfo.isEmpty?this._globalConnectionInfo:this._connectionInfo,o._structure=this.cube_.structure_,o._slice=this.cube_.slice_,o._options=n._options.OptionsManager.getOptions(r,t),o.formats=n.format.FormatManager.getAllFormats(),o.conditions=n.condition.ConditionManager.conditions,o.customFields=n.report.CustomFieldsManager.customFields,o.rowSizes=n.sizes.SizesManager.rowSizesNamed,o.columnSizes=n.sizes.SizesManager.columnSizesNamed,o.startTableRow=n.sizes.SizesManager.startTableRow,o.rowHeaderSizes=n.sizes.SizesManager.rowHeaderSizes,o.columnHeaderSizes=n.sizes.SizesManager.columnHeaderSizes,o.rowFilterSizes=n.sizes.SizesManager.rowFilterSizes,o.expandedRows=this.cube_.slice_?this.cube_.slice_.axes.getItem(e.data_.consts.AxisName.ROWS_AXIS).expandedTuplesBasedOnUniqueNames:[],o.expandedColumns=this.cube_.slice_?this.cube_.slice_.axes.getItem(e.data_.consts.AxisName.COLUMNS_AXIS).expandedTuplesBasedOnUniqueNames:[],o.drilledRows=this.cube_.slice_?this.cube_.slice_.axes.getItem(e.data_.consts.AxisName.ROWS_AXIS).drilledTuplesBasedOnUniqueNames:[],o.drilledColumns=this.cube_.slice_?this.cube_.slice_.axes.getItem(e.data_.consts.AxisName.COLUMNS_AXIS).drilledTuplesBasedOnUniqueNames:[],this.reportVO&&(o.localization=t&&null==this.reportVO.localization&&null!=this._globalLocalization?this._globalLocalization:this.reportVO.localization),o},l.prototype.spreadGlobal=function(e){this._globalConnectionInfo=e.connectionInfo,n._options.OptionsManager.setGlobalOptions(e.options),this._globalLocalization=e.localization},l.prototype.applyEmptyState=function(){e.data_.dataprovider_.DataProviderFactory.dispose(),n.sizes.SizesManager.clear(),n.condition.ConditionManager.removeAll(),n.format.FormatManager.clear(),n.report.CustomFieldsManager.customFields=[],n._options.OptionsManager.clear()},l.prototype.applyReport=function(){var e;for(n._options.OptionsManager.setOptions(this.reportVO.options),n.sizes.SizesManager.clear(),n.sizes.SizesManager.applySizes(this.reportVO.rowSizes,this.reportVO.columnSizes,this.reportVO.rowSizesByIdx,this.reportVO.columnSizesByIdx,this.reportVO.rowHeaderSizes,this.reportVO.columnHeaderSizes,this.reportVO.rowFilterSizes),n.condition.ConditionManager.removeAll(),e=0;e<this.reportVO.conditions.length;e++){var t=n.condition.vo.ConditionValueObject.fromObject(this.reportVO.conditions[e]);n.condition.ConditionManager.add(t)}for(n.format.FormatManager.clear(),e=0;e<this.reportVO.formats.length;e++)n.format.FormatManager.setFormat(this.reportVO.formats[e]);n.report.CustomFieldsManager.customFields=this.reportVO.customFields},l.prototype.dispose=function(){this.cancel(),n.condition.ConditionManager.dispose(),n._options.OptionsManager.dispose(),n.printing.PrintingManager.dispose(),n.integration.IntegrationDataManager.dispose(),n._labels.LabelsManager.dispose(),n.sizes.SizesManager.dispose(),n.format.FormatManager.dispose(),n.report.CustomFieldsManager.customFields=[],this._connectionInfo=this.reportManager=null,this.globalReport={},this.cube_=this.reportVO=this.globalReportVO=null},l}(t.EventDispatcher);i.StateManager=l}((n=e.model||(e.model={}))._state||(n._state={}))}(r||(r={})),function(e){var t=function(){function e(){}return e.CONTENT_TYPES_XML='<Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types"><Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml"/><Default Extension="xml" ContentType="application/xml"/><Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"/><Override PartName="/xl/theme/theme1.xml" ContentType="application/vnd.openxmlformats-officedocument.theme+xml"/><Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"/><Override PartName="/xl/sharedStrings.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"/><Override PartName="/docProps/core.xml" ContentType="application/vnd.openxmlformats-package.core-properties+xml"/><Override PartName="/docProps/app.xml" ContentType="application/vnd.openxmlformats-officedocument.extended-properties+xml"/>{0}</Types>',e.CONTENT_TYPES_XML_SHEET='<Override PartName="{0}" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"/>',e._RELS='<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId3" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties" Target="docProps/app.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties" Target="docProps/core.xml"/><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml"/></Relationships>',e.APP_XML='<Properties xmlns="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties" xmlns:vt="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"><Application>Microsoft Excel</Application><DocSecurity>0</DocSecurity><ScaleCrop>false</ScaleCrop><HeadingPairs><vt:vector size="2" baseType="variant"><vt:variant><vt:lpstr>Worksheets</vt:lpstr></vt:variant><vt:variant><vt:i4>3</vt:i4></vt:variant></vt:vector></HeadingPairs><TitlesOfParts><vt:vector size="3" baseType="lpstr"><vt:lpstr>Sheet1</vt:lpstr><vt:lpstr>Sheet2</vt:lpstr><vt:lpstr>Sheet3</vt:lpstr></vt:vector></TitlesOfParts><Company>Amazon.com</Company><LinksUpToDate>false</LinksUpToDate><SharedDoc>false</SharedDoc><HyperlinksChanged>false</HyperlinksChanged><AppVersion>14.0300</AppVersion></Properties>',e.CORE_XML='<cp:coreProperties xmlns:cp="http://schemas.openxmlformats.org/package/2006/metadata/core-properties" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" xmlns:dcmitype="http://purl.org/dc/dcmitype/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><dc:creator>EC2</dc:creator><cp:lastModifiedBy>EC2</cp:lastModifiedBy><dcterms:created xsi:type="dcterms:W3CDTF">2010-12-22T15:19:38Z</dcterms:created><dcterms:modified xsi:type="dcterms:W3CDTF">2010-12-22T15:20:08Z</dcterms:modified></cp:coreProperties>',e.WORKBOOK_XML='<workbook xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships"><fileVersion appName="xl" lastEdited="5" lowestEdited="5" rupBuild="9302"/><workbookPr defaultThemeVersion="124226"/><bookViews><workbookView xWindow="360" yWindow="210" windowWidth="16860" windowHeight="9150"/></bookViews><sheets>{0}</sheets><calcPr calcId="144525"/></workbook>',e.WORKBOOK_XML_RELS='<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings" Target="sharedStrings.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.xml"/><Relationship Id="rId3" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme" Target="theme/theme1.xml"/>{0}</Relationships>',e.WORKBOOK_XML_RELS_SHEET='<Relationship Id="{0}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="{1}"/>',e.THEME='<a:theme name="Office Theme" xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main"><a:themeElements><a:clrScheme name="Office"><a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1><a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1><a:dk2><a:srgbClr val="1F497D"/></a:dk2><a:lt2><a:srgbClr val="EEECE1"/></a:lt2><a:accent1><a:srgbClr val="4F81BD"/></a:accent1><a:accent2><a:srgbClr val="C0504D"/></a:accent2><a:accent3><a:srgbClr val="9BBB59"/></a:accent3><a:accent4><a:srgbClr val="8064A2"/></a:accent4><a:accent5><a:srgbClr val="4BACC6"/></a:accent5><a:accent6><a:srgbClr val="F79646"/></a:accent6><a:hlink><a:srgbClr val="0000FF"/></a:hlink><a:folHlink><a:srgbClr val="800080"/></a:folHlink></a:clrScheme><a:fontScheme name="Office"><a:majorFont><a:latin typeface="Cambria"/><a:ea typeface=""/><a:cs typeface=""/><a:font script="Jpan" typeface="ï¼­ï¼³ ï¼°ã´ã·ãã¯"/><a:font script="Hang" typeface="ë§ì ê³ ë"/><a:font script="Hans" typeface="å®ä½"/><a:font script="Hant" typeface="æ°ç´°æé«"/><a:font script="Arab" typeface="Times New Roman"/><a:font script="Hebr" typeface="Times New Roman"/><a:font script="Thai" typeface="Tahoma"/><a:font script="Ethi" typeface="Nyala"/><a:font script="Beng" typeface="Vrinda"/><a:font script="Gujr" typeface="Shruti"/><a:font script="Khmr" typeface="MoolBoran"/><a:font script="Knda" typeface="Tunga"/><a:font script="Guru" typeface="Raavi"/><a:font script="Cans" typeface="Euphemia"/><a:font script="Cher" typeface="Plantagenet Cherokee"/><a:font script="Yiii" typeface="Microsoft Yi Baiti"/><a:font script="Tibt" typeface="Microsoft Himalaya"/><a:font script="Thaa" typeface="MV Boli"/><a:font script="Deva" typeface="Mangal"/><a:font script="Telu" typeface="Gautami"/><a:font script="Taml" typeface="Latha"/><a:font script="Syrc" typeface="Estrangelo Edessa"/><a:font script="Orya" typeface="Kalinga"/><a:font script="Mlym" typeface="Kartika"/><a:font script="Laoo" typeface ="DokChampa"/><a:font script="Sinh" typeface="Iskoola Pota"/><a:font script="Mong" typeface="Mongolian Baiti"/><a:font script="Viet" typeface="Times New Roman"/><a:font script="Uigh" typeface="Microsoft Uighur"/></a:majorFont><a:minorFont><a:latin typeface="Calibri"/><a:ea typeface=""/><a:cs typeface=""/><a:font script="Jpan" typeface="ï¼­ï¼³ ï¼°ã´ã·ãã¯"/><a:font script="Hang" typeface="ë§ì ê³ ë"/><a:font script="Hans" typeface="å®ä½"/><a:font script="Hant" typeface="æ°ç´°æé«"/><a:font script="Arab" typeface="Arial"/><a:font script="Hebr" typeface="Arial"/><a:font script="Thai" typeface="Tahoma"/><a:font script="Ethi" typeface="Nyala"/><a:font script="Beng" typeface="Vrinda"/><a:font script="Gujr" typeface="Shruti"/><a:font script="Khmr" typeface="DaunPenh"/><a:font script="Knda" typeface="Tunga"/><a:font script="Guru" typeface="Raavi"/><a:font script="Cans" typeface="Euphemia"/><a:font script="Cher" typeface="Plantagenet Cherokee"/><a:font script="Yiii" typeface="Microsoft Yi Baiti"/><a:font script="Tibt" typeface="Microsoft Himalaya"/><a:font script="Thaa" typeface="MV Boli"/><a:font script="Deva" typeface="Mangal"/><a:font script="Telu" typeface="Gautami"/><a:font script="Taml" typeface="Latha"/><a:font script="Syrc" typeface="Estrangelo Edessa"/><a:font script="Orya" typeface="Kalinga"/><a:font script="Mlym" typeface="Kartika"/><a:font script="Laoo" typeface ="DokChampa"/><a:font script="Sinh" typeface="Iskoola Pota"/><a:font script="Mong" typeface="Mongolian Baiti"/><a:font script="Viet" typeface="Arial"/><a:font script="Uigh" typeface="Microsoft Uighur"/></a:minorFont></a:fontScheme><a:fmtScheme name="Office"><a:fillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs><a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="16200000" scaled="1"/></a:gradFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:shade val="51000"/><a:satMod val="130000"/></a:schemeClr></a:gs><a:gs pos="80000"><a:schemeClr val="phClr"><a:shade val="93000"/><a:satMod val="130000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="94000"/><a:satMod val="135000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="16200000" scaled="0"/></a:gradFill></a:fillStyleLst><a:lnStyleLst><a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln><a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln><a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln></a:lnStyleLst><a:effectStyleLst><a:effectStyle><a:effectLst><a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw></a:effectLst></a:effectStyle><a:effectStyle><a:effectLst><a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw></a:effectLst></a:effectStyle><a:effectStyle><a:effectLst><a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw></a:effectLst><a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d><a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d></a:effectStyle></a:effectStyleLst><a:bgFillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs><a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs></a:gsLst><a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path></a:gradFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs></a:gsLst><a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path></a:gradFill></a:bgFillStyleLst></a:fmtScheme></a:themeElements><a:objectDefaults><a:spDef><a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style></a:spDef><a:lnDef><a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style></a:lnDef></a:objectDefaults><a:extraClrSchemeLst/></a:theme>',e.STYLES_XML='<styleSheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac">{0}<fonts count="{1}" x14ac:knownFonts="1"><font><sz val="11"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font>{2}</fonts><fills count="{3}">{4}</fills><borders count="2"><border><left/><right/><top/><bottom/><diagonal/></border><border><left style="thin"><color theme="0" tint="-0.14996795556505021"/></left><right style="thin"><color theme="0" tint="-0.14996795556505021"/></right><top style="thin"><color theme="0" tint="-0.14996795556505021"/></top><bottom style="thin"><color theme="0" tint="-0.14996795556505021"/></bottom><diagonal/></border></borders><cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs><cellXfs count="{5}"><xf numFmtId="0" fontId="0" fillId="0" borderId="0" xfId="0"/>{6}</cellXfs><cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles><dxfs count="0"/><tableStyles count="0" defaultTableStyle="TableStyleMedium2" defaultPivotStyle="PivotStyleLight16"/><extLst><ext uri="{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}" xmlns:x14="http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"><x14:slicerStyles defaultSlicerStyle="SlicerStyleLight1"/></ext></extLst></styleSheet>',e.SHARED_STRING_XML='<sst xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" count="5" uniqueCount="5">{0}</sst>',e.SHEET_XML='<worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"><dimension ref="{0}"/><sheetViews><sheetView tabSelected="1" workbookViewId="0"><selection activeCell="A1" sqref="A1"/></sheetView></sheetViews><sheetFormatPr defaultRowHeight="15" defaultColWidth="15" x14ac:dyDescent="0.25"/><cols>{1}</cols><sheetData>{2}</sheetData>{3}<pageMargins left="0.7" right="0.7" top="0.75" bottom="0.75" header="0.3" footer="0.3"/></worksheet>',e.XML_HEADER='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>',e}();e.XLSTemplates=t}(c||(c={})),function(n){var i,r;i=n.data_||(n.data_={}),r=function(t){function r(){var e=t.call(this)||this;if(e.queryType=i.consts.QueryType.SELECT,null!=r.instance)throw Error("Singleton");return e}return a(r,t),r.getInstance=function(){return null==r.instance&&(r.instance=new r),r.instance},r.prototype.setSlice=function(e){e.isEmpty&&n.model._options.OptionsManager.showDefaultSlice&&e.makeDefault(),e&&!e.isEqual(this.slice_)&&this.dispatchWith("slice_changed"),this.slice_=e},r.prototype.rebaseConnection=function(){this.structure_&&(this.structure_.isComplete=!1,this.removeAllCalculatedMeasures());for(var e=this.structure_.allHierarchies(!1),t=0;t<e.length;t++){var i=e.getItemAt(t);i.clearFilter(),i.clearSort(n.model._options.OptionsManager.flatView)}this.slice_&&this.slice_.clear(),this.dispatchStructureLoaded()},r.prototype.connect=function(e){var t=this;s.nullOrUndefined(this.__structureLoader)||this.__structureLoader.cancel(),this.__structureLoader=i.StructureLoaderFactory.getStructureLoader(e),this.__structureLoader.load(e,function(){return t.dispatchStructureLoaded()},function(){t.dispatchWith(i.DataEvent.STRUCTURE_LOADING_FAILED)},function(){t.cancel(!1),t.connectionInfo_=e,t.structureLoader=t.__structureLoader,t.localDataStorage=new i.LocalDataStorage(t),t.__structureLoader=null,t.localDataStorage.datePattern=n.model._options.OptionsManager.datePattern,t.localDataStorage.dateTimePattern=n.model._options.OptionsManager.dateTimePattern,null!=t.structure_&&t.structure_.clear(),t.structure_=new i._structure.GenericStructure,t.structure_.localDataStorage=t.localDataStorage,t.dispatchWith(i.DataEvent.STRUCTURE_CONNECTED)},function(){t.dispatchWith(i.DataEvent.STRUCTURE_CANCELLED)})},r.prototype.dispatchStructureLoaded=function(){this.structure_.isComplete=!0,this.dispatchWith(i.DataEvent.STRUCTURE_LOADED)},r.prototype.cancel=function(e){void 0===e&&(e=!0),s.ThreadManager.isRunning()&&s.ThreadManager.cancel(),this.structureLoader&&(this.structureLoader.cancel(),this.structureLoader=null),e&&this.structure_&&(this.structure_.clear(),this.structure_=null),e&&this.slice_&&(this.slice_.clear(),this.slice_=null),e&&this.localDataStorage&&(this.localDataStorage.clearAll(),this.localDataStorage=null)},r.prototype.dispatchQueryComplete=function(){var e=new i.QueryCompleteEvent(this.queryType);this.dispatch(e)},r.prototype.dispatchQueryError=function(){this.dispatchWith(i.DataEvent.QUERY_ERROR)},r.prototype.filter=function(){this.queryType=i.consts.QueryType.FILTER,this.select()},r.prototype.clearSortValues=function(e){e.sortMeasure=null,e.sortTuple=null,e.sortType=i.consts.SortType.UNSORTED,e.totalSortType=i.consts.SortType.UNSORTED,e.totalSortMeasure=null},r.prototype.sort=function(){this.dispatchQueryComplete()},r.prototype.expand=function(e,t,n,r){void 0===n&&(n=null),void 0===r&&(r=!0),this._tuple=e,this._axisName=t,this._measure=n,this.queryType=i.consts.QueryType.EXPAND;var o=new i.BeforeQueryEvent(i.consts.QueryType.EXPAND);this.dispatch(o),this.localDataStorage.expand(e,t,n),r&&this.dispatchQueryComplete()},r.prototype.collapse=function(e,t,n,r){void 0===n&&(n=null),void 0===r&&(r=!0),this.localDataStorage.collapse(e,t,n),this.query=new i.Query,this.queryType=this.query.type=i.consts.QueryType.COLLAPSE,r&&this.dispatchQueryComplete()},r.prototype.drillDown=function(e,t,n,r){void 0===r&&(r=null),this._tuple=e,this._axisName=n,this._measure=r,this._member=t,this._levelName=void 0,t.hierarchy_.drillDownMember(t),this.queryType=i.consts.QueryType.DRILL_DOWN;var o=new i.BeforeQueryEvent(i.consts.QueryType.DRILL_DOWN);this.dispatch(o),this.localDataStorage.drillDown(e,t,n,r),this.dispatchQueryComplete()},r.prototype.drillUp=function(e,t,n,r){void 0===r&&(r=null),t.hierarchy_.drillUpMember(t),this.localDataStorage.drillUp(e,t,n,r),this.query=new i.Query,this.queryType=this.query.type=i.consts.QueryType.DRILL_UP,e=new i.BeforeQueryEvent(i.consts.QueryType.DRILL_UP),this.dispatch(e),this.dispatchQueryComplete()},r.prototype.select=function(){var e=new i.BeforeQueryEvent(this.queryType==i.consts.QueryType.FILTER?this.queryType:i.consts.QueryType.SELECT);for(this.dispatch(e),e=0;e<this.slice_.pages.length;e++)this.slice_.pages.getItemAt(e).clearValuesFilter();this.structure_.measures_.length>this.localDataStorage.factKeys.length&&this.addCalculatedMeasuresToDataStorage(),this.localDataStorage.filter(),this.localDataStorage.select(),this.dispatchQueryComplete()},r.prototype.addCalculatedMeasuresToDataStorage=function(){for(var e=0;e<this.structure_.measures_.length;e++){var t=this.structure_.measures_.getItemAt(e);if(t.calculated){for(var n=!0,i=0;i<this.localDataStorage.factKeys.length;i++)this.localDataStorage.factKeys[i].toString()==t.uniqueName&&(n=!1);n&&this.localDataStorage.addFactKey(t.uniqueName,t.params,t.individual)}}this.slice_.axisWithMeasures.sortToSet&&(t=this.structure_.findMeasure((e=this.slice_.axisWithMeasures.sortToSet).measure))&&this.slice_.axisWithMeasures.setSort(t,e.tuple,e.type)},r.prototype.addCalculatedMeasure=function(e){if(null==this.structure_.findMeasure(e.uniqueName)){if(e.calculated){var t=new s.Lexer;e.params=t.parse(e.formula)}e.calculated&&null==e.params||(this.structure_.measuresHierarchy&&this.structure_.addMeasure(e),e.calculated?this.localDataStorage.addFactKey(e.uniqueName,e.params,e.individual):this.localDataStorage.addFactKey(e.uniqueName),this.structure_.isComplete&&this.refresh())}else t=new s.Lexer,e.params=t.parse(e.formula),e.calculated&&null==e.params||(this.localDataStorage.updateFactKey(e.uniqueName,e.params,e.individual),(t=this.structure_.findMeasure(e.uniqueName)).caption=e.caption,t.formula=e.formula,t.individual=e.individual,t.params=e.params,this.structure_.isComplete&&this.refresh())},r.prototype.removeCalculatedMeasure=function(e,t){void 0===t&&(t=!0);var n=this.structure_.findMeasure(e);n&&n.calculated&&(this.structure_.removeMeasure(e),this.localDataStorage.removeFactKey(e),this.slice_.removeMeasure(e),t&&this.structure_.isComplete&&this.refresh())},r.prototype.removeAllCalculatedMeasures=function(){for(var e=0;e<this.structure_.measures_.length;){var t=this.structure_.measures_.getItemAt(e);t.calculated?this.removeCalculatedMeasure(t.uniqueName,!1):e++}this.structure_.isComplete&&this.refresh()},r.prototype.refresh=function(){this.structure_.isComplete?(this.connectionInfo_.dataSourceType==i.consts.DataSourceType.EMPTY&&s.nullOrUndefined(this.slice_)&&this.dispatchStructureLoaded(),this.filter()):this.connectionInfo_.dataSourceType==i.consts.DataSourceType.EMPTY&&this.dispatchStructureLoaded()},r.prototype.loadMemberChildren=function(e,t,n){var i=this;this.structureLoader.loadMemberChildren(e,t,n,function(){return i.dispatchQueryError()})},r.prototype.updateData=function(e){this.structureLoader.updateData(e),this.dispatchStructureLoaded()},r.prototype.dispose=function(){s.ThreadManager.dispose();try{this.structure_.clear()}catch(e){}this.slice_=this.structure_=null;try{this.localDataStorage.clearAll()}catch(t){}this.localDataStorage=null;try{this.structureLoader.cancel()}catch(n){}this.structureLoader=null;try{this.__structureLoader.cancel()}catch(i){}this.__structureLoader=null,r.instance=null},r.MEASURES_NAME="Measures",r}(t.EventDispatcher),i.Cube=r}(r||(r={})),function(t){var n=function(){function n(e,o){var a,l=this;this.isCreationComplete=!1,this.api=null,this.delayedApiCallsOnReportDefined=[],this.delayedApiCallsOnReportReady=[],null!=n.instance&&n.instance.dispose(),n.instance=this,this.api=o,s.nullOrUndefined(e)&&(e={}),(0!=s.isHTML5Supported()||0!=confirm("WebDataRocks Reporting Component is not completely supported by this version of browser. Please update your browser. Continue anyway?"))&&(e.container instanceof HTMLElement?a=e.container:s.nullOrUndefined(e.container)||(a="#"==e.container.substr(0,1)?e.container.substring(1):e.container,a=document.getElementById(a)),null==a?(a=0==s.nullOrEmpty(e.container)?"WebDataRocks Reporting Component:\nUnable to create the component. DOM element with id '"+e.container+"' is not found.":"WebDataRocks Reporting Component:\nUnable to create the component. DOM element is null.",console.error(a),alert(a)):(this.model_=t.model.PivotModel.getInstance(),this.model_.state_.addEventListener(t.model._state.StateEvent.OPENING_REPORT_FILE,function(){return l.onOpeningReportFile()}),this.model_.state_.addEventListener(t.model._state.StateEvent.LOADING_REPORT_FILE,function(){return l.onLoadingReportFile()}),this.model_.state_.addEventListener(t.model._state.StateEvent.REPORT_FILE_LOADED,function(){return l.onReportFileLoaded()}),this.model_.state_.addEventListener(t.model._state.StateEvent.REPORT_FILE_ERROR,function(){return l.onReportFileError()}),this.model_.state_.addEventListener(t.model._state.StateEvent.REPORT_FILE_CANCELLED,function(){return l.onReportFileCancelled()}),this.model_.state_.addEventListener(t.model._state.StateEvent.REPORT_DEFINED,function(){return l.onReportDefined()}),this.model_.state_.addEventListener(t.model._state.StateEvent.LOADING_DATA,function(){return l.onLoadingData()}),this.model_.state_.addEventListener(t.model._state.StateEvent.DATA_LOADED,function(){return l.onDataLoaded()}),this.model_.state_.addEventListener(t.model._state.StateEvent.DATA_ERROR,function(){return l.onDataError()}),this.model_.state_.addEventListener(t.model._state.StateEvent.DATA_FILE_CANCELLED,function(){return l.onDataFileCancelled()}),this.model_.state_.addEventListener(t.model._state.StateEvent.LOADING_LOCALIZATION,function(){return l.onLoadingLocalization()}),this.model_.state_.addEventListener(t.model._state.StateEvent.LOCALIZATION_LOADED,function(){return l.onLocalizationLoaded()}),this.model_.state_.addEventListener(t.model._state.StateEvent.LOCALIZATION_ERROR,function(){return l.onLocalizationError()}),this.model_.state_.addEventListener(t.model._state.StateEvent.EMPTY_SLICE,function(){return l.onEmptySlice()}),this.model_.state_.addEventListener(t.model._state.StateEvent.RUNNING_QUERY,function(){return l.onRunningQuery()}),this.model_.state_.addEventListener(t.model._state.StateEvent.QUERY_COMPLETE,function(){return l.onQueryComplete()}),this.model_.state_.addEventListener(t.model._state.StateEvent.QUERY_ERROR,function(){return l.onQueryError()}),this.model_.state_.addEventListener(t.model._state.StateEvent.REPORT_COMPLETE,function(){return l.onReportComplete()}),this.model_.addEventListener(r.EXPORT,function(){return l.onExportStart()}),this.model_.addEventListener(r.EXPORT_COMPLETE,function(){return l.onExportComplete()}),this.model_.addEventListener(r.PRINT,function(){return l.onPrintStart()}),this.model_.addEventListener(r.PRINT_COMPLETE,function(){return l.onPrintComplete()}),this.view_=new t._view.PivotView(i.UIElement.convert(a),e),this.view_.addEventListener(t._view.ViewEvent.BEFORE_GRID_DRAW,function(e){return l.onBeforeGridDraw(e)}),this.view_.addEventListener(t._view.ViewEvent.RENDER_COMPLETE,function(){return l.onRenderComplete()}),this.model_.init(e),this.isCreationComplete=!0))}return Object.defineProperty(n.prototype,"isReportComplete",{get:function(){return this.model_&&this.model_.state_&&this.model_.state_.isReportComplete},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isReportDefined",{get:function(){return this.model_&&this.model_.state_&&this.model_.state_.isReportDefined},enumerable:!0,configurable:!0}),n.prototype.runDelayedCalls=function(){var e=this;s.fmSetTimeout(function(){for(;0<e.delayedApiCallsOnReportReady.length;)e.delayedApiCallsOnReportReady.shift().call(e)},1)},n.prototype.delayApiCall=function(e,t){void 0===t&&(t=1),0==t?this.delayedApiCallsOnReportDefined.push(e):this.delayedApiCallsOnReportReady.push(e)},n.prototype.onOpeningReportFile=function(){t.model.JavaScriptHandlers.getInstance().dispatch(new t.model.APIEvent(t.model.JavaScriptHandlers.OPENING_REPORT_FILE))},n.prototype.onLoadingReportFile=function(){t.model.JavaScriptHandlers.getInstance().dispatch(new t.model.APIEvent(t.model.JavaScriptHandlers.LOADING_REPORT_FILE))},n.prototype.onReportFileLoaded=function(){t.model.JavaScriptHandlers.getInstance().dispatch(new t.model.APIEvent(t.model.JavaScriptHandlers.REPORT_FILE_LOADED))},n.prototype.onReportFileError=function(){t.model.JavaScriptHandlers.getInstance().dispatch(new t.model.APIEvent(t.model.JavaScriptHandlers.REPORT_FILE_ERROR))},n.prototype.onReportFileCancelled=function(){t.model.JavaScriptHandlers.getInstance().dispatch(new t.model.APIEvent(t.model.JavaScriptHandlers.REPORT_FILE_CANCELLED))},n.prototype.onReportDefined=function(){for(this.model_.state_.reportType==t.model._state.ReportType.INIT&&s.fmSetTimeout(function(){t.model.JavaScriptHandlers.getInstance().dispatch(new t.model.APIEvent(t.model.JavaScriptHandlers.READY))},1);0<this.delayedApiCallsOnReportDefined.length;)this.delayedApiCallsOnReportDefined.shift().call(this)},n.prototype.onLoadingLocalization=function(){t.model.JavaScriptHandlers.getInstance().dispatch(new t.model.APIEvent(t.model.JavaScriptHandlers.LOADING_LOCALIZATION))},n.prototype.onLocalizationLoaded=function(){t.model.JavaScriptHandlers.getInstance().dispatch(new t.model.APIEvent(t.model.JavaScriptHandlers.LOCALIZATION_LOADED))},n.prototype.onLocalizationError=function(){t.model.JavaScriptHandlers.getInstance().dispatch(new t.model.APIEvent(t.model.JavaScriptHandlers.LOCALIZATION_ERROR))},n.prototype.onLoadingData=function(){t.model.JavaScriptHandlers.getInstance().dispatch(new t.model.APIEvent(t.model.JavaScriptHandlers.LOADING_DATA))},n.prototype.onDataLoaded=function(){t.model.JavaScriptHandlers.getInstance().dispatch(new t.model.APIEvent(t.model.JavaScriptHandlers.DATA_LOADED))},n.prototype.onDataFileCancelled=function(){t.model.JavaScriptHandlers.getInstance().dispatch(new t.model.APIEvent(t.model.JavaScriptHandlers.DATA_FILE_CANCELLED))},n.prototype.onDataError=function(){t.model.JavaScriptHandlers.getInstance().dispatch(new t.model.APIEvent(t.model.JavaScriptHandlers.DATA_ERROR))},n.prototype.onEmptySlice=function(){},n.prototype.onRunningQuery=function(){t.model.JavaScriptHandlers.getInstance().dispatch(new t.model.APIEvent(t.model.JavaScriptHandlers.RUNNING_QUERY))},n.prototype.onQueryComplete=function(){t.model.JavaScriptHandlers.getInstance().dispatch(new t.model.APIEvent(t.model.JavaScriptHandlers.QUERY_COMPLETE)),t.model.JavaScriptHandlers.getInstance().dispatch(new t.model.APIEvent(t.model.JavaScriptHandlers.UPDATE))},n.prototype.onQueryError=function(){t.model.JavaScriptHandlers.getInstance().dispatch(new t.model.APIEvent(t.model.JavaScriptHandlers.QUERY_ERROR))},n.prototype.onReportComplete=function(){},n.prototype.onBeforeGridDraw=function(e){t.model.JavaScriptHandlers.getInstance().dispatch(new t.model.APIEvent(t.model.JavaScriptHandlers.BEFORE_GRID_DRAW,e.data))},n.prototype.onRenderComplete=function(){var e=this;this.isReportComplete&&this.model_.state_.reportType!=t.model._state.ReportType.COMPLETE&&s.fmSetTimeout(function(){e.runDelayedCalls(),e.model_.state_.reportType=t.model._state.ReportType.COMPLETE,t.model.JavaScriptHandlers.getInstance().dispatch(new t.model.APIEvent(t.model.JavaScriptHandlers.REPORT_COMPLETE))},1)},n.prototype.onExportStart=function(){t.model.JavaScriptHandlers.getInstance().dispatch(new t.model.APIEvent(t.model.JavaScriptHandlers.EXPORT_START))},n.prototype.onExportComplete=function(){s.fmSetTimeout(function(){t.model.JavaScriptHandlers.getInstance().dispatch(new t.model.APIEvent(t.model.JavaScriptHandlers.EXPORT_COMPLETE))},1)},n.prototype.onPrintStart=function(){t.model.JavaScriptHandlers.getInstance().dispatch(new t.model.APIEvent(t.model.JavaScriptHandlers.PRINT_START))},n.prototype.onPrintComplete=function(){s.fmSetTimeout(function(){t.model.JavaScriptHandlers.getInstance().dispatch(new t.model.APIEvent(t.model.JavaScriptHandlers.PRINT_COMPLETE))},1)},n.prototype.getAllConditions=function(){return this.isReportComplete?this.model_.getAllConditions():null},n.prototype.getCondition=function(e){return this.isReportComplete?this.model_.getCondition(e):null},n.prototype.addCondition=function(e){var t=this;this.isReportComplete?null!=e&&this.model_.addCondition(e):this.delayApiCall(function(){return t.addCondition(e)})},n.prototype.removeCondition=function(e){var t=this;this.isReportComplete?this.model_.removeCondition(e):this.delayApiCall(function(){return t.removeCondition(e)})},n.prototype.removeAllConditions=function(){var e=this;this.isReportComplete?this.model_.removeAllConditions():this.delayApiCall(function(){return e.removeAllConditions()})},n.prototype.open=function(){this.model_.open()},n.prototype.load=function(e){this.model_.load(e)},n.prototype.getReport=function(e){return this.model_.getReport(e).toObject()},n.prototype.setReport=function(n){if("string"==typeof n)try{n=JSON.parse(n)}catch(e){return void t.uialert(t.model._labels.Labels.MESSAGE_INVALID_REPORT_FORMAT,t.model._labels.Labels.ERROR,t.AlertType.ERROR)}this.model_.setReport({report:n})},n.prototype.getData=function(e,t,n){var i=this;this.isReportComplete?this.model_.getData(e,t,n):this.delayApiCall(function(){return i.getData(e,t,n)})},n.prototype.save=function(e,n,i,r,o){var s=this;void 0===e&&(e={filename:"report.json"}),void 0===n&&(n=null),void 0===i&&(i=null),void 0===r&&(r=null),void 0===o&&(o=!1);var a=i;this.isReportComplete?(e instanceof Object&&e.hasOwnProperty("callbackHandler")&&(a=e.callbackHandler),null!=a&&"string"==typeof a&&(a=t.model.JavaScriptHandlers.getFunctionByName(a)),this.model_.save(e,n,null!=a?function(e){return a(e)}:null,r,o)):this.delayApiCall(function(){return s.save(e,n,i,r,o)})},n.prototype.updateData=function(e,t){var n=this;null!=e&&(s.nullOrUndefined(t)?t={partial:!1}:"boolean"==typeof t&&(t={partial:t}),this.isReportDefined?this.model_.updateData(e,t):this.delayApiCall(function(){return n.updateData(e,t)},0))},n.prototype.connectTo=function(e){var t=this;null!=e&&(this.isReportDefined?this.model_.connectTo(e):this.delayApiCall(function(){return t.connectTo(e)},0))},n.prototype.addCalculatedMeasure=function(e){var n=this;this.isReportComplete?null!=e&&this.model_.addCalculatedMeasure(t.data_._structure.GenericMeasure.fromObject(e)):this.delayApiCall(function(){return n.addCalculatedMeasure(e)})},n.prototype.removeCalculatedMeasure=function(e){var t=this;this.isReportComplete?this.model_.removeCalculatedMeasure(e):this.delayApiCall(function(){return t.removeCalculatedMeasure(e)})},n.prototype.removeAllCalculatedMeasures=function(){var e=this;this.isReportComplete?this.model_.removeAllCalculatedMeasures():this.delayApiCall(function(){return e.removeAllCalculatedMeasures()})},n.prototype.clear=function(){var e=this;this.isReportComplete?this.model_.clear():this.delayApiCall(function(){return e.clear()})},n.prototype.dispose=function(){s.fmdocument.dispose(),s.fmwindow.dispose(),s.Timers.dispose(),this.model_.dispose(),this.view_.dispose(),this.model_=this.view_=null,n.instance=null,t.model.JavaScriptHandlers.dispose()},n.prototype.refresh=function(){var e=this;this.isReportComplete?this.view_.draw():this.delayApiCall(function(){return e.refresh()})},n.prototype.expandAllData=function(e){var t=this;void 0===e&&(e=!0),this.isReportComplete?this.model_.expandAllData(e):this.delayApiCall(function(){return t.expandAllData(e)})},n.prototype.expandData=function(e){var t=this;this.isReportComplete?this.model_.expandData(e):this.delayApiCall(function(){return t.expandData(e)})},n.prototype.collapseAllData=function(){var e=this;this.isReportComplete?this.model_.collapseAllData():this.delayApiCall(function(){return e.collapseAllData()})},n.prototype.collapseData=function(e){var t=this;this.isReportComplete?this.model_.collapseData(e):this.delayApiCall(function(){return t.collapseData(e)})},n.prototype.print=function(e){var n=this;void 0===e&&(e=null),this.isReportComplete?this.model_.print(t.model.printing.PrintOptions.fromObject(e)):this.delayApiCall(function(){return n.print(e)})},n.prototype.exportTo=function(e,n,i){var r=this;if(void 0===n&&(n=null),void 0===i&&(i=null),this.isReportComplete){if(null!=e){null!=i&&"string"==typeof i&&(i=t.model.JavaScriptHandlers.getFunctionByName(i));var o=null!=i?function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.apply(null,e)}:null;this.model_.exportTo(e,t.model._export.ExportOptions.fromObject(n),o)}}else this.delayApiCall(function(){return r.exportTo(e,n,i)})},n.prototype.getFilter=function(e){return this.isReportComplete?this.model_.getFilter(e):null},n.prototype.getFilterProperties=function(e){return this.isReportComplete?this.model_.getFilterProperties(e):null},n.prototype.setFilter=function(e,t,n){var i=this;void 0===n&&(n=!1),this.isReportComplete?this.model_.setFilter(e,t,n):this.delayApiCall(function(){return i.setFilter(e,t,n)})},n.prototype.clearFilter=function(e){var t=this;this.isReportComplete?this.model_.clearFilter(e):this.delayApiCall(function(){return t.clearFilter(e)})},n.prototype.on=function(e,n){"string"==typeof n&&(n=t.model.JavaScriptHandlers.getFunctionByName(n)),t.model.JavaScriptHandlers.getInstance().addEventListener(e,n)},n.prototype.off=function(e,n){"string"==typeof n&&(n=t.model.JavaScriptHandlers.getFunctionByName(n)),null==n?t.model.JavaScriptHandlers.getInstance().removeAllEventListeners(e):t.model.JavaScriptHandlers.getInstance().removeEventListener(e,n)},n.prototype.getRows=function(){return this.isReportComplete?this.model_.getRows():null},n.prototype.getColumns=function(){return this.isReportComplete?this.model_.getColumns():null},n.prototype.getPages=function(){return this.isReportComplete?this.model_.getPages():null},n.prototype.getMeasures=function(){return this.isReportComplete?this.model_.getMeasures():null},n.prototype.getAllMeasures=function(){return this.isReportComplete?this.model_.getAllMeasures():null},n.prototype.sortValues=function(e,t,n,i){var r=this;this.isReportComplete?this.model_.sortValues(e,t,n,i):this.delayApiCall(function(){return r.sortValues(e,t,n,i)})},n.prototype.setSort=function(e,t){var n=this;this.isReportComplete?this.model_.setSort(e,t):this.delayApiCall(function(){return n.setSort(e,t)})},n.prototype.getSort=function(e){return this.isReportComplete?this.model_.getSort(e):null},n.prototype.setTopX=function(e,t,n){var i=this;this.isReportComplete?this.model_.setTopX(e,t,n):this.delayApiCall(function(){return i.setTopX(e,t,n)})},n.prototype.setBottomX=function(e,t,n){var i=this;this.isReportComplete?this.model_.setBottomX(e,t,n):this.delayApiCall(function(){return i.setBottomX(e,t,n)})},n.prototype.getOptions=function(){return this.isReportComplete?this.model_.getOptions():null},n.prototype.setOptions=function(e){var t=this;this.isReportComplete?this.model_.setOptions(e):this.delayApiCall(function(){return t.setOptions(e)})},n.prototype.getMembers=function(e,n,i){var r=this;if(this.isReportComplete)return"string"==typeof i&&(i=t.model.JavaScriptHandlers.getFunctionByName(i)),this.model_.getMembers(e,n,i);this.delayApiCall(function(){return r.getMembers(e,n,i)})},n.prototype.runQuery=function(e){var t=this;this.isReportComplete?null!=e&&this.model_.runQuery(e):this.delayApiCall(function(){return t.runQuery(e)})},n.prototype.getAllHierarchies=function(){return this.isReportComplete?this.model_.getAllHierarchies():null},n.prototype.replaceHierarchyCaption=function(e){var t=this;this.isReportComplete?this.model_.replaceHierarchyCaption(e):this.delayApiCall(function(){return t.replaceHierarchyCaption(e)})},n.prototype.getFormat=function(e){return this.isReportComplete?this.model_.getFormat(e):null},n.prototype.setFormat=function(e,t){var n=this;this.isReportComplete?null!=e&&this.model_.setFormat(e,t):this.delayApiCall(function(){return n.setFormat(e,t)})},n.prototype.getCell=function(e,t){return this.isReportComplete?this.view_.getCell(e,t):null},n.prototype.getSelectedCell=function(){return this.isReportComplete?this.view_.getSelectedCell():null},n.prototype.setSelectedCell=function(e,t){var n=this;this.isReportComplete?this.view_.setSelectedCell(e,t):this.delayApiCall(function(){return n.setSelectedCell(e,t)})},n.prototype.removeSelection=function(){var e=this;this.isReportComplete?this.view_.removeSelection():this.delayApiCall(function(){return e.removeSelection()})},n.prototype.openFieldsList=function(){var e=this;this.isCreationComplete?this.view_.openFieldsList():this.delayApiCall(function(){return e.openFieldsList()})},n.prototype.closeFieldsList=function(){var e=this;this.isCreationComplete?this.view_.closeFieldsList():this.delayApiCall(function(){return e.closeFieldsList()})},n.prototype.customizeCell=function(e){t._view.grid.vo.GridCell.customizeCellFunction=e,this.isCreationComplete&&this.refresh()},n.BUILD_VERSION="Version 1.3.3",n.BUILD_DATE="97420653026663",n}();t.Pivot=n;var r=function(){function e(){}return e.PRINT="print",e.PRINT_COMPLETE="printcomplete",e.EXPORT="export",e.EXPORT_COMPLETE="exportcomplete",e}();t.PivotEvent=r}(r||(r={})),this.PivotApi=function(e){var t={version:r.Pivot.BUILD_VERSION},n=new r.Pivot(e,t);if(t.getAllConditions=function(){return n.getAllConditions()},t.getCondition=function(e){return n.getCondition(e)},t.addCondition=function(e){return n.addCondition(e)},t.removeCondition=function(e){return n.removeCondition(e)},t.removeAllConditions=function(){return n.removeAllConditions()},t.open=function(){return n.open()},t.load=function(e){return n.load(e)},t.getReport=function(e){return n.getReport(e)},t.setReport=function(e){return n.setReport(e)},t.getData=function(e,t,i){return n.getData(e,t,i)},t.save=function(e,t,i,r,o){return void 0===e&&(e={filename:"report.json"}),void 0===t&&(t=null),void 0===i&&(i=null),void 0===r&&(r=null),void 0===o&&(o=!1),n.save(e,t,i,r,o)},t.updateData=function(e,t){return n.updateData(e,t)},t.connectTo=function(e){return n.connectTo(e)},t.addCalculatedMeasure=function(e){return n.addCalculatedMeasure(e)},t.removeCalculatedMeasure=function(e){return n.removeCalculatedMeasure(e)},t.removeAllCalculatedMeasures=function(){return n.removeAllCalculatedMeasures()},t.clear=function(){return n.clear()},t.dispose=function(){n.dispose()},t.refresh=function(){return n.refresh()},t.expandAllData=function(e){return void 0===e&&(e=!0),n.expandAllData(e)},t.expandData=function(e){return n.expandData(e)},t.collapseAllData=function(){return n.collapseAllData()},t.collapseData=function(e){return n.collapseData(e)},t.print=function(e){return void 0===e&&(e=null),n.print(e)},t.exportTo=function(e,t,i){return void 0===t&&(t=null),void 0===i&&(i=null),n.exportTo(e,t,i)},t.getFilter=function(e){return n.getFilter(e)},t.getFilterProperties=function(e){return n.getFilterProperties(e)},t.setFilter=function(e,t,i){return void 0===i&&(i=!1),n.setFilter(e,t,i)},t.clearFilter=function(e){return n.clearFilter(e)},t.runQuery=function(e){return n.runQuery(e)},t.on=function(e,t){return n.on(e,t)},t.off=function(e,t){return n.off(e,t)},t.getRows=function(){return n.getRows()},t.getColumns=function(){return n.getColumns()},t.getReportFilters=function(){return n.getPages()},t.getMeasures=function(){return n.getMeasures()},t.getAllMeasures=function(){return n.getAllMeasures()},t.sortValues=function(e,t,i,r){return n.sortValues(e,t,i,r)},t.setSort=function(e,t){return n.setSort(e,t)},t.getSort=function(e){return n.getSort(e)},t.setTopX=function(e,t,i){return n.setTopX(e,t,i)},t.setBottomX=function(e,t,i){return n.setBottomX(e,t,i)},t.getOptions=function(){return n.getOptions()},t.setOptions=function(e){return n.setOptions(e)},t.getMembers=function(e,t,i){return n.getMembers(e,t,i)},t.getAllHierarchies=function(){return n.getAllHierarchies()},t.replaceHierarchyCaption=function(e){return n.replaceHierarchyCaption(e)},t.getFormat=function(e){return n.getFormat(e)},t.setFormat=function(e,t){return n.setFormat(e,t)},t.getCell=function(e,t){return n.getCell(e,t)},t.getSelectedCell=function(){return n.getSelectedCell()},t.setSelectedCell=function(e,t){return n.setSelectedCell(e,t)},t.removeSelection=function(){return n.removeSelection()},t.openFieldsList=function(){return n.openFieldsList()},t.closeFieldsList=function(){return n.closeFieldsList()},t.customizeCell=function(e){return n.customizeCell(e)},void 0!==window.WebDataRocksHighcharts)for(var i in t.highcharts={instance:t},window.WebDataRocksHighcharts)t.highcharts[i]=window.WebDataRocksHighcharts[i];if(void 0!==window.WebDataRocksFusioncharts)for(i in t.fusioncharts={instance:t},window.WebDataRocksFusioncharts)t.fusioncharts[i]=window.WebDataRocksFusioncharts[i];if(void 0!==window.WebDataRocksGooglecharts)for(i in t.googlecharts={instance:t},window.WebDataRocksGooglecharts)t.googlecharts[i]=window.WebDataRocksGooglecharts[i];if(void 0!==window.WebDataRocksAmcharts)for(i in t.amcharts={instance:t},window.WebDataRocksAmcharts)t.amcharts[i]=window.WebDataRocksAmcharts[i];return window.webdatarocks=t},this.PivotApi(e)}}),(WebDataRocksToolbar=function(e,t,n,i,r){this.pivot=t,this.pivotContainer=e,this.width="number"==typeof i||0>i.indexOf("px")&&0>i.indexOf("%")?i+"px":i,this.Labels=r}).prototype.getTabs=function(){var e=[],t=this.Labels;return e.push({title:t.connect,id:"wdr-tab-connect",icon:this.icons.connect,menu:[{title:t.connect_local_csv,id:"wdr-tab-connect-local-csv",handler:this.connectLocalCSVHandler,mobile:!1,icon:this.icons.connect_csv},{title:t.connect_local_json,id:"wdr-tab-connect-local-json",handler:this.connectLocalJSONHandler,mobile:!1,icon:this.icons.connect_json},{title:this.osUtils.isMobile?t.connect_remote_csv_mobile:t.connect_remote_csv,id:"wdr-tab-connect-remote-csv",handler:this.connectRemoteCSV,icon:this.icons.connect_csv},{title:this.osUtils.isMobile?t.connect_remote_json_mobile:t.connect_remote_json,id:"wdr-tab-connect-remote-json",handler:this.connectRemoteJSON,icon:this.icons.connect_json}]}),e.push({title:t.open,id:"wdr-tab-open",icon:this.icons.open,menu:[{title:t.local_report,id:"wdr-tab-open-local-report",handler:this.openLocalReport,mobile:!1,icon:this.icons.open_local},{title:this.osUtils.isMobile?t.remote_report_mobile:t.remote_report,id:"wdr-tab-open-remote-report",handler:this.openRemoteReport,icon:this.icons.open_remote}]}),e.push({title:t.save,id:"wdr-tab-save",handler:this.saveHandler,mobile:!1,icon:this.icons.save}),e.push({title:t.export,id:"wdr-tab-export",mobile:!1,icon:this.icons.export,menu:[{title:t.export_print,id:"wdr-tab-export-print",handler:this.printHandler,icon:this.icons.export_print},{title:t.export_html,id:"wdr-tab-export-html",handler:this.exportHandler,args:"html",icon:this.icons.export_html},{title:t.export_excel,id:"wdr-tab-export-excel",handler:this.exportHandler,args:"excel",icon:this.icons.export_excel},{title:t.export_pdf,id:"wdr-tab-export-pdf",handler:this.exportHandler,args:"pdf",icon:this.icons.export_pdf}]}),e.push({title:t.format,id:"wdr-tab-format",icon:this.icons.format,rightGroup:!0,menu:[{title:this.osUtils.isMobile?t.format_cells_mobile:t.format_cells,id:"wdr-tab-format-cells",handler:this.formatCellsHandler,icon:this.icons.format_number},{title:this.osUtils.isMobile?t.conditional_formatting_mobile:t.conditional_formatting,id:"wdr-tab-format-conditional",handler:this.conditionalFormattingHandler,icon:this.icons.format_conditional}]}),e.push({title:t.options,id:"wdr-tab-options",handler:this.optionsHandler,icon:this.icons.options,rightGroup:!0}),e.push({title:t.fields,id:"wdr-tab-fields",handler:this.fieldsHandler,icon:this.icons.fields,rightGroup:!0}),null!=document.addEventListener&&e.push({title:t.fullscreen,id:"wdr-tab-fullscreen",handler:this.fullscreenHandler,mobile:!1,icon:this.icons.fullscreen,rightGroup:!0}),e},WebDataRocksToolbar.prototype.create=function(){this.popupManager=new WebDataRocksToolbar.PopupManager(this),this.dataProvider=this.getTabs(),this.init()},WebDataRocksToolbar.prototype.applyToolbarLayoutClasses=function(){if(!this.osUtils.isMobile){var e=this,t=function(){if(e.toolbarWrapper){var t=e.toolbarWrapper.getBoundingClientRect().width;e.toolbarWrapper.classList.remove("wdr-layout-500"),e.toolbarWrapper.classList.remove("wdr-layout-360"),e.toolbarWrapper.classList.remove("wdr-layout-300"),500>t&&e.toolbarWrapper.classList.add("wdr-layout-500"),360>t&&e.toolbarWrapper.classList.add("wdr-layout-360"),300>t&&e.toolbarWrapper.classList.add("wdr-layout-300")}};t(),window.addEventListener("resize",t)}},WebDataRocksToolbar.prototype.init=function(){this.container=this.pivotContainer,this.container.style.position=""==this.container.style.position?"relative":this.container.style.position,this.toolbarWrapper=document.createElement("div"),this.toolbarWrapper.id="wdr-toolbar-wrapper",this.toolbarWrapper.style.width=this.width,this.osUtils.isMobile&&this.addClass(this.toolbarWrapper,"wdr-mobile"),this.addClass(this.toolbarWrapper,"wdr-toolbar-ui"),this.toolbarWrapper.style.width=this.width;var e=document.createElement("ul");e.id="wdr-toolbar";var t=document.createElement("div");t.classList.add("wdr-toolbar-group-right"),e.appendChild(t);for(var n=0;n<this.dataProvider.length;n++)if(!this.isDisabled(this.dataProvider[n]))if(this.osUtils.isMobile&&null!=this.dataProvider[n].menu&&1!=this.dataProvider[n].collapse)for(var i=0;i<this.dataProvider[n].menu.length;i++)this.isDisabled(this.dataProvider[n].menu[i])||e.appendChild(this.createTab(this.dataProvider[n].menu[i]));else i=this.dataProvider[n].divider?this.createDivider(this.dataProvider[n]):this.createTab(this.dataProvider[n]),t&&this.dataProvider[n].rightGroup?t.appendChild(i):e.appendChild(i);this.toolbarWrapper.appendChild(e),this.container.insertBefore(this.toolbarWrapper,this.container.firstChild),this.updateLabels(this.Labels),this.applyToolbarLayoutClasses()},WebDataRocksToolbar.prototype.updateLabels=function(e){e=this.Labels=e,this.setText(document.querySelector("#wdr-tab-connect > a > span"),e.connect),this.setText(document.querySelector("#wdr-tab-connect-local-csv > a > span"),e.connect_local_csv),this.setText(document.querySelector("#wdr-tab-connect-local-json > a > span"),e.connect_local_json),this.setText(document.querySelector("#wdr-tab-connect-remote-csv > a > span"),this.osUtils.isMobile?e.connect_remote_csv_mobile:e.connect_remote_csv),this.setText(document.querySelector("#wdr-tab-open > a > span"),e.open),this.setText(document.querySelector("#wdr-tab-open-local-report > a > span"),e.local_report),this.setText(document.querySelector("#wdr-tab-open-remote-report > a > span"),this.osUtils.isMobile?e.remote_report_mobile:e.remote_report),this.setText(document.querySelector("#wdr-tab-save > a > span"),e.save),this.setText(document.querySelector("#wdr-tab-format > a > span"),e.format),this.setText(document.querySelector("#wdr-tab-format-cells > a > span"),this.osUtils.isMobile?e.format_cells_mobile:e.format_cells),this.setText(document.querySelector("#wdr-tab-format-conditional > a > span"),this.osUtils.isMobile?e.conditional_formatting_mobile:e.conditional_formatting),this.setText(document.querySelector("#wdr-tab-options > a > span"),e.options),this.setText(document.querySelector("#wdr-tab-fullscreen > a > span"),e.fullscreen),this.setText(document.querySelector("#wdr-tab-export > a > span"),e.export),this.setText(document.querySelector("#wdr-tab-export-print > a > span"),e.export_print),this.setText(document.querySelector("#wdr-tab-export-html > a > span"),e.export_html),this.setText(document.querySelector("#wdr-tab-export-excel > a > span"),e.export_excel),this.setText(document.querySelector("#wdr-tab-export-pdf > a > span"),e.export_pdf),this.setText(document.querySelector("#wdr-tab-fields > a > span"),e.fields)},WebDataRocksToolbar.prototype.icons={connect:'<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="-305.5 396.5 36 36"><title>menu_connect</title><path fill="#555" d="M-274.5 425.409s-.988.277-1.422.761l-3.536-1.783c.189-.509.258-1.066.07-1.572l3.719-1.76a2.36 2.36 0 0 0 3.317.147 2.341 2.341 0 0 0 .157-3.3 2.335 2.335 0 0 0-4.055 1.582c-.009.122-.008.237.001.358l-3.896 1.884a2.281 2.281 0 0 0-1.359-.451 2.338 2.338 0 0 0-2.177 2.481 2.33 2.33 0 0 0 2.177 2.179c.491 0 .967-.156 1.359-.451l3.921 1.892a2.317 2.317 0 0 0 1.981 2.604 2.316 2.316 0 0 0 2.604-1.981c.171-1.269-1-2.432-2.262-2.603a8.794 8.794 0 0 0-.6-.026v.039zM-301.592 413.883c-.008.105-.908.222.092.326v6.836c0 2.587 5.827 5.455 13.177 5.455h1.081c-1.146-3 .303-6.854 3.299-8.155-1.448.172-2.868.069-4.334.069-7.056.009-12.775-2.093-13.315-4.531z"/><path fill="#555" d="M-288.5 416.217c7.377 0 13-2.097 13-4.683v-6.853c0-2.586-5.647-4.682-13-4.682-7.352 0-13 2.104-13 4.69v6.853c0 2.586 5.648 4.675 13 4.675zm.177-15.268c5.903 0 10.691 1.661 10.691 3.741s-4.796 3.741-10.691 3.741c-5.894 0-10.683-1.67-10.683-3.741 0-2.072 4.79-3.741 10.683-3.741z"/></svg>',connect_csv:'<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36"><path d="M11 24l6 0V27h-6V24z"/><path d="M12.8 22L12.8 22l1.2-2.5L15.1 22h1.9l-2-3.9L16.9 14h-1.8l-1 2.5L12.9 14h-1.8l1.9 3.9L11 22H12.8z"/><path d="M19 19h6v3h-6V19z"/><path d="M19 14h6v3L19 17V14z"/><path d="M19 24h6v3h-6V24z"/><path d="M23 4H7v28h22V11L23 4zM8 31V5h14v7h6v19H8L8 31z"/></svg>',connect_json:'<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36"><path d="M23 4H7v28h22V11L23 4zM8 31V5h14v7h6v19H8L8 31z"/><path d="M19 24c0 0.6-0.4 1-1 1 -0.6 0-1-0.4-1-1v-2c0-0.6 0.4-1 1-1 0.6 0 1 0.4 1 1V24zM21 18v-2c0-0.6-0.4 0-1 0 -0.6 0-1-0.4-1-1 0-0.6 0.4-1 1-1 1.7 0 3 0.3 3 2v2c0 1.1 0.9 2 2 2 0.6 0 1 0.4 1 1 0 0.6-0.4 1-1 1 -1.1 0-2 0.9-2 2v2c0 1.7-1.3 2-3 2 -0.6 0-1-0.4-1-1s0.4-1 1-1c0.6 0 1 0.6 1 0v-2c0-1.2 0.5-2.3 1.4-3C21.5 20.3 21 19.2 21 18zM11 20c1.1 0 2-0.9 2-2v-2c0-1.7 1.3-2 3-2 0.6 0 1 0.4 1 1 0 0.6-0.4 1-1 1 -0.6 0-1-0.6-1 0v2c0 1.2-0.5 2.3-1.4 3 0.8 0.7 1.4 1.8 1.4 3v2c0 0.6 0.4 0 1 0 0.6 0 1 0.4 1 1s-0.4 1-1 1c-1.7 0-3-0.3-3-2v-2c0-1.1-0.9-2-2-2 -0.6 0-1-0.4-1-1C10 20.4 10.4 20 11 20z"/><path d="M18 17c0.6 0 1 0.4 1 1s-0.4 1-1 1 -1-0.4-1-1S17.4 17 18 17z"/></svg>',open:'<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="-305.5 396.5 36 36"><title>menu_open</title><path fill="#555" d="M-279.351 408.5h8.976c.064 0 .126-.067.167-.025.021.052.021.055 0 .107l-2.053 20.701c-.01.117-.104.217-.219.217h-30.102c-.116 0-.21-.104-.221-.22l-1.989-16.009c-.022-.041-.022.124 0 .083.042-.054.115.146.178.146h21.198c.87 0 1.665-.726 2.053-1.499l1.812-3.446a.414.414 0 0 1 .2-.055zm-4.052 2.473c.084-.011.162-.052.194-.126l1.813-3.288c.408-.754 1.196-1.059 2.054-1.059h7.842v-2.637c0-1.102-.83-2.166-1.929-2.25-.053 0-.183-.113-.235-.113h-18.328c-.104 0-.188.006-.241-.09.01-1.1-.858-1.91-1.958-1.91h-6.902c-1.226 0-2.406.864-2.406 2.089v9.426l20.096-.042z"/></svg>',open_local:'<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36"><style>.a{fill:none;}</style><path d="M30.9 10.6C30.8 10.4 30.2 10 30 10h-1V8c0-0.4-0.6-1-1-1H15l-1-2H8C7.6 5 7 5.6 7 6v4H6c-0.2 0-0.8 0.4-0.9 0.6 -0.1 0.1-0.2 0.3-0.1 0.5l2.1 19.5C7.2 30.8 7.7 31 8 31h20c0.3 0 0.8-0.2 0.9-0.5l2.1-19.5C31 10.9 31 10.7 30.9 10.6zM28 30H8L6 11h24L28 30z"/><line x1="11" y1="23" x2="11" y2="23" class="a"/><line x1="25" y1="23" x2="25" y2="23" class="a"/><polygon points="11 15 11 23 17 23 17 25 14 25 14 26 22 26 22 25 19 25 19 23 25 23 25 15 "/></svg>',open_remote:'<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36"><path d="M30.9 10.6C30.8 10.4 30.2 10 30 10h-1V8c0-0.4-0.6-1-1-1H15l-1-2H8C7.6 5 7 5.6 7 6v4H6c-0.2 0-0.8 0.4-0.9 0.6 -0.1 0.1-0.2 0.3-0.1 0.5l2.1 19.5C7.2 30.8 7.7 31 8 31h20c0.3 0 0.8-0.2 0.9-0.5l2.1-19.5C31 10.9 31 10.7 30.9 10.6zM28 30H8L6 11h24L28 30z"/><path d="M24.8 18.1l-0.8 1.5c-0.2 0.2-0.5 0.2-0.8 0 -1.3-1.2-3.2-1.9-5.3-1.9 -2.1 0-4 0.7-5.3 1.9 -0.2 0.2-0.5 0.2-0.8 0l-0.8-1.5c-0.1-0.1-0.2-0.2-0.2-0.3 0-0.1 0.1-0.2 0.2-0.3 1.7-1.5 4.1-2.5 6.8-2.5 2.7 0 5.1 0.9 6.8 2.5 0.1 0 0.2 0.2 0.2 0.3C25 17.9 24.9 18 24.8 18.1zM18 19.6c1.5 0 2.8 0.5 3.8 1.4 0.2 0.2 0.2 0.5 0 0.7l-0.8 1.5c-0.2 0.2-0.5 0.2-0.8 0 -0.6-0.5-1.4-0.8-2.3-0.8 -0.9 0-1.7 0.3-2.3 0.8 -0.2 0.2-0.5 0.2-0.8 0l-0.8-1.5c-0.2-0.2-0.2-0.5 0-0.7C15.2 20.1 16.5 19.6 18 19.6zM18 23.4c0.8 0 1.4 0.6 1.4 1.3 0 0.7-0.6 1.3-1.4 1.3 -0.8 0-1.4-0.6-1.4-1.3C16.6 24 17.2 23.4 18 23.4z"/></svg>',save:'<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="-17.5 774.5 36 36"><title>menu_save</title><g fill="#555"><path d="M15.191 783.284l-5.457-5.467a1.101 1.101 0 0 0-.781-.317h-.835c-.2 0-.618.163-.618.363v8.889c0 .618-.245.748-.853.748H-5.638c-.617 0-.862-.14-.862-.748v-8.889c0-.2-.409-.363-.609-.363h-6.283c-.618 0-1.108.499-1.108 1.107v27.785c0 .617.5 1.107 1.108 1.107h27.784c.618 0 1.108-.499 1.108-1.107v-22.337c0-.29-.109-.562-.309-.771zM8.98 801.463c0 .618-.499 1.037-1.107 1.037H-6.873c-.617 0-.627-.357-.627-.966v-8.626c0-.617.019-1.408.627-1.408H7.882c.618 0 1.108.613 1.108 1.223l-.01 8.74z"/><path d="M-4.167 784.5h9.361c.2 0 .306.228.306.028v-6.665c0-.2-.106-.363-.306-.363h-9.361c-.2 0-.333.163-.333.363v6.665c0 .191.124-.028.333-.028zm5.667-4.294c0-.618.392-1.108 1-1.108.618 0 1 .5 1 1.108v1.97c0 .618-.392 1.108-1 1.108-.618 0-1-.5-1-1.108v-1.97zM4.168 796.5h-7.31c-.617 0-1.108.393-1.108 1s.5 1 1.108 1h7.31c.617 0 1.107-.393 1.107-1s-.498-1-1.107-1z"/></g></svg>',export:'<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="-17.5 774.5 36 36"><title>menu_export</title><g fill="#555"><path d="M15.446 795.615l-4.289-6.461c-.346-.515-.803-.654-1.428-.654H7.788c-.186 0-.346-.029-.363.156-.008.076.017.07.059.137l4.76 7.108c.042.06.034.337-.017.38-.025.025-.067.219-.102.219H6.699c-.194 0-.354-.063-.363.125-.305 3.23-3.174 5.495-6.407 5.192-2.81-.263-5.039-2.329-5.3-5.14-.009-.195-.168-.178-.363-.178h-5.401c-.076 0-.144-.281-.144-.357 0-.025.008-.157.017-.175l4.76-7.203c.102-.16.05-.245-.109-.347-.06-.035-.118.082-.187.082h-1.94c-.616 0-1.199.145-1.553.658l-4.664 6.547c-.203.304-.545.586-.545.95v9.216c1 .911 1.267 1.646 2.187 1.629h27.625c.903.009 1.188-.709 1.188-1.611v-9.233c1-.373.157-.735-.054-1.04z"/><path d="M-3.674 783.5H-2.5v10.2c1 1.4 1.764 2.464 3.165 2.371 1.274-.083 1.835-1.097 2.835-2.371v-10.2h1.207c.346 0 .641-.04.65-.387.008-.151-.042-.193-.144-.311l-4.186-5.11c-.228-.287-.642-.302-.929-.073-.042.034-.076.081-.101.115l-4.135 5.172c-.22.271-.187.447.084.668.11.085.244-.074.38-.074z"/></g></svg>',export_print:'<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="-17.5 774.5 36 36"><title>dd_save_print</title><path fill="#555" d="M-5.5 798.685v3.815h11v-7h-11v3.185zm2-1.185h7v1h-7v-1zm0 2h7v1h-7v-1zM5.5 786.308V782.5h-11v7h11z"/><path fill="#555" d="M8.94 786.5H7.5v4h-14v-4h-1.44c-1.493 0-2.56 1.064-2.56 2.558v6.87c0 1.493 1.067 2.572 2.56 2.572h1.44v-4h14v4h1.44c1.493 0 2.56-1.064 2.56-2.557v-6.878c0-1.501-1.074-2.565-2.56-2.565z"/></svg>',export_excel:'<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36"><path d="M24.4 15h-3.8L18 18.6 15.3 15h-3.8l4.5 5.2L11 27h7.3L18 25h-2l2-3L21.1 27H25l-5.1-6.8L24.4 15z"/><path d="M23 4H7v28h22V11L23 4zM8 31V5h14v7h6v19H8L8 31z"/></svg>',export_html:'<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36"><path d="M25.7 20.8l-2.3-2.5c-0.2-0.2-0.4-0.3-0.6-0.3 -0.2 0-0.4 0.1-0.6 0.3 -0.3 0.4-0.3 1 0 1.4l1.7 1.9 -1.7 1.9c-0.2 0.2-0.3 0.4-0.3 0.7 0 0.3 0.1 0.5 0.3 0.7 0.2 0.2 0.4 0.3 0.6 0.3 0.2 0 0.4-0.1 0.6-0.3l2.3-2.5C26.1 21.8 26.1 21.2 25.7 20.8z"/><path d="M14 24c0-0.3-0.1-0.5-0.3-0.7l-1.7-1.9 1.7-1.9c0.3-0.4 0.3-1 0-1.4 -0.2-0.2-0.4-0.3-0.6-0.3 -0.2 0-0.4 0.1-0.6 0.3l-2.3 2.5c-0.3 0.4-0.3 1 0 1.4l2.3 2.5c0.2 0.2 0.4 0.3 0.6 0.3 0.2 0 0.4-0.1 0.6-0.3C13.9 24.5 14 24.3 14 24z"/><path d="M20.4 15.1c-0.1 0-0.2-0.1-0.3-0.1 -0.4 0-0.8 0.3-0.9 0.6l-4.1 11.1c-0.1 0.2-0.1 0.5 0 0.7 0.1 0.2 0.3 0.4 0.5 0.5C15.7 28 15.8 28 16 28c0.4 0 0.8-0.3 0.9-0.6l4.1-11.1C21.1 15.8 20.9 15.2 20.4 15.1z"/><path d="M23 4H7v28h22V11L23 4zM8 31V5h14v7h6v19H8L8 31z"/></svg>',export_pdf:'<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36"><path d="M17.2 17.1L17.2 17.1C17.3 17.1 17.3 17.1 17.2 17.1c0.1-0.5 0.2-0.7 0.2-1V15.8c0.1-0.6 0.1-1 0-1.1 0 0 0 0 0-0.1l-0.1-0.1 0 0 0 0c0 0 0 0.1-0.1 0.1C16.9 15.2 16.9 16 17.2 17.1L17.2 17.1zM13.8 24.8c-0.2 0.1-0.4 0.2-0.6 0.3 -0.8 0.7-1.3 1.5-1.5 1.8l0 0 0 0 0 0C12.5 26.9 13.1 26.2 13.8 24.8 13.9 24.8 13.9 24.8 13.8 24.8 13.9 24.8 13.8 24.8 13.8 24.8zM24.1 23.1c-0.1-0.1-0.6-0.5-2.1-0.5 -0.1 0-0.1 0-0.2 0l0 0c0 0 0 0 0 0.1 0.8 0.3 1.6 0.6 2.1 0.6 0.1 0 0.1 0 0.2 0l0 0h0.1c0 0 0 0 0-0.1l0 0C24.2 23.3 24.1 23.3 24.1 23.1zM24.6 24c-0.2 0.1-0.6 0.2-1 0.2 -0.9 0-2.2-0.2-3.4-0.8 -1.9 0.2-3.4 0.5-4.5 0.9 -0.1 0-0.1 0-0.2 0.1 -1.3 2.4-2.5 3.5-3.4 3.5 -0.2 0-0.3 0-0.4-0.1l-0.6-0.3v-0.1c-0.1-0.2-0.1-0.3-0.1-0.6 0.1-0.6 0.8-1.6 2.1-2.4 0.2-0.1 0.6-0.3 1-0.6 0.3-0.6 0.7-1.2 1.1-2 0.6-1.1 0.9-2.3 1.2-3.3l0 0c-0.4-1.4-0.7-2.1-0.2-3.7 0.1-0.5 0.4-0.9 0.9-0.9h0.2c0.2 0 0.4 0.1 0.7 0.2 0.8 0.8 0.4 2.6 0 4.1 0 0.1 0 0.1 0 0.1 0.4 1.2 1.1 2.3 1.8 2.9 0.3 0.2 0.6 0.5 1 0.7 0.6 0 1-0.1 1.5-0.1 1.3 0 2.2 0.2 2.6 0.8 0.1 0.2 0.1 0.5 0.1 0.7C24.9 23.5 24.8 23.8 24.6 24zM17.3 19.6c-0.2 0.8-0.7 1.7-1.1 2.7 -0.2 0.5-0.4 0.8-0.7 1.2h0.1 0.1l0 0c1.5-0.6 2.8-0.9 3.7-1 -0.2-0.1-0.3-0.2-0.4-0.3C18.4 21.6 17.7 20.7 17.3 19.6z"/><path d="M23 4H7v28h22V11L23 4zM8 31V5h14v7h6v19H8L8 31z"/></svg>',format:'<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="-17.5 774.5 36 36"><title>menu_format</title><g fill="#555"><path d="M15.144 781.92a7.62 7.62 0 0 0-4.238-4.157 4.634 4.634 0 0 0-1.201-.254.99.99 0 0 0-.906.36l-10.797 10.829c-1.462 1.462-2.916 2.908-4.37 4.378a1.347 1.347 0 0 0-.326.596c-.481 2.197-.939 4.402-1.413 6.607a.639.639 0 0 0 .792.793l6.551-1.381c.253-.049.49-.171.67-.359 5.063-5.08 10.127-10.144 15.19-15.207.237-.229.384-.548.4-.882a8.491 8.491 0 0 0-.352-1.323zm-16.825 16.652l-2.54.531a2.367 2.367 0 0 0-1.911-1.87c.18-.906.384-1.813.571-2.729a2.05 2.05 0 0 1 1.078.229 6.007 6.007 0 0 1 2.671 2.605c.139.318.245.653.311.996 0 .157 0 .157-.18.238z"/><path d="M6.568 804.5H-11.5v-18h7.761l1.83-2.118 1.593-1.882h-12.455c-.947 0-1.729 1.241-1.729 2.18v21.097c0 .947.77 1.724 1.726 1.724H8.283c.947 0 2.217-.769 2.217-1.724v-12.488l-4 3.438v7.773h.068z"/></g></svg>',format_number:'<svg xmlns="http://www.w3.org/2000/svg" width="52" height="36" viewBox="0 0 52 36"><path d="M31 19.2v-3.4l2.5-0.4c0.2-0.7 0.5-1.4 0.9-2.1l-1.4-2 2.4-2.4 2 1.4c0.7-0.4 1.4-0.7 2.1-0.9l0.4-2.5h3.4l0.4 2.5c0.7 0.2 1.4 0.5 2.1 0.9l2-1.4 2.4 2.4 -1.4 2c0.4 0.7 0.7 1.4 0.9 2.1L52 15.8v3.4l-2.5 0.4c-0.2 0.7-0.5 1.4-0.9 2.1l1.4 2 -2.4 2.4 -2-1.5c-0.7 0.4-1.4 0.7-2.1 0.9l-0.4 2.5h-3.4l-0.4-2.5c-0.7-0.2-1.4-0.5-2.1-0.9l-2 1.5 -2.4-2.4 1.4-2c-0.4-0.7-0.7-1.4-0.9-2.1L31 19.2zM41.5 21c1.9 0 3.5-1.6 3.5-3.5 0-1.9-1.6-3.5-3.5-3.5 -1.9 0-3.5 1.6-3.5 3.5C38 19.4 39.6 21 41.5 21z"/><path d="M38 30H1V6h36V5H0v26h38V30L38 30z"/><path d="M9.4 21.1c-0.3 0.3-0.7 0.4-1.2 0.4 -0.5 0-0.9-0.2-1.2-0.5s-0.4-0.8-0.4-1.4H5c0 0.9 0.2 1.7 0.7 2.2 0.5 0.6 1.2 0.9 2 1v1.3h1.1v-1.4c0.8-0.1 1.5-0.4 1.9-0.9 0.5-0.5 0.7-1.1 0.7-1.9 0-0.4-0.1-0.8-0.2-1.1 -0.1-0.3-0.3-0.6-0.5-0.8 -0.2-0.2-0.5-0.4-0.8-0.6 -0.3-0.2-0.8-0.4-1.4-0.6 -0.6-0.2-1-0.4-1.2-0.7s-0.4-0.6-0.4-1c0-0.4 0.1-0.8 0.4-1 0.2-0.2 0.6-0.4 1-0.4 0.4 0 0.8 0.2 1 0.5 0.3 0.3 0.4 0.8 0.4 1.4h1.6c0-0.9-0.2-1.6-0.6-2.2 -0.4-0.6-1-0.9-1.8-1v-1.5H7.9v1.5C7.1 12.6 6.5 12.9 6 13.4s-0.7 1.1-0.7 1.9c0 1.1 0.5 2 1.6 2.6 0.3 0.2 0.8 0.4 1.3 0.6 0.6 0.2 1 0.4 1.2 0.7s0.4 0.6 0.4 1C9.8 20.5 9.7 20.8 9.4 21.1z"/><path d="M16.3 12.6h-0.2l-3.8 1.5v1.4l2.4-0.8v8.1h1.6V12.6z"/><path d="M19.9 23.8c0.2-0.5 0.4-1 0.4-1.5l0-1.2h-1.5v1.3c0 0.3-0.1 0.6-0.2 1 -0.1 0.3-0.3 0.7-0.5 1.1l0.9 0.5C19.3 24.7 19.6 24.3 19.9 23.8z"/><path d="M27 16.7c0-1.4-0.3-2.5-0.8-3.2s-1.3-1.1-2.4-1.1c-1.1 0-1.9 0.4-2.4 1.1 -0.5 0.7-0.8 1.8-0.8 3.3v1.8c0 1.4 0.3 2.5 0.8 3.2s1.3 1.1 2.4 1.1c1.1 0 1.9-0.4 2.4-1.1 0.5-0.7 0.8-1.8 0.8-3.3V16.7zM25.4 18.9c0 0.9-0.1 1.6-0.4 2 -0.2 0.4-0.6 0.6-1.2 0.6 -0.5 0-0.9-0.2-1.2-0.7 -0.3-0.5-0.4-1.2-0.4-2.1v-2.3c0-0.9 0.1-1.5 0.4-2 0.3-0.4 0.6-0.6 1.2-0.6 0.5 0 0.9 0.2 1.2 0.7 0.3 0.4 0.4 1.1 0.4 2.1V18.9z"/></svg>',format_conditional:'<svg xmlns="http://www.w3.org/2000/svg" width="52" height="36" viewBox="0 0 52 36"><polygon points="38 5 0 5 0 31 26 31 26 30 1 30 1 6 37 6 37 10 38 10 "/><path d="M9 13H8.6L5 14.4v1.4l2-0.8V23h2V13z"/><path d="M17 22h-4l2.4-2.9c0.6-0.7 1-1.3 1.3-1.8 0.3-0.5 0.4-1.1 0.4-1.5 0-0.8-0.3-1.5-0.8-2 -0.5-0.5-1.2-0.7-2.2-0.7 -0.6 0-1.2 0.1-1.7 0.4s-0.9 0.6-1.1 1C11.1 14.9 11 16 11 16h1.6c0 0 0.1-0.9 0.4-1.3s0.7-0.4 1.2-0.4c0.4 0 0.8 0.2 1 0.5 0.3 0.3 0.4 0.7 0.4 1.1 0 0.4-0.1 0.7-0.3 1.1 -0.2 0.4-0.6 0.8-1.1 1.3L11 21.9V23h6V22z"/><path d="M21 19h0.8c0.6 0 1-0.1 1.3 0.2 0.3 0.3 0.4 0.6 0.4 1.1 0 0.5-0.1 0.8-0.4 1.1 -0.3 0.3-0.6 0.4-1.1 0.4 -0.5 0-0.8-0.3-1.1-0.5C20.6 20.9 20.5 21 20.5 20h-1.5c0 1 0.3 1.6 0.8 2.1s1.3 0.8 2.1 0.8c0.9 0 1.6-0.2 2.2-0.7 0.6-0.5 0.8-1.2 0.8-2.1 0-0.5-0.1-1-0.4-1.4 -0.3-0.4-0.6-0.7-1.1-0.9 0.4-0.2 0.7-0.5 1-0.9 0.3-0.4 0.4-0.8 0.4-1.2 0-0.9-0.3-1.5-0.8-2 -0.5-0.5-1.2-0.7-2.1-0.7 -0.5 0-1 0.1-1.5 0.3 -0.4 0.2-0.8 0.7-1 1.1S19.1 15 19.1 16h1.5c0-1 0.1-0.9 0.4-1.1 0.3-0.3 0.6-0.5 1-0.5 0.5 0 0.8 0.1 1 0.3s0.3 0.6 0.3 1.1c0 0.5-0.1 0.7-0.4 1C22.7 17 22.3 17 21.9 17H21V19z"/><path d="M47.8 7C50.1 7 52 8.9 52 11.2c0 1-0.3 1.8-0.8 2.5l-1.7 1.7L43.6 9.5l1.7-1.7C46 7.3 46.8 7 47.8 7zM30.7 22.4L29 30l7.6-1.7 11.6-11.6 -5.9-5.9L30.7 22.4zM42 17.9l-5.1 5.1 -0.9-0.9 5.1-5L42 17.9z"/></svg>',options:'<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="-17.5 774.5 36 36"><title>menu_options</title><path fill="#555" d="M11.363 789.058l-.76-1.838a33.692 33.692 0 0 0 1.601-4.223l-2.327-2.328a31.444 31.444 0 0 0-4.142 1.691l-1.829-.76a32.88 32.88 0 0 0-1.83-4.101h-3.291a32.106 32.106 0 0 0-1.731 4.133l-1.83.76a33.556 33.556 0 0 0-4.206-1.609l-2.328 2.32a31.563 31.563 0 0 0 1.69 4.141l-.759 1.838a34.366 34.366 0 0 0-4.117 1.838v3.3a32.519 32.519 0 0 0 4.117 1.731l.759 1.829a33.633 33.633 0 0 0-1.608 4.223l2.327 2.328a32.986 32.986 0 0 0 4.133-1.699l1.83.76a31.481 31.481 0 0 0 1.862 4.108h3.291a32.194 32.194 0 0 0 1.732-4.133l1.837-.76a33.57 33.57 0 0 0 4.207 1.609l2.327-2.328a31.481 31.481 0 0 0-1.69-4.141l.76-1.838a32.532 32.532 0 0 0 4.108-1.829v-3.3a30.142 30.142 0 0 0-4.133-1.722zM.5 799.202a6.706 6.706 0 1 1 6.706-6.706A6.71 6.71 0 0 1 .5 799.202z"/></svg>',fields:'<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="-17.5 774.5 36 36"><title>menu_fields</title><g fill="#555"><path d="M11.351 787.279c1.112.367 2.027 1.221 2.55 2.221H13.5v-10.627c0-.744-.089-1.357-.825-1.373h-26.339c-.736.008-.836.612-.836 1.349v21.656c0 .735.093.995.836.995h10.836c-.008 0 .205-1.314.629-2.025-.073-.098-.123.025-.18.025H-12.5v-6h10.563l.83-1.699c.4-.76 1.606-1.258 1.606-1.667V785.5h10.843l.009 1.779zM-1.5 791.5h-11v-6h11v6z"/><path d="M15.805 801.444l-1.602-1.308c0-.237.082-.49.082-.817a2.483 2.483 0 0 0-.082-.817l1.602-1.389a.399.399 0 0 0 .082-.49l-1.528-2.86a.364.364 0 0 0-.278-.123.678.678 0 0 0-.18 0l-1.912.866a6.95 6.95 0 0 0-1.299-.817l-.311-1.989c-.017-.195-.188-.199-.384-.199H6.93c-.147 0-.384.037-.384.199l-.311 2.053c-.458.229-.899.468-1.299.786l-1.912-.834c-.041-.008-.09-.016-.131-.008a.356.356 0 0 0-.319.192l-1.528 2.817c-.082.164-.082.408.082.489l1.749 1.308c0 .237-.082.489-.082.816a2.48 2.48 0 0 0 .082.817l-1.602 1.356a.399.399 0 0 0-.082.49l1.528 2.86a.364.364 0 0 0 .278.123.678.678 0 0 0 .18 0l1.912-.817c.4.318.842.597 1.299.817l.311 2.116a.322.322 0 0 0 .221.4c.033.008.065.017.09.017h3.065c.147 0 .384-.164.384-.327l.311-2.215c.466-.212.907-.49 1.299-.817l1.831.817a.441.441 0 0 0 .54-.163l1.528-2.86c.056-.08-.018-.326-.165-.489zm-7.306.744a2.865 2.865 0 0 1-3.064-2.664c-.114-1.585 1.079-2.95 2.664-3.064a2.867 2.867 0 0 1 3.072 2.868 2.804 2.804 0 0 1-2.672 2.86z"/></g></svg>',fullscreen:'<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="-17.5 774.5 36 36"><title>menu_fullscreen_open</title><g fill="#555"><path d="M-7.5 779.976V777.5h-7v7h3v-2.752l3.758 4.067 1.74-1.846-4.342-4.003 2.844.01zM-7.742 799.096l-3.758 4.101V800.5h-3v7h7v-2h-2.618l-.049-.371 4.124-4.054-1.699-1.979zM8.746 785.913l3.754-4.092v2.679h3v-7h-7v2h2.602l.082.381-4.126 4.041 1.688 1.991zM13.5 800.5v2.598l-.382.074-4.058-4.003-1.882 1.575 4.006 3.756H8.5v3h7v-7h-2zM-4 786.5h9c1.104 0 2.5.908 2.5 2.011v7.996c0 1.103-1.396 1.993-2.5 1.993h-9c-1.104 0-2.5-.891-2.5-1.993v-8.005c0-1.103 1.396-2.002 2.5-2.002z"/></g></svg>'},WebDataRocksToolbar.prototype.connectLocalCSVHandler=function(){this.pivot.connectTo({dataSourceType:"csv",browseForFile:!0})},WebDataRocksToolbar.prototype.connectLocalJSONHandler=function(){this.pivot.connectTo({dataSourceType:"json",browseForFile:!0})},WebDataRocksToolbar.prototype.connectRemoteCSV=function(){this.showConnectToRemoteCSVDialog()},WebDataRocksToolbar.prototype.connectRemoteJSON=function(){this.showConnectToRemoteJSONDialog()},WebDataRocksToolbar.prototype.openLocalReport=function(){this.pivot.open()},WebDataRocksToolbar.prototype.openRemoteReport=function(){this.showOpenRemoteReportDialog()},WebDataRocksToolbar.prototype.saveHandler=function(){this.pivot.save("report.json","file")},WebDataRocksToolbar.prototype.formatCellsHandler=function(){this.showFormatCellsDialog()},WebDataRocksToolbar.prototype.conditionalFormattingHandler=function(){this.showConditionalFormattingDialog()},WebDataRocksToolbar.prototype.optionsHandler=function(){this.showOptionsDialog()},WebDataRocksToolbar.prototype.fieldsHandler=function(){this.pivot.openFieldsList()},WebDataRocksToolbar.prototype.printHandler=function(){this.pivot.print()},WebDataRocksToolbar.prototype.exportHandler=function(e){"pdf"==e?this.showExportPdfDialog():this.pivot.exportTo(e)},WebDataRocksToolbar.prototype.fullscreenHandler=function(){this.toggleFullscreen()},WebDataRocksToolbar.prototype.defaults={},WebDataRocksToolbar.prototype.showConnectToRemoteCSVDialog=function(){var e=this,t=this.Labels,n=this.popupManager.createPopup();n.content.classList.add("wdr-popup-w500"),n.setTitle(t.open_remote_csv),n.setToolbar([{id:"wdr-btn-open",label:t.open,handler:function(){0<i.value.length&&e.pivot.connectTo({filename:i.value,dataSourceType:"csv"})},isPositive:!0},{id:"wdr-btn-cancel",label:t.cancel}]),t=document.createElement("div");var i=document.createElement("input");i.id="wdr-inp-file-url",i.type="text",i.value="https://cdn.webdatarocks.com/data/data.csv",t.appendChild(i),n.setContent(t),this.popupManager.addPopup(n.content)},WebDataRocksToolbar.prototype.showConnectToRemoteJSONDialog=function(){var e=this,t=this.Labels,n=this.popupManager.createPopup();n.content.classList.add("wdr-popup-w500"),n.setTitle(t.open_remote_json),n.setToolbar([{id:"wdr-btn-open",label:t.open,handler:function(){0<i.value.length&&e.pivot.connectTo({filename:i.value,dataSourceType:"json"})},isPositive:!0},{id:"wdr-btn-cancel",label:t.cancel}]),t=document.createElement("div");var i=document.createElement("input");i.id="wdr-inp-file-url",i.type="text",i.value="https://cdn.webdatarocks.com/data/data.json",t.appendChild(i),n.setContent(t),this.popupManager.addPopup(n.content)},WebDataRocksToolbar.prototype.showOpenRemoteReportDialog=function(){var e=this,t=this.Labels,n=this.popupManager.createPopup();n.content.classList.add("wdr-popup-w500"),n.setTitle(t.open_remote_report),n.setToolbar([{id:"wdr-btn-open",label:t.open,handler:function(){0<i.value.length&&e.pivot.load(i.value)},isPositive:!0},{id:"wdr-btn-cancel",label:t.cancel}]),t=document.createElement("div");var i=document.createElement("input");i.type="text";var r=e.pivot.getOptions()||{};i.value=r.grid&&"flat"==r.grid.type?"https://cdn.webdatarocks.com/reports/report-flat.json":"https://cdn.webdatarocks.com/reports/report.json",t.appendChild(i),n.setContent(t),this.popupManager.addPopup(n.content)},WebDataRocksToolbar.prototype.showFormatCellsDialog=function(){var e=this,t=this.Labels,n=function(){l.disabled=c.disabled=u.disabled=d.disabled=p.disabled=f.disabled=A.disabled=m.disabled="empty"==a.value;var t=e.pivot.getFormat(a.value);l.value="left"==t.textAlign||"right"==t.textAlign?t.textAlign:"right",c.value=t.thousandsSeparator,u.value=t.decimalSeparator,d.value=t.decimalPlaces,p.value=t.currencySymbol,f.value=t.currencySymbolAlign,A.value=t.nullValue,m.value=1==t.isPercent},i=this.popupManager.createPopup();i.content.id="wdr-popup-format-cells",i.setTitle(this.osUtils.isMobile?t.format:t.format_cells),i.setToolbar([{id:"wdr-btn-apply",label:t.apply,handler:function(){var t={};""==a.value&&(t.name=""),t.textAlign=l.value,t.thousandsSeparator=c.value,t.decimalSeparator=u.value,t.decimalPlaces=d.value,t.currencySymbol=p.value,t.currencySymbolAlign=f.value,t.nullValue=A.value,t.isPercent="true"==m.value,e.pivot.setFormat(t,""==a.value?null:a.value),e.pivot.refresh()},isPositive:!0},{id:"wdr-btn-cancel",label:t.cancel}],!0);var r=document.createElement("div"),o=document.createElement("div");o.classList.add("wdr-inp-group"),r.appendChild(o);var s=document.createElement("div");s.classList.add("wdr-inp-row"),s.classList.add("wdr-ir-horizontal"),o.appendChild(s),(h=document.createElement("label")).classList.add("wdr-uc"),e.setText(h,t.choose_value),s.appendChild(h);var a=(g=e.createSelect()).select;a.onchange=n,a.options[0]=new Option(t.choose_value,"empty"),a.options[0].disabled=!0,a.options[1]=new Option(t.all_values,""),s.appendChild(g),(s=document.createElement("div")).classList.add("wdr-inp-row"),s.classList.add("wdr-ir-horizontal"),o.appendChild(s),(o=document.createElement("div")).classList.add("wdr-inp-group"),r.appendChild(o),(s=document.createElement("div")).classList.add("wdr-inp-row"),s.classList.add("wdr-ir-horizontal"),o.appendChild(s),h=document.createElement("label"),e.setText(h,t.text_align),s.appendChild(h);var l=(g=e.createSelect()).select;l.options[0]=new Option(t.align_left,"left"),l.options[1]=new Option(t.align_right,"right"),s.appendChild(g),(s=document.createElement("div")).classList.add("wdr-inp-row"),s.classList.add("wdr-ir-horizontal"),o.appendChild(s),h=document.createElement("label"),e.setText(h,t.thousand_separator),s.appendChild(h);var c=(g=e.createSelect()).select;c.options[0]=new Option(t.none,""),c.options[1]=new Option(t.space," "),c.options[2]=new Option(",",","),c.options[3]=new Option(".","."),s.appendChild(g),(s=document.createElement("div")).classList.add("wdr-inp-row"),s.classList.add("wdr-ir-horizontal"),o.appendChild(s),h=document.createElement("label"),e.setText(h,t.decimal_separator),s.appendChild(h);var u=(g=e.createSelect()).select;u.options[0]=new Option(".","."),u.options[1]=new Option(",",","),s.appendChild(g),(s=document.createElement("div")).classList.add("wdr-inp-row"),s.classList.add("wdr-ir-horizontal"),o.appendChild(s),h=document.createElement("label"),e.setText(h,t.decimal_places),s.appendChild(h);for(var d=(g=e.createSelect()).select,h=0;11>h;h++)d.options[h]=new Option(0===h?t.none:h-1,h-1);s.appendChild(g),(s=document.createElement("div")).classList.add("wdr-inp-row"),s.classList.add("wdr-ir-horizontal"),o.appendChild(s),h=document.createElement("label"),e.setText(h,t.currency_symbol),s.appendChild(h);var p=document.createElement("input");p.classList.add("wdr-inp"),p.type="text",s.appendChild(p),(s=document.createElement("div")).classList.add("wdr-inp-row"),s.classList.add("wdr-ir-horizontal"),o.appendChild(s),h=document.createElement("label"),e.setText(h,t.currency_align),s.appendChild(h);var f=(g=e.createSelect()).select;f.options[0]=new Option(t.align_left,"left"),f.options[1]=new Option(t.align_right,"right"),s.appendChild(g),(s=document.createElement("div")).classList.add("wdr-inp-row"),s.classList.add("wdr-ir-horizontal"),o.appendChild(s),h=document.createElement("label"),e.setText(h,t.null_value),s.appendChild(h);var A=document.createElement("input");A.classList.add("wdr-inp"),A.type="text",s.appendChild(A),(s=document.createElement("div")).classList.add("wdr-inp-row"),s.classList.add("wdr-ir-horizontal"),o.appendChild(s),h=document.createElement("label"),e.setText(h,t.is_percent),s.appendChild(h);var g,m=(g=e.createSelect()).select;for(m.options[0]=new Option(t.true_value,!0),m.options[1]=new Option(t.false_value,!1),s.appendChild(g),i.setContent(r),this.popupManager.addPopup(i.content),t=e.pivot.getMeasures(),h=0;h<t.length;h++)a.options[h+2]=new Option(t[h].caption,t[h].uniqueName);n()},WebDataRocksToolbar.prototype.showConditionalFormattingDialog=function(){var e=this,t=this.Labels,n=this.pivot.getAllConditions(),i=function(e){for(var t=e.match(/\W\d+\.*\d*/g),n=[],i=!1,r="",o=0;o<e.length;o++)'"'==e[o]||"'"==e[o]?(i?n.push(r):r="",i=!i):i&&(r+=e[o]);return e=e.match(/<=|>=|<|>|=|=|!=|isNaN/g),null==t&&null==n?{}:{value1:null!=t?t[0].replace(/\s/,""):n[0],value2:null!=t&&1<t.length?t[1].replace(/\s/,""):"",sign:e?e.join(""):""}},r=this.popupManager.createPopup();r.content.id="wdr-popup-conditional",r.setTitle(this.osUtils.isMobile?t.conditional:t.conditional_formatting),r.setToolbar([{id:"wdr-btn-apply",label:t.apply,handler:function(){e.pivot.removeAllConditions();for(var t=0;t<n.length;t++){var i,r=n[t].value1,o=n[t].value2,s="",a=null==o||0==o.length,l="><"===(i=n[t].sign),c="isNaN"===i;if((null==r||0==r.length)&&!c||l&&a||(l&&!a?s="AND(#value > "+r+", #value < "+o+")":c?s="isNaN(#value)":(isNaN(parseFloat(r))&&(r="'"+r+"'"),s="#value "+i+" "+r)),null==(i=s))return;n[t].formula=i,e.pivot.addCondition(n[t])}e.pivot.refresh()},isPositive:!0},{id:"wdr-btn-cancel",label:t.cancel}],!0);var o=document.createElement("a");o.id="wdr-add-btn",o.setAttribute("href","javascript:void(0)"),o.classList.add("wdr-ui-btn"),o.classList.add("wdr-ui-btn-light"),o.classList.add("wdr-button-add"),o.onclick=function(){var t={sign:"<",value1:"0",measures:e.pivot.getMeasures(),format:{fontFamily:"Arial",fontSize:"12px",color:"#000000",backgroundColor:"#FFFFFF"}};n.push(t),s.appendChild(e.createConditionalFormattingItem(t,n)),e.popupManager.centerPopup(r.content)},o.setAttribute("title",t.add_condition),(t=document.createElement("span")).classList.add("wdr-icon"),t.classList.add("wdr-icon-act_add"),o.appendChild(t),r.toolbar.insertBefore(o,r.toolbar.firstChild);var s=document.createElement("div");for(s.classList.add("wdr-popup-content"),s.onclick=function(t){t.target.classList.contains("wdr-cr-delete")&&e.popupManager.centerPopup(r.content)},o=0;o<n.length;o++)t=i(n[o].formula),n[o].value1=t.value1,n[o].value2=t.value2,n[o].sign=t.sign,n[o].measures=e.pivot.getMeasures(),s.appendChild(e.createConditionalFormattingItem(n[o],n));r.setContent(s),this.popupManager.addPopup(r.content)},WebDataRocksToolbar.prototype.defaults.fontSizes="8px 9px 10px 11px 12px 13px 14px".split(" "),WebDataRocksToolbar.prototype.defaults.fonts="Arial;Lucida Sans Unicode;Verdana;Courier New;Palatino Linotype;Tahoma;Impact;Trebuchet MS;Georgia;Times New Roman".split(";"),WebDataRocksToolbar.prototype.defaults.conditions=[{label:"less_than",sign:"<"},{label:"less_than_or_equal",sign:"<="},{label:"greater_than",sign:">"},{label:"greater_than_or_equal",sign:">="},{label:"equal_to",sign:"="},{label:"not_equal_to",sign:"!="},{label:"between",sign:"><"},{label:"is_empty",sign:"isNaN"}],WebDataRocksToolbar.prototype.createConditionalFormattingItem=function(e,t){var n=this,i=this.Labels,r=function(){"sign"in e&&"><"===e.sign?(h.classList.remove("wdr-width120"),h.classList.add("wdr-width50"),h.style.display="inline-block",f.value="value2"in e?e.value2:"0",f.style.display="inline-block",p.style.display="inline-block"):("sign"in e&&"isNaN"===e.sign?h.style.display="none":(h.classList.add("wdr-width120"),h.classList.remove("wdr-width50"),h.style.display="inline-block"),f.style.display="none",p.style.display="none")},o=function(){var t=e.format;null!=t&&(y.style.backgroundColor=t.backgroundColor||"#fff",y.style.color=t.color||"#000",y.style.fontFamily=t.fontFamily||"Arial",y.style.fontSize=t.fontSize||"12px")},s=document.createElement("div");s.classList.add("wdr-condition-row");var a=document.createElement("div");a.classList.add("wdr-wrap-relative"),s.appendChild(a);var l=document.createElement("span");l.classList.add("wdr-cr-delete"),l.classList.add("wdr-icon"),l.classList.add("wdr-icon-act_trash"),l.onclick=function(){var n=t.indexOf(e);-1<n&&t.splice(n,1),s.parentNode.removeChild(s)},a.appendChild(l),(l=document.createElement("div")).classList.add("wdr-cr-inner"),a.appendChild(l);var c=document.createElement("div");c.classList.add("wdr-cr-lbl"),c.classList.add("wdr-width50"),n.setText(c,i.value+":"),l.appendChild(c),(c=n.createSelect()).id="wdr-values";var u=c.select;"measures"in e?(function(e,t){u[0]=new Option(i.all_values,"");for(var r=(r=n.pivot.getOptions()||{}).grid&&"flat"==r.grid.type,o=0;o<e.length;o++)r&&7==e[o].type||(u[u.options.length]=new Option(e[o].caption,e[o].uniqueName));null!=t?u.value=t:u.selectedIndex=0}(e.measures,e.measure),u.disabled=0===e.measures.length):u.disabled=!0,u.onchange=function(){e.measure=u.value},l.appendChild(c),(c=n.createSelect()).id="wdr-conditions";var d=c.select;!function(e){for(var t=0;t<n.defaults.conditions.length;t++)d[t]=new Option(i[n.defaults.conditions[t].label],n.defaults.conditions[t].sign);null!=e?d.value=e:d.selectedIndex=0}("sign"in e?e.sign:null),d.onchange=function(){e.sign=d.value,"sign"in e&&"><"===e.sign?e.value2=0:("sign"in e&&"isNaN"===e.sign&&delete e.value1,delete e.value2),r()},l.appendChild(c);var h=document.createElement("input");h.classList.add("wdr-number-inp"),h.classList.add("wdr-width50"),h.type="number",h.value="value1"in e?e.value1:"0",h.onchange=function(){e.value1=0==h.value.length?"0":h.value},l.appendChild(h);var p=document.createElement("span");p.id="wdr-and-label",p.classList.add("wdr-width20"),n.setText(p,i.and_symbole),l.appendChild(p);var f=document.createElement("input");f.classList.add("wdr-number-inp"),f.classList.add("wdr-width50"),f.type="number",f.value="value2"in e?e.value2:"0",f.onchange=function(){e.value2=0==f.value.length?"0":f.value},l.appendChild(f),r(),(l=document.createElement("div")).classList.add("wdr-cr-inner"),a.appendChild(l),(c=document.createElement("div")).classList.add("wdr-cr-lbl"),c.classList.add("wdr-width50"),n.setText(c,i.format+":"),l.appendChild(c),(c=n.createSelect()).id="wdr-font-family";var A=c.select;!function(e){for(var t=0;t<n.defaults.fonts.length;t++)A[t]=new Option(n.defaults.fonts[t],n.defaults.fonts[t]);A.value=null==e?"Arial":e}(e.hasOwnProperty("format")&&e.format.hasOwnProperty("fontFamily")?e.format.fontFamily:null),A.onchange=function(){null!=e.format&&(e.format.fontFamily=A.value,o())},l.appendChild(c),(c=n.createSelect()).id="wdr-font-size";var g=c.select;!function(e){for(var t=0;t<n.defaults.fontSizes.length;t++)g[t]=new Option(n.defaults.fontSizes[t],n.defaults.fontSizes[t]);g.value=null==e?"12px":e}(e.hasOwnProperty("format")&&e.format.hasOwnProperty("fontSize")?e.format.fontSize:null),g.onchange=function(){null!=e.format&&(e.format.fontSize=g.value,o())},l.appendChild(c);var m=new WebDataRocksToolbar.ColorPicker(this,s);m.setColor(e.hasOwnProperty("format")&&e.format.hasOwnProperty("backgroundColor")?e.format.backgroundColor:"0xFFFFFF","bg"),m.setColor(e.hasOwnProperty("format")&&e.format.hasOwnProperty("color")?e.format.color:"0x000000","font"),m.changeHandler=function(){null!=e.format&&(y.style.color=m.fontColor||"#000",y.style.backgroundColor=m.backgroundColor||"#fff")},m.applyHandler=function(){null!=e.format&&(e.format.color=m.fontColor,e.format.backgroundColor=m.backgroundColor,o())},m.cancelHandler=function(){null!=e.format&&(m.setColor(e.format.hasOwnProperty("backgroundColor")?e.format.backgroundColor:"0xFFFFFF","bg"),m.setColor(e.format.hasOwnProperty("color")?e.format.color:"0x000000","font")),o()},l.appendChild(m.element);var y=document.createElement("input");return y.id="wdr-sample",y.classList.add("wdr-inp"),y.type="number",y.value="73.93",y.style.pointerEvents="none",l.appendChild(y),o(),s},WebDataRocksToolbar.prototype.showOptionsDialog=function(){var e=this,t=this.Labels,n=this.popupManager.createPopup();n.content.id="wdr-popup-options",n.setTitle(this.osUtils.isMobile?t.options:t.layout_options),n.setToolbar([{id:"wdr-btn-apply",label:t.apply,handler:function(){var t,n;c.checked?t="off":d.checked?t="on":h.checked?t="rows":p.checked&&(t="columns"),y.checked?n="off":v.checked?n="on":w.checked?n="rows":b.checked&&(n="columns");var i="compact";g&&g.checked?i="classic":m&&m.checked&&(i="flat"),e.pivot.getOptions(),e.pivot.setOptions({grid:{showGrandTotals:t,showTotals:n,type:i}}),e.pivot.refresh()},isPositive:!0},{id:"wdr-btn-cancel",label:t.cancel}],!0);var i=document.createElement("div");i.classList.add("wdr-popup-content");var r=document.createElement("div");r.classList.add("wdr-ui-row"),i.appendChild(r);var o=document.createElement("div");o.classList.add("wdr-ui-col-2"),r.appendChild(o),(f=document.createElement("div")).classList.add("wdr-title-2"),e.setText(f,t.grand_totals),o.appendChild(f);var s="wdr-grand-totals-"+Date.now();(f=document.createElement("ul")).classList.add("wdr-radiobtn-list"),o.appendChild(f);var a=document.createElement("li"),l=document.createElement("div");l.classList.add("wdr-radio-wrap");var c=document.createElement("input");c.type="radio",c.name=s,c.id="wdr-gt-1",c.value="off",l.appendChild(c);var u=document.createElement("label");u.setAttribute("for","wdr-gt-1"),e.setText(u,t.grand_totals_off),l.appendChild(u),a.appendChild(l),f.appendChild(a),a=document.createElement("li"),(l=document.createElement("div")).classList.add("wdr-radio-wrap");var d=document.createElement("input");d.type="radio",d.name=s,d.id="wdr-gt-2",d.value="on",l.appendChild(d),(u=document.createElement("label")).setAttribute("for","wdr-gt-2"),e.setText(u,t.grand_totals_on),l.appendChild(u),a.appendChild(l),f.appendChild(a),a=document.createElement("li"),(l=document.createElement("div")).classList.add("wdr-radio-wrap");var h=document.createElement("input");h.type="radio",h.name=s,h.id="wdr-gt-3",h.value="rows",l.appendChild(h),(u=document.createElement("label")).setAttribute("for","wdr-gt-3"),e.setText(u,t.grand_totals_on_rows),l.appendChild(u),a.appendChild(l),f.appendChild(a),a=document.createElement("li"),(l=document.createElement("div")).classList.add("wdr-radio-wrap");var p=document.createElement("input");p.type="radio",p.name=s,p.id="wdr-gt-4",p.value="rows",l.appendChild(p),(u=document.createElement("label")).setAttribute("for","wdr-gt-4"),e.setText(u,t.grand_totals_on_columns),l.appendChild(u),a.appendChild(l),f.appendChild(a),(f=document.createElement("div")).classList.add("wdr-title-2"),e.setText(f,t.layout),o.appendChild(f);var f,A="wdr-layout-"+Date.now();(f=document.createElement("ul")).classList.add("wdr-radiobtn-list"),o.appendChild(f),a=document.createElement("li"),(l=document.createElement("div")).classList.add("wdr-radio-wrap"),(s=document.createElement("input")).type="radio",s.name=A,s.id="wdr-lt-1",s.value="compact",l.appendChild(s),(u=document.createElement("label")).setAttribute("for","wdr-lt-1"),e.setText(u,t.compact_view),l.appendChild(u),a.appendChild(l),f.appendChild(a),a=document.createElement("li"),(l=document.createElement("div")).classList.add("wdr-radio-wrap");var g=document.createElement("input");g.type="radio",g.name=A,g.id="wdr-lt-2",g.value="classic",l.appendChild(g),(u=document.createElement("label")).setAttribute("for","wdr-lt-2"),e.setText(u,t.classic_view),l.appendChild(u),a.appendChild(l),f.appendChild(a),o=e.pivot.getReport({withDefaults:!0,withGlobals:!0}),a=document.createElement("li"),(l=document.createElement("div")).classList.add("wdr-radio-wrap");var m=document.createElement("input");m.type="radio",m.name=A,m.id="wdr-lt-3",m.value="flat",l.appendChild(m),(u=document.createElement("label")).setAttribute("for","wdr-lt-3"),e.setText(u,t.flat_view),l.appendChild(u),a.appendChild(l),f.appendChild(a),(o=document.createElement("div")).classList.add("wdr-ui-col-2"),r.appendChild(o),(f=document.createElement("div")).classList.add("wdr-title-2"),e.setText(f,t.subtotals),o.appendChild(f),r="wdr-subtotals-"+Date.now(),(f=document.createElement("ul")).classList.add("wdr-radiobtn-list"),o.appendChild(f),a=document.createElement("li"),(l=document.createElement("div")).classList.add("wdr-radio-wrap");var y=document.createElement("input");y.type="radio",y.name=r,y.id="wdr-st-1",y.value="off",l.appendChild(y),(u=document.createElement("label")).setAttribute("for","wdr-st-1"),e.setText(u,t.subtotals_off),l.appendChild(u),a.appendChild(l),f.appendChild(a),a=document.createElement("li"),(l=document.createElement("div")).classList.add("wdr-radio-wrap");var v=document.createElement("input");v.type="radio",v.name=r,v.id="wdr-st-2",v.value="on",l.appendChild(v),(u=document.createElement("label")).setAttribute("for","wdr-st-2"),e.setText(u,t.subtotals_on),l.appendChild(u),a.appendChild(l),f.appendChild(a),a=document.createElement("li"),(l=document.createElement("div")).classList.add("wdr-radio-wrap");var w=document.createElement("input");w.type="radio",w.name=r,w.id="wdr-st-3",w.value="rows",l.appendChild(w),(u=document.createElement("label")).setAttribute("for","wdr-st-3"),e.setText(u,t.subtotals_on_rows),l.appendChild(u),a.appendChild(l),f.appendChild(a),a=document.createElement("li"),(l=document.createElement("div")).classList.add("wdr-radio-wrap");var b=document.createElement("input");b.type="radio",b.name=r,b.id="wdr-st-4",b.value="columns",l.appendChild(b),(u=document.createElement("label")).setAttribute("for","wdr-st-4"),e.setText(u,t.subtotals_on_columns),l.appendChild(u),a.appendChild(l),f.appendChild(a),n.setContent(i),this.popupManager.addPopup(n.content),"off"==(t=(o=e.pivot.getOptions()||{}).grid||{}).showGrandTotals||0==t.showGrandTotals?c.checked=!0:"on"==t.showGrandTotals||1==t.showGrandTotals?d.checked=!0:"rows"==t.showGrandTotals?h.checked=!0:"columns"==t.showGrandTotals&&(p.checked=!0),"off"==t.showTotals?y.checked=!0:"on"==t.showTotals?v.checked=!0:"rows"==t.showTotals?w.checked=!0:"columns"==t.showTotals&&(b.checked=!0),"flat"==t.type&&m?m.checked=!0:"classic"==t.type&&g?g.checked=!0:s&&(s.checked=!0)},WebDataRocksToolbar.prototype.showExportPdfDialog=function(){var e=this,t=this.Labels,n=this.popupManager.createPopup();n.setTitle(t.choose_page_orientation),n.setToolbar([{id:"wdr-btn-apply",label:t.apply,handler:function(){var t="portrait";a.checked&&(t="landscape"),e.pivot.exportTo("pdf",{pageOrientation:t})},isPositive:!0},{id:"wdr-btn-cancel",label:t.cancel}]);var i=document.createElement("div"),r=document.createElement("ul");r.classList.add("wdr-radiobtn-list"),i.appendChild(r);var o=document.createElement("li");r.appendChild(o);var s=document.createElement("div");s.classList.add("wdr-radio-wrap"),o.appendChild(s),(o=document.createElement("input")).id="wdr-portrait-radio",o.type="radio",o.name="wdr-pdf-orientation",o.checked=!0,s.appendChild(o),(o=document.createElement("label")).setAttribute("for","wdr-portrait-radio"),e.setText(o,t.portrait),s.appendChild(o),o=document.createElement("li"),r.appendChild(o),(s=document.createElement("div")).classList.add("wdr-radio-wrap"),o.appendChild(s);var a=document.createElement("input");a.id="wdr-landscape-radio",a.type="radio",a.name="wdr-pdf-orientation",s.appendChild(a),(o=document.createElement("label")).setAttribute("for","wdr-landscape-radio"),e.setText(o,t.landscape),s.appendChild(o),n.setContent(i),this.popupManager.addPopup(n.content)},WebDataRocksToolbar.prototype.toggleFullscreen=function(){this.isFullscreen()?this.exitFullscreen():this.enterFullscreen(this.container)},WebDataRocksToolbar.prototype.isFullscreen=function(){return document.fullScreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement},WebDataRocksToolbar.prototype.enterFullscreen=function(e){if(e.requestFullscreen||e.webkitRequestFullScreen||e.mozRequestFullScreen||e.msRequestFullscreen&&window==top){if(this.containerStyle={width:this.container.style.width,height:this.container.style.height,position:this.container.style.position,top:this.container.style.top,bottom:this.container.style.bottom,left:this.container.style.left,right:this.container.style.right,marginTop:this.container.style.marginTop,marginLeft:this.container.style.left,toolbarWidth:this.toolbarWrapper.style.width},this.container.style.width="100%",this.container.style.height="100%",this.container.style.position="fixed",this.container.style.top="0px",this.container.style.left="0px",this.toolbarWrapper.style.width="100%",e.requestFullscreen)e.requestFullscreen();else if(e.webkitRequestFullScreen){var t=navigator.userAgent;-1<t.indexOf("Safari")&&-1==t.indexOf("Chrome")?e.webkitRequestFullScreen():e.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}else e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen&&(window==top?e.msRequestFullscreen():alert("Fullscreen mode in IE 11 is not currently supported while Pivot embeded in iframe."));e.addEventListener("fullscreenchange",(function(){window.screenTop||window.screenY||this.isFullscreen()||this.exitFullscreen()}).bind(this),!1),e.addEventListener("webkitfullscreenchange",(function(){window.screenTop||window.screenY||this.isFullscreen()||this.exitFullscreen()}).bind(this),!1),e.addEventListener("mozfullscreenchange",(function(){window.fullScreen||window.innerWidth==screen.width&&window.innerHeight==screen.height||this.exitFullscreen()}).bind(this),!1)}},WebDataRocksToolbar.prototype.exitFullscreen=function(){this.container.style.width=this.containerStyle.width,this.container.style.height=this.containerStyle.height,this.container.style.position=this.containerStyle.position,this.container.style.top=this.containerStyle.top,this.container.style.left=this.containerStyle.left,this.container.style.marginTop=this.containerStyle.marginTop,this.container.style.marginLeft=this.containerStyle.marginLeft,this.toolbarWrapper.style.width=this.containerStyle.toolbarWidth,document.exitFullscreen?document.exitFullscreen():document.cancelFullscreen?document.cancelFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullScreen?document.webkitExitFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()},WebDataRocksToolbar.prototype.nullOrUndefined=function(e){return null==e},WebDataRocksToolbar.prototype.hasClass=function(e,t){return e.className.match(RegExp("(\\s|^)"+t+"(\\s|$)"))},WebDataRocksToolbar.prototype.addClass=function(e,t){this.hasClass(e,t)||(e.className+=" "+t)},WebDataRocksToolbar.prototype.removeClass=function(e,t){this.hasClass(e,t)&&(e.className=e.className.replace(RegExp("(\\s|^)"+t+"(\\s|$)")," "))},WebDataRocksToolbar.prototype.setText=function(e,t){e&&(void 0!==e.innerText&&(e.innerText=t),void 0!==e.textContent&&(e.textContent=t))},WebDataRocksToolbar.prototype.createSelect=function(){var e=document.createElement("div");e.classList.add("wdr-select");var t=document.createElement("select");return e.appendChild(t),e.select=t,e},WebDataRocksToolbar.prototype.createDivider=function(e){return(e=document.createElement("li")).className="wdr-divider",e},WebDataRocksToolbar.prototype.createTab=function(e){var t=document.createElement("li");t.id=e.id;var n=document.createElement("a");e.hasOwnProperty("class_attr")&&n.setAttribute("class",e.class_attr),n.setAttribute("href","javascript:void(0)"),e.icon&&((i=document.createElement("div")).classList.add("wdr-svg-icon"),i.innerHTML=e.icon,n.appendChild(i)),i=document.createElement("span"),this.setText(i,e.title),n.appendChild(i);var i,r=this;return this.nullOrUndefined(i="function"==typeof e.handler?e.handler:this[e.handler])||(n.onclick=function(e,t){return function(){e.call(r,t)}}(i,e.args)),this.nullOrUndefined(this[e.onShowHandler])||(n.onmouseover=function(e){return function(){e.call(r)}}(this[e.onShowHandler])),t.onmouseover=function(){r.showDropdown(this)},t.onmouseout=function(){r.hideDropdown(this)},t.appendChild(n),null==e.menu||this.osUtils.isMobile&&1!=e.collapse||t.appendChild(this.createTabMenu(e.menu)),t},WebDataRocksToolbar.prototype.showDropdown=function(e){var t=e.querySelectorAll(".wdr-dropdown")[0];t&&(t.style.display="block",t.getBoundingClientRect().right>this.toolbarWrapper.getBoundingClientRect().right&&(t.style.right=0,this.addClass(e,"wdr-align-rigth")))},WebDataRocksToolbar.prototype.hideDropdown=function(e){var t=e.querySelectorAll(".wdr-dropdown")[0];t&&(t.style.display="none",t.style.right=null,this.removeClass(e,"wdr-align-rigth"))},WebDataRocksToolbar.prototype.createTabMenu=function(e){var t=document.createElement("div");t.className="wdr-dropdown wdr-shadow-container";var n=document.createElement("ul");n.className="wdr-dropdown-content";for(var i=0;i<e.length;i++)this.isDisabled(e[i])||n.appendChild(e[i].divider?this.createMenuDivider():this.createTab(e[i]));return t.appendChild(n),t},WebDataRocksToolbar.prototype.createMenuDivider=function(){var e=document.createElement("li");return e.className="wdr-v-divider",e},WebDataRocksToolbar.prototype.isDisabled=function(e){return!!this.nullOrUndefined(e)||!1===e.ios&&this.osUtils.isIOS||!1===e.android&&this.osUtils.isAndroid||!1===e.mobile&&this.osUtils.isMobile},WebDataRocksToolbar.prototype.getElementById=function(e,t){var n=function(e,t){for(var i=0;i<e.childNodes.length;i++){var r=e.childNodes[i];if(r.id==t)return r;if(null!=(r=n(r,t)))return r}return null};return n(t||this.toolbarWrapper,e)},WebDataRocksToolbar.prototype.osUtils={isIOS:!(!navigator.userAgent.match(/iPhone|iPad|iPod/i)&&!navigator.platform.match(/iPhone|iPad|iPod/i)),isMac:/Mac/i.test(navigator.platform),isAndroid:!!navigator.userAgent.match(/Android/i),isBlackBerry:/BlackBerry/i.test(navigator.platform),isMobile:navigator.userAgent.match(/iPhone|iPad|iPod/i)||navigator.platform.match(/iPhone|iPad|iPod/i)||navigator.userAgent.match(/Android/i)||/BlackBerry/i.test(navigator.platform)},WebDataRocksToolbar.PopupManager=function(e){this.toolbar=e,this.activePopup=null},WebDataRocksToolbar.PopupManager.prototype.createPopup=function(){return new WebDataRocksToolbar.PopupManager.PopupWindow(this)},WebDataRocksToolbar.PopupManager.prototype.addPopup=function(e){if(null!=e){this.removePopup(),this.modalOverlay=this.createModalOverlay(),this.activePopup=e,this.toolbar.toolbarWrapper.appendChild(e),this.toolbar.toolbarWrapper.appendChild(this.modalOverlay),this.addLayoutClasses(e),this.centerPopup(e);var t=this;e.resizeHandler=function(){e&&(t.addLayoutClasses(e),t.centerPopup(e))},window.addEventListener("resize",e.resizeHandler)}},WebDataRocksToolbar.PopupManager.prototype.addLayoutClasses=function(e){e.classList.remove("wdr-layout-tablet"),e.classList.remove("wdr-layout-mobile"),e.classList.remove("wdr-layout-mobile-small");var t=this.getBoundingRect(this.toolbar.container);768>t.width&&e.classList.add("wdr-layout-tablet"),580>t.width&&e.classList.add("wdr-layout-mobile"),460>t.width&&e.classList.add("wdr-layout-mobile-small")},WebDataRocksToolbar.PopupManager.prototype.centerPopup=function(e){var t=this.getBoundingRect(this.toolbar.container),n=this.getBoundingRect(e),i=this.getBoundingRect(this.toolbar.toolbarWrapper);e.style.zIndex=parseInt(this.modalOverlay.style.zIndex)+1,this.modalOverlay.style.height=t.height+"px",e.style.left=Math.max(0,(i.width-n.width)/2)+"px",e.style.top=Math.max(0,(t.height-n.height)/2)+"px"},WebDataRocksToolbar.PopupManager.prototype.removePopup=function(e){e=e||this.activePopup,null!=this.modalOverlay&&(this.toolbar.toolbarWrapper.removeChild(this.modalOverlay),this.modalOverlay=null),null!=e&&(this.toolbar.toolbarWrapper.removeChild(e),this.activePopup=null,window.removeEventListener("resize",e.resizeHandler))},WebDataRocksToolbar.PopupManager.prototype.getBoundingRect=function(e){var t=e.getBoundingClientRect();return{left:t.left,right:t.right,top:t.top,bottom:t.bottom,width:t.width||e.clientWidth,height:t.height||e.clientHeight}},WebDataRocksToolbar.PopupManager.prototype.createModalOverlay=function(){var e=document.createElement("div");e.className="wdr-modal-overlay",e.id="wdr-popUp-modal-overlay";var t=this;return e.addEventListener("click",function(e){t.removePopup(t.activePopup)}),e},WebDataRocksToolbar.PopupManager.PopupWindow=function(e){this.popupManager=e;var t=document.createElement("div");t.className="wdr-panel-content";var n=document.createElement("div");n.className="wdr-title-bar";var i=document.createElement("div");i.className="wdr-title-text";var r=document.createElement("div");r.className="wdr-toolbox",r.style.clear="both",this.content=document.createElement("div"),this.content.className="wdr-popup wdr-panel wdr-toolbar-ui wdr-ui",this.content.appendChild(t),t.appendChild(n),n.appendChild(i),this.setTitle=function(e){WebDataRocksToolbar.prototype.setText(i,e)},this.setContent=function(e){t.insertBefore(e,n.nextSibling)};var o=this;return this.setToolbar=function(e,s){r.innerHTML="";for(var a=e.length-1;0<=a;a--){var l=document.createElement("a");l.setAttribute("href","javascript:void(0)"),l.className="wdr-ui-btn"+(e[a].isPositive?" wdr-ui-btn-dark":""),e[a].id&&(l.id=e[a].id),WebDataRocksToolbar.prototype.setText(l,e[a].label),l.onclick=function(e){return function(){null!=e&&e.call(),o.popupManager.removePopup()}}(e[a].handler),!0===e[a].disabled?WebDataRocksToolbar.prototype.addClass(l,"wdr-ui-disabled"):WebDataRocksToolbar.prototype.removeClass(l,"wdr-ui-disabled"),e[a].isPositive&&(WebDataRocksToolbar.prototype.osUtils.isMac||WebDataRocksToolbar.prototype.osUtils.isIOS)?r.appendChild(l):r.insertBefore(l,r.firstChild)}s?(r.classList.add("wdr-ui-col"),n.appendChild(r),n.classList.add("wdr-ui-row"),i.classList.add("wdr-ui-col")):t.appendChild(r)},this.toolbar=r,this.titleBar=n,this.title=i,this},WebDataRocksToolbar.ColorPicker=function(e,t){function n(e){e=e.target.getAttribute("data-c"),d.drawShades(d.colors[e]),d.setColor(e,d.currentType,!0)}function i(e){e=e.target.getAttribute("data-c"),d.setColor(e,d.currentType,!0)}function r(e){d.currentType=e,a.classList.remove("wdr-current"),l.classList.remove("wdr-current"),"bg"==e?(l.classList.add("wdr-current"),d.setColor(d.backgroundColor,e,!1)):(a.classList.add("wdr-current"),d.setColor(d.fontColor,e,!1))}function o(){d.closePopup(),d.cancelHandler&&d.cancelHandler()}this.toolbar=e,this.element=document.createElement("div"),this.element.classList.add("wdr-colorpick-wrap"),this.element.classList.add("wdr-width40"),this.colorPickerButton=document.createElement("div"),this.colorPickerButton.classList.add("wdr-colorpick-btn"),this.element.appendChild(this.colorPickerButton),this.colorPickerIcon=document.createElement("span"),this.colorPickerIcon.classList.add("wdr-icon"),this.colorPickerIcon.classList.add("wdr-icon-act_font"),this.colorPickerButton.appendChild(this.colorPickerIcon),this.popup=document.createElement("div"),this.popup.classList.add("wdr-colorpick-popup"),this.popup.onclick=function(e){e.stopPropagation()},t.appendChild(this.popup);var s=document.createElement("div");s.classList.add("wdr-color-targ-switch"),this.popup.appendChild(s);var a=document.createElement("a");a.classList.add("wdr-cts-item"),a.classList.add("wdr-current"),a.href="javascript:void(0);",a.innerHTML=e.Labels.cp_text,a.onclick=function(){r("font")},s.appendChild(a);var l=document.createElement("a");for(var c in l.classList.add("wdr-cts-item"),l.innerHTML=e.Labels.cp_highlight,l.href="javascript:void(0);",l.onclick=function(){r("bg")},s.appendChild(l),(s=document.createElement("div")).classList.add("wdr-cp-sett-row"),this.popup.appendChild(s),this.colorInput=document.createElement("input"),this.colorInput.type="text",this.colorInput.classList.add("wdr-inp"),this.colorInput.classList.add("wdr-width140"),this.colorInput.classList.add("wdr-tac"),this.colorInput.onchange=function(){var e=d.colorInput.value;d.isColor(e)&&d.setColor(e,d.currentType,!0)},s.appendChild(this.colorInput),this.colorPreview=document.createElement("div"),this.colorPreview.classList.add("wdr-cp-curr-color"),this.colorPreview.classList.add("wdr-width140"),s.appendChild(this.colorPreview),this.mainColors=document.createElement("div"),this.mainColors.classList.add("wdr-row-9colors"),this.popup.appendChild(this.mainColors),this.colors){(s=document.createElement("div")).classList.add("wdr-r9c-item"),s.style.backgroundColor=c,s.setAttribute("data-c",c),s.addEventListener("click",n),this.mainColors.appendChild(s);var u=document.createElement("span");u.classList.add("wdr-cp-currentmark"),u.classList.add("wdr-icon"),u.classList.add("wdr-icon-act_check"),s.appendChild(u),(u=document.createElement("span")).classList.add("wdr-r9c-arrow"),u.style.borderTopColor=c,s.appendChild(u)}for(this.shadeColors=document.createElement("div"),this.shadeColors.classList.add("wdr-row-4colors"),this.popup.appendChild(this.shadeColors),c=0;8>c;c++)(s=document.createElement("div")).classList.add("wdr-r4c-item"),s.addEventListener("click",i),this.shadeColors.appendChild(s),(u=document.createElement("span")).classList.add("wdr-cp-currentmark"),u.classList.add("wdr-icon"),u.classList.add("wdr-icon-act_check"),s.appendChild(u);this.drawShades(this.colors["#000000"]),(s=document.createElement("div")).classList.add("wdr-cp-btns-row"),this.popup.appendChild(s),(c=document.createElement("a")).innerHTML=e.Labels.apply,c.classList.add("wdr-ui-btn"),c.classList.add("wdr-ui-btn-dark"),c.addEventListener("click",function(){d.closePopup(),d.applyHandler&&d.applyHandler()}),(u=document.createElement("a")).innerHTML=e.Labels.cancel,u.classList.add("wdr-ui-btn"),u.addEventListener("click",o),WebDataRocksToolbar.prototype.osUtils.isMac||WebDataRocksToolbar.prototype.osUtils.isIOS?(s.appendChild(u),s.appendChild(c)):(s.appendChild(c),s.appendChild(u)),this.currentType="font",this.colorPickerButton.addEventListener("click",function(e){e.stopPropagation(),d.isOpened()?d.closePopup():d.openPopup()}),document.body.addEventListener("click",function(e){o()});var d=this},WebDataRocksToolbar.ColorPicker.prototype.colors={"#000000":"#000000 #212121 #424242 #616161 #757575 #9E9E9E #BDBDBD #FFFFFF".split(" "),"#F44336":"#D32F2F #E53935 #F44336 #EF5350 #E57373 #EF9A9A #FFCDD2 #FFEBEE".split(" "),"#FF9800":"#F57C00 #FB8C00 #FF9800 #FFA726 #FFB74D #FFCC80 #FFE0B2 #FFF3E0".split(" "),"#FFEB3B":"#FBC02D #FDD835 #FFEB3B #FFEE58 #FFF176 #FFF59D #FFF9C4 #FFFDE7".split(" "),"#8BC34A":"#689F38 #7CB342 #8BC34A #9CCC65 #AED581 #C5E1A5 #DCEDC8 #F1F8E9".split(" "),"#009688":"#00796B #00897B #009688 #26A69A #4DB6AC #80CBC4 #B2DFDB #E0F2F1".split(" "),"#03A9F4":"#0288D1 #039BE5 #03A9F4 #29B6F6 #4FC3F7 #81D4FA #B3E5FC #E1F5FE".split(" "),"#3F51B5":"#303F9F #3949AB #3F51B5 #5C6BC0 #7986CB #9FA8DA #C5CAE9 #E8EAF6".split(" "),"#9C27B0":"#7B1FA2 #8E24AA #9C27B0 #AB47BC #BA68C8 #CE93D8 #E1BEE7 #F3E5F5".split(" ")},WebDataRocksToolbar.ColorPicker.prototype.isOpened=function(){return this.popup.parentElement&&this.popup.parentElement.classList.contains("wdr-popup-opened")},WebDataRocksToolbar.ColorPicker.prototype.drawShades=function(e){if(e)for(var t=this.shadeColors.children,n=0;n<t.length;n++){var i=t[n];i.setAttribute("data-c",e[n]),i.style.backgroundColor=e[n],i.style.borderRight="#FFFFFF"==e[n]?"1px solid #d5d5d5":"none",i.style.borderBottom="#FFFFFF"==e[n]?"1px solid #d5d5d5":"none"}},WebDataRocksToolbar.ColorPicker.prototype.setColor=function(e,t,n){"string"==typeof e&&0==e.indexOf("0x")&&(e="#"+e.substr(2)),"bg"==t?(this.backgroundColor=e,this.colorPickerButton.style.backgroundColor=e):(this.fontColor=e,this.colorPickerIcon.style.color=e),this.colorInput.value=e,this.colorPreview.style.backgroundColor=e,this.drawSelected(),n&&this.changeHandler&&this.changeHandler()},WebDataRocksToolbar.ColorPicker.prototype.drawSelected=function(){var e="bg"==this.currentType?this.backgroundColor:this.fontColor,t=this.findMain(e);this.drawShades(this.colors[t]);for(var n=this.mainColors.children,i=0;i<n.length;i++)n[i].classList.remove("wdr-current");for((t=this.mainColors.querySelector("[data-c='"+t+"']"))&&t.classList.add("wdr-current"),n=this.shadeColors.children,i=0;i<n.length;i++)n[i].classList.remove("wdr-current");(e=this.shadeColors.querySelector("[data-c='"+e+"']"))&&e.classList.add("wdr-current")},WebDataRocksToolbar.ColorPicker.prototype.findMain=function(e){for(var t in"string"==typeof e&&0==e.indexOf("0x")&&(e="#"+e.substr(2)),this.colors)if(0<=this.colors[t].indexOf(e))return t},WebDataRocksToolbar.ColorPicker.prototype.isColor=function(e){return e.match(/^#?[0-9A-Fa-f]{6}$/g)},WebDataRocksToolbar.ColorPicker.prototype.closePopup=function(){this.popup.parentElement&&this.popup.parentElement.classList.remove("wdr-popup-opened")},WebDataRocksToolbar.ColorPicker.prototype.openPopup=function(){for(var e=this.toolbar.toolbarWrapper.querySelectorAll(".wdr-colorpick-popup"),t=0;t<e.length;t++)e[t].parentElement.classList.remove("wdr-popup-opened");this.popup.parentElement&&(e=this.toolbar.toolbarWrapper.querySelector("#wdr-popup-conditional .wdr-panel-content"),t=this.getWhere(this.colorPickerButton,e),0>this.getWhere(this.colorPickerButton,document.body).top-this.popup.clientHeight?(this.popup.classList.remove("wdr-arrow-down"),this.popup.classList.add("wdr-arrow-up"),this.popup.style.top=this.colorPickerButton.clientHeight+t.top+11+"px",this.popup.style.bottom=""):(this.popup.classList.add("wdr-arrow-down"),this.popup.classList.remove("wdr-arrow-up"),this.popup.style.bottom=e.clientHeight-t.top+5+"px",this.popup.style.top=""),this.popup.style.left=t.left+this.colorPickerButton.clientWidth/2+2+"px",this.popup.parentElement.classList.add("wdr-popup-opened"))},WebDataRocksToolbar.ColorPicker.prototype.getWhere=function(e,t){var n=0,i=0;if(e.offsetParent){n=e.offsetLeft,i=e.offsetTop;for(var r=e;(r=r.parentNode)&&r!=t;)n-=0,i-=r.scrollTop?r.scrollTop:0;for(;(e=e.offsetParent)&&e!=t;)n+=e.offsetLeft,i+=e.offsetTop}return{top:i+0,left:n+0}};var savingAs=savingAs||"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob.bind(navigator)||function(e){"use strict";if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var t=e.document,n=t.createElementNS("http://www.w3.org/1999/xhtml","a"),i="download"in n,r=function(n){var i=t.createEvent("MouseEvents");i.initMouseEvent("click",!0,!1,e,0,0,0,0,0,!1,!1,!1,!1,0,null),n.dispatchEvent(i)},o=e.webkitRequestFileSystem,s=e.requestFileSystem||o||e.mozRequestFileSystem,a=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},l=0,c=function(t){var n=function(){"string"==typeof t?(e.URL||e.webkitURL||e).revokeObjectURL(t):t.remove()};e.chrome?n():setTimeout(n,500)},u=function(e,t,n){for(var i=(t=[].concat(t)).length;i--;){var r=e["on"+t[i]];if("function"==typeof r)try{r.call(e,n||e)}catch(o){a(o)}}},d=function(t,a){var d,h,p=this,f=t.type,A=!1,g=function(){u(p,["writestart","progress","write","writeend"])},m=function(){!A&&d||(d=(e.URL||e.webkitURL||e).createObjectURL(t)),h?h.location.href=d:null==e.open(d,"_blank")&&"undefined"!=typeof safari&&(e.location.href=d),p.readyState=p.DONE,g(),c(d)},y=function(e){return function(){if(p.readyState!==p.DONE)return e.apply(this,arguments)}},v={create:!0,exclusive:!1};p.readyState=p.INIT,a||(a="download"),i?(d=(e.URL||e.webkitURL||e).createObjectURL(t),n.href=d,n.download=a,r(n),p.readyState=p.DONE,g(),c(d)):(e.chrome&&f&&"application/octet-stream"!==f&&(t=(t.slice||t.webkitSlice).call(t,0,t.size,"application/octet-stream"),A=!0),o&&"download"!==a&&(a+=".download"),("application/octet-stream"===f||o)&&(h=e),s?s(e.TEMPORARY,l+=t.size,y(function(e){e.root.getDirectory("saved",v,y(function(e){var n=function(){e.getFile(a,v,y(function(e){e.createWriter(y(function(n){n.onwriteend=function(t){h.location.href=e.toURL(),p.readyState=p.DONE,u(p,"writeend",t),c(e)},n.onerror=function(){var e=n.error;e.code!==e.ABORT_ERR&&m()},["writestart","progress","write","abort"].forEach(function(e){n["on"+e]=p["on"+e]}),n.write(t),p.abort=function(){n.abort(),p.readyState=p.DONE},p.readyState=p.WRITING}),m)}),m)};e.getFile(a,{create:!1},y(function(e){e.remove(),n()}),y(function(e){e.code===e.NOT_FOUND_ERR?n():m()}))}),m)}),m):m())},h=d.prototype;return h.abort=function(){this.readyState=this.DONE,u(this,"abort")},h.readyState=h.INIT=0,h.WRITING=1,h.DONE=2,h.error=h.onwritestart=h.onprogress=h.onwrite=h.onabort=h.onerror=h.onwriteend=null,function(e,t){return new d(e,t)}}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof module&&null!==module?module.exports=savingAs:"undefined"!=typeof define&&null!==define&&null!=define.amd&&define("savingAs",function(){return savingAs}),"function"==typeof define&&define,function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}!function(t){if("object"!==e(t.console)){t.console={};for(var n,i,r=t.console,o=function(){},s=["memory"],a="assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(",");n=s.pop();)r[n]||(r[n]={});for(;i=a.pop();)r[i]||(r[i]=o)}var l,c,u,d,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";void 0===t.btoa&&(t.btoa=function(e){var t,n,i,r,o,s=0,a=0,l="",c=[];if(!e)return e;for(;t=(o=e.charCodeAt(s++)<<16|e.charCodeAt(s++)<<8|e.charCodeAt(s++))>>18&63,n=o>>12&63,i=o>>6&63,r=63&o,c[a++]=h.charAt(t)+h.charAt(n)+h.charAt(i)+h.charAt(r),s<e.length;);l=c.join("");var u=e.length%3;return(u?l.slice(0,u-3):l)+"===".slice(u||3)}),void 0===t.atob&&(t.atob=function(e){var t,n,i,r,o,s,a=0,l=0,c=[];if(!e)return e;for(e+="";t=(s=h.indexOf(e.charAt(a++))<<18|h.indexOf(e.charAt(a++))<<12|(r=h.indexOf(e.charAt(a++)))<<6|(o=h.indexOf(e.charAt(a++))))>>16&255,n=s>>8&255,i=255&s,c[l++]=64==r?String.fromCharCode(t):64==o?String.fromCharCode(t,n):String.fromCharCode(t,n,i),a<e.length;);return c.join("")}),Array.prototype.map||(Array.prototype.map=function(e){if(null==this||"function"!=typeof e)throw new TypeError;for(var t=Object(this),n=t.length>>>0,i=new Array(n),r=1<arguments.length?arguments[1]:void 0,o=0;o<n;o++)o in t&&(i[o]=e.call(r,t[o],o,t));return i}),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),Array.prototype.forEach||(Array.prototype.forEach=function(e,t){if(null==this||"function"!=typeof e)throw new TypeError;for(var n=Object(this),i=n.length>>>0,r=0;r<i;r++)r in n&&e.call(t,n[r],r,n)}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var i=arguments[1],r=0;r<n;){var o=t[r];if(e.call(i,o,r,t))return o;r++}},configurable:!0,writable:!0}),Object.keys||(Object.keys=(l=Object.prototype.hasOwnProperty,c=!{toString:null}.propertyIsEnumerable("toString"),d=(u=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]).length,function(t){if("object"!==e(t)&&("function"!=typeof t||null===t))throw new TypeError;var n,i,r=[];for(n in t)l.call(t,n)&&r.push(n);if(c)for(i=0;i<d;i++)l.call(t,u[i])&&r.push(u[i]);return r})),"function"!=typeof Object.assign&&(Object.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");e=Object(e);for(var t=1;t<arguments.length;t++){var n=arguments[t];if(null!=n)for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),String.prototype.trimLeft||(String.prototype.trimLeft=function(){return this.replace(/^\s+/g,"")}),String.prototype.trimRight||(String.prototype.trimRight=function(){return this.replace(/\s+$/g,"")}),Number.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||"undefined"!=typeof global&&global||Function('return typeof this === "object" && this.content')()||Function("return this")());var t,n,i,r,o,s,a,l,c,u,d,h,p,f,A,g,m,y,v,w,b,_,C,E,S,T,L,x,I,B,F,N,D,O,R,M,U,P,H,k,Q,z,j,V,W,q,G,K,X,J,Y,Z,$,ee,te,ne,ie,re,oe,se,ae,le=function(t){function n(n){if("object"!==e(n))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var i={};this.subscribe=function(e,t,n){if(n=n||!1,"string"!=typeof e||"function"!=typeof t||"boolean"!=typeof n)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");i.hasOwnProperty(e)||(i[e]={});var r=Math.random().toString(35);return i[e][r]=[t,!!n],r},this.unsubscribe=function(e){for(var t in i)if(i[t][e])return delete i[t][e],0===Object.keys(i[t]).length&&delete i[t],!0;return!1},this.publish=function(e){if(i.hasOwnProperty(e)){var r=Array.prototype.slice.call(arguments,1),o=[];for(var s in i[e]){var a=i[e][s];try{a[0].apply(n,r)}catch(e){t.console&&console.error("jsPDF PubSub Error",e.message,e)}a[1]&&o.push(s)}o.length&&o.forEach(this.unsubscribe)}},this.getTopics=function(){return i}}function i(r,o,s,a){var l={},c=[],u=1;"object"===e(r)&&(r=(l=r).orientation,o=l.unit||o,s=l.format||s,a=l.compress||l.compressPdf||a,c=l.filters||(!0===a?["FlateEncode"]:c),u="number"==typeof l.userUnit?Math.abs(l.userUnit):1),o=o||"mm",r=(""+(r||"P")).toLowerCase();var d=l.putOnlyUsedFonts||!0,h={},p={internal:{},__private__:{}};p.__private__.PubSub=n;var f="1.3",A=p.__private__.getPdfVersion=function(){return f},g=(p.__private__.setPdfVersion=function(e){f=e},{a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]}),m=(p.__private__.getPageFormats=function(){return g},p.__private__.getPageFormat=function(e){return g[e]});"string"==typeof s&&(s=m(s)),s=s||m("a4");var y,v=p.f2=p.__private__.f2=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f2");return e.toFixed(2)},w=p.__private__.f3=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f3");return e.toFixed(3)},b="00000000000000000000000000000000",_=p.__private__.getFileId=function(){return b},C=p.__private__.setFileId=function(e){return e=e||"12345678901234567890123456789012".split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),b=e};p.setFileId=function(e){return C(e),this},p.getFileId=function(){return _()};var E=p.__private__.convertDateToPDFDate=function(e){var t=e.getTimezoneOffset(),n=t<0?"+":"-",i=Math.floor(Math.abs(t/60)),r=Math.abs(t%60),o=[n,M(i),"'",M(r),"'"].join("");return["D:",e.getFullYear(),M(e.getMonth()+1),M(e.getDate()),M(e.getHours()),M(e.getMinutes()),M(e.getSeconds()),o].join("")},S=p.__private__.convertPDFDateToDate=function(e){var t=parseInt(e.substr(2,4),10),n=parseInt(e.substr(6,2),10)-1,i=parseInt(e.substr(8,2),10),r=parseInt(e.substr(10,2),10),o=parseInt(e.substr(12,2),10),s=parseInt(e.substr(14,2),10);return parseInt(e.substr(16,2),10),parseInt(e.substr(20,2),10),new Date(t,n,i,r,o,s,0)},T=p.__private__.setCreationDate=function(t){var n;if(void 0===t&&(t=new Date),"object"===e(t)&&"[object Date]"===Object.prototype.toString.call(t))n=E(t);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|\-0[0-9]|\-1[0-1])\'(0[0-9]|[1-5][0-9])\'?$/.test(t))throw new Error("Invalid argument passed to jsPDF.setCreationDate");n=t}return y=n},L=p.__private__.getCreationDate=function(e){var t=y;return"jsDate"===e&&(t=S(y)),t};p.setCreationDate=function(e){return T(e),this},p.getCreationDate=function(e){return L(e)};var x,I,B,F,N,D,O,R,M=p.__private__.padd2=function(e){return("0"+parseInt(e)).slice(-2)},U=!1,P=[],H=[],k=0,Q=(p.__private__.setCustomOutputDestination=function(e){I=e},p.__private__.resetCustomOutputDestination=function(e){I=void 0},p.__private__.out=function(e){var t;return e="string"==typeof e?e:e.toString(),(t=void 0===I?U?P[x]:H:I).push(e),U||(k+=e.length+1),t}),z=p.__private__.write=function(e){return Q(1===arguments.length?e.toString():Array.prototype.join.call(arguments," "))},j=p.__private__.getArrayBuffer=function(e){for(var t=e.length,n=new ArrayBuffer(t),i=new Uint8Array(n);t--;)i[t]=e.charCodeAt(t);return n},V=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]],W=(p.__private__.getStandardFonts=function(e){return V},l.fontSize||16),q=(p.__private__.setFontSize=p.setFontSize=function(e){return W=e,this},p.__private__.getFontSize=p.getFontSize=function(){return W}),G=l.R2L||!1,K=(p.__private__.setR2L=p.setR2L=function(e){return G=e,this},p.__private__.getR2L=p.getR2L=function(e){return G},p.__private__.setZoomMode=function(e){if(/^\d*\.?\d*\%$/.test(e))B=e;else if(isNaN(e)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(e))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+e+'" is not recognized.');B=e}else B=parseInt(e,10)}),X=(p.__private__.getZoomMode=function(){return B},p.__private__.setPageMode=function(e){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(e))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+e+'" is not recognized.');F=e}),J=(p.__private__.getPageMode=function(){return F},p.__private__.setLayoutMode=function(e){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(e))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+e+'" is not recognized.');N=e}),Y=(p.__private__.getLayoutMode=function(){return N},p.__private__.setDisplayMode=p.setDisplayMode=function(e,t,n){return K(e),J(t),X(n),this},{title:"",subject:"",author:"",keywords:"",creator:""}),Z=(p.__private__.getDocumentProperty=function(e){if(-1===Object.keys(Y).indexOf(e))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Y[e]},p.__private__.getDocumentProperties=function(e){return Y},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(e){for(var t in Y)Y.hasOwnProperty(t)&&e[t]&&(Y[t]=e[t]);return this},p.__private__.setDocumentProperty=function(e,t){if(-1===Object.keys(Y).indexOf(e))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Y[e]=t},0),$=[],ee={},te={},ne=0,ie=[],re=[],oe=new n(p),se=l.hotfixes||[],ae=p.__private__.newObject=function(){var e=le();return ce(e,!0),e},le=p.__private__.newObjectDeferred=function(){return $[++Z]=function(){return k},Z},ce=function(e,t){return t="boolean"==typeof t&&t,$[e]=k,t&&Q(e+" 0 obj"),e},ue=p.__private__.newAdditionalObject=function(){var e={objId:le(),content:""};return re.push(e),e},de=le(),he=le(),pe=p.__private__.decodeColorString=function(e){var t=e.split(" ");if(2===t.length&&("g"===t[1]||"G"===t[1])){var n=parseFloat(t[0]);t=[n,n,n,"r"]}for(var i="#",r=0;r<3;r++)i+=("0"+Math.floor(255*parseFloat(t[r])).toString(16)).slice(-2);return i},fe=p.__private__.encodeColorString=function(t){var n;"string"==typeof t&&(t={ch1:t});var i=t.ch1,r=t.ch2,o=t.ch3,s=t.ch4,a="draw"===t.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof i&&"#"!==i.charAt(0)){var l=new RGBColor(i);if(l.ok)i=l.toHex();else if(!/^\d*\.?\d*$/.test(i))throw new Error('Invalid color "'+i+'" passed to jsPDF.encodeColorString.')}if("string"==typeof i&&/^#[0-9A-Fa-f]{3}$/.test(i)&&(i="#"+i[1]+i[1]+i[2]+i[2]+i[3]+i[3]),"string"==typeof i&&/^#[0-9A-Fa-f]{6}$/.test(i)){var c=parseInt(i.substr(1),16);i=c>>16&255,r=c>>8&255,o=255&c}if(void 0===r||void 0===s&&i===r&&r===o)if("string"==typeof i)n=i+" "+a[0];else switch(t.precision){case 2:n=v(i/255)+" "+a[0];break;case 3:default:n=w(i/255)+" "+a[0]}else if(void 0===s||"object"===e(s)){if(s&&!isNaN(s.a)&&0===s.a)return["1.000","1.000","1.000",a[1]].join(" ");if("string"==typeof i)n=[i,r,o,a[1]].join(" ");else switch(t.precision){case 2:n=[v(i/255),v(r/255),v(o/255),a[1]].join(" ");break;default:case 3:n=[w(i/255),w(r/255),w(o/255),a[1]].join(" ")}}else if("string"==typeof i)n=[i,r,o,s,a[2]].join(" ");else switch(t.precision){case 2:n=[v(i/255),v(r/255),v(o/255),v(s/255),a[2]].join(" ");break;case 3:default:n=[w(i/255),w(r/255),w(o/255),w(s/255),a[2]].join(" ")}return n},Ae=p.__private__.getFilters=function(){return c},ge=p.__private__.putStream=function(e){var t,n=(e=e||{}).data||"",r=e.filters||Ae(),o=e.alreadyAppliedFilters||[],s=e.addLength1||!1,a=n.length;!0===r&&(r=["FlateEncode"]);var l=e.additionalKeyValues||[],c=(t=void 0!==i.API.processDataByFilters?i.API.processDataByFilters(n,r):{data:n,reverseChain:[]}).reverseChain+(Array.isArray(o)?o.join(" "):o.toString());0!==t.data.length&&(l.push({key:"Length",value:t.data.length}),!0===s&&l.push({key:"Length1",value:a})),0!=c.length&&(c.split("/").length-1==1?l.push({key:"Filter",value:c}):l.push({key:"Filter",value:"["+c+"]"})),Q("<<");for(var u=0;u<l.length;u++)Q("/"+l[u].key+" "+l[u].value);Q(">>"),0!==t.data.length&&(Q("stream"),Q(t.data),Q("endstream"))},me=p.__private__.putPage=function(e){var t=e.number,n=e.data,i=e.objId,r=e.contentsObjId;ce(i,!0),Q("<</Type /Page"),Q("/Parent "+e.rootDictionaryObjId+" 0 R"),Q("/Resources "+e.resourceDictionaryObjId+" 0 R"),Q("/MediaBox ["+parseFloat(v(e.mediaBox.bottomLeftX))+" "+parseFloat(v(e.mediaBox.bottomLeftY))+" "+v(e.mediaBox.topRightX)+" "+v(e.mediaBox.topRightY)+"]"),null!==e.cropBox&&Q("/CropBox ["+v(e.cropBox.bottomLeftX)+" "+v(e.cropBox.bottomLeftY)+" "+v(e.cropBox.topRightX)+" "+v(e.cropBox.topRightY)+"]"),null!==e.bleedBox&&Q("/BleedBox ["+v(e.bleedBox.bottomLeftX)+" "+v(e.bleedBox.bottomLeftY)+" "+v(e.bleedBox.topRightX)+" "+v(e.bleedBox.topRightY)+"]"),null!==e.trimBox&&Q("/TrimBox ["+v(e.trimBox.bottomLeftX)+" "+v(e.trimBox.bottomLeftY)+" "+v(e.trimBox.topRightX)+" "+v(e.trimBox.topRightY)+"]"),null!==e.artBox&&Q("/ArtBox ["+v(e.artBox.bottomLeftX)+" "+v(e.artBox.bottomLeftY)+" "+v(e.artBox.topRightX)+" "+v(e.artBox.topRightY)+"]"),"number"==typeof e.userUnit&&1!==e.userUnit&&Q("/UserUnit "+e.userUnit),oe.publish("putPage",{objId:i,pageContext:ie[t],pageNumber:t,page:n}),Q("/Contents "+r+" 0 R"),Q(">>"),Q("endobj");var o=n.join("\n");return ce(r,!0),ge({data:o,filters:Ae()}),Q("endobj"),i},ye=p.__private__.putPages=function(){var e,t,n=[];for(e=1;e<=ne;e++)ie[e].objId=le(),ie[e].contentsObjId=le();for(e=1;e<=ne;e++)n.push(me({number:e,data:P[e],objId:ie[e].objId,contentsObjId:ie[e].contentsObjId,mediaBox:ie[e].mediaBox,cropBox:ie[e].cropBox,bleedBox:ie[e].bleedBox,trimBox:ie[e].trimBox,artBox:ie[e].artBox,userUnit:ie[e].userUnit,rootDictionaryObjId:de,resourceDictionaryObjId:he}));ce(de,!0),Q("<</Type /Pages");var i="/Kids [";for(t=0;t<ne;t++)i+=n[t]+" 0 R ";Q(i+"]"),Q("/Count "+ne),Q(">>"),Q("endobj"),oe.publish("postPutPages")},ve=function(e,t,n){te.hasOwnProperty(t)||(te[t]={}),te[t][n]=e},we=function(e,t,n,i,r){r=r||!1;var o="F"+(Object.keys(ee).length+1).toString(10),s={id:o,postScriptName:e,fontName:t,fontStyle:n,encoding:i,isStandardFont:r,metadata:{}};return oe.publish("addFont",{font:s,instance:this}),void 0!==o&&(ee[o]=s,ve(o,t,n)),o},be=p.__private__.pdfEscape=p.pdfEscape=function(e,t){return function(e,t){var n,i,r,o,s,a,l,c,u;if(r=(t=t||{}).sourceEncoding||"Unicode",s=t.outputEncoding,(t.autoencode||s)&&ee[D].metadata&&ee[D].metadata[r]&&ee[D].metadata[r].encoding&&(o=ee[D].metadata[r].encoding,!s&&ee[D].encoding&&(s=ee[D].encoding),!s&&o.codePages&&(s=o.codePages[0]),"string"==typeof s&&(s=o[s]),s)){for(l=!1,a=[],n=0,i=e.length;n<i;n++)(c=s[e.charCodeAt(n)])?a.push(String.fromCharCode(c)):a.push(e[n]),a[n].charCodeAt(0)>>8&&(l=!0);e=a.join("")}for(n=e.length;void 0===l&&0!==n;)e.charCodeAt(n-1)>>8&&(l=!0),n--;if(!l)return e;for(a=t.noBOM?[]:[254,255],n=0,i=e.length;n<i;n++){if((u=(c=e.charCodeAt(n))>>8)>>8)throw new Error("Character at position "+n+" of string '"+e+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");a.push(u),a.push(c-(u<<8))}return String.fromCharCode.apply(void 0,a)}(e,t).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},_e=p.__private__.beginPage=function(e,t){var n,i="string"==typeof t&&t.toLowerCase();if("string"==typeof e&&(n=m(e.toLowerCase()))&&(e=n[0],t=n[1]),Array.isArray(e)&&(t=e[1],e=e[0]),(isNaN(e)||isNaN(t))&&(e=s[0],t=s[1]),i){switch(i.substr(0,1)){case"l":e<t&&(i="s");break;case"p":t<e&&(i="s")}"s"===i&&(n=e,e=t,t=n)}(14400<e||14400<t)&&(console.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),e=Math.min(14400,e),t=Math.min(14400,t)),s=[e,t],U=!0,P[++ne]=[],ie[ne]={objId:0,contentsObjId:0,userUnit:Number(u),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(e),topRightY:Number(t)}},Se(ne)},Ce=function(){_e.apply(this,arguments),Ve(je),Q(Ze),0!==rt&&Q(rt+" J"),0!==st&&Q(st+" j"),oe.publish("addPage",{pageNumber:ne})},Se=function(e){0<e&&e<=ne&&(x=e)},Te=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return P.length-1},Le=function(e,t,n){var i,r=void 0;return n=n||{},t=void 0!==t?t:ee[D].fontStyle,i=(e=void 0!==e?e:ee[D].fontName).toLowerCase(),void 0!==te[i]&&void 0!==te[i][t]?r=te[i][t]:void 0!==te[e]&&void 0!==te[e][t]?r=te[e][t]:!1===n.disableWarning&&console.warn("Unable to look up font label for font '"+e+"', '"+t+"'. Refer to getFontList() for available fonts."),r||n.noFallback||null==(r=te.times[t])&&(r=te.times.normal),r},xe=p.__private__.putInfo=function(){for(var e in ae(),Q("<<"),Q("/Producer (jsPDF "+i.version+")"),Y)Y.hasOwnProperty(e)&&Y[e]&&Q("/"+e.substr(0,1).toUpperCase()+e.substr(1)+" ("+be(Y[e])+")");Q("/CreationDate ("+y+")"),Q(">>"),Q("endobj")},Ie=p.__private__.putCatalog=function(e){var t=(e=e||{}).rootDictionaryObjId||de;switch(ae(),Q("<<"),Q("/Type /Catalog"),Q("/Pages "+t+" 0 R"),B||(B="fullwidth"),B){case"fullwidth":Q("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Q("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Q("/OpenAction [3 0 R /Fit]");break;case"original":Q("/OpenAction [3 0 R /XYZ null null 1]");break;default:var n=""+B;"%"===n.substr(n.length-1)&&(B=parseInt(B)/100),"number"==typeof B&&Q("/OpenAction [3 0 R /XYZ null null "+v(B)+"]")}switch(N||(N="continuous"),N){case"continuous":Q("/PageLayout /OneColumn");break;case"single":Q("/PageLayout /SinglePage");break;case"two":case"twoleft":Q("/PageLayout /TwoColumnLeft");break;case"tworight":Q("/PageLayout /TwoColumnRight")}F&&Q("/PageMode /"+F),oe.publish("putCatalog"),Q(">>"),Q("endobj")},Be=p.__private__.putTrailer=function(){Q("trailer"),Q("<<"),Q("/Size "+(Z+1)),Q("/Root "+Z+" 0 R"),Q("/Info "+(Z-1)+" 0 R"),Q("/ID [ <"+b+"> <"+b+"> ]"),Q(">>")},Fe=p.__private__.putHeader=function(){Q("%PDF-"+f),Q("%ÂºÃÂ¬Ã ")},Ne=p.__private__.putXRef=function(){var e=1,t="0000000000";for(Q("xref"),Q("0 "+(Z+1)),Q("0000000000 65535 f "),e=1;e<=Z;e++)Q("function"==typeof $[e]?(t+$[e]()).slice(-10)+" 00000 n ":void 0!==$[e]?(t+$[e]).slice(-10)+" 00000 n ":"0000000000 00000 n ")},De=p.__private__.buildDocument=function(){U=!1,k=Z=0,H=[],$=[],re=[],de=le(),he=le(),oe.publish("buildDocument"),Fe(),ye(),function(){oe.publish("putAdditionalObjects");for(var e=0;e<re.length;e++){var t=re[e];ce(t.objId,!0),Q(t.content),Q("endobj")}oe.publish("postPutAdditionalObjects")}(),function(){for(var e in ee)ee.hasOwnProperty(e)&&(!1===d||!0===d&&h.hasOwnProperty(e))&&(oe.publish("putFont",{font:t=ee[e],out:Q,newObject:ae,putStream:ge}),!0!==t.isAlreadyPutted&&(t.objectNumber=ae(),Q("<<"),Q("/Type /Font"),Q("/BaseFont /"+t.postScriptName),Q("/Subtype /Type1"),"string"==typeof t.encoding&&Q("/Encoding /"+t.encoding),Q("/FirstChar 32"),Q("/LastChar 255"),Q(">>"),Q("endobj")));var t}(),oe.publish("putResources"),ce(he,!0),Q("<<"),function(){for(var e in Q("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Q("/Font <<"),ee)ee.hasOwnProperty(e)&&(!1===d||!0===d&&h.hasOwnProperty(e))&&Q("/"+e+" "+ee[e].objectNumber+" 0 R");Q(">>"),Q("/XObject <<"),oe.publish("putXobjectDict"),Q(">>")}(),Q(">>"),Q("endobj"),oe.publish("postPutResources"),xe(),Ie();var e=k;return Ne(),Be(),Q("startxref"),Q(""+e),Q("%%EOF"),U=!0,H.join("\n")},Oe=p.__private__.getBlob=function(e){return new Blob([j(e)],{type:"application/pdf"})},Re=p.output=p.__private__.output=((R=function(e,n){n=n||{};var i=De();switch("string"==typeof n?n={filename:n}:n.filename=n.filename||"generated.pdf",e){case void 0:return i;case"save":p.save(n.filename);break;case"arraybuffer":return j(i);case"blob":return Oe(i);case"bloburi":case"bloburl":if(void 0!==t.URL&&"function"==typeof t.URL.createObjectURL)return t.URL&&t.URL.createObjectURL(Oe(i))||void 0;console.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":return"data:application/pdf;filename="+n.filename+";base64,"+btoa(i);case"dataurlnewwindow":var r='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring")+'"></iframe></body></html>',o=t.open();if(null!==o&&o.document.write(r),o||"undefined"==typeof safari)return o;case"datauri":case"dataurl":return t.document.location.href="data:application/pdf;filename="+n.filename+";base64,"+btoa(i);default:return null}}).foo=function(){try{return R.apply(this,arguments)}catch(r){var e=r.stack||"";~e.indexOf(" at ")&&(e=e.split(" at ")[1]);var n="Error in function "+e.split("\n")[0].split("<")[0]+": "+r.message;if(!t.console)throw new Error(n);t.console.error(n,r),t.alert&&alert(n)}},(R.foo.bar=R).foo),Me=function(e){return!0===Array.isArray(se)&&-1<se.indexOf(e)};switch(o){case"pt":O=1;break;case"mm":O=72/25.4;break;case"cm":O=72/2.54;break;case"in":O=72;break;case"px":O=1==Me("px_scaling")?.75:96/72;break;case"pc":case"em":O=12;break;case"ex":O=6;break;default:throw new Error("Invalid unit: "+o)}T(),C();var Ue=p.__private__.getPageInfo=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ie[e].objId,pageNumber:e,pageContext:ie[e]}},Pe=p.__private__.getPageInfoByObjId=function(e){for(var t in ie)if(ie[t].objId===e)break;if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");return Ue(t)},He=p.__private__.getCurrentPageInfo=function(){return{objId:ie[x].objId,pageNumber:x,pageContext:ie[x]}};p.addPage=function(){return Ce.apply(this,arguments),this},p.setPage=function(){return Se.apply(this,arguments),this},p.insertPage=function(e){return this.addPage(),this.movePage(x,e),this},p.movePage=function(e,t){if(t<e){for(var n=P[e],i=ie[e],r=e;t<r;r--)P[r]=P[r-1],ie[r]=ie[r-1];P[t]=n,ie[t]=i,this.setPage(t)}else if(e<t){for(n=P[e],i=ie[e],r=e;r<t;r++)P[r]=P[r+1],ie[r]=ie[r+1];P[t]=n,ie[t]=i,this.setPage(t)}return this},p.deletePage=function(){return(function(e){0<e&&e<=ne&&(P.splice(e,1),--ne<x&&(x=ne),this.setPage(x))}).apply(this,arguments),this},p.__private__.text=p.text=function(t,n,i,r){var o;"number"!=typeof t||"number"!=typeof n||"string"!=typeof i&&!Array.isArray(i)||(o=i,i=n,n=t,t=o);var s=arguments[3],a=arguments[4],l=arguments[5];if("object"===e(s)&&null!==s||("string"==typeof a&&(l=a,a=null),"string"==typeof s&&(l=s,s=null),"number"==typeof s&&(a=s,s=null),r={flags:s,angle:a,align:l}),(s=s||{}).noBOM=s.noBOM||!0,s.autoencode=s.autoencode||!0,isNaN(n)||isNaN(i)||null==t)throw new Error("Invalid arguments passed to jsPDF.text");if(0===t.length)return p;var c,u="",d="number"==typeof r.lineHeightFactor?r.lineHeightFactor:ze,p=r.scope||this;function f(e){for(var t,n=e.concat(),i=[],r=n.length;r--;)"string"==typeof(t=n.shift())?i.push(t):Array.isArray(e)&&1===t.length?i.push(t[0]):i.push([t[0],t[1],t[2]]);return i}function A(e,t){var n;if("string"==typeof e)n=t(e)[0];else if(Array.isArray(e)){for(var i,r,o=e.concat(),s=[],a=o.length;a--;)"string"==typeof(i=o.shift())?s.push(t(i)[0]):Array.isArray(i)&&"string"===i[0]&&(r=t(i[0],i[1],i[2]),s.push([r[0],r[1],r[2]]));n=s}return n}var g=!1,m=!0;if("string"==typeof t)g=!0;else if(Array.isArray(t)){for(var y,b=t.concat(),_=[],C=b.length;C--;)("string"!=typeof(y=b.shift())||Array.isArray(y)&&"string"!=typeof y[0])&&(m=!1);g=m}if(!1===g)throw new Error('Type of text must be string or Array. "'+t+'" is not recognized.');var E=ee[D].encoding;"WinAnsiEncoding"!==E&&"StandardEncoding"!==E||(t=A(t,function(e,t,n){return[(i=e,i=i.split("\t").join(Array(r.TabLen||9).join(" ")),be(i,s)),t,n];var i})),"string"==typeof t&&(t=t.match(/[\r?\n]/)?t.split(/\r\n|\r|\n/g):[t]);var S=W/p.internal.scaleFactor,T=S*(ze-1);switch(r.baseline){case"bottom":i-=T;break;case"top":i+=S-T;break;case"hanging":i+=S-2*T;break;case"middle":i+=S/2-T}0<(k=r.maxWidth||0)&&("string"==typeof t?t=p.splitTextToSize(t,k):"[object Array]"===Object.prototype.toString.call(t)&&(t=p.splitTextToSize(t.join(" "),k)));var L={text:t,x:n,y:i,options:r,mutex:{pdfEscape:be,activeFontKey:D,fonts:ee,activeFontSize:W}};oe.publish("preProcessText",L),t=L.text,a=(r=L.options).angle;var x=p.internal.scaleFactor,I=[];if(a){a*=Math.PI/180;var B=Math.cos(a),F=Math.sin(a);I=[v(B),v(F),v(-1*F),v(B)]}void 0!==(H=r.charSpace)&&(u+=w(H*x)+" Tc\n");var N=-1,O=void 0!==r.renderingMode?r.renderingMode:r.stroke,R=p.internal.getCurrentPageInfo().pageContext;switch(O){case 0:case!1:case"fill":N=0;break;case 1:case!0:case"stroke":N=1;break;case 2:case"fillThenStroke":N=2;break;case 3:case"invisible":N=3;break;case 4:case"fillAndAddForClipping":N=4;break;case 5:case"strokeAndAddPathForClipping":N=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":N=6;break;case 7:case"addToPathForClipping":N=7}-1!==N?u+=N+" Tr\n":-1!==(void 0!==R.usedRenderingMode?R.usedRenderingMode:-1)&&(u+="0 Tr\n"),-1!==N&&(R.usedRenderingMode=N),l=r.align||"left";var M=W*d,U=p.internal.pageSize.getWidth(),P=(x=p.internal.scaleFactor,ee[D]),H=r.charSpace||nt,k=r.maxWidth||0,z=(s={},[]);if("[object Array]"===Object.prototype.toString.call(t)){var j,V;_=f(t),"left"!==l&&(V=_.map(function(e){return p.getStringUnitWidth(e,{font:P,charSpace:H,fontSize:W})*W/x})),Math.max.apply(Math,V);var q,K=0;if("right"===l){n-=V[0],t=[];var X=0;for(C=_.length;X<C;X++)j=0===X?(q=Ke(n),Xe(i)):(q=(K-V[X])*x,-M),t.push([_[X],q,j]),K=V[X]}else if("center"===l)for(n-=V[0]/2,t=[],X=0,C=_.length;X<C;X++)j=0===X?(q=Ke(n),Xe(i)):(q=(K-V[X])/2*x,-M),t.push([_[X],q,j]),K=V[X];else if("left"===l)for(t=[],X=0,C=_.length;X<C;X++)j=0===X?Xe(i):-M,q=0===X?Ke(n):0,t.push(_[X]);else{if("justify"!==l)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(t=[],k=0!==k?k:U,X=0,C=_.length;X<C;X++)j=0===X?Xe(i):-M,q=0===X?Ke(n):0,X<C-1&&z.push(((k-V[X])/(_[X].split(" ").length-1)*x).toFixed(2)),t.push([_[X],q,j])}}!0===("boolean"==typeof r.R2L?r.R2L:G)&&(t=A(t,function(e,t,n){return[e.split("").reverse().join(""),t,n]})),oe.publish("postProcessText",L={text:t,x:n,y:i,options:r,mutex:{pdfEscape:be,activeFontKey:D,fonts:ee,activeFontSize:W}}),c=L.mutex.isHex,_=f(t=L.text),t=[];var J,Y,Z,$=0,te=(C=_.length,"");for(X=0;X<C;X++)te="",Array.isArray(_[X])?(J=parseFloat(_[X][1]),Y=parseFloat(_[X][2]),Z=(c?"<":"(")+_[X][0]+(c?">":")"),$=1):(J=Ke(n),Y=Xe(i),Z=(c?"<":"(")+_[X]+(c?">":")")),void 0!==z&&void 0!==z[X]&&(te=z[X]+" Tw\n"),t.push(0!==I.length&&0===X?te+I.join(" ")+" "+J.toFixed(2)+" "+Y.toFixed(2)+" Tm\n"+Z:1===$||0===$&&0===X?te+J.toFixed(2)+" "+Y.toFixed(2)+" Td\n"+Z:te+Z);t=t.join(0===$?" Tj\nT* ":" Tj\n"),t+=" Tj\n";var ne="BT\n/"+D+" "+W+" Tf\n"+(W*d).toFixed(2)+" TL\n"+et+"\n";return ne+=u,ne+=t,Q(ne+="ET"),h[D]=!0,p},p.__private__.lstext=p.lstext=function(e,t,n,i){return console.warn("jsPDF.lstext is deprecated"),this.text(e,t,n,{charSpace:i})},p.__private__.clip=p.clip=function(e){Q("evenodd"===e?"W*":"W"),Q("n")},p.__private__.clip_fixed=p.clip_fixed=function(e){console.log("clip_fixed is deprecated"),p.clip(e)};var ke=p.__private__.isValidStyle=function(e){var t=!1;return-1!==[void 0,null,"S","F","DF","FD","f","f*","B","B*"].indexOf(e)&&(t=!0),t},Qe=p.__private__.getStyle=function(e){var t="S";return"F"===e?t="f":"FD"===e||"DF"===e?t="B":"f"!==e&&"f*"!==e&&"B"!==e&&"B*"!==e||(t=e),t};p.__private__.line=p.line=function(e,t,n,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(i))throw new Error("Invalid arguments passed to jsPDF.line");return this.lines([[n-e,i-t]],e,t)},p.__private__.lines=p.lines=function(e,t,n,i,r,o){var s,a,l,c,u,d,h,p,f,A,g,m;if("number"==typeof e&&(m=n,n=t,t=e,e=m),i=i||[1,1],o=o||!1,isNaN(t)||isNaN(n)||!Array.isArray(e)||!Array.isArray(i)||!ke(r)||"boolean"!=typeof o)throw new Error("Invalid arguments passed to jsPDF.lines");for(Q(w(Ke(t))+" "+w(Xe(n))+" m "),s=i[0],a=i[1],c=e.length,A=t,g=n,l=0;l<c;l++)2===(u=e[l]).length?(g=u[1]*a+g,Q(w(Ke(A=u[0]*s+A))+" "+w(Xe(g))+" l")):(d=u[0]*s+A,h=u[1]*a+g,p=u[2]*s+A,f=u[3]*a+g,A=u[4]*s+A,g=u[5]*a+g,Q(w(Ke(d))+" "+w(Xe(h))+" "+w(Ke(p))+" "+w(Xe(f))+" "+w(Ke(A))+" "+w(Xe(g))+" c"));return o&&Q(" h"),null!==r&&Q(Qe(r)),this},p.__private__.rect=p.rect=function(e,t,n,i,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(i)||!ke(r))throw new Error("Invalid arguments passed to jsPDF.rect");return Q([v(Ke(e)),v(Xe(t)),v(n*O),v(-i*O),"re"].join(" ")),null!==r&&Q(Qe(r)),this},p.__private__.triangle=p.triangle=function(e,t,n,i,r,o,s){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(i)||isNaN(r)||isNaN(o)||!ke(s))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[n-e,i-t],[r-n,o-i],[e-r,t-o]],e,t,[1,1],s,!0),this},p.__private__.roundedRect=p.roundedRect=function(e,t,n,i,r,o,s){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(i)||isNaN(r)||isNaN(o)||!ke(s))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var a=4/3*(Math.SQRT2-1);return this.lines([[n-2*r,0],[r*a,0,r,o-o*a,r,o],[0,i-2*o],[0,o*a,-r*a,o,-r,o],[2*r-n,0],[-r*a,0,-r,-o*a,-r,-o],[0,2*o-i],[0,-o*a,r*a,-o,r,-o]],e+r,t,[1,1],s),this},p.__private__.ellipse=p.ellipse=function(e,t,n,i,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(i)||!ke(r))throw new Error("Invalid arguments passed to jsPDF.ellipse");var o=4/3*(Math.SQRT2-1)*n,s=4/3*(Math.SQRT2-1)*i;return Q([v(Ke(e+n)),v(Xe(t)),"m",v(Ke(e+n)),v(Xe(t-s)),v(Ke(e+o)),v(Xe(t-i)),v(Ke(e)),v(Xe(t-i)),"c"].join(" ")),Q([v(Ke(e-o)),v(Xe(t-i)),v(Ke(e-n)),v(Xe(t-s)),v(Ke(e-n)),v(Xe(t)),"c"].join(" ")),Q([v(Ke(e-n)),v(Xe(t+s)),v(Ke(e-o)),v(Xe(t+i)),v(Ke(e)),v(Xe(t+i)),"c"].join(" ")),Q([v(Ke(e+o)),v(Xe(t+i)),v(Ke(e+n)),v(Xe(t+s)),v(Ke(e+n)),v(Xe(t)),"c"].join(" ")),null!==r&&Q(Qe(r)),this},p.__private__.circle=p.circle=function(e,t,n,i){if(isNaN(e)||isNaN(t)||isNaN(n)||!ke(i))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(e,t,n,n,i)},p.setFont=function(e,t){return D=Le(e,t,{disableWarning:!1}),this},p.setFontStyle=p.setFontType=function(e){return D=Le(void 0,e),this},p.__private__.getFontList=p.getFontList=function(){var e,t,n,i={};for(e in te)if(te.hasOwnProperty(e))for(t in i[e]=n=[],te[e])te[e].hasOwnProperty(t)&&n.push(t);return i},p.addFont=function(e,t,n,i){we.call(this,e,t,n,i=i||"Identity-H")};var ze,je=l.lineWidth||.200025,Ve=p.__private__.setLineWidth=p.setLineWidth=function(e){return Q((e*O).toFixed(2)+" w"),this},We=(p.__private__.setLineDash=i.API.setLineDash=function(e,t){if(e=e||[],t=t||0,isNaN(t)||!Array.isArray(e))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return e=e.map(function(e){return(e*O).toFixed(3)}).join(" "),t=parseFloat((t*O).toFixed(3)),Q("["+e+"] "+t+" d"),this},p.__private__.getLineHeight=p.getLineHeight=function(){return W*ze}),qe=(We=p.__private__.getLineHeight=p.getLineHeight=function(){return W*ze},p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(e){return"number"==typeof(e=e||1.15)&&(ze=e),this}),Ge=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return ze};qe(l.lineHeight);var Ke=p.__private__.getHorizontalCoordinate=function(e){return e*O},Xe=p.__private__.getVerticalCoordinate=function(e){return ie[x].mediaBox.topRightY-ie[x].mediaBox.bottomLeftY-e*O},Je=p.__private__.getHorizontalCoordinateString=function(e){return v(e*O)},Ye=p.__private__.getVerticalCoordinateString=function(e){return v(ie[x].mediaBox.topRightY-ie[x].mediaBox.bottomLeftY-e*O)},Ze=l.strokeColor||"0 G",$e=(p.__private__.getStrokeColor=p.getDrawColor=function(){return pe(Ze)},p.__private__.setStrokeColor=p.setDrawColor=function(e,t,n,i){return Ze=fe({ch1:e,ch2:t,ch3:n,ch4:i,pdfColorType:"draw",precision:2}),Q(Ze),this},l.fillColor||"0 g"),et=(p.__private__.getFillColor=p.getFillColor=function(){return pe($e)},p.__private__.setFillColor=p.setFillColor=function(e,t,n,i){return $e=fe({ch1:e,ch2:t,ch3:n,ch4:i,pdfColorType:"fill",precision:2}),Q($e),this},l.textColor||"0 g"),tt=p.__private__.getTextColor=p.getTextColor=function(){return pe(et)},nt=(p.__private__.setTextColor=p.setTextColor=function(e,t,n,i){return et=fe({ch1:e,ch2:t,ch3:n,ch4:i,pdfColorType:"text",precision:3}),this},l.charSpace||0),it=p.__private__.getCharSpace=p.getCharSpace=function(){return nt},rt=(p.__private__.setCharSpace=p.setCharSpace=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return nt=e,this},0);p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(e){var t=p.CapJoinStyles[e];if(void 0===t)throw new Error("Line cap style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Q((rt=t)+" J"),this};var ot,st=0;for(var at in p.__private__.setLineJoin=p.setLineJoin=function(e){var t=p.CapJoinStyles[e];if(void 0===t)throw new Error("Line join style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Q((st=t)+" j"),this},p.__private__.setMiterLimit=p.setMiterLimit=function(e){if(e=e||0,isNaN(e))throw new Error("Invalid argument passed to jsPDF.setMiterLimit");return ot=parseFloat(v(e*O)),Q(ot+" M"),this},p.save=function(e,n){if(e=e||"generated.pdf",(n=n||{}).returnPromise=n.returnPromise||!1,!1!==n.returnPromise)return new Promise(function(n,i){try{var r=Ee(Oe(De()),e);"function"==typeof Ee.unload&&t.setTimeout&&setTimeout(Ee.unload,911),n(r)}catch(n){i(n.message)}});Ee(Oe(De()),e),"function"==typeof Ee.unload&&t.setTimeout&&setTimeout(Ee.unload,911)},i.API)i.API.hasOwnProperty(at)&&("events"===at&&i.API.events.length?function(e,t){var n,i;for(i=t.length-1;-1!==i;i--)e.subscribe.apply(e,[t[i][0]].concat("function"==typeof(n=t[i][1])?[n]:n))}(oe,i.API.events):p[at]=i.API[at]);return p.internal={pdfEscape:be,getStyle:Qe,getFont:function(){return ee[Le.apply(p,arguments)]},getFontSize:q,getCharSpace:it,getTextColor:tt,getLineHeight:We,getLineHeightFactor:Ge,write:z,getHorizontalCoordinate:Ke,getVerticalCoordinate:Xe,getCoordinateString:Je,getVerticalCoordinateString:Ye,collections:{},newObject:ae,newAdditionalObject:ue,newObjectDeferred:le,newObjectDeferredBegin:ce,getFilters:Ae,putStream:ge,events:oe,scaleFactor:O,pageSize:{getWidth:function(){return(ie[x].mediaBox.topRightX-ie[x].mediaBox.bottomLeftX)/O},setWidth:function(e){ie[x].mediaBox.topRightX=e*O+ie[x].mediaBox.bottomLeftX},getHeight:function(){return(ie[x].mediaBox.topRightY-ie[x].mediaBox.bottomLeftY)/O},setHeight:function(e){ie[x].mediaBox.topRightY=e*O+ie[x].mediaBox.bottomLeftY}},output:Re,getNumberOfPages:Te,pages:P,out:Q,f2:v,f3:w,getPageInfo:Ue,getPageInfoByObjId:Pe,getCurrentPageInfo:He,getPDFVersion:A,hasHotfix:Me},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return(ie[x].mediaBox.topRightX-ie[x].mediaBox.bottomLeftX)/O},set:function(e){ie[x].mediaBox.topRightX=e*O+ie[x].mediaBox.bottomLeftX},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return(ie[x].mediaBox.topRightY-ie[x].mediaBox.bottomLeftY)/O},set:function(e){ie[x].mediaBox.topRightY=e*O+ie[x].mediaBox.bottomLeftY},enumerable:!0,configurable:!0}),function(e){for(var t=0,n=V.length;t<n;t++){var i=we(e[t][0],e[t][1],e[t][2],V[t][3],!0);h[i]=!0;var r=e[t][0].split("-");ve(i,r[0],r[1]||"")}oe.publish("addFonts",{fonts:ee,dictionary:te})}(V),D="F1",Ce(s,r),oe.publish("initialized"),p}return i.API={events:[]},i.version="1.5.3",t.jsPDF=i,"function"==typeof define&&define.amd?define("jsPDF",function(){return i}):"undefined"!=typeof module&&module.exports?(module.exports=i,module.exports.jsPDF=i):t.jsPDF=i,i}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||"undefined"!=typeof global&&global||Function('return typeof this === "object" && this.content')()||Function("return this")());(function(t,n){var i,r=1,o=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},s=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},a=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f2");return e.toFixed(2)},l=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f2");return e.toFixed(5)};t.__acroform__={};var c=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},u=function(e){return e*r},d=function(e){return e/r},h=function(e){var t=new O,n=K.internal.getHeight(e)||0,i=K.internal.getWidth(e)||0;return t.BBox=[0,0,Number(a(i)),Number(a(n))],t},p=t.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},f=t.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},A=t.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return 0==(e&1<<t)?0:1},g=t.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return A(e,t-1)},m=t.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return p(e,t-1)},y=t.__acroform__.clearBitForPdf=function(e,t,n){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return f(e,t-1)},v=t.__acroform__.calculateCoordinates=function(e){var t=this.internal.getHorizontalCoordinate,n=this.internal.getVerticalCoordinate,i=e[0],r=e[1],o=e[2],s=e[3],l={};return l.lowerLeft_X=t(i)||0,l.lowerLeft_Y=n(r+s)||0,l.upperRight_X=t(i+o)||0,l.upperRight_Y=n(r)||0,[Number(a(l.lowerLeft_X)),Number(a(l.lowerLeft_Y)),Number(a(l.upperRight_X)),Number(a(l.upperRight_Y))]},w=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=b(e,e.V||e.DV),r=i.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(i.__private__.encodeColorString(e.color)),t.push("/"+r+" "+a(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var o=new h(e);return o.stream=t.join("\n"),o}},b=function(e,t){var n=e.maxFontSize||12,r={text:"",fontSize:""},s=(t=")"==(t="("==t.substr(0,1)?t.substr(1):t).substr(t.length-1)?t.substr(0,t.length-1):t).split(" "),l=(i.__private__.encodeColorString(e.color),n),c=K.internal.getHeight(e)||0;c=c<0?-c:c;var u=K.internal.getWidth(e)||0;u=u<0?-u:u;var d=function(t,n,i){return t+1<s.length&&_(n+" "+s[t+1],e,i).width<=u-4};l++;e:for(;;){t="";var h=_("3",e,--l).height,p=e.multiline?c-l:(c-h)/2,f=-2,A=p+=2,g=0,m=0,y=0;if(l<=0){t="(...) Tj\n",t+="% Width of Text: "+_(t,e,l=12).width+", FieldWidth:"+u+"\n";break}y=_(s[0]+" ",e,l).width;var v="",w=0;for(var b in s)if(s.hasOwnProperty(b)){v=" "==(v+=s[b]+" ").substr(v.length-1)?v.substr(0,v.length-1):v;var C=parseInt(b);y=_(v+" ",e,l).width;var E=d(C,v,l),S=b>=s.length-1;if(E&&!S){v+=" ";continue}if(E||S){if(S)m=C;else if(e.multiline&&c<(h+2)*(w+2)+2)continue e}else{if(!e.multiline)continue e;if(c<(h+2)*(w+2)+2)continue e;m=C}for(var T="",L=g;L<=m;L++)T+=s[L]+" ";switch(T=" "==T.substr(T.length-1)?T.substr(0,T.length-1):T,y=_(T,e,l).width,e.textAlign){case"right":f=u-y-2;break;case"center":f=(u-y)/2;break;case"left":default:f=2}t+=a(f)+" "+a(A)+" Td\n",t+="("+o(T)+") Tj\n",t+=-a(f)+" 0 Td\n",A=-(l+2),y=0,g=m+1,w++,v=""}break}return r.text=t,r.fontSize=l,r},_=function(e,t,n){var r=i.internal.getFont(t.fontName,t.fontStyle),o=i.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:i.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:o}},C={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},E=function(){i.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var e=i.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];n.objId=void 0,n.hasAnnotation&&S.call(i,n)}},S=function(e){var t={type:"reference",object:e};void 0===i.internal.getPageInfo(e.page).pageContext.annotations.find(function(e){return e.type===t.type&&e.object===t.object})&&i.internal.getPageInfo(e.page).pageContext.annotations.push(t)},T=function(){if(void 0===i.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");i.internal.write("/AcroForm "+i.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")},L=function(){i.internal.events.unsubscribe(i.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete i.internal.acroformPlugin.acroFormDictionaryRoot._eventID,i.internal.acroformPlugin.printedOut=!0},x=function(t){var n=!t;for(var r in t||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),t=t||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(t.hasOwnProperty(r)){var o=t[r],s=[],a=o.Rect;if(o.Rect&&(o.Rect=v.call(this,o.Rect)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=K.createDefaultAppearanceStream(o),"object"===e(o)&&"function"==typeof o.getKeyValueListForStream&&(s=o.getKeyValueListForStream()),o.Rect=a,o.hasAppearanceStream&&!o.appearanceStreamContent){var l=w.call(this,o);s.push({key:"AP",value:"<</N "+l+">>"}),i.internal.acroformPlugin.xForms.push(l)}if(o.appearanceStreamContent){var c="";for(var u in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(u)){var d=o.appearanceStreamContent[u];if(c+="/"+u+" ",c+="<<",1<=Object.keys(d).length||Array.isArray(d))for(var r in d){var h;d.hasOwnProperty(r)&&("function"==typeof(h=d[r])&&(h=h.call(this,o)),c+="/"+r+" "+h+" ",0<=i.internal.acroformPlugin.xForms.indexOf(h)||i.internal.acroformPlugin.xForms.push(h))}else"function"==typeof(h=d)&&(h=h.call(this,o)),c+="/"+r+" "+h,0<=i.internal.acroformPlugin.xForms.indexOf(h)||i.internal.acroformPlugin.xForms.push(h);c+=">>"}s.push({key:"AP",value:"<<\n"+c+">>"})}i.internal.putStream({additionalKeyValues:s}),i.internal.out("endobj")}n&&I.call(this,i.internal.acroformPlugin.xForms)},I=function(t){for(var n in t)if(t.hasOwnProperty(n)){var r=n,o=t[n];i.internal.newObjectDeferredBegin(o&&o.objId,!0),"object"===e(o)&&"function"==typeof o.putStream&&o.putStream(),delete t[r]}},B=function(){if(void 0!==this.internal&&(void 0===this.internal.acroformPlugin||!1===this.internal.acroformPlugin.isInitialized)){if(i=this,M.FieldNum=0,this.internal.acroformPlugin=JSON.parse(JSON.stringify(C)),this.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");r=i.internal.scaleFactor,i.internal.acroformPlugin.acroFormDictionaryRoot=new R,i.internal.acroformPlugin.acroFormDictionaryRoot._eventID=i.internal.events.subscribe("postPutResources",L),i.internal.events.subscribe("buildDocument",E),i.internal.events.subscribe("putCatalog",T),i.internal.events.subscribe("postPutPages",x),i.internal.acroformPlugin.isInitialized=!0}},F=t.__acroform__.arrayToPdfArray=function(t){if(Array.isArray(t)){for(var n="[",i=0;i<t.length;i++)switch(0!==i&&(n+=" "),e(t[i])){case"boolean":case"number":case"object":n+=t[i].toString();break;case"string":"/"!==t[i].substr(0,1)?n+="("+o(t[i].toString())+")":n+=t[i].toString()}return n+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},N=function(e){return(e=e||"").toString(),"("+o(e)+")"},D=function(){var e;Object.defineProperty(this,"objId",{configurable:!0,get:function(){if(e||(e=i.internal.newObjectDeferred()),!e)throw new Error("AcroFormPDFObject: Couldn't create Object ID");return e},set:function(t){e=t}})};D.prototype.toString=function(){return this.objId+" 0 R"},D.prototype.putStream=function(){var e=this.getKeyValueListForStream();i.internal.putStream({data:this.stream,additionalKeyValues:e}),i.internal.out("endobj")},D.prototype.getKeyValueListForStream=function(){return function(e){var t=[],n=Object.getOwnPropertyNames(e).filter(function(e){return"content"!=e&&"appearanceStreamContent"!=e&&"_"!=e.substring(0,1)});for(var i in n)if(!1===Object.getOwnPropertyDescriptor(e,n[i]).configurable){var r=n[i],o=e[r];o&&(Array.isArray(o)?t.push({key:r,value:F(o)}):o instanceof D?t.push({key:r,value:o.objId+" 0 R"}):"function"!=typeof o&&t.push({key:r,value:o}))}return t}(this)};var O=function(){D.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writeable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writeable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writeable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,writeable:!0,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writeable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){e=t.trim()},get:function(){return e||null}})};c(O,D);var R=function(){D.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return 0<t.length?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e)return"("+e+")"},set:function(t){e=t}})};c(R,D);var M=function e(){D.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute F supplied.');t=e}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(t,3))},set:function(e){this.F=!0===Boolean(e)?m(t,3):y(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute Ff supplied.');n=e}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==i.length)return i},set:function(e){i=void 0!==e?e:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:d(i[0])},set:function(e){i[0]=u(e)}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:d(i[1])},set:function(e){i[1]=u(e)}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:d(i[2])},set:function(e){i[2]=u(e)}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:d(i[3])},set:function(e){i[3]=u(e)}});var r="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){switch(e){case"/Btn":case"/Tx":case"/Ch":case"/Sig":r=e;break;default:throw new Error('Invalid value "'+e+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof V)return;a="FieldObject"+e.FieldNum++}return"("+o(a)+")"},set:function(e){a=e.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(e){a=e}});var l="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return l},set:function(e){l=e}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(e){c=e}});var h=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return d(h)},set:function(e){h=u(e)}});var p=50;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d(p)},set:function(e){p=u(e)}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(e){f=e}});var A="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!A||this instanceof V||this instanceof q))return N(A)},set:function(e){e=e.toString(),A=e}});var v=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(v)return this instanceof Q==0?N(v):v},set:function(e){e=e.toString(),v=this instanceof Q==0?"("===e.substr(0,1)?s(e.substr(1,e.length-2)):s(e):e}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Q==1?s(v.substr(1,v.length-1)):v},set:function(e){e=e.toString(),v=this instanceof Q==1?"/"+e:e}});var w=null;Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof Q==0?N(w):w},set:function(e){e=e.toString(),w=this instanceof Q==0?"("===e.substr(0,1)?s(e.substr(1,e.length-2)):s(e):e}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Q==1?s(w.substr(1,w.length-1)):w},set:function(e){e=e.toString(),w=this instanceof Q==1?"/"+e:e}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var b,_=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,writeable:!0,get:function(){return _},set:function(e){e=Boolean(e),_=e}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,writeable:!0,get:function(){if(b)return b},set:function(e){b=e}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(this.Ff,1))},set:function(e){this.Ff=!0===Boolean(e)?m(this.Ff,1):y(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(this.Ff,2))},set:function(e){this.Ff=!0===Boolean(e)?m(this.Ff,2):y(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(this.Ff,3))},set:function(e){this.Ff=!0===Boolean(e)?m(this.Ff,3):y(this.Ff,3)}});var C=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==C)return C},set:function(e){if(-1===[0,1,2].indexOf(e))throw new Error('Invalid value "'+e+'" for attribute Q supplied.');C=e}}),Object.defineProperty(this,"textAlign",{get:function(){var e="left";switch(C){case 0:default:e="left";break;case 1:e="center";break;case 2:e="right"}return e},configurable:!0,enumerable:!0,set:function(e){switch(e){case"right":case 2:C=2;break;case"center":case 1:C=1;break;case"left":case 0:default:C=0}}})};c(M,D);var U=function(){M.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){e=t}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return F(t)},set:function(e){var n,i;i=[],"string"==typeof(n=e)&&(i=function(e,t,n){n||(n=1);for(var i,r=[];i=t.exec(e);)r.push(i[n]);return r}(n,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,n){for(n=n||!1,e=(e=e||"").toString();-1!==t.indexOf(e)&&(t.splice(t.indexOf(e),1),!1!==n););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(this.Ff,18))},set:function(e){this.Ff=!0===Boolean(e)?m(this.Ff,18):y(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(this.Ff,19))},set:function(e){!0===this.combo&&(this.Ff=!0===Boolean(e)?m(this.Ff,19):y(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(this.Ff,20))},set:function(e){!0===Boolean(e)?(this.Ff=m(this.Ff,20),t.sort()):this.Ff=y(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(this.Ff,22))},set:function(e){this.Ff=!0===Boolean(e)?m(this.Ff,22):y(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(this.Ff,23))},set:function(e){this.Ff=!0===Boolean(e)?m(this.Ff,23):y(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(this.Ff,27))},set:function(e){this.Ff=!0===Boolean(e)?m(this.Ff,27):y(this.Ff,27)}}),this.hasAppearanceStream=!1};c(U,M);var P=function(){U.call(this),this.fontName="helvetica",this.combo=!1};c(P,U);var H=function(){P.call(this),this.combo=!0};c(H,P);var k=function(){H.call(this),this.edit=!0};c(k,H);var Q=function(){M.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(this.Ff,15))},set:function(e){this.Ff=!0===Boolean(e)?m(this.Ff,15):y(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(this.Ff,16))},set:function(e){this.Ff=!0===Boolean(e)?m(this.Ff,16):y(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(this.Ff,17))},set:function(e){this.Ff=!0===Boolean(e)?m(this.Ff,17):y(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(this.Ff,26))},set:function(e){this.Ff=!0===Boolean(e)?m(this.Ff,26):y(this.Ff,26)}});var t,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){if(0!==Object.keys(n).length){var e,t=[];for(e in t.push("<<"),n)t.push("/"+e+" ("+n[e]+")");return t.push(">>"),t.join("\n")}},set:function(t){"object"===e(t)&&(n=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(e){"string"==typeof e&&(n.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(e){t="/"+e}})};c(Q,M);var z=function(){Q.call(this),this.pushButton=!0};c(z,Q);var j=function(){Q.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=void 0!==t?t:[]}})};c(j,Q);var V=function(){var t,n;M.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return n},set:function(e){n=e}});var i,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e,t=[];for(e in t.push("<<"),r)t.push("/"+e+" ("+r[e]+")");return t.push(">>"),t.join("\n")},set:function(t){"object"===e(t)&&(r=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(e){"string"==typeof e&&(r.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return i},set:function(e){i=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return i.substr(1,i.length-1)},set:function(e){i="/"+e}}),this.optionName=name,this.caption="l",this.appearanceState="Off",this._AppearanceType=K.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(name)};c(V,M),j.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},j.prototype.createOption=function(e){var t=new V;return t.Parent=this,t.optionName=e,this.Kids.push(t),X.call(this,t),t};var W=function(){Q.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=K.CheckBox.createAppearanceStream()};c(W,Q);var q=function(){M.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(this.Ff,13))},set:function(e){this.Ff=!0===Boolean(e)?m(this.Ff,13):y(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(this.Ff,21))},set:function(e){this.Ff=!0===Boolean(e)?m(this.Ff,21):y(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(this.Ff,23))},set:function(e){this.Ff=!0===Boolean(e)?m(this.Ff,23):y(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(this.Ff,24))},set:function(e){this.Ff=!0===Boolean(e)?m(this.Ff,24):y(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(this.Ff,25))},set:function(e){this.Ff=!0===Boolean(e)?m(this.Ff,25):y(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(this.Ff,26))},set:function(e){this.Ff=!0===Boolean(e)?m(this.Ff,26):y(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};c(q,M);var G=function(){q.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(g(this.Ff,14))},set:function(e){this.Ff=!0===Boolean(e)?m(this.Ff,14):y(this.Ff,14)}}),this.password=!0};c(G,q);var K={CheckBox:{createAppearanceStream:function(){return{N:{On:K.CheckBox.YesNormal},D:{On:K.CheckBox.YesPushDown,Off:K.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=h(e),n=[],r=i.internal.getFont(e.fontName,e.fontStyle).id,o=i.__private__.encodeColorString(e.color),s=b(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+a(K.internal.getWidth(e))+" "+a(K.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+a(s.fontSize)+" Tf "+o),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join("\n"),t},YesNormal:function(e){var t=h(e),n=i.internal.getFont(e.fontName,e.fontStyle).id,r=i.__private__.encodeColorString(e.color),o=[],s=K.internal.getHeight(e),l=K.internal.getWidth(e),c=b(e,e.caption);return o.push("1 g"),o.push("0 0 "+a(l)+" "+a(s)+" re"),o.push("f"),o.push("q"),o.push("0 0 1 rg"),o.push("0 0 "+a(l-1)+" "+a(s-1)+" re"),o.push("W"),o.push("n"),o.push("0 g"),o.push("BT"),o.push("/"+n+" "+a(c.fontSize)+" Tf "+r),o.push(c.text),o.push("ET"),o.push("Q"),t.stream=o.join("\n"),t},OffPushDown:function(e){var t=h(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+a(K.internal.getWidth(e))+" "+a(K.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join("\n"),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:K.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=K.RadioButton.Circle.YesNormal,t.D[e]=K.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=h(e),n=[],i=K.internal.getWidth(e)<=K.internal.getHeight(e)?K.internal.getWidth(e)/4:K.internal.getHeight(e)/4;i=Number((.9*i).toFixed(5));var r=Number((i*K.internal.Bezier_C).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+l(K.internal.getWidth(e)/2)+" "+l(K.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+r+" "+r+" "+i+" 0 "+i+" c"),n.push("-"+r+" "+i+" -"+i+" "+r+" -"+i+" 0 c"),n.push("-"+i+" -"+r+" -"+r+" -"+i+" 0 -"+i+" c"),n.push(r+" -"+i+" "+i+" -"+r+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t},YesPushDown:function(e){var t=h(e),n=[],i=K.internal.getWidth(e)<=K.internal.getHeight(e)?K.internal.getWidth(e)/4:K.internal.getHeight(e)/4,r=(i=Number((.9*i).toFixed(5)),Number((2*i).toFixed(5))),o=Number((r*K.internal.Bezier_C).toFixed(5)),s=Number((i*K.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+l(K.internal.getWidth(e)/2)+" "+l(K.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+l(K.internal.getWidth(e)/2)+" "+l(K.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t},OffPushDown:function(e){var t=h(e),n=[],i=K.internal.getWidth(e)<=K.internal.getHeight(e)?K.internal.getWidth(e)/4:K.internal.getHeight(e)/4,r=(i=Number((.9*i).toFixed(5)),Number((2*i).toFixed(5))),o=Number((r*K.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+l(K.internal.getWidth(e)/2)+" "+l(K.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:K.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=K.RadioButton.Cross.YesNormal,t.D[e]=K.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=h(e),n=[],i=K.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+a(K.internal.getWidth(e)-2)+" "+a(K.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(a(i.x1.x)+" "+a(i.x1.y)+" m"),n.push(a(i.x2.x)+" "+a(i.x2.y)+" l"),n.push(a(i.x4.x)+" "+a(i.x4.y)+" m"),n.push(a(i.x3.x)+" "+a(i.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join("\n"),t},YesPushDown:function(e){var t=h(e),n=K.internal.calculateCross(e),i=[];return i.push("0.749023 g"),i.push("0 0 "+a(K.internal.getWidth(e))+" "+a(K.internal.getHeight(e))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+a(K.internal.getWidth(e)-2)+" "+a(K.internal.getHeight(e)-2)+" re"),i.push("W"),i.push("n"),i.push(a(n.x1.x)+" "+a(n.x1.y)+" m"),i.push(a(n.x2.x)+" "+a(n.x2.y)+" l"),i.push(a(n.x4.x)+" "+a(n.x4.y)+" m"),i.push(a(n.x3.x)+" "+a(n.x3.y)+" l"),i.push("s"),i.push("Q"),t.stream=i.join("\n"),t},OffPushDown:function(e){var t=h(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+a(K.internal.getWidth(e))+" "+a(K.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join("\n"),t}}},createDefaultAppearanceStream:function(e){var t=i.internal.getFont(e.fontName,e.fontStyle).id,n=i.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};K.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=K.internal.getWidth(e),n=K.internal.getHeight(e),i=Math.min(t,n);return{x1:{x:(t-i)/2,y:(n-i)/2+i},x2:{x:(t-i)/2+i,y:(n-i)/2},x3:{x:(t-i)/2,y:(n-i)/2},x4:{x:(t-i)/2+i,y:(n-i)/2+i}}}},K.internal.getWidth=function(t){var n=0;return"object"===e(t)&&(n=u(t.Rect[2])),n},K.internal.getHeight=function(t){var n=0;return"object"===e(t)&&(n=u(t.Rect[3])),n};var X=t.addField=function(e){if(B.call(this),!(e instanceof M))throw new Error("Invalid argument passed to jsPDF.addField.");return(function(e){i.internal.acroformPlugin.printedOut&&(i.internal.acroformPlugin.printedOut=!1,i.internal.acroformPlugin.acroFormDictionaryRoot=null),i.internal.acroformPlugin.acroFormDictionaryRoot||B.call(i),i.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e)}).call(this,e),e.page=i.internal.getCurrentPageInfo().pageNumber,this};t.addButton=function(e){if(e instanceof Q==0)throw new Error("Invalid argument passed to jsPDF.addButton.");return X.call(this,e)},t.addTextField=function(e){if(e instanceof q==0)throw new Error("Invalid argument passed to jsPDF.addTextField.");return X.call(this,e)},t.addChoiceField=function(e){if(e instanceof U==0)throw new Error("Invalid argument passed to jsPDF.addChoiceField.");return X.call(this,e)},"object"==e(n)&&void 0===n.ChoiceField&&void 0===n.ListBox&&void 0===n.ComboBox&&void 0===n.EditBox&&void 0===n.Button&&void 0===n.PushButton&&void 0===n.RadioButton&&void 0===n.CheckBox&&void 0===n.TextField&&void 0===n.PasswordField?(n.ChoiceField=U,n.ListBox=P,n.ComboBox=H,n.EditBox=k,n.Button=Q,n.PushButton=z,n.RadioButton=j,n.CheckBox=W,n.TextField=q,n.PasswordField=G,n.AcroForm={Appearance:K}):console.warn("AcroForm-Classes are not populated into global-namespace, because the class-Names exist already."),t.AcroFormChoiceField=U,t.AcroFormListBox=P,t.AcroFormComboBox=H,t.AcroFormEditBox=k,t.AcroFormButton=Q,t.AcroFormPushButton=z,t.AcroFormRadioButton=j,t.AcroFormCheckBox=W,t.AcroFormTextField=q,t.AcroFormPasswordField=G,t.AcroFormAppearance=K,t.AcroForm={ChoiceField:U,ListBox:P,ComboBox:H,EditBox:k,Button:Q,PushButton:z,RadioButton:j,CheckBox:W,TextField:q,PasswordField:G,Appearance:K}})((window.tmp=le).API,"undefined"!=typeof window&&window||"undefined"!=typeof global&&global),function(t){var n="addImage_",i={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.getImageFileTypeByImageData=function(e,n){var r,o;n=n||"UNKNOWN";var s,a,l,c="UNKNOWN";for(l in t.isArrayBufferView(e)&&(e=t.arrayBufferToBinaryString(e)),i)for(s=i[l],r=0;r<s.length;r+=1){for(a=!0,o=0;o<s[r].length;o+=1)if(void 0!==s[r][o]&&s[r][o]!==e.charCodeAt(o)){a=!1;break}if(!0===a){c=l;break}}return"UNKNOWN"===c&&"UNKNOWN"!==n&&(console.warn('FileType of Image not recognized. Processing image as "'+n+'".'),c=n),c},o=function e(t){for(var n=this.internal.newObject(),i=this.internal.write,r=this.internal.putStream,o=(0,this.internal.getFilters)();-1!==o.indexOf("FlateEncode");)o.splice(o.indexOf("FlateEncode"),1);t.n=n;var s=[];if(s.push({key:"Type",value:"/XObject"}),s.push({key:"Subtype",value:"/Image"}),s.push({key:"Width",value:t.w}),s.push({key:"Height",value:t.h}),t.cs===this.color_spaces.INDEXED?s.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(t.pal.length/3-1)+" "+("smask"in t?n+2:n+1)+" 0 R]"}):(s.push({key:"ColorSpace",value:"/"+t.cs}),t.cs===this.color_spaces.DEVICE_CMYK&&s.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),s.push({key:"BitsPerComponent",value:t.bpc}),"dp"in t&&s.push({key:"DecodeParms",value:"<<"+t.dp+">>"}),"trns"in t&&t.trns.constructor==Array){for(var a="",l=0,c=t.trns.length;l<c;l++)a+=t.trns[l]+" "+t.trns[l]+" ";s.push({key:"Mask",value:"["+a+"]"})}if("smask"in t&&s.push({key:"SMask",value:n+1+" 0 R"}),r({data:t.data,additionalKeyValues:s,alreadyAppliedFilters:void 0!==t.f?["/"+t.f]:void 0}),i("endobj"),"smask"in t){var u={w:t.w,h:t.h,cs:"DeviceGray",bpc:t.bpc,dp:"/Predictor "+t.p+" /Colors 1 /BitsPerComponent "+t.bpc+" /Columns "+t.w,data:t.smask};"f"in t&&(u.f=t.f),e.call(this,u)}t.cs===this.color_spaces.INDEXED&&(this.internal.newObject(),r({data:this.arrayBufferToBinaryString(new Uint8Array(t.pal))}),i("endobj"))},s=function(){var e=this.internal.collections[n+"images"];for(var t in e)o.call(this,e[t])},a=function(){var e,t=this.internal.collections[n+"images"],i=this.internal.write;for(var r in t)i("/I"+(e=t[r]).i,e.n,"0","R")},l=function(e){return"function"==typeof t["process"+e.toUpperCase()]},c=function(t){return"object"===e(t)&&1===t.nodeType},u=function(e,n){if("IMG"===e.nodeName&&e.hasAttribute("src")){var i=""+e.getAttribute("src");if(0===i.indexOf("data:image/"))return unescape(i);var r=t.loadFile(i);if(void 0!==r)return btoa(r)}if("CANVAS"===e.nodeName){var o=e;return e.toDataURL("image/jpeg",1)}(o=document.createElement("canvas")).width=e.clientWidth||e.width,o.height=e.clientHeight||e.height;var s=o.getContext("2d");if(!s)throw"addImage requires canvas to be supported by browser.";return s.drawImage(e,0,0,o.width,o.height),o.toDataURL("png"==(""+n).toLowerCase()?"image/png":"image/jpeg")},d=function(e,t){var n;if(t)for(var i in t)if(e===t[i].alias){n=t[i];break}return n};t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"},t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"},t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},t.sHashCode=function(e){var t,n=0;if(0===(e=e||"").length)return n;for(t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return n},t.isString=function(e){return"string"==typeof e},t.validateStringAsBase64=function(e){(e=e||"").toString().trim();var t=!0;return 0===e.length&&(t=!1),e.length%4!=0&&(t=!1),!1===/^[A-Za-z0-9+\/]+$/.test(e.substr(0,e.length-2))&&(t=!1),!1===/^[A-Za-z0-9\/][A-Za-z0-9+\/]|[A-Za-z0-9+\/]=|==$/.test(e.substr(-2))&&(t=!1),t},t.extractInfoFromBase64DataURI=function(e){return/^data:([\w]+?\/([\w]+?));\S*;*base64,(.+)$/g.exec(e)},t.extractImageFromDataUrl=function(e){var t=(e=e||"").split("base64,"),n=null;if(2===t.length){var i=/^data:(\w*\/\w*);*(charset=[\w=-]*)*;*$/.exec(t[0]);Array.isArray(i)&&(n={mimeType:i[1],charset:i[2],data:t[1]})}return n},t.supportsArrayBuffer=function(){return"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array},t.isArrayBuffer=function(e){return!!this.supportsArrayBuffer()&&e instanceof ArrayBuffer},t.isArrayBufferView=function(e){return!!this.supportsArrayBuffer()&&"undefined"!=typeof Uint32Array&&(e instanceof Int8Array||e instanceof Uint8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)},t.binaryStringToUint8Array=function(e){for(var t=e.length,n=new Uint8Array(t),i=0;i<t;i++)n[i]=e.charCodeAt(i);return n},t.arrayBufferToBinaryString=function(e){if("function"==typeof atob)return atob(this.arrayBufferToBase64(e))},t.arrayBufferToBase64=function(e){for(var t,n="",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=new Uint8Array(e),o=r.byteLength,s=o%3,a=o-s,l=0;l<a;l+=3)n+=i[(16515072&(t=r[l]<<16|r[l+1]<<8|r[l+2]))>>18]+i[(258048&t)>>12]+i[(4032&t)>>6]+i[63&t];return 1==s?n+=i[(252&(t=r[a]))>>2]+i[(3&t)<<4]+"==":2==s&&(n+=i[(64512&(t=r[a]<<8|r[a+1]))>>10]+i[(1008&t)>>4]+i[(15&t)<<2]+"="),n},t.createImageInfo=function(e,t,n,i,r,o,s,a,l,c,u,d,h){var p={alias:a,w:t,h:n,cs:i,bpc:r,i:s,data:e};return o&&(p.f=o),l&&(p.dp=l),c&&(p.trns=c),u&&(p.pal=u),d&&(p.smask=d),h&&(p.p=h),p},t.addImage=function(i,r,o,h,p,f,A,g,m){var y="";if("string"!=typeof r){var v=f;f=p,p=h,h=o,o=r,r=v}if("object"===e(i)&&!c(i)&&"imageData"in i){var w=i;i=w.imageData,r=w.format||r||"UNKNOWN",o=w.x||o||0,h=w.y||h||0,p=w.w||p,f=w.h||f,A=w.alias||A,g=w.compression||g,m=w.rotation||w.angle||m}var b=this.internal.getFilters();if(void 0===g&&-1!==b.indexOf("FlateEncode")&&(g="SLOW"),"string"==typeof i&&(i=unescape(i)),isNaN(o)||isNaN(h))throw console.error("jsPDF.addImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addImage");var _,C,E,S,T,L,x,I=(function(){var e=this.internal.collections[n+"images"];return e||(this.internal.collections[n+"images"]=e={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",a)),e}).call(this);if(!((_=d(i,I))||(c(i)&&(i=u(i,r)),(null==(x=A)||0===x.length)&&(A="string"==typeof(L=i)?t.sHashCode(L):t.isArrayBufferView(L)?t.sHashCode(t.arrayBufferToBinaryString(L)):null),_=d(A,I)))){if(this.isString(i)&&(""!==(y=this.convertStringToImageData(i))||void 0!==(y=t.loadFile(i)))&&(i=y),r=this.getImageFileTypeByImageData(i,r),!l(r))throw new Error("addImage does not support files of type '"+r+"', please ensure that a plugin for '"+r+"' support is added.");if(this.supportsArrayBuffer()&&(i instanceof Uint8Array||(C=i,i=this.binaryStringToUint8Array(i))),!(_=this["process"+r.toUpperCase()](i,(T=0,(S=I)&&(T=Object.keys?Object.keys(S).length:function(e){var t=0;for(var n in e)e.hasOwnProperty(n)&&t++;return t}(S)),T),A,((E=g)&&"string"==typeof E&&(E=E.toUpperCase()),E in t.image_compression?E:t.image_compression.NONE),C)))throw new Error("An unknown error occurred whilst processing the image")}return(function(e,t,n,i,r,o,s,a){var l=(function(e,t,n){return e||t||(t=e=-96),e<0&&(e=-1*n.w*72/e/this.internal.scaleFactor),t<0&&(t=-1*n.h*72/t/this.internal.scaleFactor),0===e&&(e=t*n.w/n.h),0===t&&(t=e*n.h/n.w),[e,t]}).call(this,n,i,r),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;if(n=l[0],i=l[1],s[o]=r,a){a*=Math.PI/180;var d=Math.cos(a),h=Math.sin(a),p=function(e){return e.toFixed(4)},f=[p(d),p(h),p(-1*h),p(d),0,0,"cm"]}this.internal.write("q"),a?(this.internal.write([1,"0","0",1,c(e),u(t+i),"cm"].join(" ")),this.internal.write(f.join(" ")),this.internal.write([c(n),"0","0",c(i),"0","0","cm"].join(" "))):this.internal.write([c(n),"0","0",c(i),c(e),u(t+i),"cm"].join(" ")),this.internal.write("/I"+r.i+" Do"),this.internal.write("Q")}).call(this,o,h,p,f,_,_.i,I,m),this},t.convertStringToImageData=function(e){var n,i="";if(this.isString(e)){var r;n=null!==(r=this.extractImageFromDataUrl(e))?r.data:e;try{i=atob(n)}catch(e){throw t.validateStringAsBase64(n)?new Error("atob-Error in jsPDF.convertStringToImageData "+e.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertStringToImageData ")}}return i};var h=function(e,t){return e.subarray(t,t+5)};t.processJPEG=function(e,t,n,i,o,s){var a,l=this.decode.DCT_DECODE;if(!this.isString(e)&&!this.isArrayBuffer(e)&&!this.isArrayBufferView(e))return null;if(this.isString(e)&&(a=function(e){var t;if("JPEG"!==r(e))throw new Error("getJpegSize requires a binary string jpeg file");for(var n=256*e.charCodeAt(4)+e.charCodeAt(5),i=4,o=e.length;i<o;){if(255!==e.charCodeAt(i+=n))throw new Error("getJpegSize could not find the size of the image");if(192===e.charCodeAt(i+1)||193===e.charCodeAt(i+1)||194===e.charCodeAt(i+1)||195===e.charCodeAt(i+1)||196===e.charCodeAt(i+1)||197===e.charCodeAt(i+1)||198===e.charCodeAt(i+1)||199===e.charCodeAt(i+1))return t=256*e.charCodeAt(i+5)+e.charCodeAt(i+6),[256*e.charCodeAt(i+7)+e.charCodeAt(i+8),t,e.charCodeAt(i+9)];n=256*e.charCodeAt(i+=2)+e.charCodeAt(i+1)}}(e)),this.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.isArrayBufferView(e)&&(a=function(e){if(65496!=(e[0]<<8|e[1]))throw new Error("Supplied data is not a JPEG");for(var t,n=e.length,i=(e[4]<<8)+e[5],r=4;r<n;){if(i=((t=h(e,r+=i))[2]<<8)+t[3],(192===t[1]||194===t[1])&&255===t[0]&&7<i)return{width:((t=h(e,r+5))[2]<<8)+t[3],height:(t[0]<<8)+t[1],numcomponents:t[4]};r+=2}throw new Error("getJpegSizeFromBytes could not find the size of the image")}(e),e=o||this.arrayBufferToBinaryString(e)),void 0===s)switch(a.numcomponents){case 1:s=this.color_spaces.DEVICE_GRAY;break;case 4:s=this.color_spaces.DEVICE_CMYK;break;default:case 3:s=this.color_spaces.DEVICE_RGB}return this.createImageInfo(e,a.width,a.height,s,8,l,t,n)},t.processJPG=function(){return this.processJPEG.apply(this,arguments)},t.getImageProperties=function(e){var n,i,r="";if(c(e)&&(e=u(e)),this.isString(e)&&(""!==(r=this.convertStringToImageData(e))||void 0!==(r=t.loadFile(e)))&&(e=r),i=this.getImageFileTypeByImageData(e),!l(i))throw new Error("addImage does not support files of type '"+i+"', please ensure that a plugin for '"+i+"' support is added.");if(this.supportsArrayBuffer()&&(e instanceof Uint8Array||(e=this.binaryStringToUint8Array(e))),!(n=this["process"+i.toUpperCase()](e)))throw new Error("An unknown error occurred whilst processing the image");return{fileType:i,width:n.w,height:n.h,colorSpace:n.cs,compressionMode:n.f,bitsPerComponent:n.bpc}}}(le.API),t=le.API,le.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(e){for(var t=this.internal.getPageInfoByObjId(e.objId),n=e.pageContext.annotations,i=function(e){if(void 0!==e&&""!=e)return!0},r=!1,o=0;o<n.length&&!r;o++)switch((l=n[o]).type){case"link":if(i(l.options.url)||i(l.options.pageNumber)){r=!0;break}case"reference":case"text":case"freetext":r=!0}if(0!=r){this.internal.write("/Annots [");var s=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString;for(o=0;o<n.length;o++){var l;switch((l=n[o]).type){case"reference":this.internal.write(" "+l.object.objId+" 0 R ");break;case"text":var c=this.internal.newAdditionalObject(),u=this.internal.newAdditionalObject(),d=l.title||"Note";A="<</Type /Annot /Subtype /Text "+(p="/Rect ["+s(l.bounds.x)+" "+a(l.bounds.y+l.bounds.h)+" "+s(l.bounds.x+l.bounds.w)+" "+a(l.bounds.y)+"] ")+"/Contents ("+l.contents+")",A+=" /Popup "+u.objId+" 0 R",A+=" /P "+t.objId+" 0 R",c.content=A+=" /T ("+d+") >>";var h=c.objId+" 0 R";A="<</Type /Annot /Subtype /Popup "+(p="/Rect ["+s(l.bounds.x+30)+" "+a(l.bounds.y+l.bounds.h)+" "+s(l.bounds.x+l.bounds.w+30)+" "+a(l.bounds.y)+"] ")+" /Parent "+h,l.open&&(A+=" /Open true"),u.content=A+=" >>",this.internal.write(c.objId,"0 R",u.objId,"0 R");break;case"freetext":var p="/Rect ["+s(l.bounds.x)+" "+a(l.bounds.y)+" "+s(l.bounds.x+l.bounds.w)+" "+a(l.bounds.y+l.bounds.h)+"] ";A="<</Type /Annot /Subtype /FreeText "+p+"/Contents ("+l.contents+")",A+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+(l.color||"#000000")+")",A+=" /Border [0 0 0]",this.internal.write(A+=" >>");break;case"link":if(l.options.name){var f=this.annotations._nameMap[l.options.name];l.options.pageNumber=f.page,l.options.top=f.y}else l.options.top||(l.options.top=0);p="/Rect ["+s(l.x)+" "+a(l.y)+" "+s(l.x+l.w)+" "+a(l.y+l.h)+"] ";var A="";if(l.options.url)A="<</Type /Annot /Subtype /Link "+p+"/Border [0 0 0] /A <</S /URI /URI ("+l.options.url+") >>";else if(l.options.pageNumber)switch(A="<</Type /Annot /Subtype /Link "+p+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(l.options.pageNumber).objId+" 0 R",l.options.magFactor=l.options.magFactor||"XYZ",l.options.magFactor){case"Fit":A+=" /Fit]";break;case"FitH":A+=" /FitH "+l.options.top+"]";break;case"FitV":l.options.left=l.options.left||0,A+=" /FitV "+l.options.left+"]";break;case"XYZ":default:var g=a(l.options.top);l.options.left=l.options.left||0,void 0===l.options.zoom&&(l.options.zoom=0),A+=" /XYZ "+l.options.left+" "+g+" "+l.options.zoom+"]"}""!=A&&this.internal.write(A+=" >>")}}this.internal.write("]")}}]),t.createAnnotation=function(e){var t=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":t.pageContext.annotations.push(e)}},t.link=function(e,t,n,i,r){this.internal.getCurrentPageInfo().pageContext.annotations.push({x:e,y:t,w:n,h:i,options:r,type:"link"})},t.textWithLink=function(e,t,n,i){var r=this.getTextWidth(e),o=this.internal.getLineHeight()/this.internal.scaleFactor;return this.text(e,t,n),this.link(t,(n+=.2*o)-o,r,o,i),r},t.getTextWidth=function(e){var t=this.internal.getFontSize();return this.getStringUnitWidth(e)*t/this.internal.scaleFactor},function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},r=[1570,1571,1573,1575];e.__arabicParser__={};var o=e.__arabicParser__.isInArabicSubstitutionA=function(e){return void 0!==t[e.charCodeAt(0)]},s=e.__arabicParser__.isArabicLetter=function(e){return"string"==typeof e&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(e)},a=e.__arabicParser__.isArabicEndLetter=function(e){return s(e)&&o(e)&&t[e.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(e){return s(e)&&0<=r.indexOf(e.charCodeAt(0))},c=(e.__arabicParser__.arabicLetterHasIsolatedForm=function(e){return s(e)&&o(e)&&1<=t[e.charCodeAt(0)].length},e.__arabicParser__.arabicLetterHasFinalForm=function(e){return s(e)&&o(e)&&2<=t[e.charCodeAt(0)].length}),u=(e.__arabicParser__.arabicLetterHasInitialForm=function(e){return s(e)&&o(e)&&3<=t[e.charCodeAt(0)].length},e.__arabicParser__.arabicLetterHasMedialForm=function(e){return s(e)&&o(e)&&4==t[e.charCodeAt(0)].length}),d=e.__arabicParser__.resolveLigatures=function(e){var t=0,i=n,r=0,o="",s=0;for(t=0;t<e.length;t+=1)void 0!==i[e.charCodeAt(t)]?(s++,"number"==typeof(i=i[e.charCodeAt(t)])&&(r=-1!==(r=h(e.charAt(t),e.charAt(t-s),e.charAt(t+1)))?r:0,o+=String.fromCharCode(i),i=n,s=0),t===e.length-1&&(i=n,o+=e.charAt(t-(s-1)),t-=s-1,s=0)):(i=n,o+=e.charAt(t-s),t-=s,s=0);return o},h=(e.__arabicParser__.isArabicDiacritic=function(e){return void 0!==e&&void 0!==i[e.charCodeAt(0)]},e.__arabicParser__.getCorrectForm=function(e,t,n){return s(e)?!1===o(e)?-1:!c(e)||!s(t)&&!s(n)||!s(n)&&a(t)||a(e)&&!s(t)||a(e)&&l(t)||a(e)&&a(t)?0:u(e)&&s(t)&&!a(t)&&s(n)&&c(n)?3:a(e)||!s(n)?1:2:-1}),p=e.__arabicParser__.processArabic=e.processArabic=function(e){var n=0,i=0,r=0,o="",a="",l="",c=(e=e||"").split("\\s+"),u=[];for(n=0;n<c.length;n+=1){for(u.push(""),i=0;i<c[n].length;i+=1)a=c[n][i-1],l=c[n][i+1],s(o=c[n][i])?(r=h(o,a,l),u[n]+=-1!==r?String.fromCharCode(t[o.charCodeAt(0)][r]):o):u[n]+=o;u[n]=d(u[n])}return u.join(" ")};e.events.push(["preProcessText",function(e){var t=e.text,n=[];if("[object Array]"===Object.prototype.toString.call(t)){var i=0;for(n=[],i=0;i<t.length;i+=1)"[object Array]"===Object.prototype.toString.call(t[i])?n.push([p(t[i][0]),t[i][1],t[i][2]]):n.push([p(t[i])]);e.text=n}else e.text=p(t)}])}(le.API),le.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},n=le.API,(i=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(t){e=t}});var t=150;Object.defineProperty(this,"width",{get:function(){return t},set:function(e){t=isNaN(e)||!1===Number.isInteger(e)||e<0?150:e,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=t+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(e){n=isNaN(e)||!1===Number.isInteger(e)||e<0?300:e,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(e){i=e}});var r={};Object.defineProperty(this,"style",{get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"parentNode",{get:function(){return!1}})}).prototype.getContext=function(e,t){var n;if("2d"!==(e=e||"2d"))return null;for(n in t)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=t[n]);return(this.pdf.context2d._canvas=this).pdf.context2d},i.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new i,this.canvas.pdf=this}]),s={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},a=1,l=function(e,t,n,i,r){s={x:e,y:t,w:n,h:i,ln:r}},c=function(){return s},u={left:0,top:0,bottom:0},(r=le.API).setHeaderFunction=function(e){o=e},r.getTextDimensions=function(e,t){var n=this.table_font_size||this.internal.getFontSize(),i=(this.internal.getFont(),(t=t||{}).scaleFactor||this.internal.scaleFactor),r=0,o=0,s=0;if("string"==typeof e)0!=(r=this.getStringUnitWidth(e)*n)&&(o=1);else{if("[object Array]"!==Object.prototype.toString.call(e))throw new Error("getTextDimensions expects text-parameter to be of type String or an Array of Strings.");for(var a=0;a<e.length;a++)r<(s=this.getStringUnitWidth(e[a])*n)&&(r=s);0!==r&&(o=e.length)}return{w:r/=i,h:Math.max((o*n*this.getLineHeightFactor()-n*(this.getLineHeightFactor()-1))/i,0)}},r.cellAddPage=function(){var e=this.margins||u;this.addPage(),l(e.left,e.top,void 0,void 0),a+=1},r.cellInitialize=function(){s={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},a=1},r.cell=function(e,t,n,i,r,o,s){var a=c(),d=!1;if(void 0!==a.ln)if(a.ln===o)e=a.x+a.w,t=a.y;else{var h=this.margins||u;a.y+a.h+i+13>=this.internal.pageSize.getHeight()-h.bottom&&(this.cellAddPage(),d=!0,this.printHeaders&&this.tableHeaderRow&&this.printHeaderRow(o,!0)),t=c().y+c().h,d&&(t=23)}if(void 0!==r[0])if(this.printingHeaderRow?this.rect(e,t,n,i,"FD"):this.rect(e,t,n,i),"right"===s){r instanceof Array||(r=[r]);for(var p=0;p<r.length;p++){var f=r[p],A=this.getStringUnitWidth(f)*this.internal.getFontSize()/this.internal.scaleFactor;this.text(f,e+n-A-3,t+this.internal.getLineHeight()*(p+1))}}else this.text(r,e+3,t+this.internal.getLineHeight());return l(e,t,n,i,o),this},r.arrayMax=function(e,t){var n,i,r,o=e[0];for(n=0,i=e.length;n<i;n+=1)r=e[n],t?-1===t(o,r)&&(o=r):o<r&&(o=r);return o},r.table=function(e,t,n,i,o){if(!n)throw"No data for PDF table";var l,c,d,h,p,f,A,g,m,y=[],v=[],w={},b={},_=[],C=[],E=!1,S=!0,T=12,L=u;if(L.width=this.internal.pageSize.getWidth(),o&&(!0===o.autoSize&&(E=!0),!1===o.printHeaders&&(S=!1),o.fontSize&&(T=o.fontSize),o.css&&void 0!==o.css["font-size"]&&(T=16*o.css["font-size"]),o.margins&&(L=o.margins)),this.lnMod=0,s={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},a=1,this.printHeaders=S,this.margins=L,this.setFontSize(T),this.table_font_size=T,null==i)y=Object.keys(n[0]);else if(i[0]&&"string"!=typeof i[0])for(c=0,d=i.length;c<d;c+=1)y.push((l=i[c]).name),v.push(l.prompt),b[l.name]=l.width*(19.049976/25.4);else y=i;if(E)for(m=function(e){return e[l]},c=0,d=y.length;c<d;c+=1){for(w[l=y[c]]=n.map(m),_.push(this.getTextDimensions(v[c]||l,{scaleFactor:1}).w),f=0,h=(p=w[l]).length;f<h;f+=1)_.push(this.getTextDimensions(p[f],{scaleFactor:1}).w);b[l]=r.arrayMax(_),_=[]}if(S){var x=this.calculateLineHeight(y,b,v.length?v:y);for(c=0,d=y.length;c<d;c+=1)C.push([e,t,b[l=y[c]],x,String(v.length?v[c]:l)]);this.setTableHeaderRow(C),this.printHeaderRow(1,!1)}for(c=0,d=n.length;c<d;c+=1)for(x=this.calculateLineHeight(y,b,A=n[c]),f=0,g=y.length;f<g;f+=1)this.cell(e,t,b[l=y[f]],x,A[l],c+2,l.align);return this.lastCellPos=s,this.table_x=e,this.table_y=t,this},r.calculateLineHeight=function(e,t,n){for(var i,r=0,o=0;o<e.length;o++){n[i=e[o]]=this.splitTextToSize(String(n[i]),t[i]-3);var s=this.internal.getLineHeight()*n[i].length+3;r<s&&(r=s)}return r},r.setTableHeaderRow=function(e){this.tableHeaderRow=e},r.printHeaderRow=function(e,t){if(!this.tableHeaderRow)throw"Property tableHeaderRow does not exist.";var n,i,r,s;if(this.printingHeaderRow=!0,void 0!==o){var c=o(this,a);l(c[0],c[1],c[2],c[3],-1)}this.setFontStyle("bold");var u=[];for(r=0,s=this.tableHeaderRow.length;r<s;r+=1)this.setFillColor(200,200,200),n=this.tableHeaderRow[r],t&&(this.margins.top=13,n[1]=this.margins&&this.margins.top||0,u.push(n)),i=[].concat(n),this.cell.apply(this,i.concat(e));0<u.length&&this.setTableHeaderRow(u),this.setFontStyle("normal"),this.printingHeaderRow=!1},function(t,n){var i,r,o,s,a,l=function(e){return this.isStrokeTransparent=(e=e||{}).isStrokeTransparent||!1,this.strokeOpacity=e.strokeOpacity||1,this.strokeStyle=e.strokeStyle||"#000000",this.fillStyle=e.fillStyle||"#000000",this.isFillTransparent=e.isFillTransparent||!1,this.fillOpacity=e.fillOpacity||1,this.font=e.font||"10px sans-serif",this.textBaseline=e.textBaseline||"alphabetic",this.textAlign=e.textAlign||"left",this.lineWidth=e.lineWidth||1,this.lineJoin=e.lineJoin||"miter",this.lineCap=e.lineCap||"butt",this.path=e.path||[],this.transform=void 0!==e.transform?e.transform.clone():new R,this.globalCompositeOperation=e.globalCompositeOperation||"normal",this.globalAlpha=e.globalAlpha||1,this.clip_path=e.clip_path||[],this.currentPoint=e.currentPoint||new D,this.miterLimit=e.miterLimit||10,this.lastPoint=e.lastPoint||new D,this.ignoreClearRect="boolean"!=typeof e.ignoreClearRect||e.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new c(this),i=this.internal.f2,r=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate}]);var c=function(e){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}}),Object.defineProperty(this,"pdf",{get:function(){return e}});var t=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return t},set:function(e){t=Boolean(e)}});var n=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return n},set:function(e){n=Boolean(e)}});var i=0;Object.defineProperty(this,"posX",{get:function(){return i},set:function(e){isNaN(e)||(i=e)}});var r=0;Object.defineProperty(this,"posY",{get:function(){return r},set:function(e){isNaN(e)||(r=e)}});var o=!1;Object.defineProperty(this,"autoPaging",{get:function(){return o},set:function(e){o=Boolean(e)}});var s=0;Object.defineProperty(this,"lastBreak",{get:function(){return s},set:function(e){s=e}});var a=[];Object.defineProperty(this,"pageBreaks",{get:function(){return a},set:function(e){a=e}});var c=new l;Object.defineProperty(this,"ctx",{get:function(){return c},set:function(e){e instanceof l&&(c=e)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(e){c.path=e}});var d=[];Object.defineProperty(this,"ctxStack",{get:function(){return d},set:function(e){d=e}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(e){var t;t=u(e),this.ctx.fillStyle=t.style,this.ctx.isFillTransparent=0===t.a,this.ctx.fillOpacity=t.a,this.pdf.setFillColor(t.r,t.g,t.b,{a:t.a}),this.pdf.setTextColor(t.r,t.g,t.b,{a:t.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(e){var t=u(e);this.ctx.strokeStyle=t.style,this.ctx.isStrokeTransparent=0===t.a,this.ctx.strokeOpacity=t.a,0===t.a?this.pdf.setDrawColor(255,255,255):this.pdf.setDrawColor(t.r,t.g,t.b)}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(e){-1!==["butt","round","square"].indexOf(e)&&(this.ctx.lineCap=e,this.pdf.setLineCap(e))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(e){isNaN(e)||(this.ctx.lineWidth=e,this.pdf.setLineWidth(e))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(e){-1!==["bevel","round","miter"].indexOf(e)&&(this.ctx.lineJoin=e,this.pdf.setLineJoin(e))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(e){isNaN(e)||(this.ctx.miterLimit=e,this.pdf.setMiterLimit(e))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(e){this.ctx.textBaseline=e}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(e){-1!==["right","end","center","left","start"].indexOf(e)&&(this.ctx.textAlign=e)}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(e){var t;if(this.ctx.font=e,null!==(t=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(e))){var n=t[1],i=t[3],r=t[4],o=t[5],s=t[6];r="px"===o?Math.floor(parseFloat(r)):"em"===o?Math.floor(parseFloat(r)*this.pdf.getFontSize()):Math.floor(parseFloat(r)),this.pdf.setFontSize(r);var a="";("bold"===i||700<=parseInt(i,10)||"bold"===n)&&(a="bold"),"italic"===n&&(a+="italic"),0===a.length&&(a="normal");for(var l="",c=s.toLowerCase().replace(/"|'/g,"").split(/\s*,\s*/),u={arial:"Helvetica",verdana:"Helvetica",helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",courier:"Courier",times:"Times",cursive:"Times",fantasy:"Times",serif:"Times"},d=0;d<c.length;d++){if(void 0!==this.pdf.internal.getFont(c[d],a,{noFallback:!0,disableWarning:!0})){l=c[d];break}if("bolditalic"===a&&void 0!==this.pdf.internal.getFont(c[d],"bold",{noFallback:!0,disableWarning:!0}))l=c[d],a="bold";else if(void 0!==this.pdf.internal.getFont(c[d],"normal",{noFallback:!0,disableWarning:!0})){l=c[d],a="normal";break}}if(""===l)for(d=0;d<c.length;d++)if(u[c[d]]){l=u[c[d]];break}this.pdf.setFont(l=""===l?"Times":l,a)}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(e){this.ctx.globalCompositeOperation=e}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(e){this.ctx.globalAlpha=e}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(e){this.ctx.ignoreClearRect=Boolean(e)}})};c.prototype.fill=function(){g.call(this,"fill",!1)},c.prototype.stroke=function(){g.call(this,"stroke",!1)},c.prototype.beginPath=function(){this.path=[{type:"begin"}]},c.prototype.moveTo=function(e,t){if(isNaN(e)||isNaN(t))throw console.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var n=this.ctx.transform.applyToPoint(new D(e,t));this.path.push({type:"mt",x:n.x,y:n.y}),this.ctx.lastPoint=new D(e,t)},c.prototype.closePath=function(){var t=new D(0,0),n=0;for(n=this.path.length-1;-1!==n;n--)if("begin"===this.path[n].type&&"object"===e(this.path[n+1])&&"number"==typeof this.path[n+1].x){t=new D(this.path[n+1].x,this.path[n+1].y),this.path.push({type:"lt",x:t.x,y:t.y});break}"object"===e(this.path[n+2])&&"number"==typeof this.path[n+2].x&&this.path.push(JSON.parse(JSON.stringify(this.path[n+2]))),this.path.push({type:"close"}),this.ctx.lastPoint=new D(t.x,t.y)},c.prototype.lineTo=function(e,t){if(isNaN(e)||isNaN(t))throw console.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var n=this.ctx.transform.applyToPoint(new D(e,t));this.path.push({type:"lt",x:n.x,y:n.y}),this.ctx.lastPoint=new D(n.x,n.y)},c.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),g.call(this,null,!0)},c.prototype.quadraticCurveTo=function(e,t,n,i){if(isNaN(n)||isNaN(i)||isNaN(e)||isNaN(t))throw console.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var r=this.ctx.transform.applyToPoint(new D(n,i)),o=this.ctx.transform.applyToPoint(new D(e,t));this.path.push({type:"qct",x1:o.x,y1:o.y,x:r.x,y:r.y}),this.ctx.lastPoint=new D(r.x,r.y)},c.prototype.bezierCurveTo=function(e,t,n,i,r,o){if(isNaN(r)||isNaN(o)||isNaN(e)||isNaN(t)||isNaN(n)||isNaN(i))throw console.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var s=this.ctx.transform.applyToPoint(new D(r,o)),a=this.ctx.transform.applyToPoint(new D(e,t)),l=this.ctx.transform.applyToPoint(new D(n,i));this.path.push({type:"bct",x1:a.x,y1:a.y,x2:l.x,y2:l.y,x:s.x,y:s.y}),this.ctx.lastPoint=new D(s.x,s.y)},c.prototype.arc=function(e,t,n,i,r,o){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(i)||isNaN(r))throw console.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(o=Boolean(o),!this.ctx.transform.isIdentity){var s=this.ctx.transform.applyToPoint(new D(e,t));e=s.x,t=s.y;var a=this.ctx.transform.applyToPoint(new D(0,n)),l=this.ctx.transform.applyToPoint(new D(0,0));n=Math.sqrt(Math.pow(a.x-l.x,2)+Math.pow(a.y-l.y,2))}Math.abs(r-i)>=2*Math.PI&&(i=0,r=2*Math.PI),this.path.push({type:"arc",x:e,y:t,radius:n,startAngle:i,endAngle:r,counterclockwise:o})},c.prototype.arcTo=function(e,t,n,i,r){throw new Error("arcTo not implemented.")},c.prototype.rect=function(e,t,n,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(i))throw console.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+i),this.lineTo(e,t+i),this.lineTo(e,t),this.lineTo(e+n,t),this.lineTo(e,t)},c.prototype.fillRect=function(e,t,n,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(i))throw console.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!d.call(this)){var r={};"butt"!==this.lineCap&&(r.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(r.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(e,t,n,i),this.fill(),r.hasOwnProperty("lineCap")&&(this.lineCap=r.lineCap),r.hasOwnProperty("lineJoin")&&(this.lineJoin=r.lineJoin)}},c.prototype.strokeRect=function(e,t,n,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(i))throw console.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");h.call(this)||(this.beginPath(),this.rect(e,t,n,i),this.stroke())},c.prototype.clearRect=function(e,t,n,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(i))throw console.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(e,t,n,i))},c.prototype.save=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("q");if(this.pdf.setPage(t),e){this.ctx.fontSize=this.pdf.internal.getFontSize();var i=new l(this.ctx);this.ctxStack.push(this.ctx),this.ctx=i}},c.prototype.restore=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("Q");this.pdf.setPage(t),e&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin)},c.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var u=function(e){var t,n,i,r;if(!0===e.isCanvasGradient&&(e=e.getColor()),!e)return{r:0,g:0,b:0,a:0,style:e};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(e))r=i=n=t=0;else{var o=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(e);if(null!==o)t=parseInt(o[1]),n=parseInt(o[2]),i=parseInt(o[3]),r=1;else if(null!==(o=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d\.]+)\s*\)/.exec(e)))t=parseInt(o[1]),n=parseInt(o[2]),i=parseInt(o[3]),r=parseFloat(o[4]);else{if(r=1,"string"==typeof e&&"#"!==e.charAt(0)){var s=new RGBColor(e);e=s.ok?s.toHex():"#000000"}4===e.length?(t=e.substring(1,2),t+=t,n=e.substring(2,3),n+=n,i=e.substring(3,4),i+=i):(t=e.substring(1,3),n=e.substring(3,5),i=e.substring(5,7)),t=parseInt(t,16),n=parseInt(n,16),i=parseInt(i,16)}}return{r:t,g:n,b:i,a:r,style:e}},d=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},h=function(){return Boolean(this.ctx.isStrokeTransparent||0==this.globalAlpha)};c.prototype.fillText=function(e,t,n,i){if(isNaN(t)||isNaN(n)||"string"!=typeof e)throw console.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(i=isNaN(i)?void 0:i,!d.call(this)){n=y.call(this,n);var r=I(this.ctx.transform.rotation);C.call(this,{text:e,x:t,y:n,scale:this.ctx.transform.scaleX,angle:r,align:this.textAlign,maxWidth:i})}},c.prototype.strokeText=function(e,t,n,i){if(isNaN(t)||isNaN(n)||"string"!=typeof e)throw console.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!h.call(this)){i=isNaN(i)?void 0:i,n=y.call(this,n);var r=I(this.ctx.transform.rotation);C.call(this,{text:e,x:t,y:n,scale:this.ctx.transform.scaleX,renderingMode:"stroke",angle:r,align:this.textAlign,maxWidth:i})}},c.prototype.measureText=function(e){if("string"!=typeof e)throw console.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var t=this.pdf,n=this.pdf.internal.scaleFactor,i=t.internal.getFontSize(),r=t.getStringUnitWidth(e)*i/t.internal.scaleFactor;return new function(e){var t=(e=e||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return t}}),this}({width:r*=Math.round(96*n/72*1e4)/1e4})},c.prototype.scale=function(e,t){if(isNaN(e)||isNaN(t))throw console.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var n=new R(e,0,0,t,0,0);this.ctx.transform=this.ctx.transform.multiply(n)},c.prototype.rotate=function(e){if(isNaN(e))throw console.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var t=new R(Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0);this.ctx.transform=this.ctx.transform.multiply(t)},c.prototype.translate=function(e,t){if(isNaN(e)||isNaN(t))throw console.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var n=new R(1,0,0,1,e,t);this.ctx.transform=this.ctx.transform.multiply(n)},c.prototype.transform=function(e,t,n,i,r,o){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(i)||isNaN(r)||isNaN(o))throw console.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var s=new R(e,t,n,i,r,o);this.ctx.transform=this.ctx.transform.multiply(s)},c.prototype.setTransform=function(e,t,n,i,r,o){e=isNaN(e)?1:e,t=isNaN(t)?0:t,n=isNaN(n)?0:n,i=isNaN(i)?1:i,r=isNaN(r)?0:r,o=isNaN(o)?0:o,this.ctx.transform=new R(e,t,n,i,r,o)},c.prototype.drawImage=function(e,t,n,i,r,o,s,a,l){var c=this.pdf.getImageProperties(e),u=1,d=1,h=1,f=1;void 0!==i&&void 0!==a&&(h=a/i,f=l/r,u=c.width/i*a/i,d=c.height/r*l/r),void 0===o&&(o=t,s=n,n=t=0),void 0!==i&&void 0===a&&(a=i,l=r),void 0===i&&void 0===a&&(a=c.width,l=c.height);for(var g,y=this.ctx.transform.decompose(),v=I(y.rotate.shx),w=new R,b=((w=(w=(w=w.multiply(y.translate)).multiply(y.skew)).multiply(y.scale)).applyToPoint(new D(a,l)),w.applyToRectangle(new O(o-t*h,s-n*f,i*u,r*d))),_=p.call(this,b),C=[],E=0;E<_.length;E+=1)-1===C.indexOf(_[E])&&C.push(_[E]);if(C.sort(),this.autoPaging)for(var S=C[C.length-1],T=C[0];T<S+1;T++){if(this.pdf.setPage(T),0!==this.ctx.clip_path.length){var L=this.path;g=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A(g,this.posX,-1*this.pdf.internal.pageSize.height*(T-1)+this.posY),m.call(this,"fill",!0),this.path=L}var x=JSON.parse(JSON.stringify(b));x=A([x],this.posX,-1*this.pdf.internal.pageSize.height*(T-1)+this.posY)[0],this.pdf.addImage(e,"jpg",x.x,x.y,x.w,x.h,null,null,v)}else this.pdf.addImage(e,"jpg",b.x,b.y,b.w,b.h,null,null,v)};var p=function(e,t,n){var i=[];switch(t=t||this.pdf.internal.pageSize.width,n=n||this.pdf.internal.pageSize.height,e.type){default:case"mt":case"lt":i.push(Math.floor((e.y+this.posY)/n)+1);break;case"arc":i.push(Math.floor((e.y+this.posY-e.radius)/n)+1),i.push(Math.floor((e.y+this.posY+e.radius)/n)+1);break;case"qct":var r=F(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x,e.y);i.push(Math.floor(r.y/n)+1),i.push(Math.floor((r.y+r.h)/n)+1);break;case"bct":var o=N(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x2,e.y2,e.x,e.y);i.push(Math.floor(o.y/n)+1),i.push(Math.floor((o.y+o.h)/n)+1);break;case"rect":i.push(Math.floor((e.y+this.posY)/n)+1),i.push(Math.floor((e.y+e.h+this.posY)/n)+1)}for(var s=0;s<i.length;s+=1)for(;this.pdf.internal.getNumberOfPages()<i[s];)f.call(this);return i},f=function(){var e=this.fillStyle,t=this.strokeStyle,n=this.font,i=this.lineCap,r=this.lineWidth,o=this.lineJoin;this.pdf.addPage(),this.fillStyle=e,this.strokeStyle=t,this.font=n,this.lineCap=i,this.lineWidth=r,this.lineJoin=o},A=function(e,t,n){for(var i=0;i<e.length;i++)switch(e[i].type){case"bct":e[i].x2+=t,e[i].y2+=n;case"qct":e[i].x1+=t,e[i].y1+=n;case"mt":case"lt":case"arc":default:e[i].x+=t,e[i].y+=n}return e},g=function(e,t){for(var n,i,r=this.fillStyle,o=this.strokeStyle,s=this.lineCap,a=this.lineWidth,l=this.lineJoin,c=JSON.parse(JSON.stringify(this.path)),u=JSON.parse(JSON.stringify(this.path)),d=[],h=0;h<u.length;h++)if(void 0!==u[h].x)for(var g=p.call(this,u[h]),y=0;y<g.length;y+=1)-1===d.indexOf(g[y])&&d.push(g[y]);for(h=0;h<d.length;h++)for(;this.pdf.internal.getNumberOfPages()<d[h];)f.call(this);if(d.sort(),this.autoPaging){var v=d[d.length-1];for(h=d[0];h<v+1;h++){if(this.pdf.setPage(h),this.fillStyle=r,this.strokeStyle=o,this.lineCap=s,this.lineWidth=a,this.lineJoin=l,0!==this.ctx.clip_path.length){var w=this.path;n=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A(n,this.posX,-1*this.pdf.internal.pageSize.height*(h-1)+this.posY),m.call(this,e,!0),this.path=w}i=JSON.parse(JSON.stringify(c)),this.path=A(i,this.posX,-1*this.pdf.internal.pageSize.height*(h-1)+this.posY),!1!==t&&0!==h||m.call(this,e,t)}}else m.call(this,e,t);this.path=c},m=function(e,t){if(("stroke"!==e||t||!h.call(this))&&("stroke"===e||t||!d.call(this))){for(var n,i=[],r=this.path,o=0;o<r.length;o++){var s=r[o];switch(s.type){case"begin":i.push({begin:!0});break;case"close":i.push({close:!0});break;case"mt":i.push({start:s,deltas:[],abs:[]});break;case"lt":var a=i.length;if(!isNaN(r[o-1].x)){var l=[s.x-r[o-1].x,s.y-r[o-1].y];if(0<a)for(;0<=a;a--)if(!0!==i[a-1].close&&!0!==i[a-1].begin){i[a-1].deltas.push(l),i[a-1].abs.push(s);break}}break;case"bct":i[i.length-1].deltas.push(l=[s.x1-r[o-1].x,s.y1-r[o-1].y,s.x2-r[o-1].x,s.y2-r[o-1].y,s.x-r[o-1].x,s.y-r[o-1].y]);break;case"qct":i[i.length-1].deltas.push(l=[r[o-1].x+2/3*(s.x1-r[o-1].x)-r[o-1].x,r[o-1].y+2/3*(s.y1-r[o-1].y)-r[o-1].y,s.x+2/3*(s.x1-s.x)-r[o-1].x,s.y+2/3*(s.y1-s.y)-r[o-1].y,s.x-r[o-1].x,s.y-r[o-1].y]);break;case"arc":i.push({deltas:[],abs:[],arc:!0}),Array.isArray(i[i.length-1].abs)&&i[i.length-1].abs.push(s)}}for(n=t?null:"stroke"===e?"stroke":"fill",o=0;o<i.length;o++){if(i[o].arc)for(var c=i[o].abs,u=0;u<c.length;u++){var p=c[u];if(void 0!==p.startAngle){var f=I(p.startAngle),A=I(p.endAngle),g=p.x,m=p.y;v.call(this,g,m,p.radius,f,A,p.counterclockwise,n,t)}else E.call(this,p.x,p.y)}i[o].arc||!0===i[o].close||!0===i[o].begin||S.call(this,i[o].deltas,g=i[o].start.x,m=i[o].start.y,null,null)}n&&w.call(this,n),t&&b.call(this)}},y=function(e){var t=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,n=t*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return e-n;case"top":return e+t-n;case"hanging":return e+t-2*n;case"middle":return e+t/2-n;case"ideographic":return e;case"alphabetic":default:return e}};c.prototype.createLinearGradient=function(){var e=function(){};return e.colorStops=[],e.addColorStop=function(e,t){this.colorStops.push([e,t])},e.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},e.isCanvasGradient=!0,e},c.prototype.createPattern=function(){return this.createLinearGradient()},c.prototype.createRadialGradient=function(){return this.createLinearGradient()};var v=function(e,t,n,i,r,o,s,a){for(var l=B(i),c=B(r),u=L.call(this,n,l,c,o),d=0;d<u.length;d++){var h=u[d];0===d&&_.call(this,h.x1+e,h.y1+t),T.call(this,e,t,h.x2,h.y2,h.x3,h.y3,h.x4,h.y4)}a?b.call(this):w.call(this,s)},w=function(e){switch(e){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},b=function(){this.pdf.clip()},_=function(e,t){this.pdf.internal.out(r(e)+" "+o(t)+" m")},C=function(e){var t;switch(e.align){case"right":case"end":t="right";break;case"center":t="center";break;case"left":case"start":default:t="left"}var n=this.ctx.transform.applyToPoint(new D(e.x,e.y)),i=this.ctx.transform.decompose(),r=new R;r=(r=(r=r.multiply(i.translate)).multiply(i.skew)).multiply(i.scale);for(var o,s=this.pdf.getTextDimensions(e.text),a=this.ctx.transform.applyToRectangle(new O(e.x,e.y,s.w,s.h)),l=r.applyToRectangle(new O(e.x,e.y-s.h,s.w,s.h)),c=p.call(this,l),u=[],d=0;d<c.length;d+=1)-1===u.indexOf(c[d])&&u.push(c[d]);if(u.sort(),!0===this.autoPaging)for(var h=u[u.length-1],f=u[0];f<h+1;f++){if(this.pdf.setPage(f),0!==this.ctx.clip_path.length){var g=this.path;o=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A(o,this.posX,-1*this.pdf.internal.pageSize.height*(f-1)+this.posY),m.call(this,"fill",!0),this.path=g}var y=JSON.parse(JSON.stringify(a));if(y=A([y],this.posX,-1*this.pdf.internal.pageSize.height*(f-1)+this.posY)[0],.01<=e.scale){var v=this.pdf.internal.getFontSize();this.pdf.setFontSize(v*e.scale)}this.pdf.text(e.text,y.x,y.y,{angle:e.angle,align:t,renderingMode:e.renderingMode,maxWidth:e.maxWidth}),.01<=e.scale&&this.pdf.setFontSize(v)}else.01<=e.scale&&(v=this.pdf.internal.getFontSize(),this.pdf.setFontSize(v*e.scale)),this.pdf.text(e.text,n.x+this.posX,n.y+this.posY,{angle:e.angle,align:t,renderingMode:e.renderingMode,maxWidth:e.maxWidth}),.01<=e.scale&&this.pdf.setFontSize(v)},E=function(e,t,n,i){i=i||0,this.pdf.internal.out(r(e+(n=n||0))+" "+o(t+i)+" l")},S=function(e,t,n){return this.pdf.lines(e,t,n,null,null)},T=function(e,t,n,r,o,l,c,u){this.pdf.internal.out([i(s(n+e)),i(a(r+t)),i(s(o+e)),i(a(l+t)),i(s(c+e)),i(a(u+t)),"c"].join(" "))},L=function(e,t,n,i){var r=2*Math.PI,o=t;(o<r||r<o)&&(o%=r);var s=n;(s<r||r<s)&&(s%=r);for(var a=[],l=Math.PI/2,c=i?-1:1,u=t,d=Math.min(r,Math.abs(s-o));1e-5<d;){var h=u+c*Math.min(d,l);a.push(x.call(this,e,u,h)),d-=Math.abs(h-u),u=h}return a},x=function(e,t,n){var i=(n-t)/2,r=e*Math.cos(i),o=e*Math.sin(i),s=r,a=-o,l=s*s+a*a,c=l+s*r+a*o,u=4/3*(Math.sqrt(2*l*c)-c)/(s*o-a*r),d=s-u*a,h=a+u*s,p=d,f=-h,A=i+t,g=Math.cos(A),m=Math.sin(A);return{x1:e*Math.cos(t),y1:e*Math.sin(t),x2:d*g-h*m,y2:d*m+h*g,x3:p*g-f*m,y3:p*m+f*g,x4:e*Math.cos(n),y4:e*Math.sin(n)}},I=function(e){return 180*e/Math.PI},B=function(e){return e*Math.PI/180},F=function(e,t,n,i,r,o){var s=e+.5*(n-e),a=t+.5*(i-t),l=r+.5*(n-r),c=o+.5*(i-o),u=Math.min(e,r,s,l),d=Math.max(e,r,s,l),h=Math.min(t,o,a,c),p=Math.max(t,o,a,c);return new O(u,h,d-u,p-h)},N=function(e,t,n,i,r,o,s,a){for(var l,c,u,d,h,p,f,A,g,m,y,v,w,b=n-e,_=i-t,C=r-n,E=o-i,S=s-r,T=a-o,L=0;L<41;L++)A=(p=(c=e+(l=L/40)*b)+l*((d=n+l*C)-c))+l*(d+l*(r+l*S-d)-p),g=(f=(u=t+l*_)+l*((h=i+l*E)-u))+l*(h+l*(o+l*T-h)-f),w=0==L?(v=m=A,y=g):(m=Math.min(m,A),y=Math.min(y,g),v=Math.max(v,A),Math.max(w,g));return new O(Math.round(m),Math.round(y),Math.round(v-m),Math.round(w-y))},D=function(e,t){var n=e||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return n},set:function(e){isNaN(e)||(n=parseFloat(e))}});var i=t||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return i},set:function(e){isNaN(e)||(i=parseFloat(e))}});var r="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return r},set:function(e){r=e.toString()}}),this},O=function(e,t,n,i){D.call(this,e,t),this.type="rect";var r=n||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return r},set:function(e){isNaN(e)||(r=parseFloat(e))}});var o=i||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return o},set:function(e){isNaN(e)||(o=parseFloat(e))}}),this},R=function(e,t,n,i,r,o){var s=[];return Object.defineProperty(this,"sx",{get:function(){return s[0]},set:function(e){s[0]=Math.round(1e5*e)/1e5}}),Object.defineProperty(this,"shy",{get:function(){return s[1]},set:function(e){s[1]=Math.round(1e5*e)/1e5}}),Object.defineProperty(this,"shx",{get:function(){return s[2]},set:function(e){s[2]=Math.round(1e5*e)/1e5}}),Object.defineProperty(this,"sy",{get:function(){return s[3]},set:function(e){s[3]=Math.round(1e5*e)/1e5}}),Object.defineProperty(this,"tx",{get:function(){return s[4]},set:function(e){s[4]=Math.round(1e5*e)/1e5}}),Object.defineProperty(this,"ty",{get:function(){return s[5]},set:function(e){s[5]=Math.round(1e5*e)/1e5}}),Object.defineProperty(this,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(this,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(this,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(this,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),this.sx=isNaN(e)?1:e,this.shy=isNaN(t)?0:t,this.shx=isNaN(n)?0:n,this.sy=isNaN(i)?1:i,this.tx=isNaN(r)?0:r,this.ty=isNaN(o)?0:o,this};R.prototype.multiply=function(e){return new R(e.sx*this.sx+e.shy*this.shx,e.sx*this.shy+e.shy*this.sy,e.shx*this.sx+e.sy*this.shx,e.shx*this.shy+e.sy*this.sy,e.tx*this.sx+e.ty*this.shx+this.tx,e.tx*this.shy+e.ty*this.sy+this.ty)},R.prototype.decompose=function(){var e=this.sx,t=this.shy,n=this.shx,i=this.sy,r=this.tx,o=this.ty,s=Math.sqrt(e*e+t*t),a=(e/=s)*n+(t/=s)*i;n-=e*a,i-=t*a;var l=Math.sqrt(n*n+i*i);return a/=l,e*(i/=l)<t*(n/=l)&&(e=-e,t=-t,a=-a,s=-s),{scale:new R(s,0,0,l,0,0),translate:new R(1,0,0,1,r,o),rotate:new R(e,t,-t,e,0,0),skew:new R(1,0,a,1,0,0)}},R.prototype.applyToPoint=function(e){return new D(e.x*this.sx+e.y*this.shx+this.tx,e.x*this.shy+e.y*this.sy+this.ty)},R.prototype.applyToRectangle=function(e){var t=this.applyToPoint(e),n=this.applyToPoint(new D(e.x+e.w,e.y+e.h));return new O(t.x,t.y,n.x-t.x,n.y-t.y)},R.prototype.clone=function(){return new R(this.sx,this.shy,this.shx,this.sy,this.tx,this.ty)}}(le.API,"undefined"!=typeof self&&self||"undefined"!=typeof window&&window||"undefined"!=typeof global&&global||Function('return typeof this === "object" && this.content')()||Function("return this")()),h=function(e){var t,n,i,r,o,s,a,l,c,u;for(/[^\x00-\xFF]/.test(e),n=[],i=0,r=(e+=t="\0\0\0\0".slice(e.length%4||4)).length;i<r;i+=4)0!==(o=(e.charCodeAt(i)<<24)+(e.charCodeAt(i+1)<<16)+(e.charCodeAt(i+2)<<8)+e.charCodeAt(i+3))?(s=(o=((o=((o=((o=(o-(u=o%85))/85)-(c=o%85))/85)-(l=o%85))/85)-(a=o%85))/85)%85,n.push(s+33,a+33,l+33,c+33,u+33)):n.push(122);return function(e,n){for(var i=t.length;0<i;i--)e.pop()}(n),String.fromCharCode.apply(String,n)+"~>"},p=function(e){var t,n,i,r,o,s=String,a="length",l="charCodeAt",c="slice",u="replace";for(e[c](-2),e=e[c](0,-2)[u](/\s/g,"")[u]("z","!!!!!"),i=[],r=0,o=(e+=t="uuuuu"[c](e[a]%5||5))[a];r<o;r+=5)n=52200625*(e[l](r)-33)+614125*(e[l](r+1)-33)+7225*(e[l](r+2)-33)+85*(e[l](r+3)-33)+(e[l](r+4)-33),i.push(255&n>>24,255&n>>16,255&n>>8,255&n);return function(e,n){for(var i=t[a];0<i;i--)e.pop()}(i),s.fromCharCode.apply(s,i)},f=function(e){for(var t="",n=0;n<e.length;n+=1)t+=("0"+e.charCodeAt(n).toString(16)).slice(-2);return t+">"},A=function(e){var t=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(e=e.replace(/\s/g,"")).indexOf(">")&&(e=e.substr(0,e.indexOf(">"))),e.length%2&&(e+="0"),!1===t.test(e))return"";for(var n="",i=0;i<e.length;i+=2)n+=String.fromCharCode("0x"+(e[i]+e[i+1]));return n},g=function(e,t){t=Object.assign({predictor:1,colors:1,bitsPerComponent:8,columns:1},t);for(var n,i,r=[],o=e.length;o--;)r[o]=e.charCodeAt(o);return n=d.adler32cs.from(e),(i=new Deflater(6)).append(new Uint8Array(r)),e=i.flush(),(r=new Uint8Array(e.length+6)).set(new Uint8Array([120,156])),r.set(e,2),r.set(new Uint8Array([255&n,n>>8&255,n>>16&255,n>>24&255]),e.length+2),String.fromCharCode.apply(null,r)},(d=le.API).processDataByFilters=function(e,t){var n=0,i=e||"",r=[];for("string"==typeof(t=t||[])&&(t=[t]),n=0;n<t.length;n+=1)switch(t[n]){case"ASCII85Decode":case"/ASCII85Decode":i=p(i),r.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":i=h(i),r.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":i=A(i),r.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":i=f(i),r.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":i=g(i),r.push("/FlateDecode");break;default:throw'The filter: "'+t[n]+'" is not implemented'}return{data:i,reverseChain:r.reverse().join(" ")}},(m=le.API).loadFile=function(e,t,n){var i;t=t||!0,n=n||function(){};try{i=function(e,t,n){var i=new XMLHttpRequest,r=[],o=0,s=function(e){var t=e.length,n=String.fromCharCode;for(o=0;o<t;o+=1)r.push(n(255&e.charCodeAt(o)));return r.join("")};if(i.open("GET",e,!t),i.overrideMimeType("text/plain; charset=x-user-defined"),!1===t&&(i.onload=function(){return s(this.responseText)}),i.send(null),200===i.status)return t?s(i.responseText):void 0;console.warn('Unable to load file "'+e+'"')}(e,t)}catch(e){i=void 0}return i},m.loadImageFile=m.loadFile,y=le.API,v="undefined"!=typeof window&&window||"undefined"!=typeof global&&global,w=function(t){var n=e(t);return"undefined"===n?"undefined":"string"===n||t instanceof String?"string":"number"===n||t instanceof Number?"number":"function"===n||t instanceof Function?"function":t&&t.constructor===Array?"array":t&&1===t.nodeType?"element":"object"===n?"object":"unknown"},b=function(e,t){var n=document.createElement(e);if(t.className&&(n.className=t.className),t.innerHTML){n.innerHTML=t.innerHTML;for(var i=n.getElementsByTagName("script"),r=i.length;0<r--;null)i[r].parentNode.removeChild(i[r])}for(var o in t.style)n.style[o]=t.style[o];return n},(((_=function e(t){var n=Object.assign(e.convert(Promise.resolve()),JSON.parse(JSON.stringify(e.template))),i=e.convert(Promise.resolve(),n);return(i=i.setProgress(1,e,1,[e])).set(t)}).prototype=Object.create(Promise.prototype)).constructor=_).convert=function(e,t){return e.__proto__=t||_.prototype,e},_.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{}}},_.prototype.from=function(e,t){return this.then(function(){switch(t=t||function(e){switch(w(e)){case"string":return"string";case"element":return"canvas"===e.nodeName.toLowerCase?"canvas":"element";default:return"unknown"}}(e)){case"string":return this.set({src:b("div",{innerHTML:e})});case"element":return this.set({src:e});case"canvas":return this.set({canvas:e});case"img":return this.set({img:e});default:return this.error("Unknown source type.")}})},_.prototype.to=function(e){switch(e){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},_.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var e={position:"relative",display:"inline-block",width:Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:"white"},t=function e(t,n){for(var i=3===t.nodeType?document.createTextNode(t.nodeValue):t.cloneNode(!1),r=t.firstChild;r;r=r.nextSibling)!0!==n&&1===r.nodeType&&"SCRIPT"===r.nodeName||i.appendChild(e(r,n));return 1===t.nodeType&&("CANVAS"===t.nodeName?(i.width=t.width,i.height=t.height,i.getContext("2d").drawImage(t,0,0)):"TEXTAREA"!==t.nodeName&&"SELECT"!==t.nodeName||(i.value=t.value),i.addEventListener("load",function(){i.scrollTop=t.scrollTop,i.scrollLeft=t.scrollLeft},!0)),i}(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===t.tagName&&(e.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=b("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=b("div",{className:"html2pdf__container",style:e}),this.prop.container.appendChild(t),this.prop.container.firstChild.appendChild(b("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},_.prototype.toCanvas=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(function(){var e=Object.assign({},this.opt.html2canvas);if(delete e.onrendered,this.isHtml2CanvasLoaded())return html2canvas(this.prop.container,e)}).then(function(e){(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)})},_.prototype.toContext2d=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(function(){var e=this.opt.jsPDF,t=Object.assign({async:!0,allowTaint:!0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete t.onrendered,e.context2d.autoPaging=!0,e.context2d.posX=this.opt.x,e.context2d.posY=this.opt.y,t.windowHeight=t.windowHeight||0,t.windowHeight=0==t.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):t.windowHeight,this.isHtml2CanvasLoaded())return html2canvas(this.prop.container,t)}).then(function(e){(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)})},_.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var e=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=e})},_.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},_.prototype.output=function(e,t,n){return"img"===(n=n||"pdf").toLowerCase()||"image"===n.toLowerCase()?this.outputImg(e,t):this.outputPdf(e,t)},_.prototype.outputPdf=function(e,t){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(e,t)})},_.prototype.outputImg=function(e,t){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(e){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+e+'" is not supported.'}})},_.prototype.isHtml2CanvasLoaded=function(){var e=void 0!==v.html2canvas;return e||console.error("html2canvas not loaded."),e},_.prototype.save=function(e){if(this.isHtml2CanvasLoaded())return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(e?{filename:e}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},_.prototype.doCallback=function(e){if(this.isHtml2CanvasLoaded())return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},_.prototype.set=function(e){if("object"!==w(e))return this;var t=Object.keys(e||{}).map(function(t){if(t in _.template.prop)return function(){this.prop[t]=e[t]};switch(t){case"margin":return this.setMargin.bind(this,e.margin);case"jsPDF":return function(){return this.opt.jsPDF=e.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,e.pageSize);default:return function(){this.opt[t]=e[t]}}},this);return this.then(function(){return this.thenList(t)})},_.prototype.get=function(e,t){return this.then(function(){var n=e in _.template.prop?this.prop[e]:this.opt[e];return t?t(n):n})},_.prototype.setMargin=function(e){return this.then(function(){switch(w(e)){case"number":e=[e,e,e,e];case"array":if(2===e.length&&(e=[e[0],e[1],e[0],e[1]]),4===e.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=e}).then(this.setPageSize)},_.prototype.setPageSize=function(e){function t(e,t){return Math.floor(e*t/72*96)}return this.then(function(){(e=e||le.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(e.inner={width:e.width-this.opt.margin[1]-this.opt.margin[3],height:e.height-this.opt.margin[0]-this.opt.margin[2]},e.inner.px={width:t(e.inner.width,e.k),height:t(e.inner.height,e.k)},e.inner.ratio=e.inner.height/e.inner.width),this.prop.pageSize=e})},_.prototype.setProgress=function(e,t,n,i){return null!=e&&(this.progress.val=e),null!=t&&(this.progress.state=t),null!=n&&(this.progress.n=n),null!=i&&(this.progress.stack=i),this.progress.ratio=this.progress.val/this.progress.state,this},_.prototype.updateProgress=function(e,t,n,i){return this.setProgress(e?this.progress.val+e:null,t||null,n?this.progress.n+n:null,i?this.progress.stack.concat(i):null)},_.prototype.then=function(e,t){var n=this;return this.thenCore(e,t,function(e,t){return n.updateProgress(null,null,1,[e]),Promise.prototype.then.call(this,function(t){return n.updateProgress(null,e),t}).then(e,t).then(function(e){return n.updateProgress(1),e})})},_.prototype.thenCore=function(e,t,n){n=n||Promise.prototype.then;var i=this;e&&(e=e.bind(i)),t&&(t=t.bind(i));var r=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?i:_.convert(Object.assign({},i),Promise.prototype),o=n.call(r,e,t);return _.convert(o,i.__proto__)},_.prototype.thenExternal=function(e,t){return Promise.prototype.then.call(this,e,t)},_.prototype.thenList=function(e){var t=this;return e.forEach(function(e){t=t.thenCore(e)}),t},_.prototype.catch=function(e){e&&(e=e.bind(this));var t=Promise.prototype.catch.call(this,e);return _.convert(t,this)},_.prototype.catchExternal=function(e){return Promise.prototype.catch.call(this,e)},_.prototype.error=function(e){return this.then(function(){throw new Error(e)})},_.prototype.using=_.prototype.set,_.prototype.saveAs=_.prototype.save,_.prototype.export=_.prototype.output,_.prototype.run=_.prototype.then,le.getPageSize=function(t,n,i){if("object"===e(t)){var r=t;t=r.orientation,n=r.unit||n,i=r.format||i}n=n||"mm",i=i||"a4",t=(""+(t||"P")).toLowerCase();var o=(""+i).toLowerCase(),s={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(n){case"pt":var a=1;break;case"mm":a=72/25.4;break;case"cm":a=72/2.54;break;case"in":a=72;break;case"px":a=.75;break;case"pc":case"em":a=12;break;case"ex":a=6;break;default:throw"Invalid unit: "+n}if(s.hasOwnProperty(o))var l=s[o][1]/a,c=s[o][0]/a;else try{l=i[1],c=i[0]}catch(t){throw new Error("Invalid format: "+i)}if("p"===t||"portrait"===t){if(t="p",l<c){var u=c;c=l,l=u}}else{if("l"!==t&&"landscape"!==t)throw"Invalid orientation: "+t;t="l",c<l&&(u=c,c=l,l=u)}return{width:c,height:l,unit:n,k:a}},y.html=function(e,t){(t=t||{}).callback=t.callback||function(){},t.html2canvas=t.html2canvas||{},t.html2canvas.canvas=t.html2canvas.canvas||this.canvas,t.jsPDF=t.jsPDF||this;var n=new _(t);return t.worker?n:n.from(e).doCallback()},le.API.addJS=function(e){return S=e,this.internal.events.subscribe("postPutResources",function(e){C=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(C+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),E=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+S+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==C&&void 0!==E&&this.internal.out("/Names <</JavaScript "+C+" 0 R>>")}),this},(T=le.API).events.push(["postPutResources",function(){var e=this,t=/^(\d+) 0 obj$/;if(0<this.outline.root.children.length)for(var n=e.outline.render().split(/\r\n/),i=0;i<n.length;i++){var r=n[i],o=t.exec(r);null!=o&&e.internal.newObjectDeferredBegin(o[1],!1),e.internal.write(r)}if(this.outline.createNamedDestinations){var s=this.internal.pages.length,a=[];for(i=0;i<s;i++){var l=e.internal.newObject();a.push(l);var c=e.internal.getPageInfo(i+1);e.internal.write("<< /D["+c.objId+" 0 R /XYZ null null null]>> endobj")}var u=e.internal.newObject();for(e.internal.write("<< /Names [ "),i=0;i<a.length;i++)e.internal.write("(page_"+(i+1)+")"+a[i]+" 0 R");e.internal.write(" ] >>","endobj"),e.internal.newObject(),e.internal.write("<< /Dests "+u+" 0 R"),e.internal.write(">>","endobj")}}]),T.events.push(["putCatalog",function(){0<this.outline.root.children.length&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+namesOid+" 0 R"))}]),T.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(e,t,n){var i={title:t,options:n,children:[]};return null==e&&(e=this.root),e.children.push(i),i},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(t){t.id=e.internal.newObjectDeferred();for(var n=0;n<t.children.length;n++)this.genIds_r(t.children[n])},e.outline.renderRoot=function(e){this.objStart(e),this.line("/Type /Outlines"),0<e.children.length&&(this.line("/First "+this.makeRef(e.children[0])),this.line("/Last "+this.makeRef(e.children[e.children.length-1]))),this.line("/Count "+this.count_r({count:0},e)),this.objEnd()},e.outline.renderItems=function(t){for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<t.children.length;i++){var r=t.children[i];this.objStart(r),this.line("/Title "+this.makeString(r.title)),this.line("/Parent "+this.makeRef(t)),0<i&&this.line("/Prev "+this.makeRef(t.children[i-1])),i<t.children.length-1&&this.line("/Next "+this.makeRef(t.children[i+1])),0<r.children.length&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1])));var o=this.count=this.count_r({count:0},r);if(0<o&&this.line("/Count "+o),r.options&&r.options.pageNumber){var s=e.internal.getPageInfo(r.options.pageNumber);this.line("/Dest ["+s.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(i=0;i<t.children.length;i++)this.renderItems(r=t.children[i])},e.outline.line=function(e){this.ctx.val+=e+"\r\n"},e.outline.makeRef=function(e){return e.id+" 0 R"},e.outline.makeString=function(t){return"("+e.internal.pdfEscape(t)+")"},e.outline.objStart=function(e){this.ctx.val+="\r\n"+e.id+" 0 obj\r\n<<\r\n"},e.outline.objEnd=function(e){this.ctx.val+=">> \r\nendobj\r\n"},e.outline.count_r=function(e,t){for(var n=0;n<t.children.length;n++)e.count++,this.count_r(e,t.children[n]);return e.count}}]),x=function(){var e="function"==typeof Deflater;if(!e)throw new Error("requires deflate.js for compression");return e},I=function(e,t,n,i){var r=5,o=R;switch(i){case L.image_compression.FAST:r=3,o=O;break;case L.image_compression.MEDIUM:r=6,o=M;break;case L.image_compression.SLOW:r=9,o=U}e=N(e,t,n,o);var s=new Uint8Array(B(r)),a=F(e),l=new Deflater(r),c=l.append(e),u=l.flush(),d=s.length+c.length+u.length,h=new Uint8Array(d+4);return h.set(s),h.set(c,s.length),h.set(u,s.length+c.length),h[d++]=a>>>24&255,h[d++]=a>>>16&255,h[d++]=a>>>8&255,h[d++]=255&a,L.arrayBufferToBinaryString(h)},B=function(e,t){var n=Math.LOG2E*Math.log(32768)-8<<4|8,i=n<<8;return i|=Math.min(3,(t-1&255)>>1)<<6,i|=0,[n,255&(i+=31-i%31)]},F=function(e,t){for(var n,i=1,r=0,o=e.length,s=0;0<o;){for(o-=n=t<o?t:o;r+=i+=e[s++],--n;);i%=65521,r%=65521}return(r<<16|i)>>>0},N=function(e,t,n,i){for(var r,o,s,a=e.length/t,l=new Uint8Array(e.length+a),c=H(),u=0;u<a;u++){if(r=e.subarray(s=u*t,s+t),i)l.set(i(r,n,o),s+u);else{for(var d=0,h=c.length,p=[];d<h;d++)p[d]=c[d](r,n,o);var f=k(p.concat());l.set(p[f],s+u)}o=r}return l},D=function(e,t,n){var i=Array.apply([],e);return i.unshift(0),i},O=function(e,t,n){var i=[],r=0,o=e.length;for(i[0]=1;r<o;r++)i[r+1]=e[r]-(e[r-t]||0)+256&255;return i},R=function(e,t,n){var i=[],r=0,o=e.length;for(i[0]=2;r<o;r++)i[r+1]=e[r]-(n&&n[r]||0)+256&255;return i},M=function(e,t,n){var i=[],r=0,o=e.length;for(i[0]=3;r<o;r++)i[r+1]=e[r]+256-((e[r-t]||0)+(n&&n[r]||0)>>>1)&255;return i},U=function(e,t,n){var i,r=[],o=0,s=e.length;for(r[0]=4;o<s;o++)i=P(e[o-t]||0,n&&n[o]||0,n&&n[o-t]||0),r[o+1]=e[o]-i+256&255;return r},P=function(e,t,n){var i=e+t-n,r=Math.abs(i-e),o=Math.abs(i-t),s=Math.abs(i-n);return r<=o&&r<=s?e:o<=s?t:n},H=function(){return[D,O,R,M,U]},k=function(e){for(var t,n,i,r=0,o=e.length;r<o;)((t=Q(e[r].slice(1)))<n||!n)&&(n=t,i=r),r++;return i},Q=function(e){for(var t=0,n=e.length,i=0;t<n;)i+=Math.abs(e[t++]);return i},(L=le.API).processPNG=function(e,t,n,i,r){var o,s,a,l,c,u,d=this.color_spaces.DEVICE_RGB,h=this.decode.FLATE_DECODE,p=8;if(this.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.isArrayBufferView(e)){if("function"!=typeof PNG||"function"!=typeof Be)throw new Error("PNG support requires png.js and zlib.js");if(e=(o=new PNG(e)).imgData,p=o.bits,d=o.colorSpace,l=o.colors,-1!==[4,6].indexOf(o.colorType)){if(8===o.bits)for(var f,A=(T=32==o.pixelBitlength?new Uint32Array(o.decodePixels().buffer):16==o.pixelBitlength?new Uint16Array(o.decodePixels().buffer):new Uint8Array(o.decodePixels().buffer)).length,g=new Uint8Array(A*o.colors),m=new Uint8Array(A),y=o.pixelBitlength-o.bits,v=0,w=0;v<A;v++){for(b=T[v],f=0;f<y;)g[w++]=b>>>f&255,f+=o.bits;m[v]=b>>>f&255}if(16===o.bits){A=(T=new Uint32Array(o.decodePixels().buffer)).length,g=new Uint8Array(A*(32/o.pixelBitlength)*o.colors),m=new Uint8Array(A*(32/o.pixelBitlength));for(var b,_=1<o.colors,C=w=v=0;v<A;)b=T[v++],g[w++]=b>>>0&255,_&&(g[w++]=b>>>16&255,b=T[v++],g[w++]=b>>>0&255),m[C++]=b>>>16&255;p=8}i!==L.image_compression.NONE&&x()?(e=I(g,o.width*o.colors,o.colors,i),u=I(m,o.width,1,i)):(e=g,u=m,h=null)}if(3===o.colorType&&(d=this.color_spaces.INDEXED,c=o.palette,o.transparency.indexed)){var E=o.transparency.indexed,S=0;for(v=0,A=E.length;v<A;++v)S+=E[v];if((S/=255)==A-1&&-1!==E.indexOf(0))a=[E.indexOf(0)];else if(S!==A){var T=o.decodePixels();for(m=new Uint8Array(T.length),v=0,A=T.length;v<A;v++)m[v]=E[T[v]];u=I(m,o.width,1)}}var B=function(e){var t;switch(e){case L.image_compression.FAST:t=11;break;case L.image_compression.MEDIUM:t=13;break;case L.image_compression.SLOW:t=14;break;default:t=12}return t}(i);return s=h===this.decode.FLATE_DECODE?"/Predictor "+B+" /Colors "+l+" /BitsPerComponent "+p+" /Columns "+o.width:"/Colors "+l+" /BitsPerComponent "+p+" /Columns "+o.width,(this.isArrayBuffer(e)||this.isArrayBufferView(e))&&(e=this.arrayBufferToBinaryString(e)),(u&&this.isArrayBuffer(u)||this.isArrayBufferView(u))&&(u=this.arrayBufferToBinaryString(u)),this.createImageInfo(e,o.width,o.height,d,p,h,t,n,s,a,c,u,B)}throw new Error("Unsupported PNG image data, try using JPEG instead.")},(z=le.API).processGIF89A=function(e,t,n,i,r){var o=new Se(e),s=o.width,a=o.height,l=[];o.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:s,height:a},u=new Le(100).encode(c,100);return z.processJPEG.call(this,u,t,n,i)},z.processGIF87A=z.processGIF89A,(j=le.API).processBMP=function(e,t,n,i,r){var o=new xe(e,!1),s=o.width,a=o.height,l={data:o.getData(),width:s,height:a},c=new Le(100).encode(l,100);return j.processJPEG.call(this,c,t,n,i)},le.API.setLanguage=function(e){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"FYRO Macedonian",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]&&(this.internal.languageSettings.languageCode=e,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},W=(V=le.API).getCharWidthsArray=function(e,t){var n,i,r,o=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),a=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:o.metadata.Unicode.widths,c=l.fof?l.fof:1,u=t.kerning?t.kerning:o.metadata.Unicode.kerning,d=u.fof?u.fof:1,h=0,p=l[0]||c,f=[];for(n=0,i=e.length;n<i;n++)r=e.charCodeAt(n),f.push("function"==typeof o.metadata.widthOfString?(o.metadata.widthOfGlyph(o.metadata.characterToGlyph(r))+a*(1e3/s)||0)/1e3:(l[r]||p)/c+(u[r]&&u[r][h]||0)/d),h=r;return f},q=V.getArraySum=function(e){for(var t=e.length,n=0;t;)n+=e[--t];return n},G=V.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),i=t.font||this.internal.getFont(),r=t.charSpace||this.internal.getCharSpace();return"function"==typeof i.metadata.widthOfString?i.metadata.widthOfString(e,n,r)/n:q(W.apply(this,arguments))},K=function(e,t,n,i){for(var r=[],o=0,s=e.length,a=0;o!==s&&a+t[o]<n;)a+=t[o],o++;r.push(e.slice(0,o));var l=o;for(a=0;o!==s;)a+t[o]>i&&(r.push(e.slice(l,o)),a=0,l=o),a+=t[o],o++;return l!==o&&r.push(e.slice(l,o)),r},X=function(e,t,n){n||(n={});var i,r,o,s,a,l,c=[],u=[c],d=n.textIndent||0,h=0,p=0,f=e.split(" "),A=W.apply(this,[" ",n])[0];if(l=-1===n.lineIndent?f[0].length+2:n.lineIndent||0){var g=Array(l).join(" "),m=[];f.map(function(e){1<(e=e.split(/\s*\n/)).length?m=m.concat(e.map(function(e,t){return(t&&e.length?"\n":"")+e})):m.push(e[0])}),f=m,l=G.apply(this,[g,n])}for(o=0,s=f.length;o<s;o++){var y=0;if(i=f[o],l&&"\n"==i[0]&&(i=i.substr(1),y=1),r=W.apply(this,[i,n]),t<d+h+(p=q(r))||y){if(t<p){for(a=K.apply(this,[i,r,t-(d+h),t]),c.push(a.shift()),c=[a.pop()];a.length;)u.push([a.shift()]);p=q(r.slice(i.length-(c[0]?c[0].length:0)))}else c=[i];u.push(c),d=p+l,h=A}else c.push(i),d+=h+p,h=A}if(l)var v=function(e,t){return(t?g:"")+e.join(" ")};else v=function(e){return e.join(" ")};return u.map(v)},V.splitTextToSize=function(e,t,n){var i,r=(n=n||{}).fontSize||this.internal.getFontSize(),o=(function(e){if(e.widths&&e.kerning)return{widths:e.widths,kerning:e.kerning};var t=this.internal.getFont(e.fontName,e.fontStyle),n="Unicode";return t.metadata[n]?{widths:t.metadata[n].widths||{0:1},kerning:t.metadata[n].kerning||{}}:{font:t.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);i=Array.isArray(e)?e:e.split(/\r?\n/);var s=1*this.internal.scaleFactor*t/r;o.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/r:0,o.lineIndent=n.lineIndent;var a,l,c=[];for(a=0,l=i.length;a<l;a++)c=c.concat(X.apply(this,[i[a],s,o]));return c},J=le.API,Z={codePages:["WinAnsiEncoding"],WinAnsiEncoding:(Y=function(e){for(var t="klmnopqrstuvwxyz",n={},i=0;i<t.length;i++)n[t[i]]="0123456789abcdef"[i];var r,o,s,a,l,c={},u=1,d=c,h=[],p="",f="",A=e.length-1;for(i=1;i!=A;)l=e[i],i+=1,"'"==l?o=o?(a=o.join(""),r):[]:o?o.push(l):"{"==l?(h.push([d,a]),d={},a=r):"}"==l?((s=h.pop())[0][s[1]]=d,a=r,d=s[0]):"-"==l?u=-1:a===r?n.hasOwnProperty(l)?(p+=n[l],a=parseInt(p,16)*u,u=1,p=""):p+=l:n.hasOwnProperty(l)?(f+=n[l],d[a]=parseInt(f,16)*u,u=1,a=r,f=""):f+=l;return c})("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},$={Unicode:{Courier:Z,"Courier-Bold":Z,"Courier-BoldOblique":Z,"Courier-Oblique":Z,Helvetica:Z,"Helvetica-Bold":Z,"Helvetica-BoldOblique":Z,"Helvetica-Oblique":Z,"Times-Roman":Z,"Times-Bold":Z,"Times-BoldItalic":Z,"Times-Italic":Z}},ee={Unicode:{"Courier-Oblique":Y("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":Y("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":Y("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:Y("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":Y("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":Y("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:Y("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:Y("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":Y("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:Y("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":Y("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":Y("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":Y("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":Y("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}},J.events.push(["addFont",function(e){var t,n,i,r=e.font,o="Unicode";(t=ee[o][r.postScriptName])&&((n=r.metadata[o]?r.metadata[o]:r.metadata[o]={}).widths=t.widths,n.kerning=t.kerning),(i=$[o][r.postScriptName])&&((n=r.metadata[o]?r.metadata[o]:r.metadata[o]={}).encoding=i).codePages&&i.codePages.length&&(r.encoding=i.codePages[0])}]),te=le,"undefined"!=typeof self&&self||"undefined"!=typeof global&&global||"undefined"!=typeof window&&window||Function("return this")(),te.API.events.push(["addFont",function(e){var t=e.font,n=e.instance;if(void 0!==n&&n.existsFileInVFS(t.postScriptName)){var i=n.getFileFromVFS(t.postScriptName);if("string"!=typeof i)throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+t.postScriptName+"').");t.metadata=te.API.TTFFont.open(t.postScriptName,t.fontName,i,t.encoding),t.metadata.Unicode=t.metadata.Unicode||{encoding:{},kerning:{},widths:[]},t.metadata.glyIdsUsed=[0]}else if(!1===t.isStandardFont)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+t.postScriptName+"').")}]),(ne=le.API).addSvg=function(e,t,n,i,r){if(void 0===t||void 0===n)throw new Error("addSVG needs values for 'x' and 'y'");function o(e){for(var t=parseFloat(e[1]),n=parseFloat(e[2]),i=[],r=3,o=e.length;r<o;)"c"===e[r]?(i.push([parseFloat(e[r+1]),parseFloat(e[r+2]),parseFloat(e[r+3]),parseFloat(e[r+4]),parseFloat(e[r+5]),parseFloat(e[r+6])]),r+=7):"l"===e[r]?(i.push([parseFloat(e[r+1]),parseFloat(e[r+2])]),r+=3):r+=1;return[t,n,i]}var s,a,l,c,u,d,h,p=((a=((h=(l=document).createElement("iframe"),c=".jsPDF_sillysvg_iframe {display:none;position:absolute;}",(d=(u=l).createElement("style")).type="text/css",d.styleSheet?d.styleSheet.cssText=c:d.appendChild(u.createTextNode(c)),u.getElementsByTagName("head")[0].appendChild(d),h.name="childframe",h.setAttribute("width",0),h.setAttribute("height",0),h.setAttribute("frameborder","0"),h.setAttribute("scrolling","no"),h.setAttribute("seamless","seamless"),h.setAttribute("class","jsPDF_sillysvg_iframe"),l.body.appendChild(h),s=h).contentWindow||s.contentDocument).document).write(e),a.close(),a.getElementsByTagName("svg")[0]),f=[1,1],A=parseFloat(p.getAttribute("width")),g=parseFloat(p.getAttribute("height"));A&&g&&(i&&r?f=[i/A,r/g]:i?f=[i/A,i/A]:r&&(f=[r/g,r/g]));var m,y,v,w,b=p.childNodes;for(m=0,y=b.length;m<y;m++)(v=b[m]).tagName&&"PATH"===v.tagName.toUpperCase()&&((w=o(v.getAttribute("d").split(" ")))[0]=w[0]*f[0]+t,w[1]=w[1]*f[1]+n,this.lines.call(this,w[2],w[0],w[1],f));return this},ne.addSVG=ne.addSvg,ne.addSvgAsImage=function(e,t,n,i,r,o,s,a){if(isNaN(t)||isNaN(n))throw console.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(r))throw console.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=i,l.height=r;var c=l.getContext("2d");return c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height),canvg(l,e,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0}),this.addImage(l.toDataURL("image/jpeg",1),t,n,i,r,s,a),this},le.API.putTotalPages=function(e){var t,n;n=parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var r=0;r<this.internal.pages[i].length;r++)this.internal.pages[i][r]=this.internal.pages[i][r].replace(t,n);return this},le.API.viewerPreferences=function(t,n){var i;t=t||{},n=n||!1;var r,o,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(s),l=[],c=0,u=0,d=0,h=!0;function p(e,t){var n,i=!1;for(n=0;n<e.length;n+=1)e[n]===t&&(i=!0);return i}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),i=this.internal.viewerpreferences.configuration,"reset"===t||!0===n){var f=a.length;for(d=0;d<f;d+=1)i[a[d]].value=i[a[d]].defaultValue,i[a[d]].explicitSet=!1}if("object"===e(t))for(r in t)if(o=t[r],p(a,r)&&void 0!==o){if("boolean"===i[r].type&&"boolean"==typeof o)i[r].value=o;else if("name"===i[r].type&&p(i[r].valueSet,o))i[r].value=o;else if("integer"===i[r].type&&Number.isInteger(o))i[r].value=o;else if("array"===i[r].type){for(c=0;c<o.length;c+=1)if(h=!0,1===o[c].length&&"number"==typeof o[c][0])l.push(String(o[c]-1));else if(1<o[c].length){for(u=0;u<o[c].length;u+=1)"number"!=typeof o[c][u]&&(h=!1);!0===h&&l.push([o[c][0]-1,o[c][1]-1].join(" "))}i[r].value="["+l.join(" ")+"]"}else i[r].value=i[r].defaultValue;i[r].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var e,t=[];for(e in i)!0===i[e].explicitSet&&t.push("name"===i[e].type?"/"+e+" /"+i[e].value:"/"+e+" "+i[e].value);0!==t.length&&this.internal.write("/ViewerPreferences\n<<\n"+t.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=i,this},oe=re=ie="",le.API.addMetadata=function(e,t){return re=t||"http://jspdf.default.namespaceuri/",ie=e,this.internal.events.subscribe("postPutResources",function(){if(ie){var e='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+re+'"><jspdf:metadata>',t=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),n=unescape(encodeURIComponent(e)),i=unescape(encodeURIComponent(ie)),r=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),o=unescape(encodeURIComponent("</x:xmpmeta>")),s=n.length+i.length+r.length+t.length+o.length;oe=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+s+" >>"),this.internal.write("stream"),this.internal.write(t+n+i+r+o),this.internal.write("endstream"),this.internal.write("endobj")}else oe=""}),this.internal.events.subscribe("putCatalog",function(){oe&&this.internal.write("/Metadata "+oe+" 0 R")}),this},function(e,t){var n=e.API,i=n.pdfEscape16=function(e,t){for(var n,i=t.metadata.Unicode.widths,r=["","0","00","000","0000"],o=[""],s=0,a=e.length;s<a;++s){if(n=t.metadata.characterToGlyph(e.charCodeAt(s)),t.metadata.glyIdsUsed.push(n),t.metadata.toUnicode[n]=e.charCodeAt(s),-1==i.indexOf(n)&&(i.push(n),i.push([parseInt(t.metadata.widthOfGlyph(n),10)])),"0"==n)return o.join("");n=n.toString(16),o.push(r[4-n.length],n)}return o.join("")},r=function(e){var t,n,i,r,o,s,a;for(o="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",i=[],s=0,a=(n=Object.keys(e).sort(function(e,t){return e-t})).length;s<a;s++)t=n[s],100<=i.length&&(o+="\n"+i.length+" beginbfchar\n"+i.join("\n")+"\nendbfchar",i=[]),r=("0000"+e[t].toString(16)).slice(-4),t=("0000"+(+t).toString(16)).slice(-4),i.push("<"+t+"><"+r+">");return i.length&&(o+="\n"+i.length+" beginbfchar\n"+i.join("\n")+"\nendbfchar\n"),o+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};n.events.push(["putFont",function(t){!function(t,n,i,o){if(t.metadata instanceof e.API.TTFFont&&"Identity-H"===t.encoding){for(var s=t.metadata.Unicode.widths,a=t.metadata.subset.encode(t.metadata.glyIdsUsed,1),l="",c=0;c<a.length;c++)l+=String.fromCharCode(a[c]);var u=i();o({data:l,addLength1:!0}),n("endobj");var d=i();o({data:r(t.metadata.toUnicode),addLength1:!0}),n("endobj");var h=i();n("<<"),n("/Type /FontDescriptor"),n("/FontName /"+t.fontName),n("/FontFile2 "+u+" 0 R"),n("/FontBBox "+e.API.PDFObject.convert(t.metadata.bbox)),n("/Flags "+t.metadata.flags),n("/StemV "+t.metadata.stemV),n("/ItalicAngle "+t.metadata.italicAngle),n("/Ascent "+t.metadata.ascender),n("/Descent "+t.metadata.decender),n("/CapHeight "+t.metadata.capHeight),n(">>"),n("endobj");var p=i();n("<<"),n("/Type /Font"),n("/BaseFont /"+t.fontName),n("/FontDescriptor "+h+" 0 R"),n("/W "+e.API.PDFObject.convert(s)),n("/CIDToGIDMap /Identity"),n("/DW 1000"),n("/Subtype /CIDFontType2"),n("/CIDSystemInfo"),n("<<"),n("/Supplement 0"),n("/Registry (Adobe)"),n("/Ordering ("+t.encoding+")"),n(">>"),n(">>"),n("endobj"),t.objectNumber=i(),n("<<"),n("/Type /Font"),n("/Subtype /Type0"),n("/ToUnicode "+d+" 0 R"),n("/BaseFont /"+t.fontName),n("/Encoding /"+t.encoding),n("/DescendantFonts ["+p+" 0 R]"),n(">>"),n("endobj"),t.isAlreadyPutted=!0}}(t.font,t.out,t.newObject,t.putStream)}]),n.events.push(["putFont",function(t){!function(t,n,i,o){if(t.metadata instanceof e.API.TTFFont&&"WinAnsiEncoding"===t.encoding){for(var s=t.metadata.rawData,a="",l=0;l<s.length;l++)a+=String.fromCharCode(s[l]);var c=i();o({data:a,addLength1:!0}),n("endobj");var u=i();o({data:r(t.metadata.toUnicode),addLength1:!0}),n("endobj");var d=i();for(n("<<"),n("/Descent "+t.metadata.decender),n("/CapHeight "+t.metadata.capHeight),n("/StemV "+t.metadata.stemV),n("/Type /FontDescriptor"),n("/FontFile2 "+c+" 0 R"),n("/Flags 96"),n("/FontBBox "+e.API.PDFObject.convert(t.metadata.bbox)),n("/FontName /"+t.fontName),n("/ItalicAngle "+t.metadata.italicAngle),n("/Ascent "+t.metadata.ascender),n(">>"),n("endobj"),t.objectNumber=i(),l=0;l<t.metadata.hmtx.widths.length;l++)t.metadata.hmtx.widths[l]=parseInt(t.metadata.hmtx.widths[l]*(1e3/t.metadata.head.unitsPerEm));n("<</Subtype/TrueType/Type/Font/ToUnicode "+u+" 0 R/BaseFont/"+t.fontName+"/FontDescriptor "+d+" 0 R/Encoding/"+t.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(t.metadata.hmtx.widths)+">>"),n("endobj"),t.isAlreadyPutted=!0}}(t.font,t.out,t.newObject,t.putStream)}]);var o=function(e){var t,n,r=e.text||"",o=e.x,s=e.y,a=e.options||{},l=e.mutex||{},c=l.pdfEscape,u=l.activeFontKey,d=l.fonts,h="",p=0,f="",A=d[n=u].encoding;if("Identity-H"!==d[n].encoding)return{text:r,x:o,y:s,options:a,mutex:l};for(f=r,n=u,"[object Array]"===Object.prototype.toString.call(r)&&(f=r[0]),p=0;p<f.length;p+=1)d[n].metadata.hasOwnProperty("cmap")&&(t=d[n].metadata.cmap.unicode.codeMap[f[p].charCodeAt(0)]),t||f[p].charCodeAt(0)<256&&d[n].metadata.hasOwnProperty("Unicode")?h+=f[p]:h+="";var g="";return parseInt(n.slice(1))<14||"WinAnsiEncoding"===A?g=function(e){for(var t="",n=0;n<e.length;n++)t+=""+e.charCodeAt(n).toString(16);return t}(c(h,n)):"Identity-H"===A&&(g=i(h,d[n])),l.isHex=!0,{text:g,x:o,y:s,options:a,mutex:l}};n.events.push(["postProcessText",function(e){var t=e.text||"",n=[],i={text:t,x:e.x,y:e.y,options:e.options,mutex:e.mutex};if("[object Array]"===Object.prototype.toString.call(t)){var r=0;for(r=0;r<t.length;r+=1)"[object Array]"===Object.prototype.toString.call(t[r])&&3===t[r].length?n.push([o(Object.assign({},i,{text:t[r][0]})).text,t[r][1],t[r][2]]):n.push(o(Object.assign({},i,{text:t[r]})).text);e.text=n}else e.text=o(Object.assign({},i,{text:t})).text}])}(le,"undefined"!=typeof self&&self||"undefined"!=typeof global&&global||"undefined"!=typeof window&&window||Function("return this")()),ae=function(e){return void 0!==e&&(void 0===e.vFS&&(e.vFS={}),!0)},(se=le.API).existsFileInVFS=function(e){return!!ae(this.internal)&&void 0!==this.internal.vFS[e]},se.addFileToVFS=function(e,t){return ae(this.internal),this.internal.vFS[e]=t,this},se.getFileFromVFS=function(e){return ae(this.internal),void 0!==this.internal.vFS[e]?this.internal.vFS[e]:null},le.API.addHTML=function(e,t,n,i,r){if("undefined"==typeof html2canvas&&"undefined"==typeof rasterizeHTML)throw new Error("You need either https://github.com/niklasvh/html2canvas or https://github.com/cburgmer/rasterizeHTML.js");"number"!=typeof t&&(i=t,r=n),"function"==typeof i&&(r=i,i=null),"function"!=typeof r&&(r=function(){});var o=this.internal,s=o.scaleFactor,a=o.pageSize.getWidth(),l=o.pageSize.getHeight();if((i=i||{}).onrendered=(function(e){t=parseInt(t)||0,n=parseInt(n)||0;var o=i.dim||{},c=Object.assign({top:0,right:0,bottom:0,left:0,useFor:"content"},i.margin),u=o.h||Math.min(l,e.height/s),d=o.w||Math.min(a,e.width/s)-t,h=i.format||"JPEG",p=i.imageCompression||"SLOW";if(e.height>l-c.top-c.bottom&&i.pagesplit){var f=function(e,t,n,r,o){var s=document.createElement("canvas");s.height=o,s.width=r;var a=s.getContext("2d");return a.mozImageSmoothingEnabled=!1,a.webkitImageSmoothingEnabled=!1,a.msImageSmoothingEnabled=!1,a.imageSmoothingEnabled=!1,a.fillStyle=i.backgroundColor||"#ffffff",a.fillRect(0,0,r,o),a.drawImage(e,t,n,r,o,0,0,r,o),s},A=(function(){for(var i,o,u=0,A=0,g={},m=!1;;){var y;if(A=0,g.top=0!==u?c.top:n,g.left=0!==u?c.left:t,m=(a-c.left-c.right)*s<e.width,"content"===c.useFor?0===u?(i=Math.min((a-c.left)*s,e.width),o=Math.min((l-c.top)*s,e.height-u)):(i=Math.min(a*s,e.width),o=Math.min(l*s,e.height-u),g.top=0):(i=Math.min((a-c.left-c.right)*s,e.width),o=Math.min((l-c.bottom-c.top)*s,e.height-u)),m)for(;;){"content"===c.useFor&&(0===A?i=Math.min((a-c.left)*s,e.width):(i=Math.min(a*s,e.width-A),g.left=0));var v=[y=f(e,A,u,i,o),g.left,g.top,y.width/s,y.height/s,h,null,p];if(this.addImage.apply(this,v),(A+=i)>=e.width)break;this.addPage()}else v=[y=f(e,0,u,i,o),g.left,g.top,y.width/s,y.height/s,h,null,p],this.addImage.apply(this,v);if((u+=o)>=e.height)break;this.addPage()}r(d,u,null,v)}).bind(this);if("CANVAS"===e.nodeName){var g=new Image;g.onload=A,g.src=e.toDataURL("image/png"),e=g}else A()}else{var m=Math.random().toString(35),y=[e,t,n,d,u,h,m,p];this.addImage.apply(this,y),r(d,u,m,y)}}).bind(this),"undefined"!=typeof html2canvas&&!i.rstz)return html2canvas(e,i);if("undefined"==typeof rasterizeHTML)return null;var c="drawDocument";return"string"==typeof e&&(c=/^http/.test(e)?"drawURL":"drawHTML"),i.width=i.width||a*s,rasterizeHTML[c](e,void 0,i).then(function(e){i.onrendered(e.image)},function(e){r(null,e)})},function(t){var n,i,r,o,s,a,l,c,u,d,h,p,f,A,g,m,y,v,w,b;n=function(){return function(t){return e.prototype=t,new e};function e(){}}(),d=function(e){var t,n,i,r,o,s,a;for(n=0,i=e.length,t=void 0,s=r=!1;!r&&n!==i;)(t=e[n]=e[n].trimLeft())&&(r=!0),n++;for(n=i-1;i&&!s&&-1!==n;)(t=e[n]=e[n].trimRight())&&(s=!0),n--;for(o=/\s+$/g,a=!0,n=0;n!==i;)"\u2028"!=e[n]&&(t=e[n].replace(/\s+/g," "),a&&(t=t.trimLeft()),t&&(a=o.test(t)),e[n]=t),n++;return e},p=function(e){var t,n,i;for(t=void 0,n=(i=e.split(",")).shift();!t&&n;)t=r[n.trim().toLowerCase()],n=i.shift();return t},f=function(e){var t;return-1<(e="auto"===e?"0px":e).indexOf("em")&&!isNaN(Number(e.replace("em","")))&&(e=18.719*Number(e.replace("em",""))+"px"),-1<e.indexOf("pt")&&!isNaN(Number(e.replace("pt","")))&&(e=1.333*Number(e.replace("pt",""))+"px"),(t=A[e])?t:void 0!==(t={"xx-small":9,"x-small":11,small:13,medium:16,large:19,"x-large":23,"xx-large":28,auto:0}[e])||(t=parseFloat(e))?A[e]=t/16:(t=e.match(/([\d\.]+)(px)/),A[e]=Array.isArray(t)&&3===t.length?parseFloat(t[1])/16:1)},u=function(e){var t,n,i,r,u;return u=e,r=document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(u,null):u.currentStyle?u.currentStyle:u.style,n=void 0,(t={})["font-family"]=p((i=function(e){return e=e.replace(/-\D/g,function(e){return e.charAt(1).toUpperCase()}),r[e]})("font-family"))||"times",t["font-style"]=o[i("font-style")]||"normal",t["text-align"]=s[i("text-align")]||"left","bold"===(n=a[i("font-weight")]||"normal")&&(t["font-style"]="normal"===t["font-style"]?n:n+t["font-style"]),t["font-size"]=f(i("font-size"))||1,t["line-height"]=f(i("line-height"))||1,t.display="inline"===i("display")?"inline":"block",t["margin-top"]=(n="block"===t.display)&&f(i("margin-top"))||0,t["margin-bottom"]=n&&f(i("margin-bottom"))||0,t["padding-top"]=n&&f(i("padding-top"))||0,t["padding-bottom"]=n&&f(i("padding-bottom"))||0,t["margin-left"]=n&&f(i("margin-left"))||0,t["margin-right"]=n&&f(i("margin-right"))||0,t["padding-left"]=n&&f(i("padding-left"))||0,t["padding-right"]=n&&f(i("padding-right"))||0,t["page-break-before"]=i("page-break-before")||"auto",t.float=l[i("cssFloat")]||"none",t.clear=c[i("clear")]||"none",t.color=i("color"),t},g=function(e,t,n){var i,r,o,s,a;if(o=!1,s=r=void 0,i=n["#"+e.id])if("function"==typeof i)o=i(e,t);else for(r=0,s=i.length;!o&&r!==s;)o=i[r](e,t),r++;if(i=n[e.nodeName],!o&&i)if("function"==typeof i)o=i(e,t);else for(r=0,s=i.length;!o&&r!==s;)o=i[r](e,t),r++;for(a="string"==typeof e.className?e.className.split(" "):[],r=0;r<a.length;r++)if(i=n["."+a[r]],!o&&i)if("function"==typeof i)o=i(e,t);else for(r=0,s=i.length;!o&&r!==s;)o=i[r](e,t),r++;return o},b=function(e,t){var n,i,r,o,s,a,l,c,u;for(n=[],i=[],r=0,u=e.rows[0].cells.length,l=e.clientWidth;r<u;)i[r]={name:(c=e.rows[0].cells[r]).textContent.toLowerCase().replace(/\s+/g,""),prompt:c.textContent.replace(/\r?\n/g,""),width:c.clientWidth/l*t.pdf.internal.pageSize.getWidth()},r++;for(r=1;r<e.rows.length;){for(a=e.rows[r],s={},o=0;o<a.cells.length;)s[i[o].name]=a.cells[o].textContent.replace(/\r?\n/g,""),o++;n.push(s),r++}return{rows:n,headers:i}};var _={SCRIPT:1,STYLE:1,NOSCRIPT:1,OBJECT:1,EMBED:1,SELECT:1},C=1;i=function(t,r,o){var s,a,l,c,d,h,p,f;for(a=t.childNodes,s=void 0,(d="block"===(l=u(t)).display)&&(r.setBlockBoundary(),r.setBlockStyle(l)),c=0,h=a.length;c<h;){if("object"===e(s=a[c])){if(r.executeWatchFunctions(s),1===s.nodeType&&"HEADER"===s.nodeName){var A=s,y=r.pdf.margins_doc.top;r.pdf.internal.events.subscribe("addPage",function(e){r.y=y,i(A,r,o),r.pdf.margins_doc.top=r.y+10,r.y+=10},!1)}if(8===s.nodeType&&"#comment"===s.nodeName)~s.textContent.indexOf("ADD_PAGE")&&(r.pdf.addPage(),r.y=r.pdf.margins_doc.top);else if(1!==s.nodeType||_[s.nodeName])if(3===s.nodeType){var v=s.nodeValue;if(s.nodeValue&&"LI"===s.parentNode.nodeName)if("OL"===s.parentNode.parentNode.nodeName)v=C+++". "+v;else{var w=l["font-size"],E=(3-.75*w)*r.pdf.internal.scaleFactor,S=.75*w*r.pdf.internal.scaleFactor,T=1.74*w/r.pdf.internal.scaleFactor;f=function(e,t){this.pdf.circle(e+E,t+S,T,"FD")}}16&s.ownerDocument.body.compareDocumentPosition(s)&&r.addText(v,l)}else"string"==typeof s&&r.addText(s,l);else{var L;if("IMG"===s.nodeName){var x=s.getAttribute("src");L=m[r.pdf.sHashCode(x)||x]}if(L){r.pdf.internal.pageSize.getHeight()-r.pdf.margins_doc.bottom<r.y+s.height&&r.y>r.pdf.margins_doc.top&&(r.pdf.addPage(),r.y=r.pdf.margins_doc.top,r.executeWatchFunctions(s));var I=u(s),B=r.x,F=12/r.pdf.internal.scaleFactor,N=(I["margin-left"]+I["padding-left"])*F,D=(I["margin-right"]+I["padding-right"])*F,O=(I["margin-top"]+I["padding-top"])*F,R=(I["margin-bottom"]+I["padding-bottom"])*F;r.pdf.addImage(L,B+=void 0!==I.float&&"right"===I.float?r.settings.width-s.width-D:N,r.y+O,s.width,s.height),L=void 0,"right"===I.float||"left"===I.float?(r.watchFunctions.push((function(e,t,n,i){return r.y>=t?(r.x+=e,r.settings.width+=n,!0):!!(i&&1===i.nodeType&&!_[i.nodeName]&&r.x+i.width>r.pdf.margins_doc.left+r.pdf.margins_doc.width)&&(r.x+=e,r.y=t,r.settings.width+=n,!0)}).bind(this,"left"===I.float?-s.width-N-D:0,r.y+s.height+O+R,s.width)),r.watchFunctions.push((function(e,t,n){return!(r.y<e&&t===r.pdf.internal.getNumberOfPages())||1===n.nodeType&&"both"===u(n).clear&&(r.y=e,!0)}).bind(this,r.y+s.height,r.pdf.internal.getNumberOfPages())),r.settings.width-=s.width+N+D,"left"===I.float&&(r.x+=s.width+N+D)):r.y+=s.height+O+R}else if("TABLE"===s.nodeName)p=b(s,r),r.y+=10,r.pdf.table(r.x,r.y,p.rows,p.headers,{autoSize:!1,printHeaders:o.printHeaders,margins:r.pdf.margins_doc,css:u(s)}),r.y=r.pdf.lastCellPos.y+r.pdf.lastCellPos.h+20;else if("OL"===s.nodeName||"UL"===s.nodeName)C=1,g(s,r,o)||i(s,r,o),r.y+=10;else if("LI"===s.nodeName){var M=r.x;r.x+=20/r.pdf.internal.scaleFactor,r.y+=3,g(s,r,o)||i(s,r,o),r.x=M}else"BR"===s.nodeName?(r.y+=l["font-size"]*r.pdf.internal.scaleFactor,r.addText("\u2028",n(l))):g(s,r,o)||i(s,r,o)}}c++}if(o.outY=r.y,d)return r.setBlockBoundary(f)},m={},y=function(e,t,n,i){var r,o=e.getElementsByTagName("img"),s=o.length,a=0;function l(){t.pdf.internal.events.publish("imagesLoaded"),i(r)}function c(e,n,i){if(e){var o=new Image;r=++a,o.crossOrigin="",o.onerror=o.onload=function(){if(o.complete&&(0===o.src.indexOf("data:image/")&&(o.width=n||o.width||0,o.height=i||o.height||0),o.width+o.height)){var r=t.pdf.sHashCode(e)||e;m[r]=m[r]||o}--a||l()},o.src=e}}for(;s--;)c(o[s].getAttribute("src"),o[s].width,o[s].height);return a||l()},v=function(e,t,n){var r=e.getElementsByTagName("footer");if(0<r.length){r=r[0];var o=t.pdf.internal.write,s=t.y;t.pdf.internal.write=function(){},i(r,t,n);var a=Math.ceil(t.y-s)+5;t.y=s,t.pdf.internal.write=o,t.pdf.margins_doc.bottom+=a;for(var l=function(e){var o=void 0!==e?e.pageNumber:1,s=t.y;t.y=t.pdf.internal.pageSize.getHeight()-t.pdf.margins_doc.bottom,t.pdf.margins_doc.bottom-=a;for(var l=r.getElementsByTagName("span"),c=0;c<l.length;++c)-1<(" "+l[c].className+" ").replace(/[\n\t]/g," ").indexOf(" pageCounter ")&&(l[c].innerHTML=o),-1<(" "+l[c].className+" ").replace(/[\n\t]/g," ").indexOf(" totalPages ")&&(l[c].innerHTML="###jsPDFVarTotalPages###");i(r,t,n),t.pdf.margins_doc.bottom+=a,t.y=s},c=r.getElementsByTagName("span"),u=0;u<c.length;++u)-1<(" "+c[u].className+" ").replace(/[\n\t]/g," ").indexOf(" totalPages ")&&t.pdf.internal.events.subscribe("htmlRenderingFinished",t.pdf.putTotalPages.bind(t.pdf,"###jsPDFVarTotalPages###"),!0);t.pdf.internal.events.subscribe("addPage",l,!1),l(),_.FOOTER=1}},w=function(e,t,n,r,o,s){if(!t)return!1;var a,l,c,u;"string"==typeof t||t.parentNode||(t=""+t.innerHTML),"string"==typeof t&&(a=t.replace(/<\/?script[^>]*?>/gi,""),u="jsPDFhtmlText"+Date.now().toString()+(1e3*Math.random()).toFixed(0),(c=document.createElement("div")).style.cssText="position: absolute !important;clip: rect(1px 1px 1px 1px); /* IE6, IE7 */clip: rect(1px, 1px, 1px, 1px);padding:0 !important;border:0 !important;height: 1px !important;width: 1px !important; top:auto;left:-100px;overflow: hidden;",c.innerHTML='<iframe style="height:1px;width:1px" name="'+u+'" />',document.body.appendChild(c),(l=window.frames[u]).document.open(),l.document.writeln(a),l.document.close(),t=l.document.body);var d,p=new h(e,n,r,o);return y.call(this,t,p,o.elementHandlers,function(e){v(t,p,o.elementHandlers),i(t,p,o.elementHandlers),p.pdf.internal.events.publish("htmlRenderingFinished"),d=p.dispose(),"function"==typeof s?s(d):e&&console.error("jsPDF Warning: rendering issues? provide a callback to fromHTML!")}),d||{x:p.x,y:p.y}},(h=function(e,t,n,i){return this.pdf=e,this.x=t,this.y=n,this.settings=i,this.watchFunctions=[],this.init(),this}).prototype.init=function(){return this.paragraph={text:[],style:[]},this.pdf.internal.write("q")},h.prototype.dispose=function(){return this.pdf.internal.write("Q"),{x:this.x,y:this.y,ready:!0}},h.prototype.executeWatchFunctions=function(e){var t=!1,n=[];if(0<this.watchFunctions.length){for(var i=0;i<this.watchFunctions.length;++i)!0===this.watchFunctions[i](e)?t=!0:n.push(this.watchFunctions[i]);this.watchFunctions=n}return t},h.prototype.splitFragmentsIntoLines=function(e,t){var i,r,o,s,a,l,c,u,d,h,p,f,A,g;for(h=this.pdf.internal.scaleFactor,s={},l=c=u=g=a=o=d=r=void 0,f=[p=[]],i=0,A=this.settings.width;e.length;)if(a=e.shift(),g=t.shift(),a)if((o=s[(r=g["font-family"])+(d=g["font-style"])])||(o=this.pdf.internal.getFont(r,d).metadata.Unicode,s[r+d]=o),c=this.pdf.getStringUnitWidth(a,u={widths:o.widths,kerning:o.kerning,fontSize:12*g["font-size"],textIndent:i})*u.fontSize/h,"\u2028"==a)f.push(p=[]);else if(A<i+c){for(l=this.pdf.splitTextToSize(a,A,u),p.push([l.shift(),g]);l.length;)p=[[l.shift(),g]],f.push(p);i=this.pdf.getStringUnitWidth(p[0][0],u)*u.fontSize/h}else p.push([a,g]),i+=c;if(void 0!==g["text-align"]&&("center"===g["text-align"]||"right"===g["text-align"]||"justify"===g["text-align"]))for(var m=0;m<f.length;++m){var y=this.pdf.getStringUnitWidth(f[m][0][0],u)*u.fontSize/h;0<m&&(f[m][0][1]=n(f[m][0][1]));var v=A-y;if("right"===g["text-align"])f[m][0][1]["margin-left"]=v;else if("center"===g["text-align"])f[m][0][1]["margin-left"]=v/2;else if("justify"===g["text-align"]){var w=f[m][0][0].split(" ").length-1;f[m][0][1]["word-spacing"]=v/w,m===f.length-1&&(f[m][0][1]["word-spacing"]=0)}}return f},h.prototype.RenderTextFragment=function(e,t){var n,i;i=0,this.pdf.internal.pageSize.getHeight()-this.pdf.margins_doc.bottom<this.y+this.pdf.internal.getFontSize()&&(this.pdf.internal.write("ET","Q"),this.pdf.addPage(),this.y=this.pdf.margins_doc.top,this.pdf.internal.write("q","BT",this.getPdfColor(t.color),this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td"),i=Math.max(i,t["line-height"],t["font-size"]),this.pdf.internal.write(0,(-12*i).toFixed(2),"Td")),n=this.pdf.internal.getFont(t["font-family"],t["font-style"]);var r=this.getPdfColor(t.color);r!==this.lastTextColor&&(this.pdf.internal.write(r),this.lastTextColor=r),void 0!==t["word-spacing"]&&0<t["word-spacing"]&&this.pdf.internal.write(t["word-spacing"].toFixed(2),"Tw"),this.pdf.internal.write("/"+n.id,(12*t["font-size"]).toFixed(2),"Tf","("+this.pdf.internal.pdfEscape(e)+") Tj"),void 0!==t["word-spacing"]&&this.pdf.internal.write(0,"Tw")},h.prototype.getPdfColor=function(e){var t,n,i,r=/rgb\s*\(\s*(\d+),\s*(\d+),\s*(\d+\s*)\)/.exec(e);if(null!=r)t=parseInt(r[1]),n=parseInt(r[2]),i=parseInt(r[3]);else{if("string"==typeof e&&"#"!=e.charAt(0)){var o=new RGBColor(e);e=o.ok?o.toHex():"#000000"}t=e.substring(1,3),t=parseInt(t,16),n=e.substring(3,5),n=parseInt(n,16),i=e.substring(5,7),i=parseInt(i,16)}if("string"==typeof t&&/^#[0-9A-Fa-f]{6}$/.test(t)){var s=parseInt(t.substr(1),16);t=s>>16&255,n=s>>8&255,i=255&s}var a=this.f3;return 0===t&&0===n&&0===i||void 0===n?a(t/255)+" g":[a(t/255),a(n/255),a(i/255),"rg"].join(" ")},h.prototype.f3=function(e){return e.toFixed(3)},h.prototype.renderParagraph=function(e){var t,n,i,r,o,s,a,l,c,u,h,p,f;if(i=d(this.paragraph.text),p=this.paragraph.style,this.paragraph={text:[],style:[],blockstyle:{},priorblockstyle:t=this.paragraph.blockstyle},i.join("").trim()){a=this.splitFragmentsIntoLines(i,p),l=s=void 0,n=12/this.pdf.internal.scaleFactor,this.priorMarginBottom=this.priorMarginBottom||0,h=(Math.max((t["margin-top"]||0)-this.priorMarginBottom,0)+(t["padding-top"]||0))*n,u=((t["margin-bottom"]||0)+(t["padding-bottom"]||0))*n,this.priorMarginBottom=t["margin-bottom"]||0,"always"===t["page-break-before"]&&(this.pdf.addPage(),this.y=0,h=((t["margin-top"]||0)+(t["padding-top"]||0))*n),c=this.pdf.internal.write,o=r=void 0,this.y+=h,c("q","BT 0 g",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td");for(var A=0;a.length;){for(r=l=0,o=(s=a.shift()).length;r!==o;)s[r][0].trim()&&(l=Math.max(l,s[r][1]["line-height"],s[r][1]["font-size"]),f=7*s[r][1]["font-size"]),r++;var g=0,m=0;for(void 0!==s[0][1]["margin-left"]&&0<s[0][1]["margin-left"]&&(g=(m=this.pdf.internal.getCoordinateString(s[0][1]["margin-left"]))-A,A=m),c(g+Math.max(t["margin-left"]||0,0)*n,(-12*l).toFixed(2),"Td"),r=0,o=s.length;r!==o;)s[r][0]&&this.RenderTextFragment(s[r][0],s[r][1]),r++;if(this.y+=l*n,this.executeWatchFunctions(s[0][1])&&0<a.length){var y=[],v=[];a.forEach(function(e){for(var t=0,n=e.length;t!==n;)e[t][0]&&(y.push(e[t][0]+" "),v.push(e[t][1])),++t}),a=this.splitFragmentsIntoLines(d(y),v),c("ET","Q"),c("q","BT 0 g",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td")}}return e&&"function"==typeof e&&e.call(this,this.x-9,this.y-f/2),c("ET","Q"),this.y+=u}},h.prototype.setBlockBoundary=function(e){return this.renderParagraph(e)},h.prototype.setBlockStyle=function(e){return this.paragraph.blockstyle=e},h.prototype.addText=function(e,t){return this.paragraph.text.push(e),this.paragraph.style.push(t)},r={helvetica:"helvetica","sans-serif":"helvetica","times new roman":"times",serif:"times",times:"times",monospace:"courier",courier:"courier"},a={100:"normal",200:"normal",300:"normal",400:"normal",500:"bold",600:"bold",700:"bold",800:"bold",900:"bold",normal:"normal",bold:"bold",bolder:"bold",lighter:"normal"},o={normal:"normal",italic:"italic",oblique:"italic"},s={left:"left",right:"right",center:"center",justify:"justify"},l={none:"none",right:"right",left:"left"},c={none:"none",both:"both"},A={normal:1},t.fromHTML=function(e,t,n,i,r,o){return this.margins_doc=o||{top:0,bottom:0},i||(i={}),i.elementHandlers||(i.elementHandlers={}),w(this,e,isNaN(t)?4:t,isNaN(n)?4:n,i,r)}}(le.API),("undefined"!=typeof window&&window||"undefined"!=typeof global&&global).html2pdf=function(e,t,n){var i=t.canvas;if(i){var r,o;if((i.pdf=t).annotations={_nameMap:[],createAnnotation:function(e,n){var i,r=t.context2d._wrapX(n.left),o=t.context2d._wrapY(n.top),s=(t.context2d._page(n.top),e.indexOf("#"));i=0<=s?{name:e.substring(s+1)}:{url:e},t.link(r,o,n.right-n.left,n.bottom-n.top,i)},setName:function(e,n){var i=t.context2d._wrapX(n.left),r=t.context2d._wrapY(n.top),o=t.context2d._page(n.top);this._nameMap[e]={page:o,x:i,y:r}}},i.annotations=t.annotations,t.context2d._pageBreakAt=function(e){this.pageBreaks.push(e)},t.context2d._gotoPage=function(e){for(;t.internal.getNumberOfPages()<e;)t.addPage();t.setPage(e)},"string"==typeof e){e=e.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"");var s,a,l=document.createElement("iframe");document.body.appendChild(l),null!=(s=l.contentDocument)&&null!=s||(s=l.contentWindow.document),s.open(),s.write(e),s.close(),r=s.body,a=s.body||{},e=s.documentElement||{},o=Math.max(a.scrollHeight,a.offsetHeight,e.clientHeight,e.scrollHeight,e.offsetHeight)}else a=(r=e).body||{},o=Math.max(a.scrollHeight,a.offsetHeight,e.clientHeight,e.scrollHeight,e.offsetHeight);var c={async:!0,allowTaint:!0,backgroundColor:"#ffffff",canvas:i,imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1,windowHeight:o=t.internal.pageSize.getHeight(),scrollY:o};t.context2d.pageWrapYEnabled=!0,t.context2d.pageWrapY=t.internal.pageSize.getHeight(),html2canvas(r,c).then(function(e){n&&(l&&l.parentElement.removeChild(l),n(t))})}else alert("jsPDF canvas plugin not installed")},window.tmp=html2pdf,function(e){var t=e.BlobBuilder||e.WebKitBlobBuilder||e.MSBlobBuilder||e.MozBlobBuilder;e.URL=e.URL||e.webkitURL||function(e,t){return(t=document.createElement("a")).href=e,t};var n=e.Blob,i=URL.createObjectURL,r=URL.revokeObjectURL,o=e.Symbol&&e.Symbol.toStringTag,s=!1,a=!1,l=!!e.ArrayBuffer,c=t&&t.prototype.append&&t.prototype.getBlob;try{s=2===new Blob(["Ã¤"]).size,a=2===new Blob([new Uint8Array([1,2])]).size}catch(s){}function u(e){return e.map(function(e){if(e.buffer instanceof ArrayBuffer){var t=e.buffer;if(e.byteLength!==t.byteLength){var n=new Uint8Array(e.byteLength);n.set(new Uint8Array(t,e.byteOffset,e.byteLength)),t=n.buffer}return t}return e})}function d(e,n){n=n||{};var i=new t;return u(e).forEach(function(e){i.append(e)}),n.type?i.getBlob(n.type):i.getBlob()}function h(e,t){return new n(u(e),t||{})}if(e.Blob&&(d.prototype=Blob.prototype,h.prototype=Blob.prototype),o)try{File.prototype[o]="File",Blob.prototype[o]="Blob",FileReader.prototype[o]="FileReader"}catch(s){}function p(){var t=!!e.ActiveXObject||"-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style,n=e.XMLHttpRequest&&e.XMLHttpRequest.prototype.send;t&&n&&(XMLHttpRequest.prototype.send=function(e){e instanceof Blob&&this.setRequestHeader("Content-Type",e.type),n.call(this,e)});try{new File([],"")}catch(t){try{var i=new Function('class File extends Blob {constructor(chunks, name, opts) {opts = opts || {};super(chunks, opts || {});this.name = name;this.lastModifiedDate = opts.lastModified ? new Date(opts.lastModified) : new Date;this.lastModified = +this.lastModifiedDate;}};return new File([], ""), File')();e.File=i}catch(t){e.File=i=function(e,t,n){var i=new Blob(e,n),r=n&&void 0!==n.lastModified?new Date(n.lastModified):new Date;return i.name=t,i.lastModifiedDate=r,i.lastModified=+r,i.toString=function(){return"[object File]"},o&&(i[o]="File"),i}}}}s?(p(),e.Blob=a?e.Blob:h):c?(p(),e.Blob=d):function(){function t(e){for(var t=[],n=0;n<e.length;n++){var i=e.charCodeAt(n);i<128?t.push(i):i<2048?t.push(192|i>>6,128|63&i):i<55296||57344<=i?t.push(224|i>>12,128|i>>6&63,128|63&i):(n++,i=65536+((1023&i)<<10|1023&e.charCodeAt(n)),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i))}return t}function n(e){var t,n,i,r,o,s;for(t="",i=e.length,n=0;n<i;)switch((r=e[n++])>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:t+=String.fromCharCode(r);break;case 12:case 13:o=e[n++],t+=String.fromCharCode((31&r)<<6|63&o);break;case 14:o=e[n++],s=e[n++],t+=String.fromCharCode((15&r)<<12|(63&o)<<6|(63&s)<<0)}return t}function o(e){for(var t=new Array(e.byteLength),n=new Uint8Array(e),i=t.length;i--;)t[i]=n[i];return t}function s(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=[],i=0;i<e.length;i+=3){var r=e[i],o=i+1<e.length,s=o?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=(15&s)<<2|l>>6,u=63&l;a||(u=64,o||(c=64)),n.push(t[r>>2],t[(3&r)<<4|s>>4],t[c],t[u])}return n.join("")}var a=Object.create||function(e){function t(){}return t.prototype=e,new t};if(l)var c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(e){return e&&-1<c.indexOf(Object.prototype.toString.call(e))};function d(e,n){for(var i=0,r=(e=e||[]).length;i<r;i++){var s=e[i];e[i]=s instanceof d?s._buffer:"string"==typeof s?t(s):l&&(ArrayBuffer.prototype.isPrototypeOf(s)||u(s))?o(s):l&&(a=s)&&DataView.prototype.isPrototypeOf(a)?o(s.buffer):t(String(s))}var a;this._buffer=[].concat.apply([],e),this.size=this._buffer.length,this.type=n&&n.type||""}function h(e,t,n){var i=d.call(this,e,n=n||{})||this;return i.name=t,i.lastModifiedDate=n.lastModified?new Date(n.lastModified):new Date,i.lastModified=+i.lastModifiedDate,i}if(d.prototype.slice=function(e,t,n){return new d([this._buffer.slice(e||0,t||this._buffer.length)],{type:n})},d.prototype.toString=function(){return"[object Blob]"},(h.prototype=a(d.prototype)).constructor=h,Object.setPrototypeOf)Object.setPrototypeOf(h,d);else try{h.__proto__=d}catch(a){}function p(){if(!(this instanceof p))throw new TypeError("Failed to construct 'FileReader': Please use the 'new' operator, this DOM object constructor cannot be called as a function.");var e=document.createDocumentFragment();this.addEventListener=e.addEventListener,this.dispatchEvent=function(t){var n=this["on"+t.type];"function"==typeof n&&n(t),e.dispatchEvent(t)},this.removeEventListener=e.removeEventListener}function f(e,t,n){if(!(t instanceof d))throw new TypeError("Failed to execute '"+n+"' on 'FileReader': parameter 1 is not of type 'Blob'.");e.result="",setTimeout(function(){this.readyState=p.LOADING,e.dispatchEvent(new Event("load")),e.dispatchEvent(new Event("loadend"))})}h.prototype.toString=function(){return"[object File]"},p.EMPTY=0,p.LOADING=1,p.DONE=2,p.prototype.error=null,p.prototype.onabort=null,p.prototype.onerror=null,p.prototype.onload=null,p.prototype.onloadend=null,p.prototype.onloadstart=null,p.prototype.onprogress=null,p.prototype.readAsDataURL=function(e){f(this,e,"readAsDataURL"),this.result="data:"+e.type+";base64,"+s(e._buffer)},p.prototype.readAsText=function(e){f(this,e,"readAsText"),this.result=n(e._buffer)},p.prototype.readAsArrayBuffer=function(e){f(this,e,"readAsText"),this.result=e._buffer.slice()},p.prototype.abort=function(){},URL.createObjectURL=function(e){return e instanceof d?"data:"+e.type+";base64,"+s(e._buffer):i.call(URL,e)},URL.revokeObjectURL=function(e){r&&r.call(URL,e)};var A=e.XMLHttpRequest&&e.XMLHttpRequest.prototype.send;A&&(XMLHttpRequest.prototype.send=function(e){e instanceof d?(this.setRequestHeader("Content-Type",e.type),A.call(this,n(e._buffer))):A.call(this,e)}),e.FileReader=p,e.File=h,e.Blob=d}()}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||"undefined"!=typeof global&&global||Function('return typeof this === "object" && this.content')()||Function("return this")());var ce,ue,de,he,pe,fe,Ae,ge,me,ye,ve,we,be,_e,Ce,Ee=Ee||function(e){if(!(void 0===e||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var t=function(){return e.URL||e.webkitURL||e},n=e.document.createElementNS("http://www.w3.org/1999/xhtml","a"),i="download"in n,r=/constructor/i.test(e.HTMLElement)||e.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent),s=e.setImmediate||e.setTimeout,a=function(e){s(function(){throw e},0)},l=function(e){setTimeout(function(){"string"==typeof e?t().revokeObjectURL(e):e.remove()},4e4)},c=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e},u=function(u,d,h){h||(u=c(u));var p,f=this,A="application/octet-stream"===u.type,g=function(){!function(e,t,n){for(var i=(t=[].concat(t)).length;i--;){var r=e["on"+t[i]];if("function"==typeof r)try{r.call(e,e)}catch(e){a(e)}}}(f,"writestart progress write writeend".split(" "))};if(f.readyState=f.INIT,i)return p=t().createObjectURL(u),void s(function(){var e,t;n.href=p,n.download=d,e=n,t=new MouseEvent("click"),e.dispatchEvent(t),g(),l(p),f.readyState=f.DONE},0);!function(){if((o||A&&r)&&e.FileReader){var n=new FileReader;return n.onloadend=function(){var t=o?n.result:n.result.replace(/^data:[^;]*;/,"data:attachment/file;");e.open(t,"_blank")||(e.location.href=t),t=void 0,f.readyState=f.DONE,g()},n.readAsDataURL(u),f.readyState=f.INIT}p||(p=t().createObjectURL(u)),A?e.location.href=p:e.open(p,"_blank")||(e.location.href=p),f.readyState=f.DONE,g(),l(p)}()},d=u.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,n){return t=t||e.name||"download",n||(e=c(e)),navigator.msSaveOrOpenBlob(e,t)}:(d.abort=function(){},d.readyState=d.INIT=0,d.WRITING=1,d.DONE=2,d.error=d.onwritestart=d.onprogress=d.onwrite=d.onabort=d.onerror=d.onwriteend=null,function(e,t,n){return new u(e,t||e.name||"download",n)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||void 0);function Se(e){var t=0;if(71!==e[t++]||73!==e[t++]||70!==e[t++]||56!==e[t++]||56!=(e[t++]+1&253)||97!==e[t++])throw"Invalid GIF 87a/89a header.";var n=e[t++]|e[t++]<<8,i=e[t++]|e[t++]<<8,r=e[t++];t++,t++;var o=null;r>>7&&(o=t,t+=3*(1<<1+(7&r)));var s=!0,a=[],l=0,c=null,u=0,d=null;for(this.width=n,this.height=i;s&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(11!==e[t]||78==e[t+1]&&69==e[t+2]&&84==e[t+3]&&83==e[t+4]&&67==e[t+5]&&65==e[t+6]&&80==e[t+7]&&69==e[t+8]&&50==e[t+9]&&46==e[t+10]&&48==e[t+11]&&3==e[t+12]&&1==e[t+13]&&0==e[t+16])t+=14,d=e[t++]|e[t++]<<8,t++;else for(t+=12;0!==(_=e[t++]);)t+=_;break;case 249:if(4!==e[t++]||0!==e[t+4])throw"Invalid graphics extension block.";var h=e[t++];l=e[t++]|e[t++]<<8,c=e[t++],0==(1&h)&&(c=null),u=h>>2&7,t++;break;case 254:for(;0!==(_=e[t++]);)t+=_;break;default:throw"Unknown graphic control label: 0x"+e[t-1].toString(16)}break;case 44:var p=e[t++]|e[t++]<<8,f=e[t++]|e[t++]<<8,A=e[t++]|e[t++]<<8,g=e[t++]|e[t++]<<8,m=e[t++],y=m>>6&1,v=o,w=!1;m>>7&&(w=!0,v=t,t+=3*(1<<1+(7&m)));var b=t;for(t++;;){var _;if(0===(_=e[t++]))break;t+=_}a.push({x:p,y:f,width:A,height:g,has_local_palette:w,palette_offset:v,data_offset:b,data_length:t-b,transparent_index:c,interlaced:!!y,delay:l,disposal:u});break;case 59:s=!1;break;default:throw"Unknown gif block: 0x"+e[t-1].toString(16)}this.numFrames=function(){return a.length},this.loopCount=function(){return d},this.frameInfo=function(e){if(e<0||e>=a.length)throw"Frame index out of range.";return a[e]},this.decodeAndBlitFrameBGRA=function(t,i){var r=this.frameInfo(t),o=r.width*r.height,s=new Uint8Array(o);Te(e,r.data_offset,s,o);var a=r.palette_offset,l=r.transparent_index;null===l&&(l=256);var c=r.width,u=n-c,d=c,h=4*(r.y*n+r.x),p=4*((r.y+r.height)*n+r.x),f=h,A=4*u;!0===r.interlaced&&(A+=4*(c+u)*7);for(var g=8,m=0,y=s.length;m<y;++m){var v=s[m];if(0===d&&(d=c,p<=(f+=A)&&(A=u+4*(c+u)*(g-1),f=h+(c+u)*(g<<1),g>>=1)),v===l)f+=4;else{var w=e[a+3*v],b=e[a+3*v+1];i[f++]=e[a+3*v+2],i[f++]=b,i[f++]=w,i[f++]=255}--d}},this.decodeAndBlitFrameRGBA=function(t,i){var r=this.frameInfo(t),o=r.width*r.height,s=new Uint8Array(o);Te(e,r.data_offset,s,o);var a=r.palette_offset,l=r.transparent_index;null===l&&(l=256);var c=r.width,u=n-c,d=c,h=4*(r.y*n+r.x),p=4*((r.y+r.height)*n+r.x),f=h,A=4*u;!0===r.interlaced&&(A+=4*(c+u)*7);for(var g=8,m=0,y=s.length;m<y;++m){var v=s[m];if(0===d&&(d=c,p<=(f+=A)&&(A=u+4*(c+u)*(g-1),f=h+(c+u)*(g<<1),g>>=1)),v===l)f+=4;else{var w=e[a+3*v+1],b=e[a+3*v+2];i[f++]=e[a+3*v],i[f++]=w,i[f++]=b,i[f++]=255}--d}}}function Te(e,t,n,i){for(var r=e[t++],o=1<<r,s=o+1,a=s+1,l=r+1,c=(1<<l)-1,u=0,d=0,h=0,p=e[t++],f=new Int32Array(4096),A=null;;){for(;u<16&&0!==p;)d|=e[t++]<<u,u+=8,1===p?p=e[t++]:--p;if(u<l)break;var g=d&c;if(d>>=l,u-=l,g!==o){if(g===s)break;for(var m=g<a?g:A,y=0,v=m;o<v;)v=f[v]>>8,++y;var w=v;if(i<h+y+(m!==g?1:0))return void console.log("Warning, gif stream longer than expected.");n[h++]=w;var b=h+=y;for(m!==g&&(n[h++]=w),v=m;y--;)n[--b]=255&(v=f[v]),v>>=8;null!==A&&a<4096&&(f[a++]=A<<8|w,c+1<=a&&l<12&&(++l,c=c<<1|1)),A=g}else a=s+1,c=(1<<(l=r+1))-1,A=null}return h!==i&&console.log("Warning, gif stream shorter than expected."),n}try{exports.GifWriter=function(e,t,n,i){var r=0,o=void 0===(i=void 0===i?{}:i).loop?null:i.loop,s=void 0===i.palette?null:i.palette;if(t<=0||n<=0||65535<t||65535<n)throw"Width/Height invalid.";function a(e){var t=e.length;if(t<2||256<t||t&t-1)throw"Invalid code/color length, must be power of 2 and 2 .. 256.";return t}e[r++]=71,e[r++]=73,e[r++]=70,e[r++]=56,e[r++]=57,e[r++]=97;var l=0,c=0;if(null!==s){for(var u=a(s);u>>=1;)++l;if(u=1<<l,--l,void 0!==i.background){if(u<=(c=i.background))throw"Background index out of range.";if(0===c)throw"Background index explicitly passed as 0."}}if(e[r++]=255&t,e[r++]=t>>8&255,e[r++]=255&n,e[r++]=n>>8&255,e[r++]=(null!==s?128:0)|l,e[r++]=c,e[r++]=0,null!==s)for(var d=0,h=s.length;d<h;++d){var p=s[d];e[r++]=p>>16&255,e[r++]=p>>8&255,e[r++]=255&p}if(null!==o){if(o<0||65535<o)throw"Loop count invalid.";e[r++]=33,e[r++]=255,e[r++]=11,e[r++]=78,e[r++]=69,e[r++]=84,e[r++]=83,e[r++]=67,e[r++]=65,e[r++]=80,e[r++]=69,e[r++]=50,e[r++]=46,e[r++]=48,e[r++]=3,e[r++]=1,e[r++]=255&o,e[r++]=o>>8&255,e[r++]=0}var f=!1;this.addFrame=function(t,n,i,o,l,c){if(!0===f&&(--r,f=!1),t<0||n<0||65535<t||65535<n)throw"x/y invalid.";if(i<=0||o<=0||65535<i||65535<o)throw"Width/Height invalid.";if(l.length<i*o)throw"Not enough pixels for the frame size.";var u=!0,d=(c=void 0===c?{}:c).palette;if(null==d&&(u=!1,d=s),null==d)throw"Must supply either a local or global palette.";for(var h=a(d),p=0;h>>=1;)++p;h=1<<p;var A=void 0===c.delay?0:c.delay,g=void 0===c.disposal?0:c.disposal;if(g<0||3<g)throw"Disposal out of range.";var m=!1,y=0;if(null!=c.transparent&&(m=!0,(y=c.transparent)<0||h<=y))throw"Transparent color index.";if((0!==g||m||0!==A)&&(e[r++]=33,e[r++]=249,e[r++]=4,e[r++]=g<<2|(!0===m?1:0),e[r++]=255&A,e[r++]=A>>8&255,e[r++]=y,e[r++]=0),e[r++]=44,e[r++]=255&t,e[r++]=t>>8&255,e[r++]=255&n,e[r++]=n>>8&255,e[r++]=255&i,e[r++]=i>>8&255,e[r++]=255&o,e[r++]=o>>8&255,e[r++]=!0===u?128|p-1:0,!0===u)for(var v=0,w=d.length;v<w;++v){var b=d[v];e[r++]=b>>16&255,e[r++]=b>>8&255,e[r++]=255&b}r=function(e,t,n,i){e[t++]=n;var r=t++,o=1<<n,s=o-1,a=o+1,l=a+1,c=n+1,u=0,d=0;function h(n){for(;n<=u;)e[t++]=255&d,d>>=8,u-=8,t===r+256&&(e[r]=255,r=t++)}function p(e){d|=e<<u,u+=c,h(8)}var f=i[0]&s,A={};p(o);for(var g=1,m=i.length;g<m;++g){var y=i[g]&s,v=f<<8|y,w=A[v];if(void 0===w){for(d|=f<<u,u+=c;8<=u;)e[t++]=255&d,d>>=8,u-=8,t===r+256&&(e[r]=255,r=t++);4096===l?(p(o),l=a+1,c=n+1,A={}):(1<<c<=l&&++c,A[v]=l++),f=y}else f=w}return p(f),p(a),h(1),r+1===t?e[r]=0:(e[r]=t-r-1,e[t++]=0),t}(e,r,p<2?2:p,l)},this.end=function(){return!1===f&&(e[r++]=59,f=!0),r}},exports.GifReader=Se}catch(t){}function Le(e){var t,n,i,r,o,s=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(65535),h=new Array(65535),p=new Array(64),f=new Array(64),A=[],g=0,m=7,y=new Array(64),v=new Array(64),w=new Array(64),b=new Array(256),_=new Array(2048),C=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],E=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],S=[0,1,2,3,4,5,6,7,8,9,10,11],T=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],L=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],x=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],B=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],F=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function N(e,t){for(var n=0,i=0,r=new Array,o=1;o<=16;o++){for(var s=1;s<=e[o];s++)r[t[i]]=[],r[t[i]][0]=n,r[t[i]][1]=o,i++,n++;n*=2}return r}function D(e){for(var t=e[0],n=e[1]-1;0<=n;)t&1<<n&&(g|=1<<m),n--,--m<0&&(255==g?(O(255),O(0)):O(g),m=7,g=0)}function O(e){A.push(e)}function R(e){O(e>>8&255),O(255&e)}function M(e,t,n,i,r){for(var o,s=r[0],a=r[240],l=function(e,t){var n,i,r,o,s,a,l,c,u,d,h=0;for(u=0;u<8;++u){var f=(n=e[h])+(c=e[h+7]),A=n-c,g=(i=e[h+1])+(l=e[h+6]),m=i-l,y=(r=e[h+2])+(a=e[h+5]),v=r-a,w=(o=e[h+3])+(s=e[h+4]),b=o-s,_=f+w,C=f-w,E=g+y,S=g-y;e[h]=_+E,e[h+4]=_-E;var T=.707106781*(S+C);e[h+2]=C+T,e[h+6]=C-T;var L=.382683433*((_=b+v)-(S=m+A)),x=.5411961*_+L,I=1.306562965*S+L,B=.707106781*(E=v+m),F=A+B,N=A-B;e[h+5]=N+x,e[h+3]=N-x,e[h+1]=F+I,e[h+7]=F-I,h+=8}for(u=h=0;u<8;++u){var D=(n=e[h])+(c=e[h+56]),O=n-c,R=(i=e[h+8])+(l=e[h+48]),M=i-l,U=(r=e[h+16])+(a=e[h+40]),P=r-a,H=(o=e[h+24])+(s=e[h+32]),k=o-s,Q=D+H,z=D-H,j=R+U,V=R-U;e[h]=Q+j,e[h+32]=Q-j;var W=.707106781*(V+z);e[h+16]=z+W,e[h+48]=z-W;var q=.382683433*((Q=k+P)-(V=M+O)),G=.5411961*Q+q,K=1.306562965*V+q,X=.707106781*(j=P+M),J=O+X,Y=O-X;e[h+40]=Y+G,e[h+24]=Y-G,e[h+8]=J+K,e[h+56]=J-K,h++}for(u=0;u<64;++u)p[u]=0<(d=e[u]*t[u])?d+.5|0:d-.5|0;return p}(e,t),c=0;c<64;++c)f[C[c]]=l[c];var u=f[0]-n;n=f[0],0==u?D(i[0]):(D(i[h[o=32767+u]]),D(d[o]));for(var A=63;0<A&&0==f[A];A--);if(0==A)return D(s),n;for(var g,m=1;m<=A;){for(var y=m;0==f[m]&&m<=A;++m);var v=m-y;if(16<=v){g=v>>4;for(var w=1;w<=g;++w)D(a);v&=15}D(r[(v<<4)+h[o=32767+f[m]]]),D(d[o]),m++}return 63!=A&&D(s),n}function U(e){e<=0&&(e=1),100<e&&(e=100),o!=e&&(function(e){for(var t=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],n=0;n<64;n++){var i=s((t[n]*e+50)/100);i<1?i=1:255<i&&(i=255),a[C[n]]=i}for(var r=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],o=0;o<64;o++){var d=s((r[o]*e+50)/100);d<1?d=1:255<d&&(d=255),l[C[o]]=d}for(var h=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],p=0,f=0;f<8;f++)for(var A=0;A<8;A++)c[p]=1/(a[C[p]]*h[f]*h[A]*8),u[p]=1/(l[C[p]]*h[f]*h[A]*8),p++}(e<50?Math.floor(5e3/e):Math.floor(200-2*e)),o=e)}this.encode=function(e,o){var s,d;(new Date).getTime(),o&&U(o),A=new Array,g=0,m=7,R(65496),R(65504),R(16),O(74),O(70),O(73),O(70),O(0),O(1),O(1),O(0),R(1),R(1),O(0),O(0),function(){R(65499),R(132),O(0);for(var e=0;e<64;e++)O(a[e]);O(1);for(var t=0;t<64;t++)O(l[t])}(),s=e.width,d=e.height,R(65472),R(17),O(8),R(d),R(s),O(3),O(1),O(17),O(0),O(2),O(17),O(1),O(3),O(17),O(1),function(){R(65476),R(418),O(0);for(var e=0;e<16;e++)O(E[e+1]);for(var t=0;t<=11;t++)O(S[t]);O(16);for(var n=0;n<16;n++)O(T[n+1]);for(var i=0;i<=161;i++)O(L[i]);O(1);for(var r=0;r<16;r++)O(x[r+1]);for(var o=0;o<=11;o++)O(I[o]);O(17);for(var s=0;s<16;s++)O(B[s+1]);for(var a=0;a<=161;a++)O(F[a])}(),R(65498),R(12),O(3),O(1),O(0),O(2),O(17),O(3),O(17),O(0),O(63),O(0);var h=0,p=0,f=0;g=0,m=7,this.encode.displayName="_encode_";for(var b,C,N,P,H,k,Q,z,j,V=e.data,W=e.height,q=4*e.width,G=0;G<W;){for(b=0;b<q;){for(k=H=q*G+b,Q=-1,j=z=0;j<64;j++)k=H+(z=j>>3)*q+(Q=4*(7&j)),W<=G+z&&(k-=q*(G+1+z-W)),q<=b+Q&&(k-=b+Q-q+4),C=V[k++],N=V[k++],P=V[k++],y[j]=(_[C]+_[N+256>>0]+_[P+512>>0]>>16)-128,v[j]=(_[C+768>>0]+_[N+1024>>0]+_[P+1280>>0]>>16)-128,w[j]=(_[C+1280>>0]+_[N+1536>>0]+_[P+1792>>0]>>16)-128;h=M(y,c,h,t,i),p=M(v,u,p,n,r),f=M(w,u,f,n,r),b+=32}G+=8}if(0<=m){var K=[];K[1]=m+1,K[0]=(1<<m+1)-1,D(K)}return R(65497),new Uint8Array(A)},(new Date).getTime(),e||(e=50),function(){for(var e=String.fromCharCode,t=0;t<256;t++)b[t]=e(t)}(),t=N(E,S),n=N(x,I),i=N(T,L),r=N(B,F),function(){for(var e=1,t=2,n=1;n<=15;n++){for(var i=e;i<t;i++)h[32767+i]=n,d[32767+i]=[],d[32767+i][1]=n,d[32767+i][0]=i;for(var r=-(t-1);r<=-e;r++)h[32767+r]=n,d[32767+r]=[],d[32767+r][1]=n,d[32767+r][0]=t-1+r;e<<=1,t<<=1}}(),function(){for(var e=0;e<256;e++)_[e]=19595*e,_[e+256>>0]=38470*e,_[e+512>>0]=7471*e+32768,_[e+768>>0]=-11059*e,_[e+1024>>0]=-21709*e,_[e+1280>>0]=32768*e+8421375,_[e+1536>>0]=-27439*e,_[e+1792>>0]=-5329*e}(),U(e),(new Date).getTime()}function xe(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}window.tmp=Se,le.API.adler32cs=(fe="function"==typeof ArrayBuffer&&"function"==typeof Uint8Array,Ae=null,ge=function(){if(!fe)return function(){return!1};try{var e={};"function"==typeof e.Buffer&&(Ae=e.Buffer)}catch(e){}return function(e){return e instanceof ArrayBuffer||null!==Ae&&e instanceof Ae}}(),me=null!==Ae?function(e){return new Ae(e,"utf8").toString("binary")}:function(e){return unescape(encodeURIComponent(e))},ye=function(e,t){for(var n=65535&e,i=e>>>16,r=0,o=t.length;r<o;r++)i=(i+(n=(n+(255&t.charCodeAt(r)))%65521))%65521;return(i<<16|n)>>>0},ve=function(e,t){for(var n=65535&e,i=e>>>16,r=0,o=t.length;r<o;r++)i=(i+(n=(n+t[r])%65521))%65521;return(i<<16|n)>>>0},be=(we={}).Adler32=(((pe=(he=function(e){if(!(this instanceof he))throw new TypeError("Constructor cannot called be as a function.");if(!isFinite(e=null==e?1:+e))throw new Error("First arguments needs to be a finite number.");this.checksum=e>>>0}).prototype={}).constructor=he).from=((ce=function(e){if(!(this instanceof he))throw new TypeError("Constructor cannot called be as a function.");if(null==e)throw new Error("First argument needs to be a string.");this.checksum=ye(1,e.toString())}).prototype=pe,ce),he.fromUtf8=((ue=function(e){if(!(this instanceof he))throw new TypeError("Constructor cannot called be as a function.");if(null==e)throw new Error("First argument needs to be a string.");var t=me(e.toString());this.checksum=ye(1,t)}).prototype=pe,ue),fe&&(he.fromBuffer=((de=function(e){if(!(this instanceof he))throw new TypeError("Constructor cannot called be as a function.");if(!ge(e))throw new Error("First argument needs to be ArrayBuffer.");var t=new Uint8Array(e);return this.checksum=ve(1,t)}).prototype=pe,de)),pe.update=function(e){if(null==e)throw new Error("First argument needs to be a string.");return e=e.toString(),this.checksum=ye(this.checksum,e)},pe.updateUtf8=function(e){if(null==e)throw new Error("First argument needs to be a string.");var t=me(e.toString());return this.checksum=ye(this.checksum,t)},fe&&(pe.updateBuffer=function(e){if(!ge(e))throw new Error("First argument needs to be ArrayBuffer.");var t=new Uint8Array(e);return this.checksum=ve(this.checksum,t)}),pe.clone=function(){return new be(this.checksum)},he),we.from=function(e){if(null==e)throw new Error("First argument needs to be a string.");return ye(1,e.toString())},we.fromUtf8=function(e){if(null==e)throw new Error("First argument needs to be a string.");var t=me(e.toString());return ye(1,t)},fe&&(we.fromBuffer=function(e){if(!ge(e))throw new Error("First argument need to be ArrayBuffer.");var t=new Uint8Array(e);return ve(1,t)}),we),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(e){var n,i,r,o,s,a,l,c=t,u=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],d=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],h={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},p={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},f=["(",")","(","<",">","<","[","]","[","{","}","{","Â«","Â»","Â«","â¹","âº","â¹","â","â","â","â½","â¾","â½","â","â","â","â¤","â¥","â¤","â©","âª","â©","ï¹","ï¹","ï¹","ï¹","ï¹","ï¹","ï¹","ï¹","ï¹","ï¹¤","ï¹¥","ï¹¤"],A=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),g=!1,m=0;this.__bidiEngine__={};var y=function(e){var t=e.charCodeAt(),n=t>>8,i=p[n];return void 0!==i?c[256*i+(255&t)]:252===n||253===n?"AL":A.test(n)?"L":8===n?"R":"N"},v=function(e){for(var t,n=0;n<e.length;n++){if("L"===(t=y(e.charAt(n))))return!1;if("R"===t)return!0}return!1},w=function(e,t,s,a){var l,c,u,d,h=t[a];switch(h){case"L":case"R":g=!1;break;case"N":case"AN":break;case"EN":g&&(h="AN");break;case"AL":g=!0,h="R";break;case"WS":h="N";break;case"CS":a<1||a+1>=t.length||"EN"!==(l=s[a-1])&&"AN"!==l||"EN"!==(c=t[a+1])&&"AN"!==c?h="N":g&&(c="AN"),h=c===l?c:"N";break;case"ES":h="EN"===(l=0<a?s[a-1]:"B")&&a+1<t.length&&"EN"===t[a+1]?"EN":"N";break;case"ET":if(0<a&&"EN"===s[a-1]){h="EN";break}if(g){h="N";break}for(u=a+1,d=t.length;u<d&&"ET"===t[u];)u++;h=u<d&&"EN"===t[u]?"EN":"N";break;case"NSM":if(r&&!o){for(d=t.length,u=a+1;u<d&&"NSM"===t[u];)u++;if(u<d){var p=e[a];if(l=t[u],(1425<=p&&p<=2303||64286===p)&&("R"===l||"AL"===l)){h="R";break}}}h=a<1||"B"===(l=t[a-1])?"N":s[a-1];break;case"B":n=!(g=!1),h=m;break;case"S":i=!0,h="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":g=!1;break;case"BN":h="N"}return h},b=function(e,t,n){var i=e.split("");return n&&_(i,n,{hiLevel:m}),i.reverse(),t&&t.reverse(),i.join("")},_=function(e,t,r){var o,s,a,l,c,p=-1,f=e.length,A=0,v=[],b=m?d:u,_=[];for(i=n=g=!1,s=0;s<f;s++)_[s]=y(e[s]);for(a=0;a<f;a++){if(c=A,v[a]=w(e,_,v,a),o=240&(A=b[c][h[v[a]]]),t[a]=l=b[A&=15][5],0<o)if(16===o){for(s=p;s<a;s++)t[s]=1;p=-1}else p=-1;if(b[A][6])-1===p&&(p=a);else if(-1<p){for(s=p;s<a;s++)t[s]=l;p=-1}"B"===_[a]&&(t[a]=0),r.hiLevel|=l}i&&function(e,t,n){for(var i=0;i<n;i++)if("S"===e[i]){t[i]=m;for(var r=i-1;0<=r&&"WS"===e[r];r--)t[r]=m}}(_,t,f)},C=function(e,t,i,r,o){if(!(o.hiLevel<e)){if(1===e&&1===m&&!n)return t.reverse(),void(i&&i.reverse());for(var s,a,l,c,u=t.length,d=0;d<u;){if(r[d]>=e){for(l=d+1;l<u&&r[l]>=e;)l++;for(c=d,a=l-1;c<a;c++,a--)s=t[c],t[c]=t[a],t[a]=s,i&&(s=i[c],i[c]=i[a],i[a]=s);d=l}d++}}},E=function(e,t,n){var i=e.split(""),r={hiLevel:m};return n||(n=[]),_(i,n,r),function(e,t,n){if(0!==n.hiLevel&&l)for(var i,r=0;r<e.length;r++)1===t[r]&&0<=(i=f.indexOf(e[r]))&&(e[r]=f[i+1])}(i,n,r),C(2,i,t,n,r),C(1,i,t,n,r),i.join("")};return this.__bidiEngine__.doBidiReorder=function(e,t,n){if(function(e,t){if(t)for(var n=0;n<e.length;n++)t[n]=n;void 0===o&&(o=v(e)),void 0===a&&(a=v(e))}(e,t),r||!s||a)if(r&&s&&o^a)m=o?1:0,e=b(e,t,n);else if(!r&&s&&a)m=o?1:0,e=E(e,t,n),e=b(e,t);else if(!r||o||s||a){if(r&&!s&&o^a)e=b(e,t),e=o?(m=0,E(e,t,n)):(m=1,e=E(e,t,n),b(e,t));else if(r&&o&&!s&&a)m=1,e=E(e,t,n),e=b(e,t);else if(!r&&!s&&o^a){var i=l;o?(m=1,e=E(e,t,n),m=0,l=!1,e=E(e,t,n),l=i):(m=0,e=E(e,t,n),e=b(e,t),l=!(m=1),e=E(e,t,n),l=i,e=b(e,t))}}else m=0,e=E(e,t,n);else m=o?1:0,e=E(e,t,n);return e},this.__bidiEngine__.setOptions=function(e){e&&(r=e.isInputVisual,s=e.isOutputVisual,o=e.isInputRtl,a=e.isOutputRtl,l=e.isSymmetricSwapping)},this.__bidiEngine__.setOptions(e),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(e){var t=e.text,i=[];if("[object Array]"===Object.prototype.toString.call(t)){var r=0;for(i=[],r=0;r<t.length;r+=1)"[object Array]"===Object.prototype.toString.call(t[r])?i.push([n.doBidiReorder(t[r][0]),t[r][1],t[r][2]]):i.push([n.doBidiReorder(t[r])]);e.text=i}else e.text=n.doBidiReorder(t)}])}(le),window.tmp=Le,xe.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:r,green:i,blue:n,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},xe.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP;this.data=new Uint8Array(this.width*this.height*4),this[e]()}catch(e){console.log("bit decode error:"+e)}},xe.prototype.bit1=function(){var e=Math.ceil(this.width/8),t=e%4,n=0<=this.height?this.height-1:-this.height;for(n=this.height-1;0<=n;n--){for(var i=this.bottom_up?n:this.height-1-n,r=0;r<e;r++)for(var o=this.datav.getUint8(this.pos++,!0),s=i*this.width*4+8*r*4,a=0;a<8&&8*r+a<this.width;a++){var l=this.palette[o>>7-a&1];this.data[s+4*a]=l.blue,this.data[s+4*a+1]=l.green,this.data[s+4*a+2]=l.red,this.data[s+4*a+3]=255}0!=t&&(this.pos+=4-t)}},xe.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;0<=n;n--){for(var i=this.bottom_up?n:this.height-1-n,r=0;r<e;r++){var o=this.datav.getUint8(this.pos++,!0),s=i*this.width*4+2*r*4,a=15&o,l=this.palette[o>>4];if(this.data[s]=l.blue,this.data[s+1]=l.green,this.data[s+2]=l.red,this.data[s+3]=255,2*r+1>=this.width)break;this.data[s+4]=(l=this.palette[a]).blue,this.data[s+4+1]=l.green,this.data[s+4+2]=l.red,this.data[s+4+3]=255}0!=t&&(this.pos+=4-t)}},xe.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;0<=t;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var r=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+4*i;if(r<this.palette.length){var s=this.palette[r];this.data[o]=s.red,this.data[o+1]=s.green,this.data[o+2]=s.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}0!=e&&(this.pos+=4-e)}},xe.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;0<=n;n--){for(var i=this.bottom_up?n:this.height-1-n,r=0;r<this.width;r++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&t)/t*255|0,a=(o>>5&t)/t*255|0,l=o>>15?255:0,c=i*this.width*4+4*r;this.data[c]=(o>>10&t)/t*255|0,this.data[c+1]=a,this.data[c+2]=s,this.data[c+3]=l}this.pos+=e}},xe.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),i=this.height-1;0<=i;i--){for(var r=this.bottom_up?i:this.height-1-i,o=0;o<this.width;o++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&t)/t*255|0,l=(s>>5&n)/n*255|0,c=r*this.width*4+4*o;this.data[c]=(s>>11)/t*255|0,this.data[c+1]=l,this.data[c+2]=a,this.data[c+3]=255}this.pos+=e}},xe.prototype.bit24=function(){for(var e=this.height-1;0<=e;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*n;this.data[s]=o,this.data[s+1]=r,this.data[s+2]=i,this.data[s+3]=255}this.pos+=this.width%4}},xe.prototype.bit32=function(){for(var e=this.height-1;0<=e;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*n;this.data[a]=o,this.data[a+1]=r,this.data[a+2]=i,this.data[a+3]=s}},xe.prototype.getData=function(){return this.data},window.tmp=xe,function(e){var t=[0,1,2,3,4,4,5,5,6,6,6,6,7,7,7,7,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,16,17,18,18,19,19,20,20,20,20,21,21,21,21,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29];function n(){var e=this;function t(e,t){for(var n=0;n|=1&e,e>>>=1,n<<=1,0<--t;);return n>>>1}e.build_tree=function(n){var i,r,o,s=e.dyn_tree,a=e.stat_desc.static_tree,l=e.stat_desc.elems,c=-1;for(n.heap_len=0,n.heap_max=573,i=0;i<l;i++)0!==s[2*i]?(n.heap[++n.heap_len]=c=i,n.depth[i]=0):s[2*i+1]=0;for(;n.heap_len<2;)s[2*(o=n.heap[++n.heap_len]=c<2?++c:0)]=1,n.depth[o]=0,n.opt_len--,a&&(n.static_len-=a[2*o+1]);for(e.max_code=c,i=Math.floor(n.heap_len/2);1<=i;i--)n.pqdownheap(s,i);for(o=l;i=n.heap[1],n.heap[1]=n.heap[n.heap_len--],n.pqdownheap(s,1),r=n.heap[1],n.heap[--n.heap_max]=i,n.heap[--n.heap_max]=r,s[2*o]=s[2*i]+s[2*r],n.depth[o]=Math.max(n.depth[i],n.depth[r])+1,s[2*i+1]=s[2*r+1]=o,n.heap[1]=o++,n.pqdownheap(s,1),2<=n.heap_len;);n.heap[--n.heap_max]=n.heap[1],function(t){var n,i,r,o,s,a,l=e.dyn_tree,c=e.stat_desc.static_tree,u=e.stat_desc.extra_bits,d=e.stat_desc.extra_base,h=e.stat_desc.max_length,p=0;for(o=0;o<=15;o++)t.bl_count[o]=0;for(l[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<573;n++)h<(o=l[2*l[2*(i=t.heap[n])+1]+1]+1)&&(o=h,p++),l[2*i+1]=o,i>e.max_code||(t.bl_count[o]++,s=0,d<=i&&(s=u[i-d]),t.opt_len+=(a=l[2*i])*(o+s),c&&(t.static_len+=a*(c[2*i+1]+s)));if(0!==p){do{for(o=h-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[h]--,p-=2}while(0<p);for(o=h;0!==o;o--)for(i=t.bl_count[o];0!==i;)(r=t.heap[--n])>e.max_code||(l[2*r+1]!=o&&(t.opt_len+=(o-l[2*r+1])*l[2*r],l[2*r+1]=o),i--)}}(n),function(e,n,i){var r,o,s,a=[],l=0;for(r=1;r<=15;r++)a[r]=l=l+i[r-1]<<1;for(o=0;o<=n;o++)0!==(s=e[2*o+1])&&(e[2*o]=t(a[s]++,s))}(s,e.max_code,n.bl_count)}}function i(e,t,n,i,r){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=i,this.max_length=r}function r(e,t,n,i,r){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=i,this.func=r}n._length_code=[0,1,2,3,4,5,6,7,8,8,9,9,10,10,11,11,12,12,12,12,13,13,13,13,14,14,14,14,15,15,15,15,16,16,16,16,16,16,16,16,17,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28],n.base_length=[0,1,2,3,4,5,6,7,8,10,12,14,16,20,24,28,32,40,48,56,64,80,96,112,128,160,192,224,0],n.base_dist=[0,1,2,3,4,6,8,12,16,24,32,48,64,96,128,192,256,384,512,768,1024,1536,2048,3072,4096,6144,8192,12288,16384,24576],n.d_code=function(e){return e<256?t[e]:t[256+(e>>>7)]},n.extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],n.extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],n.extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],n.bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],i.static_ltree=[12,8,140,8,76,8,204,8,44,8,172,8,108,8,236,8,28,8,156,8,92,8,220,8,60,8,188,8,124,8,252,8,2,8,130,8,66,8,194,8,34,8,162,8,98,8,226,8,18,8,146,8,82,8,210,8,50,8,178,8,114,8,242,8,10,8,138,8,74,8,202,8,42,8,170,8,106,8,234,8,26,8,154,8,90,8,218,8,58,8,186,8,122,8,250,8,6,8,134,8,70,8,198,8,38,8,166,8,102,8,230,8,22,8,150,8,86,8,214,8,54,8,182,8,118,8,246,8,14,8,142,8,78,8,206,8,46,8,174,8,110,8,238,8,30,8,158,8,94,8,222,8,62,8,190,8,126,8,254,8,1,8,129,8,65,8,193,8,33,8,161,8,97,8,225,8,17,8,145,8,81,8,209,8,49,8,177,8,113,8,241,8,9,8,137,8,73,8,201,8,41,8,169,8,105,8,233,8,25,8,153,8,89,8,217,8,57,8,185,8,121,8,249,8,5,8,133,8,69,8,197,8,37,8,165,8,101,8,229,8,21,8,149,8,85,8,213,8,53,8,181,8,117,8,245,8,13,8,141,8,77,8,205,8,45,8,173,8,109,8,237,8,29,8,157,8,93,8,221,8,61,8,189,8,125,8,253,8,19,9,275,9,147,9,403,9,83,9,339,9,211,9,467,9,51,9,307,9,179,9,435,9,115,9,371,9,243,9,499,9,11,9,267,9,139,9,395,9,75,9,331,9,203,9,459,9,43,9,299,9,171,9,427,9,107,9,363,9,235,9,491,9,27,9,283,9,155,9,411,9,91,9,347,9,219,9,475,9,59,9,315,9,187,9,443,9,123,9,379,9,251,9,507,9,7,9,263,9,135,9,391,9,71,9,327,9,199,9,455,9,39,9,295,9,167,9,423,9,103,9,359,9,231,9,487,9,23,9,279,9,151,9,407,9,87,9,343,9,215,9,471,9,55,9,311,9,183,9,439,9,119,9,375,9,247,9,503,9,15,9,271,9,143,9,399,9,79,9,335,9,207,9,463,9,47,9,303,9,175,9,431,9,111,9,367,9,239,9,495,9,31,9,287,9,159,9,415,9,95,9,351,9,223,9,479,9,63,9,319,9,191,9,447,9,127,9,383,9,255,9,511,9,0,7,64,7,32,7,96,7,16,7,80,7,48,7,112,7,8,7,72,7,40,7,104,7,24,7,88,7,56,7,120,7,4,7,68,7,36,7,100,7,20,7,84,7,52,7,116,7,3,8,131,8,67,8,195,8,35,8,163,8,99,8,227,8],i.static_dtree=[0,5,16,5,8,5,24,5,4,5,20,5,12,5,28,5,2,5,18,5,10,5,26,5,6,5,22,5,14,5,30,5,1,5,17,5,9,5,25,5,5,5,21,5,13,5,29,5,3,5,19,5,11,5,27,5,7,5,23,5],i.static_l_desc=new i(i.static_ltree,n.extra_lbits,257,286,15),i.static_d_desc=new i(i.static_dtree,n.extra_dbits,0,30,15),i.static_bl_desc=new i(null,n.extra_blbits,0,19,7);var o=[new r(0,0,0,0,0),new r(4,4,8,4,1),new r(4,5,16,8,1),new r(4,6,32,32,1),new r(4,4,16,16,2),new r(8,16,32,32,2),new r(8,16,128,128,2),new r(8,32,128,256,2),new r(32,128,258,1024,2),new r(32,258,258,4096,2)],s=["need dictionary","stream end","","","stream error","data error","","buffer error","",""];function a(e,t,n,i){var r=e[2*t],o=e[2*n];return r<o||r==o&&i[t]<=i[n]}function l(){var e,t,r,l,c,u,d,h,p,f,A,g,m,y,v,w,b,_,C,E,S,T,L,x,I,B,F,N,D,O,R,M,U,P,H,k,Q,z,j,V,W,q=this,G=new n,K=new n,X=new n;function J(){var e;for(e=0;e<286;e++)R[2*e]=0;for(e=0;e<30;e++)M[2*e]=0;for(e=0;e<19;e++)U[2*e]=0;R[512]=1,q.opt_len=q.static_len=0,k=z=0}function Y(e,t){var n,i,r=-1,o=e[1],s=0,a=7,l=4;for(0===o&&(a=138,l=3),e[2*(t+1)+1]=65535,n=0;n<=t;n++)i=o,o=e[2*(n+1)+1],++s<a&&i==o||(s<l?U[2*i]+=s:0!==i?(i!=r&&U[2*i]++,U[32]++):s<=10?U[34]++:U[36]++,r=i,l=(s=0)===o?(a=138,3):i==o?(a=6,3):(a=7,4))}function Z(e){q.pending_buf[q.pending++]=e}function $(e){Z(255&e),Z(e>>>8&255)}function ee(e,t){var n,i=t;16-i<W?($(V|=(n=e)<<W&65535),V=n>>>16-W,W+=i-16):(V|=e<<W&65535,W+=i)}function te(e,t){var n=2*e;ee(65535&t[n],65535&t[n+1])}function ne(e,t){var n,i,r=-1,o=e[1],s=0,a=7,l=4;for(0===o&&(a=138,l=3),n=0;n<=t;n++)if(i=o,o=e[2*(n+1)+1],!(++s<a&&i==o)){if(s<l)for(;te(i,U),0!=--s;);else 0!==i?(i!=r&&(te(i,U),s--),te(16,U),ee(s-3,2)):s<=10?(te(17,U),ee(s-3,3)):(te(18,U),ee(s-11,7));r=i,l=(s=0)===o?(a=138,3):i==o?(a=6,3):(a=7,4)}}function ie(){16==W?($(V),W=V=0):8<=W&&(Z(255&V),V>>>=8,W-=8)}function re(e,t){var i,r,o;if(q.pending_buf[Q+2*k]=e>>>8&255,q.pending_buf[Q+2*k+1]=255&e,q.pending_buf[P+k]=255&t,k++,0===e?R[2*t]++:(z++,e--,R[2*(n._length_code[t]+256+1)]++,M[2*n.d_code(e)]++),0==(8191&k)&&2<F){for(i=8*k,r=S-b,o=0;o<30;o++)i+=M[2*o]*(5+n.extra_dbits[o]);if(i>>>=3,z<Math.floor(k/2)&&i<Math.floor(r/2))return!0}return k==H-1}function oe(e,t){var i,r,o,s,a=0;if(0!==k)for(;i=q.pending_buf[Q+2*a]<<8&65280|255&q.pending_buf[Q+2*a+1],r=255&q.pending_buf[P+a],a++,0===i?te(r,e):(te((o=n._length_code[r])+256+1,e),0!==(s=n.extra_lbits[o])&&ee(r-=n.base_length[o],s),te(o=n.d_code(--i),t),0!==(s=n.extra_dbits[o])&&ee(i-=n.base_dist[o],s)),a<k;);te(256,e),j=e[513]}function se(){8<W?$(V):0<W&&Z(255&V),W=V=0}function ae(e,t,n){var i,r;ee(0+(n?1:0),3),i=e,r=t,se(),j=8,$(r),$(~r),q.pending_buf.set(h.subarray(i,i+r),q.pending),q.pending+=r}function le(t){(function(e,t,r){var o,s,a=0;0<F?(G.build_tree(q),K.build_tree(q),a=function(){var e;for(Y(R,G.max_code),Y(M,K.max_code),X.build_tree(q),e=18;3<=e&&0===U[2*n.bl_order[e]+1];e--);return q.opt_len+=3*(e+1)+5+5+4,e}(),(s=q.static_len+3+7>>>3)<=(o=q.opt_len+3+7>>>3)&&(o=s)):o=s=t+5,t+4<=o&&-1!=e?ae(e,t,r):s==o?(ee(2+(r?1:0),3),oe(i.static_ltree,i.static_dtree)):(ee(4+(r?1:0),3),function(e,t,i){var r;for(ee(e-257,5),ee(t-1,5),ee(i-4,4),r=0;r<i;r++)ee(U[2*n.bl_order[r]+1],3);ne(R,e-1),ne(M,t-1)}(G.max_code+1,K.max_code+1,a+1),oe(R,M)),J(),r&&se()})(0<=b?b:-1,S-b,t),b=S,e.flush_pending()}function ce(){var t,n,i,r;do{if(0==(r=p-L-S)&&0===S&&0===L)r=c;else if(-1==r)r--;else if(c+c-262<=S){for(h.set(h.subarray(c,c+c),0),T-=c,S-=c,b-=c,i=t=m;n=65535&A[--i],A[i]=c<=n?n-c:0,0!=--t;);for(i=t=c;n=65535&f[--i],f[i]=c<=n?n-c:0,0!=--t;);r+=c}if(0===e.avail_in)return;t=e.read_buf(h,S+L,r),3<=(L+=t)&&(g=((g=255&h[S])<<w^255&h[S+1])&v)}while(L<262&&0!==e.avail_in)}function ue(e){var t,n,i=I,r=S,o=x,s=c-262<S?S-(c-262):0,a=O,l=d,u=S+258,p=h[r+o-1],A=h[r+o];D<=x&&(i>>=2),L<a&&(a=L);do{if(h[(t=e)+o]==A&&h[t+o-1]==p&&h[t]==h[r]&&h[++t]==h[r+1]){r+=2,t++;do{}while(h[++r]==h[++t]&&h[++r]==h[++t]&&h[++r]==h[++t]&&h[++r]==h[++t]&&h[++r]==h[++t]&&h[++r]==h[++t]&&h[++r]==h[++t]&&h[++r]==h[++t]&&r<u);if(n=258-(u-r),r=u-258,o<n){if(T=e,a<=(o=n))break;p=h[r+o-1],A=h[r+o]}}}while((e=65535&f[e&l])>s&&0!=--i);return o<=L?o:L}function de(e){return e.total_in=e.total_out=0,e.msg=null,q.pending=0,q.pending_out=0,t=113,l=0,G.dyn_tree=R,G.stat_desc=i.static_l_desc,K.dyn_tree=M,K.stat_desc=i.static_d_desc,X.dyn_tree=U,X.stat_desc=i.static_bl_desc,W=V=0,j=8,J(),function(){var e;for(p=2*c,e=A[m-1]=0;e<m-1;e++)A[e]=0;B=o[F].max_lazy,D=o[F].good_length,O=o[F].nice_length,I=o[F].max_chain,_=x=2,g=E=L=b=S=0}(),0}q.depth=[],q.bl_count=[],q.heap=[],R=[],M=[],U=[],q.pqdownheap=function(e,t){for(var n=q.heap,i=n[t],r=t<<1;r<=q.heap_len&&(r<q.heap_len&&a(e,n[r+1],n[r],q.depth)&&r++,!a(e,i,n[r],q.depth));)n[t]=n[r],t=r,r<<=1;n[t]=i},q.deflateInit=function(e,t,n,i,o,s){return i||(i=8),o||(o=8),s||(s=0),e.msg=null,-1==t&&(t=6),o<1||9<o||8!=i||n<9||15<n||t<0||9<t||s<0||2<s?-2:(e.dstate=q,d=(c=1<<(u=n))-1,v=(m=1<<(y=o+7))-1,w=Math.floor((y+3-1)/3),h=new Uint8Array(2*c),f=[],A=[],H=1<<o+6,q.pending_buf=new Uint8Array(4*H),r=4*H,Q=Math.floor(H/2),P=3*H,F=t,N=s,de(e))},q.deflateEnd=function(){return 42!=t&&113!=t&&666!=t?-2:(q.pending_buf=null,h=f=A=null,q.dstate=null,113==t?-3:0)},q.deflateParams=function(e,t,n){var i=0;return-1==t&&(t=6),t<0||9<t||n<0||2<n?-2:(o[F].func!=o[t].func&&0!==e.total_in&&(i=e.deflate(1)),F!=t&&(B=o[F=t].max_lazy,D=o[F].good_length,O=o[F].nice_length,I=o[F].max_chain),N=n,i)},q.deflateSetDictionary=function(e,n,i){var r,o=i,s=0;if(!n||42!=t)return-2;if(o<3)return 0;for(c-262<o&&(s=i-(o=c-262)),h.set(n.subarray(s,s+o),0),b=S=o,g=((g=255&h[0])<<w^255&h[1])&v,r=0;r<=o-3;r++)f[r&d]=A[g=(g<<w^255&h[r+2])&v],A[g]=r;return 0},q.deflate=function(n,a){var p,y,I,D,O,R;if(4<a||a<0)return-2;if(!n.next_out||!n.next_in&&0!==n.avail_in||666==t&&4!=a)return n.msg=s[4],-2;if(0===n.avail_out)return n.msg=s[7],-5;if(e=n,D=l,l=a,42==t&&(y=8+(u-8<<4)<<8,3<(I=(F-1&255)>>1)&&(I=3),y|=I<<6,0!==S&&(y|=32),t=113,Z((R=y+=31-y%31)>>8&255),Z(255&R)),0!==q.pending){if(e.flush_pending(),0===e.avail_out)return l=-1,0}else if(0===e.avail_in&&a<=D&&4!=a)return e.msg=s[7],-5;if(666==t&&0!==e.avail_in)return n.msg=s[7],-5;if(0!==e.avail_in||0!==L||0!=a&&666!=t){switch(O=-1,o[F].func){case 0:O=function(t){var n,i=65535;for(r-5<i&&(i=r-5);;){if(L<=1){if(ce(),0===L&&0==t)return 0;if(0===L)break}if(S+=L,n=b+i,((L=0)===S||n<=S)&&(L=S-n,S=n,le(!1),0===e.avail_out))return 0;if(c-262<=S-b&&(le(!1),0===e.avail_out))return 0}return le(4==t),0===e.avail_out?4==t?2:0:4==t?3:1}(a);break;case 1:O=function(t){for(var n,i=0;;){if(L<262){if(ce(),L<262&&0==t)return 0;if(0===L)break}if(3<=L&&(i=65535&A[g=(g<<w^255&h[S+2])&v],f[S&d]=A[g],A[g]=S),0!==i&&(S-i&65535)<=c-262&&2!=N&&(_=ue(i)),3<=_)if(n=re(S-T,_-3),L-=_,_<=B&&3<=L){for(_--;g=(g<<w^255&h[2+ ++S])&v,i=65535&A[g],f[S&d]=A[g],A[g]=S,0!=--_;);S++}else S+=_,_=0,g=((g=255&h[S])<<w^255&h[S+1])&v;else n=re(0,255&h[S]),L--,S++;if(n&&(le(!1),0===e.avail_out))return 0}return le(4==t),0===e.avail_out?4==t?2:0:4==t?3:1}(a);break;case 2:O=function(t){for(var n,i,r=0;;){if(L<262){if(ce(),L<262&&0==t)return 0;if(0===L)break}if(3<=L&&(r=65535&A[g=(g<<w^255&h[S+2])&v],f[S&d]=A[g],A[g]=S),x=_,C=T,_=2,0!==r&&x<B&&(S-r&65535)<=c-262&&(2!=N&&(_=ue(r)),_<=5&&(1==N||3==_&&4096<S-T)&&(_=2)),3<=x&&_<=x){for(i=S+L-3,n=re(S-1-C,x-3),L-=x-1,x-=2;++S<=i&&(r=65535&A[g=(g<<w^255&h[S+2])&v],f[S&d]=A[g],A[g]=S),0!=--x;);if(E=0,_=2,S++,n&&(le(!1),0===e.avail_out))return 0}else if(0!==E){if((n=re(0,255&h[S-1]))&&le(!1),S++,L--,0===e.avail_out)return 0}else E=1,S++,L--}return 0!==E&&(n=re(0,255&h[S-1]),E=0),le(4==t),0===e.avail_out?4==t?2:0:4==t?3:1}(a)}if(2!=O&&3!=O||(t=666),0==O||2==O)return 0===e.avail_out&&(l=-1),0;if(1==O){if(1==a)ee(2,3),te(256,i.static_ltree),ie(),1+j+10-W<9&&(ee(2,3),te(256,i.static_ltree),ie()),j=7;else if(ae(0,0,!1),3==a)for(p=0;p<m;p++)A[p]=0;if(e.flush_pending(),0===e.avail_out)return l=-1,0}}return 4!=a?0:1}}function c(){this.next_in_index=0,this.next_out_index=0,this.avail_in=0,this.total_in=0,this.avail_out=0,this.total_out=0}c.prototype={deflateInit:function(e,t){return this.dstate=new l,t||(t=15),this.dstate.deflateInit(this,e,t)},deflate:function(e){return this.dstate?this.dstate.deflate(this,e):-2},deflateEnd:function(){if(!this.dstate)return-2;var e=this.dstate.deflateEnd();return this.dstate=null,e},deflateParams:function(e,t){return this.dstate?this.dstate.deflateParams(this,e,t):-2},deflateSetDictionary:function(e,t){return this.dstate?this.dstate.deflateSetDictionary(this,e,t):-2},read_buf:function(e,t,n){var i=this.avail_in;return n<i&&(i=n),0===i?0:(this.avail_in-=i,e.set(this.next_in.subarray(this.next_in_index,this.next_in_index+i),t),this.next_in_index+=i,this.total_in+=i,i)},flush_pending:function(){var e=this,t=e.dstate.pending;t>e.avail_out&&(t=e.avail_out),0!==t&&(e.next_out.set(e.dstate.pending_buf.subarray(e.dstate.pending_out,e.dstate.pending_out+t),e.next_out_index),e.next_out_index+=t,e.dstate.pending_out+=t,e.total_out+=t,e.avail_out-=t,e.dstate.pending-=t,0===e.dstate.pending&&(e.dstate.pending_out=0))}};var u=e.zip||e;u.Deflater=u._jzlib_Deflater=function(e){var t=new c,n=new Uint8Array(512),i=e?e.level:-1;void 0===i&&(i=-1),t.deflateInit(i),t.next_out=n,this.append=function(e,i){var r,o=[],s=0,a=0,l=0;if(e.length){t.next_in_index=0,t.next_in=e,t.avail_in=e.length;do{if(t.next_out_index=0,t.avail_out=512,0!=t.deflate(0))throw new Error("deflating: "+t.msg);t.next_out_index&&o.push(512==t.next_out_index?new Uint8Array(n):new Uint8Array(n.subarray(0,t.next_out_index))),l+=t.next_out_index,i&&0<t.next_in_index&&t.next_in_index!=s&&(i(t.next_in_index),s=t.next_in_index)}while(0<t.avail_in||0===t.avail_out);return r=new Uint8Array(l),o.forEach(function(e){r.set(e,a),a+=e.length}),r}},this.flush=function(){var e,i,r=[],o=0,s=0;do{if(t.next_out_index=0,t.avail_out=512,1!=(e=t.deflate(4))&&0!=e)throw new Error("deflating: "+t.msg);0<512-t.avail_out&&r.push(new Uint8Array(n.subarray(0,t.next_out_index))),s+=t.next_out_index}while(0<t.avail_in||0===t.avail_out);return t.deflateEnd(),i=new Uint8Array(s),r.forEach(function(e){i.set(e,o),o+=e.length}),i}}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||"undefined"!=typeof global&&global||Function('return typeof this === "object" && this.content')()||Function("return this")()),("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||"undefined"!=typeof global&&global||Function('return typeof this === "object" && this.content')()||Function("return this")()).RGBColor=function(e){var t;e=e||"",this.ok=!1,"#"==e.charAt(0)&&(e=e.substr(1,6)),e=(e=e.replace(/ /g,"")).toLowerCase();var n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};for(var i in n)e==i&&(e=n[i]);for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],o=0;o<r.length;o++){var s=r[o].process,a=r[o].re.exec(e);a&&(t=s(a),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:255<this.r?255:this.r,this.g=this.g<0||isNaN(this.g)?0:255<this.g?255:this.g,this.b=this.b<0||isNaN(this.b)?0:255<this.b?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var e=this.r.toString(16),t=this.g.toString(16),n=this.b.toString(16);return 1==e.length&&(e="0"+e),1==t.length&&(t="0"+t),1==n.length&&(n="0"+n),"#"+e+t+n}},function(e){var t="+".charCodeAt(0),n="/".charCodeAt(0),i="0".charCodeAt(0),r="a".charCodeAt(0),o="A".charCodeAt(0),s="-".charCodeAt(0),a="_".charCodeAt(0),l=function(e){var l=e.charCodeAt(0);return l===t||l===s?62:l===n||l===a?63:l<i?-1:l<i+10?l-i+26+26:l<o+26?l-o:l<r+26?l-r+26:void 0};e.API.TTFFont=function(){function e(e,t,n){var i;if(this.rawData=e,i=this.contents=new u(e),this.contents.pos=4,"ttcf"===i.readString(4)){if(!t)throw new Error("Must specify a font name for TTC files.");throw new Error("Font "+t+" not found in TTC file.")}i.pos=0,this.parse(),this.subset=new I(this),this.registerTTF()}return e.open=function(t,n,i,r){if("string"!=typeof i)throw new Error("Invalid argument supplied in TTFFont.open");return new e(function(e){var t,n,i,r,o,s;if(0<e.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var a=e.length;o="="===e.charAt(a-2)?2:"="===e.charAt(a-1)?1:0,s=new Uint8Array(3*e.length/4-o),i=0<o?e.length-4:e.length;var c=0;function u(e){s[c++]=e}for(n=t=0;t<i;t+=4,n+=3)u((16711680&(r=l(e.charAt(t))<<18|l(e.charAt(t+1))<<12|l(e.charAt(t+2))<<6|l(e.charAt(t+3))))>>16),u((65280&r)>>8),u(255&r);return 2===o?u(255&(r=l(e.charAt(t))<<2|l(e.charAt(t+1))>>4)):1===o&&(u((r=l(e.charAt(t))<<10|l(e.charAt(t+1))<<4|l(e.charAt(t+2))>>2)>>8&255),u(255&r)),s}(i),n,r)},e.prototype.parse=function(){return this.directory=new d(this.contents),this.head=new f(this),this.name=new b(this),this.cmap=new g(this),this.toUnicode=new Map,this.hhea=new m(this),this.maxp=new _(this),this.hmtx=new C(this),this.post=new v(this),this.os2=new y(this),this.loca=new x(this),this.glyf=new S(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var e,t,n,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var e,t,n,i;for(i=[],e=0,t=(n=this.bbox).length;e<t;e++)i.push(Math.round(n[e]*this.scaleFactor));return i}).call(this),this.stemV=0,this.post.exists?(t=255&(n=this.post.italic_angle),!0&(e=n>>16)&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+t)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(i=this.familyClass)||2===i||3===i||4===i||5===i||7===i,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(e){var t;return(null!=(t=this.cmap.unicode)?t.codeMap[e]:void 0)||0},e.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},e.prototype.widthOfString=function(e,t,n){var i,r,o,s,a;for(r=s=o=0,a=(e=""+e).length;0<=a?s<a:a<s;r=0<=a?++s:--s)i=e.charCodeAt(r),o+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/t)||0;return o*(t/1e3)},e.prototype.lineHeight=function(e,t){return null==t&&(t=!1),(this.ascender+(t?this.lineGap:0)-this.decender)/1e3*e},e}();var c,u=function(){function e(e){this.data=null!=e?e:[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(e){return this.data[this.pos++]=e},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt32=function(){var e;return 2147483648<=(e=this.readUInt32())?e-4294967296:e},e.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt16=function(){var e;return 32768<=(e=this.readUInt16())?e-65536:e},e.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},e.prototype.readString=function(e){var t,n,i;for(n=[],t=i=0;0<=e?i<e:e<i;t=0<=e?++i:--i)n[t]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(e){var t,n,i,r;for(r=[],t=n=0,i=e.length;0<=i?n<i:i<n;t=0<=i?++n:--n)r.push(this.writeByte(e.charCodeAt(t)));return r},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(e){return this.writeInt16(e)},e.prototype.readLongLong=function(){var e,t,n,i,r,o,s,a;return e=this.readByte(),t=this.readByte(),n=this.readByte(),i=this.readByte(),r=this.readByte(),o=this.readByte(),s=this.readByte(),a=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^r)+65536*(255^o)+256*(255^s)+(255^a)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*i+16777216*r+65536*o+256*s+a},e.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(e){return this.writeInt32(e)},e.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:e<n;0<=e?++n:--n)t.push(this.readByte());return t},e.prototype.write=function(e){var t,n,i;for(i=[],t=0,n=e.length;t<n;t++)i.push(this.writeByte(e[t]));return i},e}(),d=function(){var e;function t(e){var t,n,i;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},n=0,i=this.tableCount;0<=i?n<i:i<n;0<=i?++n:--n)t={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[t.tag]=t}return t.prototype.encode=function(t){var n,i,r,o,s,a,l,c,d,h,p,f;for(f in h=Object.keys(t).length,s=Math.log(2),c=16*Math.floor(Math.log(h)/s),r=Math.floor(c/s),l=16*h-c,(i=new u).writeInt(this.scalarType),i.writeShort(h),i.writeShort(c),i.writeShort(r),i.writeShort(l),a=i.pos+16*h,o=null,p=[],t)for(d=t[f],i.writeString(f),i.writeInt(e(d)),i.writeInt(a),i.writeInt(d.length),p=p.concat(d),"head"===f&&(o=a),a+=d.length;a%4;)p.push(0),a++;return i.write(p),n=2981146554-e(i.data),i.pos=o+8,i.writeUInt32(n),i.data},e=function(e){var t,n,i,r;for(e=E.call(e);e.length%4;)e.push(0);for(n=new u(e),i=t=0,r=e.length;i<r;i+=4)t+=n.readUInt32();return 4294967295&t},t}(),h={}.hasOwnProperty,p=function(e,t){for(var n in t)h.call(t,n)&&(e[n]=t[n]);function i(){this.constructor=e}return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};c=function(){function e(e){var t;this.file=e,this.exists=!!(t=this.file.directory.tables[this.tag]),t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var f=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,c),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var t;return(t=new u).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},t}(),A=function(){function e(e,t){var n,i,r,o,s,a,l,c,u,d,h,p,f,A,g,m,y,v;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),u=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(a=g=0;g<256;a=++g)this.codeMap[a]=e.readByte();break;case 4:for(h=e.readUInt16(),d=h/2,e.pos+=6,r=function(){var t,n;for(n=[],a=t=0;0<=d?t<d:d<t;a=0<=d?++t:--t)n.push(e.readUInt16());return n}(),e.pos+=2,f=function(){var t,n;for(n=[],a=t=0;0<=d?t<d:d<t;a=0<=d?++t:--t)n.push(e.readUInt16());return n}(),l=function(){var t,n;for(n=[],a=t=0;0<=d?t<d:d<t;a=0<=d?++t:--t)n.push(e.readUInt16());return n}(),c=function(){var t,n;for(n=[],a=t=0;0<=d?t<d:d<t;a=0<=d?++t:--t)n.push(e.readUInt16());return n}(),i=(this.length-e.pos+this.offset)/2,s=function(){var t,n;for(n=[],a=t=0;0<=i?t<i:i<t;a=0<=i?++t:--t)n.push(e.readUInt16());return n}(),a=m=0,v=r.length;m<v;a=++m)for(A=r[a],n=y=p=f[a];p<=A?y<=A:A<=y;n=p<=A?++y:--y)0===c[a]?o=n+l[a]:0!==(o=s[c[a]/2+(n-p)-(d-a)]||0)&&(o+=l[a]),this.codeMap[n]=65535&o}e.pos=u}return e.encode=function(e,t){var n,i,r,o,s,a,l,c,d,h,p,f,A,g,m,y,v,w,b,_,C,E,S,T,L,x,I,B,F,N,D,O,R,M,U,P,H,k,Q,z,j,V,W,q,G;switch(I=new u,o=Object.keys(e).sort(function(e,t){return e-t}),t){case"macroman":for(A=0,g=function(){var e,t;for(t=[],f=e=0;e<256;f=++e)t.push(0);return t}(),y={0:0},r={},B=0,O=o.length;B<O;B++)null==y[V=e[i=o[B]]]&&(y[V]=++A),r[i]={old:e[i],new:y[e[i]]},g[i]=y[e[i]];return I.writeUInt16(1),I.writeUInt16(0),I.writeUInt32(12),I.writeUInt16(0),I.writeUInt16(262),I.writeUInt16(0),I.write(g),{charMap:r,subtable:I.data,maxGlyphID:A+1};case"unicode":for(L=[],d=[],y={},n={},m=l=null,F=v=0,R=o.length;F<R;F++)null==y[w=e[i=o[F]]]&&(y[w]=++v),n[i]={old:w,new:y[w]},s=y[w]-i,null!=m&&s===l||(m&&d.push(m),L.push(i),l=s),m=i;for(m&&d.push(m),d.push(65535),L.push(65535),S=2*(E=L.length),C=2*Math.pow(Math.log(E)/Math.LN2,2),h=Math.log(C/2)/Math.LN2,_=2*E-C,a=[],b=[],p=[],f=N=0,M=L.length;N<M;f=++N){if(c=d[f],65535===(T=L[f])){a.push(0),b.push(0);break}if(32768<=T-(x=n[T].new))for(a.push(0),b.push(2*(p.length+E-f)),i=D=T;T<=c?D<=c:c<=D;i=T<=c?++D:--D)p.push(n[i].new);else a.push(x-T),b.push(0)}for(I.writeUInt16(3),I.writeUInt16(1),I.writeUInt32(12),I.writeUInt16(4),I.writeUInt16(16+8*E+2*p.length),I.writeUInt16(0),I.writeUInt16(S),I.writeUInt16(C),I.writeUInt16(h),I.writeUInt16(_),z=0,U=d.length;z<U;z++)I.writeUInt16(i=d[z]);for(I.writeUInt16(0),j=0,P=L.length;j<P;j++)I.writeUInt16(i=L[j]);for(W=0,H=a.length;W<H;W++)I.writeUInt16(s=a[W]);for(q=0,k=b.length;q<k;q++)I.writeUInt16(b[q]);for(G=0,Q=p.length;G<Q;G++)I.writeUInt16(A=p[G]);return{charMap:n,subtable:I.data,maxGlyphID:v+1}}},e}(),g=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,c),t.prototype.tag="cmap",t.prototype.parse=function(e){var t,n,i;for(e.pos=this.offset,this.version=e.readUInt16(),n=e.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=n?i<n:n<i;0<=n?++i:--i)t=new A(e,this.offset),this.tables.push(t),t.isUnicode&&null==this.unicode&&(this.unicode=t);return!0},t.encode=function(e,t){var n,i;return null==t&&(t="macroman"),n=A.encode(e,t),(i=new u).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},t}(),m=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,c),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),y=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,c),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var t,n;for(n=[],t=0;t<10;++t)n.push(e.readByte());return n}(),this.charRange=function(){var t,n;for(n=[],t=0;t<4;++t)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),0<this.version&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var t,n;for(n=[],t=0;t<2;++t)n.push(e.readInt());return n}(),1<this.version))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),v=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,c),t.prototype.tag="post",t.prototype.parse=function(e){var t,n,i,r;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:break;case 131072:for(n=e.readUInt16(),this.glyphNameIndex=[],i=0;0<=n?i<n:n<i;0<=n?++i:--i)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],r=[];e.pos<this.offset+this.length;)t=e.readByte(),r.push(this.names.push(e.readString(t)));return r;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 196608:break;case 262144:return this.map=(function(){var t,n,i;for(i=[],t=0,n=this.file.maxp.numGlyphs;0<=n?t<n:n<t;0<=n?++t:--t)i.push(e.readUInt32());return i}).call(this)}},t}(),w=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},b=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,c),t.prototype.tag="name",t.prototype.parse=function(e){var t,n,i,r,o,s,a,l,c,u,d,h;for(e.pos=this.offset,e.readShort(),t=e.readShort(),s=e.readShort(),n=[],r=c=0;0<=t?c<t:t<c;r=0<=t?++c:--c)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+s+e.readShort()});for(a={},r=u=0,d=n.length;u<d;r=++u)e.pos=(i=n[r]).offset,l=e.readString(i.length),o=new w(l,i),null==a[h=i.nameID]&&(a[h]=[]),a[i.nameID].push(o);this.strings=a,this.copyright=a[0],this.fontFamily=a[1],this.fontSubfamily=a[2],this.uniqueSubfamily=a[3],this.fontName=a[4],this.version=a[5];try{this.postscriptName=a[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(e){this.postscriptName=a[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=a[7],this.manufacturer=a[8],this.designer=a[9],this.description=a[10],this.vendorUrl=a[11],this.designerUrl=a[12],this.license=a[13],this.licenseUrl=a[14],this.preferredFamily=a[15],this.preferredSubfamily=a[17],this.compatibleFull=a[18],this.sampleText=a[19]},t}(),_=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,c),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),C=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,c),t.prototype.tag="hmtx",t.prototype.parse=function(e){var t,n,i,r,o,s;for(e.pos=this.offset,this.metrics=[],i=0,o=this.file.hhea.numberOfMetrics;0<=o?i<o:o<i;0<=o?++i:--i)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(n=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var t,i;for(i=[],t=0;0<=n?t<n:n<t;0<=n?++t:--t)i.push(e.readInt16());return i}(),this.widths=(function(){var e,t,n,i;for(i=[],e=0,t=(n=this.metrics).length;e<t;e++)i.push(n[e].advance);return i}).call(this),t=this.widths[this.widths.length-1],s=[],r=0;0<=n?r<n:n<r;0<=n?++r:--r)s.push(this.widths.push(t));return s},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),E=[].slice,S=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,c),t.prototype.tag="glyf",t.prototype.parse=function(e){return this.cache={}},t.prototype.glyphFor=function(e){var t,n,i,r,o,s,a,l,c,d;return(e=e)in this.cache?this.cache[e]:(t=this.file.contents,n=(r=this.file.loca).indexOf(e),0===(i=r.lengthOf(e))?this.cache[e]=null:(t.pos=this.offset+n,o=(s=new u(t.read(i))).readShort(),l=s.readShort(),d=s.readShort(),a=s.readShort(),c=s.readShort(),this.cache[e]=-1===o?new L(s,l,d,a,c):new T(s,o,l,d,a,c),this.cache[e]))},t.prototype.encode=function(e,t,n){var i,r,o,s,a;for(o=[],r=[],s=0,a=t.length;s<a;s++)i=e[t[s]],r.push(o.length),i&&(o=o.concat(i.encode(n)));return r.push(o.length),{table:o,offsets:r}},t}(),T=function(){function e(e,t,n,i,r,o){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=i,this.xMax=r,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),L=function(){function e(e,t,n,i,r){var o,s;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=i,this.yMax=r,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;s=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readShort()),32&s;)o.pos+=1&s?4:2,128&s?o.pos+=8:64&s?o.pos+=4:8&s&&(o.pos+=2)}return e.prototype.encode=function(e){var t,n,i,r;for(n=new u(E.call(this.raw.data)),t=i=0,r=this.glyphIDs.length;i<r;t=++i)n.pos=this.glyphOffsets[t];return n.data},e}(),x=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return p(t,c),t.prototype.tag="loca",t.prototype.parse=function(e){return e.pos=this.offset,this.offsets=0===this.file.head.indexToLocFormat?(function(){var t,n,i;for(i=[],t=0,n=this.length;t<n;t+=2)i.push(2*e.readUInt16());return i}).call(this):(function(){var t,n,i;for(i=[],t=0,n=this.length;t<n;t+=4)i.push(e.readUInt32());return i}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,t){for(var n=new Uint32Array(this.offsets.length),i=0,r=0,o=0;o<n.length;++o)if(n[o]=i,r<t.length&&t[r]==o){++r,n[o]=i;var s=this.offsets[o+1]-this.offsets[o];0<s&&(i+=s)}for(var a=new Array(4*n.length),l=0;l<n.length;++l)a[4*l+3]=255&n[l],a[4*l+2]=(65280&n[l])>>8,a[4*l+1]=(16711680&n[l])>>16,a[4*l]=(4278190080&n[l])>>24;return a},t}(),I=function(){function e(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var e,t,n,i;for(t in n=this.font.cmap.tables[0].codeMap,e={},i=this.subset)e[t]=n[i[t]];return e},e.prototype.glyphsFor=function(e){var t,n,i,r,o,s,a;for(i={},o=0,s=e.length;o<s;o++)i[r=e[o]]=this.font.glyf.glyphFor(r);for(r in t=[],i)(null!=(n=i[r])?n.compound:void 0)&&t.push.apply(t,n.glyphIDs);if(0<t.length)for(r in a=this.glyphsFor(t))i[r]=n=a[r];return i},e.prototype.encode=function(e,t){var n,i,r,o,s,a,l,c,u,d,h,p,f,A;for(i in n=g.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),d={0:0},A=n.charMap)d[(s=A[i]).old]=s.new;for(h in u=n.maxGlyphID,o)h in d||(d[h]=u++);return l=function(e){var t,n;for(t in n={},e)n[e[t]]=t;return n}(d),c=Object.keys(l).sort(function(e,t){return e-t}),p=function(){var e,t,n;for(n=[],e=0,t=c.length;e<t;e++)n.push(l[c[e]]);return n}(),r=this.font.glyf.encode(o,p,d),a=this.font.loca.encode(r.offsets,p),f={cmap:this.font.cmap.raw(),glyf:r.table,loca:a,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(f["OS/2"]=this.font.os2.raw()),this.font.directory.encode(f)},e}();e.API.PDFObject=function(){var e;function t(){}return e=function(e,t){return(Array(t+1).join("0")+e).slice(-t)},t.convert=function(n){var i,r;if(Array.isArray(n))return"["+function(){var e,i,r;for(r=[],e=0,i=n.length;e<i;e++)r.push(t.convert(n[e]));return r}().join(" ")+"]";if("string"==typeof n)return"/"+n;if(null!=n?n.isString:void 0)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if("[object Object]"!=={}.toString.call(n))return""+n;for(i in r=["<<"],n)r.push("/"+i+" "+t.convert(n[i]));return r.push(">>"),r.join("\n")},t}()}(le),_e="undefined"!=typeof self&&self||"undefined"!=typeof window&&window||"undefined"!=typeof global&&global||Function('return typeof this === "object" && this.content')()||Function("return this")(),Ce=function(){var e,n,i;function r(e){var t,n,i,r,o,s,a,l,c,u,d,h,p;for(this.data=e,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},o=null;;){switch(t=this.readUInt32(),l=(function(){var e,t;for(t=[],e=0;e<4;++e)t.push(String.fromCharCode(this.data[this.pos++]));return t}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(t);break;case"fcTL":o&&this.animation.frames.push(o),this.pos+=4,o={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},r=this.readUInt16(),i=this.readUInt16()||100,o.delay=1e3*r/i,o.disposeOp=this.data[this.pos++],o.blendOp=this.data[this.pos++],o.data=[];break;case"IDAT":case"fdAT":for("fdAT"===l&&(this.pos+=4,t-=4),e=(null!=o?o.data:void 0)||this.imgData,d=0;0<=t?d<t:t<d;0<=t?++d:--d)e.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(n=this.palette.length/3,this.transparency.indexed=this.read(t),this.transparency.indexed.length>n)throw new Error("More transparent colors than palette size");if(0<(c=n-this.transparency.indexed.length))for(h=0;0<=c?h<c:c<h;0<=c?++h:--h)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(t)[0];break;case 2:this.transparency.rgb=this.read(t)}break;case"tEXt":s=(u=this.read(t)).indexOf(0),a=String.fromCharCode.apply(String,u.slice(0,s)),this.text[a]=String.fromCharCode.apply(String,u.slice(s+1));break;case"IEND":return o&&this.animation.frames.push(o),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=4===(p=this.colorType)||6===p,this.pixelBitlength=this.bits*(this.colors+(this.hasAlphaChannel?1:0)),this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=t}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.load=function(e,t,n){var i;return"function"==typeof t&&(n=t),(i=new XMLHttpRequest).open("GET",e,!0),i.responseType="arraybuffer",i.onload=function(){var e;return e=new r(new Uint8Array(i.response||i.mozResponseArrayBuffer)),"function"==typeof(null!=t?t.getContext:void 0)&&e.render(t),"function"==typeof n?n(e):void 0},i.send(null)},r.prototype.read=function(e){var t,n;for(n=[],t=0;0<=e?t<e:e<t;0<=e?++t:--t)n.push(this.data[this.pos++]);return n},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(e){var t=this.pixelBitlength/8,n=new Uint8Array(this.width*this.height*t),i=0,r=this;if(null==e&&(e=this.imgData),0===e.length)return new Uint8Array(0);function o(o,s,a,l){var c,u,d,h,p,f,A,g,m,y,v,w,b,_,C,E,S,T,L,x,I=Math.ceil((r.width-o)/a),B=Math.ceil((r.height-s)/l),F=r.width==I&&r.height==B;for(b=t*I,v=F?n:new Uint8Array(b*B),f=e.length,u=w=0;w<B&&i<f;){switch(e[i++]){case 0:for(h=E=0;E<b;h=E+=1)v[u++]=e[i++];break;case 1:for(h=S=0;S<b;h=S+=1)c=e[i++],p=h<t?0:v[u-t],v[u++]=(c+p)%256;break;case 2:for(h=T=0;T<b;h=T+=1)c=e[i++],d=(h-h%t)/t,v[u++]=((_=w&&v[(w-1)*b+d*t+h%t])+c)%256;break;case 3:for(h=L=0;L<b;h=L+=1)c=e[i++],d=(h-h%t)/t,p=h<t?0:v[u-t],_=w&&v[(w-1)*b+d*t+h%t],v[u++]=(c+Math.floor((p+_)/2))%256;break;case 4:for(h=x=0;x<b;h=x+=1)c=e[i++],d=(h-h%t)/t,0===w?_=C=0:(_=v[(w-1)*b+d*t+h%t],C=d&&v[(w-1)*b+(d-1)*t+h%t]),A=(p=h<t?0:v[u-t])+_-C,g=Math.abs(A-p),m=Math.abs(A-_),y=Math.abs(A-C),v[u++]=(c+(g<=m&&g<=y?p:m<=y?_:C))%256;break;default:throw new Error("Invalid filter algorithm: "+e[i-1])}if(!F){var N=((s+w*l)*r.width+o)*t,D=w*b;for(h=0;h<I;h+=1){for(var O=0;O<t;O+=1)n[N++]=v[D++];N+=(a-1)*t}}w++}}return e=(e=new Be(e)).getBytes(),1==r.interlaceMethod?(o(0,0,8,8),o(4,0,8,8),o(0,4,4,8),o(2,0,4,4),o(0,2,2,4),o(1,0,2,2),o(0,1,1,2)):o(0,0,1,1),n},r.prototype.decodePalette=function(){var e,t,n,i,r,o,s,a,l;for(n=this.palette,o=this.transparency.indexed||[],r=new Uint8Array((o.length||0)+n.length),i=0,t=s=e=0,a=n.length;s<a;t=s+=3)r[i++]=n[t],r[i++]=n[t+1],r[i++]=n[t+2],r[i++]=null!=(l=o[e++])?l:255;return r},r.prototype.copyToImageData=function(e,t){var n,i,r,o,s,a,l,c,u,d,h;if(i=this.colors,u=null,n=this.hasAlphaChannel,this.palette.length&&(u=null!=(h=this._decodedPalette)?h:this._decodedPalette=this.decodePalette(),i=4,n=!0),c=(r=e.data||e).length,s=u||t,o=a=0,1===i)for(;o<c;)l=u?4*t[o/4]:a,d=s[l++],r[o++]=d,r[o++]=d,r[o++]=d,r[o++]=n?s[l++]:255,a=l;else for(;o<c;)l=u?4*t[o/4]:a,r[o++]=s[l++],r[o++]=s[l++],r[o++]=s[l++],r[o++]=n?s[l++]:255,a=l},r.prototype.decode=function(){var e;return e=new Uint8Array(this.width*this.height*4),this.copyToImageData(e,this.decodePixels()),e};try{n=_e.document.createElement("canvas"),i=n.getContext("2d")}catch(t){return-1}return e=function(e){var t;return i.width=e.width,i.height=e.height,i.clearRect(0,0,e.width,e.height),i.putImageData(e,0,0),(t=new Image).src=n.toDataURL(),t},r.prototype.decodeFrames=function(t){var n,i,r,o,s,a,l,c;if(this.animation){for(c=[],i=s=0,a=(l=this.animation.frames).length;s<a;i=++s)r=t.createImageData((n=l[i]).width,n.height),o=this.decodePixels(new Uint8Array(n.data)),this.copyToImageData(r,o),n.imageData=r,c.push(n.image=e(r));return c}},r.prototype.renderFrame=function(e,t){var n,i,r;return n=(i=this.animation.frames)[t],r=i[t-1],0===t&&e.clearRect(0,0,this.width,this.height),1===(null!=r?r.disposeOp:void 0)?e.clearRect(r.xOffset,r.yOffset,r.width,r.height):2===(null!=r?r.disposeOp:void 0)&&e.putImageData(r.imageData,r.xOffset,r.yOffset),0===n.blendOp&&e.clearRect(n.xOffset,n.yOffset,n.width,n.height),e.drawImage(n.image,n.xOffset,n.yOffset)},r.prototype.animate=function(e){var t,n,i,r,o,s,a=this;return n=0,r=(s=this.animation).numFrames,i=s.frames,o=s.numPlays,(t=function(){var s,l;if(s=n++%r,l=i[s],a.renderFrame(e,s),1<r&&n/r<o)return a.animation._timeout=setTimeout(t,l.delay)})()},r.prototype.stopAnimation=function(){var e;return clearTimeout(null!=(e=this.animation)?e._timeout:void 0)},r.prototype.render=function(e){var t,n;return e._png&&e._png.stopAnimation(),e._png=this,e.width=this.width,e.height=this.height,t=e.getContext("2d"),this.animation?(this.decodeFrames(t),this.animate(t)):(n=t.createImageData(this.width,this.height),this.copyToImageData(n,this.decodePixels()),t.putImageData(n,0,0))},r}(),_e.PNG=Ce;var Ie=function(){function e(){this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=null}return e.prototype={ensureBuffer:function(e){var t=this.buffer,n=t?t.byteLength:0;if(e<n)return t;for(var i=512;i<e;)i<<=1;for(var r=new Uint8Array(i),o=0;o<n;++o)r[o]=t[o];return this.buffer=r},getByte:function(){for(var e=this.pos;this.bufferLength<=e;){if(this.eof)return null;this.readBlock()}return this.buffer[this.pos++]},getBytes:function(e){var t=this.pos;if(e){this.ensureBuffer(t+e);for(var n=t+e;!this.eof&&this.bufferLength<n;)this.readBlock();var i=this.bufferLength;i<n&&(n=i)}else{for(;!this.eof;)this.readBlock();n=this.bufferLength}return this.pos=n,this.buffer.subarray(t,n)},lookChar:function(){for(var e=this.pos;this.bufferLength<=e;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos])},getChar:function(){for(var e=this.pos;this.bufferLength<=e;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos++])},makeSubStream:function(e,t,n){for(var i=e+t;this.bufferLength<=i&&!this.eof;)this.readBlock();return new Stream(this.buffer,e,t,n)},skip:function(e){e||(e=1),this.pos+=e},reset:function(){this.pos=0}},e}(),Be=function(){if("undefined"!=typeof Uint32Array){var e=new Uint32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),t=new Uint32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),n=new Uint32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),i=[new Uint32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],r=[new Uint32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];return(s.prototype=Object.create(Ie.prototype)).getBits=function(e){for(var t,n=this.codeSize,i=this.codeBuf,r=this.bytes,s=this.bytesPos;n<e;)void 0===(t=r[s++])&&o("Bad encoding in flate stream"),i|=t<<n,n+=8;return t=i&(1<<e)-1,this.codeBuf=i>>e,this.codeSize=n-=e,this.bytesPos=s,t},s.prototype.getCode=function(e){for(var t=e[0],n=e[1],i=this.codeSize,r=this.codeBuf,s=this.bytes,a=this.bytesPos;i<n;){var l;void 0===(l=s[a++])&&o("Bad encoding in flate stream"),r|=l<<i,i+=8}var c=t[r&(1<<n)-1],u=c>>16,d=65535&c;return(0==i||i<u||0==u)&&o("Bad encoding in flate stream"),this.codeBuf=r>>u,this.codeSize=i-u,this.bytesPos=a,d},s.prototype.generateHuffmanTable=function(e){for(var t=e.length,n=0,i=0;i<t;++i)e[i]>n&&(n=e[i]);for(var r=1<<n,o=new Uint32Array(r),s=1,a=0,l=2;s<=n;++s,a<<=1,l<<=1)for(var c=0;c<t;++c)if(e[c]==s){var u=0,d=a;for(i=0;i<s;++i)u=u<<1|1&d,d>>=1;for(i=u;i<r;i+=l)o[i]=s<<16|c;++a}return[o,n]},s.prototype.readBlock=function(){function s(e,t,n,i,r){for(var o=e.getBits(n)+i;0<o--;)t[f++]=r}var a=this.getBits(3);if(1&a&&(this.eof=!0),0!=(a>>=1)){var l,c;if(1==a)l=i,c=r;else if(2==a){for(var u=this.getBits(5)+257,d=this.getBits(5)+1,h=this.getBits(4)+4,p=Array(e.length),f=0;f<h;)p[e[f++]]=this.getBits(3);for(var A=this.generateHuffmanTable(p),g=0,m=(f=0,u+d),y=new Array(m);f<m;){var v=this.getCode(A);16==v?s(this,y,2,3,g):17==v?s(this,y,3,3,g=0):18==v?s(this,y,7,11,g=0):y[f++]=g=v}l=this.generateHuffmanTable(y.slice(0,u)),c=this.generateHuffmanTable(y.slice(u,m))}else o("Unknown block type in flate stream");for(var w=(N=this.buffer)?N.length:0,b=this.bufferLength;;){var _=this.getCode(l);if(_<256)w<=b+1&&(w=(N=this.ensureBuffer(b+1)).length),N[b++]=_;else{if(256==_)return void(this.bufferLength=b);var C=(_=t[_-=257])>>16;0<C&&(C=this.getBits(C)),g=(65535&_)+C,_=this.getCode(c),0<(C=(_=n[_])>>16)&&(C=this.getBits(C));var E=(65535&_)+C;w<=b+g&&(w=(N=this.ensureBuffer(b+g)).length);for(var S=0;S<g;++S,++b)N[b]=N[b-E]}}}else{var T,L=this.bytes,x=this.bytesPos;void 0===(T=L[x++])&&o("Bad block header in flate stream");var I=T;void 0===(T=L[x++])&&o("Bad block header in flate stream"),I|=T<<8,void 0===(T=L[x++])&&o("Bad block header in flate stream");var B=T;void 0===(T=L[x++])&&o("Bad block header in flate stream"),(B|=T<<8)!=(65535&~I)&&o("Bad uncompressed block length in flate stream"),this.codeBuf=0,this.codeSize=0;var F=this.bufferLength,N=this.ensureBuffer(F+I),D=F+I;this.bufferLength=D;for(var O=F;O<D;++O){if(void 0===(T=L[x++])){this.eof=!0;break}N[O]=T}this.bytesPos=x}},s}function o(e){throw new Error(e)}function s(e){var t=0,n=e[t++],i=e[t++];-1!=n&&-1!=i||o("Invalid header in flate stream"),8!=(15&n)&&o("Unknown compression method in flate stream"),((n<<8)+i)%31!=0&&o("Bad FCHECK in flate stream"),32&i&&o("FDICT bit set in flate stream"),this.bytes=e,this.bytesPos=2,this.codeSize=0,this.codeBuf=0,Ie.call(this)}}();window.tmp=Be}();try{module.exports=jsPDF}catch(t){}!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t():"function"==typeof define&&define.amd?define("promise",t):t()}(0,function(){"use strict";function e(){}function t(e){if(!(this instanceof t))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],s(e,this)}function n(e,n){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,t._immediateFn(function(){var t=1===e._state?n.onFulfilled:n.onRejected;if(null!==t){var o;try{o=t(e._value)}catch(s){return void r(n.promise,s)}i(n.promise,o)}else(1===e._state?i:r)(n.promise,e._value)})):e._deferreds.push(n)}function i(e,n){try{if(n===e)throw new TypeError("A promise cannot be resolved with itself.");if(n&&("object"==typeof n||"function"==typeof n)){var i=n.then;if(n instanceof t)return e._state=3,e._value=n,void o(e);if("function"==typeof i)return void s(function(e,t){return function(){e.apply(t,arguments)}}(i,n),e)}e._state=1,e._value=n,o(e)}catch(a){r(e,a)}}function r(e,t){e._state=2,e._value=t,o(e)}function o(e){2===e._state&&0===e._deferreds.length&&t._immediateFn(function(){e._handled||t._unhandledRejectionFn(e._value)});for(var i=0,r=e._deferreds.length;r>i;i++)n(e,e._deferreds[i]);e._deferreds=null}function s(e,t){var n=!1;try{e(function(e){n||(n=!0,i(t,e))},function(e){n||(n=!0,r(t,e))})}catch(o){if(n)return;n=!0,r(t,o)}}var a=function(e){var t=this.constructor;return this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){return t.reject(n)})})},l=setTimeout;t.prototype.catch=function(e){return this.then(null,e)},t.prototype.then=function(t,i){var r=new this.constructor(e);return n(this,new function(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}(t,i,r)),r},t.prototype.finally=a,t.all=function(e){return new t(function(t,n){function i(e,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,function(t){i(e,t)},n)}r[e]=s,0==--o&&t(r)}catch(l){n(l)}}if(!e||void 0===e.length)throw new TypeError("Promise.all accepts an array");var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);for(var o=r.length,s=0;r.length>s;s++)i(s,r[s])})},t.resolve=function(e){return e&&"object"==typeof e&&e.constructor===t?e:new t(function(t){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.race=function(e){return new t(function(t,n){for(var i=0,r=e.length;r>i;i++)e[i].then(t,n)})},t._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){l(e,0)},t._unhandledRejectionFn=function(e){void 0!==console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var c=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw Error("unable to locate global object")}();c.Promise?c.Promise.prototype.finally||(c.Promise.prototype.finally=a):c.Promise=t}),function(e,t){e.html2canvas=t(),"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("html2canvas",[],t):"object"==typeof exports?exports.html2canvas=t():e.html2canvas=t()}(window,function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,(function(t){return e[t]}).bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1);Object.defineProperty(t,"toCodePoints",{enumerable:!0,get:function(){return i.toCodePoints}}),Object.defineProperty(t,"fromCodePoint",{enumerable:!0,get:function(){return i.fromCodePoint}});var r=n(2);Object.defineProperty(t,"LineBreaker",{enumerable:!0,get:function(){return r.LineBreaker}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toCodePoints=function(e){for(var t=[],n=0,i=e.length;n<i;){var r=e.charCodeAt(n++);if(r>=55296&&r<=56319&&n<i){var o=e.charCodeAt(n++);56320==(64512&o)?t.push(((1023&r)<<10)+(1023&o)+65536):(t.push(r),n--)}else t.push(r)}return t},t.fromCodePoint=function(){if(String.fromCodePoint)return String.fromCodePoint.apply(String,arguments);var e=arguments.length;if(!e)return"";for(var t=[],n=-1,i="";++n<e;){var r=arguments.length<=n?void 0:arguments[n];r<=65535?t.push(r):t.push(55296+((r-=65536)>>10),r%1024+56320),(n+1===e||t.length>16384)&&(i+=String.fromCharCode.apply(String,t),t.length=0)}return i};for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r="undefined"==typeof Uint8Array?[]:new Uint8Array(256),o=0;o<i.length;o++)r[i.charCodeAt(o)]=o;t.decode=function(e){var t=.75*e.length,n=e.length,i=void 0,o=0,s=void 0,a=void 0,l=void 0,c=void 0;"="===e[e.length-1]&&(t--,"="===e[e.length-2]&&t--);var u="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(t):new Array(t),d=Array.isArray(u)?u:new Uint8Array(u);for(i=0;i<n;i+=4)s=r[e.charCodeAt(i)],a=r[e.charCodeAt(i+1)],l=r[e.charCodeAt(i+2)],c=r[e.charCodeAt(i+3)],d[o++]=s<<2|a>>4,d[o++]=(15&a)<<4|l>>2,d[o++]=(3&l)<<6|63&c;return u},t.polyUint16Array=function(e){for(var t=e.length,n=[],i=0;i<t;i+=2)n.push(e[i+1]<<8|e[i]);return n},t.polyUint32Array=function(e){for(var t=e.length,n=[],i=0;i<t;i+=4)n.push(e[i+3]<<24|e[i+2]<<16|e[i+1]<<8|e[i]);return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LineBreaker=t.inlineBreakOpportunities=t.lineBreakAtIndex=t.codePointsToCharacterClasses=t.UnicodeTrie=t.BREAK_ALLOWED=t.BREAK_NOT_ALLOWED=t.BREAK_MANDATORY=t.classes=t.LETTER_NUMBER_MODIFIER=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=n(3),s=function(e){return e&&e.__esModule?e:{default:e}}(n(4)),a=n(1),l=t.LETTER_NUMBER_MODIFIER=50,c=10,u=13,d=15,h=17,p=18,f=19,A=20,g=21,m=22,y=24,v=25,w=26,b=27,_=28,C=30,E=32,S=33,T=34,L=35,x=37,I=38,B=39,F=40,N=42,D=(t.classes={BK:1,CR:2,LF:3,CM:4,NL:5,SG:6,WJ:7,ZW:8,GL:9,SP:c,ZWJ:11,B2:12,BA:u,BB:14,HY:d,CB:16,CL:h,CP:p,EX:f,IN:A,NS:g,OP:m,QU:23,IS:y,NU:v,PO:w,PR:b,SY:_,AI:29,AL:C,CJ:31,EB:E,EM:S,H2:T,H3:L,HL:36,ID:x,JL:I,JV:B,JT:F,RI:41,SA:N,XX:43},t.BREAK_MANDATORY="!"),O=t.BREAK_NOT_ALLOWED="Ã",R=t.BREAK_ALLOWED="Ã·",M=t.UnicodeTrie=(0,o.createTrieFromBase64)(s.default),U=[C,36],P=[1,2,3,5],H=[c,8],k=[b,w],Q=P.concat(H),z=[I,B,F,T,L],j=[d,u],V=t.codePointsToCharacterClasses=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"strict",n=[],i=[],r=[];return e.forEach(function(e,o){var s=M.get(e);if(s>l?(r.push(!0),s-=l):r.push(!1),-1!==["normal","auto","loose"].indexOf(t)&&-1!==[8208,8211,12316,12448].indexOf(e))return i.push(o),n.push(16);if(4===s||11===s){if(0===o)return i.push(o),n.push(C);var a=n[o-1];return-1===Q.indexOf(a)?(i.push(i[o-1]),n.push(a)):(i.push(o),n.push(C))}return i.push(o),31===s?n.push("strict"===t?g:x):s===N||29===s?n.push(C):43===s?n.push(e>=131072&&e<=196605||e>=196608&&e<=262141?x:C):void n.push(s)}),[i,n,r]},W=function(e,t,n,i){var r=i[n];if(Array.isArray(e)?-1!==e.indexOf(r):e===r)for(var o=n;o<=i.length;){var s=i[++o];if(s===t)return!0;if(s!==c)break}if(r===c)for(var a=n;a>0;){var l=i[--a];if(Array.isArray(e)?-1!==e.indexOf(l):e===l)for(var u=n;u<=i.length;){var d=i[++u];if(d===t)return!0;if(d!==c)break}if(l!==c)break}return!1},q=function(e,t){for(var n=e;n>=0;){var i=t[n];if(i!==c)return i;n--}return 0},G=function(e,t,n,i,r){if(0===n[i])return O;var o=i-1;if(Array.isArray(r)&&!0===r[o])return O;var s=o-1,a=o+1,l=t[o],C=s>=0?t[s]:0,N=t[a];if(2===l&&3===N)return O;if(-1!==P.indexOf(l))return D;if(-1!==P.indexOf(N))return O;if(-1!==H.indexOf(N))return O;if(8===q(o,t))return R;if(11===M.get(e[o])&&(N===x||N===E||N===S))return O;if(7===l||7===N)return O;if(9===l)return O;if(-1===[c,u,d].indexOf(l)&&9===N)return O;if(-1!==[h,p,f,y,_].indexOf(N))return O;if(q(o,t)===m)return O;if(W(23,m,o,t))return O;if(W([h,p],g,o,t))return O;if(W(12,12,o,t))return O;if(l===c)return R;if(23===l||23===N)return O;if(16===N||16===l)return R;if(-1!==[u,d,g].indexOf(N)||14===l)return O;if(36===C&&-1!==j.indexOf(l))return O;if(l===_&&36===N)return O;if(N===A&&-1!==U.concat(A,f,v,x,E,S).indexOf(l))return O;if(-1!==U.indexOf(N)&&l===v||-1!==U.indexOf(l)&&N===v)return O;if(l===b&&-1!==[x,E,S].indexOf(N)||-1!==[x,E,S].indexOf(l)&&N===w)return O;if(-1!==U.indexOf(l)&&-1!==k.indexOf(N)||-1!==k.indexOf(l)&&-1!==U.indexOf(N))return O;if(-1!==[b,w].indexOf(l)&&(N===v||-1!==[m,d].indexOf(N)&&t[a+1]===v)||-1!==[m,d].indexOf(l)&&N===v||l===v&&-1!==[v,_,y].indexOf(N))return O;if(-1!==[v,_,y,h,p].indexOf(N))for(var Q=o;Q>=0;){var V=t[Q];if(V===v)return O;if(-1===[_,y].indexOf(V))break;Q--}if(-1!==[b,w].indexOf(N))for(var G=-1!==[h,p].indexOf(l)?s:o;G>=0;){var K=t[G];if(K===v)return O;if(-1===[_,y].indexOf(K))break;G--}if(I===l&&-1!==[I,B,T,L].indexOf(N)||-1!==[B,T].indexOf(l)&&-1!==[B,F].indexOf(N)||-1!==[F,L].indexOf(l)&&N===F)return O;if(-1!==z.indexOf(l)&&-1!==[A,w].indexOf(N)||-1!==z.indexOf(N)&&l===b)return O;if(-1!==U.indexOf(l)&&-1!==U.indexOf(N))return O;if(l===y&&-1!==U.indexOf(N))return O;if(-1!==U.concat(v).indexOf(l)&&N===m||-1!==U.concat(v).indexOf(N)&&l===p)return O;if(41===l&&41===N){for(var X=n[o],J=1;X>0&&41===t[--X];)J++;if(J%2!=0)return O}return l===E&&N===S?O:R},K=(t.lineBreakAtIndex=function(e,t){if(0===t)return O;if(t>=e.length)return D;var n=V(e),i=r(n,2);return G(e,i[1],i[0],t)},function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var n=V(e,t.lineBreak),i=r(n,3),o=i[0],s=i[1],a=i[2];return"break-all"!==t.wordBreak&&"break-word"!==t.wordBreak||(s=s.map(function(e){return-1!==[v,C,N].indexOf(e)?x:e})),[o,s,"keep-all"===t.wordBreak?a.map(function(t,n){return t&&e[n]>=19968&&e[n]<=40959}):null]}),X=(t.inlineBreakOpportunities=function(e,t){var n=(0,a.toCodePoints)(e),i=O,o=K(n,t),s=r(o,3),l=s[0],c=s[1],u=s[2];return n.forEach(function(e,t){i+=(0,a.fromCodePoint)(e)+(t>=n.length-1?D:G(n,c,l,t+1,u))}),i},function(){function e(t,n,i,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._codePoints=t,this.required=n===D,this.start=i,this.end=r}return i(e,[{key:"slice",value:function(){return a.fromCodePoint.apply(void 0,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(this._codePoints.slice(this.start,this.end)))}}]),e}());t.LineBreaker=function(e,t){var n=(0,a.toCodePoints)(e),i=K(n,t),o=r(i,3),s=o[0],l=o[1],c=o[2],u=n.length,d=0,h=0;return{next:function(){if(h>=u)return{done:!0};for(var e=O;h<u&&(e=G(n,l,s,++h,c))===O;);if(e!==O||h===u){var t=new X(n,e,d,h);return d=h,{value:t,done:!1}}return{done:!0}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Trie=t.createTrieFromBase64=t.UTRIE2_INDEX_2_MASK=t.UTRIE2_INDEX_2_BLOCK_LENGTH=t.UTRIE2_OMITTED_BMP_INDEX_1_LENGTH=t.UTRIE2_INDEX_1_OFFSET=t.UTRIE2_UTF8_2B_INDEX_2_LENGTH=t.UTRIE2_UTF8_2B_INDEX_2_OFFSET=t.UTRIE2_INDEX_2_BMP_LENGTH=t.UTRIE2_LSCP_INDEX_2_LENGTH=t.UTRIE2_DATA_MASK=t.UTRIE2_DATA_BLOCK_LENGTH=t.UTRIE2_LSCP_INDEX_2_OFFSET=t.UTRIE2_SHIFT_1_2=t.UTRIE2_INDEX_SHIFT=t.UTRIE2_SHIFT_1=t.UTRIE2_SHIFT_2=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(1),o=t.UTRIE2_SHIFT_2=5,s=t.UTRIE2_SHIFT_1=11,a=t.UTRIE2_INDEX_SHIFT=2,l=t.UTRIE2_SHIFT_1_2=s-o,c=t.UTRIE2_LSCP_INDEX_2_OFFSET=65536>>o,u=t.UTRIE2_DATA_BLOCK_LENGTH=1<<o,d=t.UTRIE2_DATA_MASK=u-1,h=t.UTRIE2_LSCP_INDEX_2_LENGTH=1024>>o,p=t.UTRIE2_INDEX_2_BMP_LENGTH=c+h,f=t.UTRIE2_UTF8_2B_INDEX_2_OFFSET=p,A=t.UTRIE2_UTF8_2B_INDEX_2_LENGTH=32,g=t.UTRIE2_INDEX_1_OFFSET=f+A,m=t.UTRIE2_OMITTED_BMP_INDEX_1_LENGTH=65536>>s,y=t.UTRIE2_INDEX_2_BLOCK_LENGTH=1<<l,v=t.UTRIE2_INDEX_2_MASK=y-1,w=(t.createTrieFromBase64=function(e){var t=(0,r.decode)(e),n=Array.isArray(t)?(0,r.polyUint32Array)(t):new Uint32Array(t),i=Array.isArray(t)?(0,r.polyUint16Array)(t):new Uint16Array(t),o=i.slice(12,n[4]/2),s=2===n[5]?i.slice((24+n[4])/2):n.slice(Math.ceil((24+n[4])/4));return new w(n[0],n[1],n[2],n[3],o,s)},t.Trie=function(){function e(t,n,i,r,o,s){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.initialValue=t,this.errorValue=n,this.highStart=i,this.highValueIndex=r,this.index=o,this.data=s}return i(e,[{key:"get",value:function(e){var t=void 0;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>o])<<a)+(e&d),this.data[t];if(e<=65535)return t=((t=this.index[c+(e-55296>>o)])<<a)+(e&d),this.data[t];if(e<this.highStart)return t=this.index[t=g-m+(e>>s)],t=((t=this.index[t+=e>>o&v])<<a)+(e&d),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue}}]),e}())},function(e,t,n){"use strict";e.exports="KwAAAAAAAAAACA4AIDoAAPAfAAACAAAAAAAIABAAGABAAEgAUABYAF4AZgBeAGYAYABoAHAAeABeAGYAfACEAIAAiACQAJgAoACoAK0AtQC9AMUAXgBmAF4AZgBeAGYAzQDVAF4AZgDRANkA3gDmAOwA9AD8AAQBDAEUARoBIgGAAIgAJwEvATcBPwFFAU0BTAFUAVwBZAFsAXMBewGDATAAiwGTAZsBogGkAawBtAG8AcIBygHSAdoB4AHoAfAB+AH+AQYCDgIWAv4BHgImAi4CNgI+AkUCTQJTAlsCYwJrAnECeQKBAk0CiQKRApkCoQKoArACuALAAsQCzAIwANQC3ALkAjAA7AL0AvwCAQMJAxADGAMwACADJgMuAzYDPgOAAEYDSgNSA1IDUgNaA1oDYANiA2IDgACAAGoDgAByA3YDfgOAAIQDgACKA5IDmgOAAIAAogOqA4AAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAK8DtwOAAIAAvwPHA88D1wPfAyAD5wPsA/QD/AOAAIAABAQMBBIEgAAWBB4EJgQuBDMEIAM7BEEEXgBJBCADUQRZBGEEaQQwADAAcQQ+AXkEgQSJBJEEgACYBIAAoASoBK8EtwQwAL8ExQSAAIAAgACAAIAAgACgAM0EXgBeAF4AXgBeAF4AXgBeANUEXgDZBOEEXgDpBPEE+QQBBQkFEQUZBSEFKQUxBTUFPQVFBUwFVAVcBV4AYwVeAGsFcwV7BYMFiwWSBV4AmgWgBacFXgBeAF4AXgBeAKsFXgCyBbEFugW7BcIFwgXIBcIFwgXQBdQF3AXkBesF8wX7BQMGCwYTBhsGIwYrBjMGOwZeAD8GRwZNBl4AVAZbBl4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAGMGXgBqBnEGXgBeAF4AXgBeAF4AXgBeAF4AXgB5BoAG4wSGBo4GkwaAAIADHgR5AF4AXgBeAJsGgABGA4AAowarBrMGswagALsGwwbLBjAA0wbaBtoG3QbaBtoG2gbaBtoG2gblBusG8wb7BgMHCwcTBxsHCwcjBysHMAc1BzUHOgdCB9oGSgdSB1oHYAfaBloHaAfaBlIH2gbaBtoG2gbaBtoG2gbaBjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHbQdeAF4ANQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQd1B30HNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B4MH2gaKB68EgACAAIAAgACAAIAAgACAAI8HlwdeAJ8HpweAAIAArwe3B14AXgC/B8UHygcwANAH2AfgB4AA6AfwBz4B+AcACFwBCAgPCBcIogEYAR8IJwiAAC8INwg/CCADRwhPCFcIXwhnCEoDGgSAAIAAgABvCHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIhAiLCI4IMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAANQc1BzUHNQc1BzUHNQc1BzUHNQc1B54INQc1B6II2gaqCLIIugiAAIAAvgjGCIAAgACAAIAAgACAAIAAgACAAIAAywiHAYAA0wiAANkI3QjlCO0I9Aj8CIAAgACAAAIJCgkSCRoJIgknCTYHLwk3CZYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiAAIAAAAFAAXgBeAGAAcABeAHwAQACQAKAArQC9AJ4AXgBeAE0A3gBRAN4A7AD8AMwBGgEAAKcBNwEFAUwBXAF4QkhCmEKnArcCgAHHAsABz4LAAcABwAHAAd+C6ABoAG+C/4LAAcABwAHAAc+DF4MAAcAB54M3gweDV4Nng3eDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEeDqABVg6WDqABoQ6gAaABoAHXDvcONw/3DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DncPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB7cPPwlGCU4JMACAAIAAgABWCV4JYQmAAGkJcAl4CXwJgAkwADAAMAAwAIgJgACLCZMJgACZCZ8JowmrCYAAswkwAF4AXgB8AIAAuwkABMMJyQmAAM4JgADVCTAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAqwYWBNkIMAAwADAAMADdCeAJ6AnuCR4E9gkwAP4JBQoNCjAAMACAABUK0wiAAB0KJAosCjQKgAAwADwKQwqAAEsKvQmdCVMKWwowADAAgACAALcEMACAAGMKgABrCjAAMAAwADAAMAAwADAAMAAwADAAMAAeBDAAMAAwADAAMAAwADAAMAAwADAAMAAwAIkEPQFzCnoKiQSCCooKkAqJBJgKoAqkCokEGAGsCrQKvArBCjAAMADJCtEKFQHZCuEK/gHpCvEKMAAwADAAMACAAIwE+QowAIAAPwEBCzAAMAAwADAAMACAAAkLEQswAIAAPwEZCyELgAAOCCkLMAAxCzkLMAAwADAAMAAwADAAXgBeAEELMAAwADAAMAAwADAAMAAwAEkLTQtVC4AAXAtkC4AAiQkwADAAMAAwADAAMAAwADAAbAtxC3kLgAuFC4sLMAAwAJMLlwufCzAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAApwswADAAMACAAIAAgACvC4AAgACAAIAAgACAALcLMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAvwuAAMcLgACAAIAAgACAAIAAyguAAIAAgACAAIAA0QswADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAANkLgACAAIAA4AswADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACJCR4E6AswADAAhwHwC4AA+AsADAgMEAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMACAAIAAGAwdDCUMMAAwAC0MNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQw1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHPQwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADUHNQc1BzUHNQc1BzUHNQc2BzAAMAA5DDUHNQc1BzUHNQc1BzUHNQc1BzUHNQdFDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAATQxSDFoMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAF4AXgBeAF4AXgBeAF4AYgxeAGoMXgBxDHkMfwxeAIUMXgBeAI0MMAAwADAAMAAwAF4AXgCVDJ0MMAAwADAAMABeAF4ApQxeAKsMswy7DF4Awgy9DMoMXgBeAF4AXgBeAF4AXgBeAF4AXgDRDNkMeQBqCeAM3Ax8AOYM7Az0DPgMXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgCgAAANoAAHDQ4NFg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAeDSYNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAC4NMABeAF4ANg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAD4NRg1ODVYNXg1mDTAAbQ0wADAAMAAwADAAMAAwADAA2gbaBtoG2gbaBtoG2gbaBnUNeg3CBYANwgWFDdoGjA3aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gaUDZwNpA2oDdoG2gawDbcNvw3HDdoG2gbPDdYN3A3fDeYN2gbsDfMN2gbaBvoN/g3aBgYODg7aBl4AXgBeABYOXgBeACUG2gYeDl4AJA5eACwO2w3aBtoGMQ45DtoG2gbaBtoGQQ7aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B1EO2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQdZDjUHNQc1BzUHNQc1B2EONQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHaA41BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B3AO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B2EO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBkkOeA6gAKAAoAAwADAAMAAwAKAAoACgAKAAoACgAKAAgA4wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAD//wQABAAEAAQABAAEAAQABAAEAA0AAwABAAEAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAKABMAFwAeABsAGgAeABcAFgASAB4AGwAYAA8AGAAcAEsASwBLAEsASwBLAEsASwBLAEsAGAAYAB4AHgAeABMAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAFgAbABIAHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYADQARAB4ABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkAFgAaABsAGwAbAB4AHQAdAB4ATwAXAB4ADQAeAB4AGgAbAE8ATwAOAFAAHQAdAB0ATwBPABcATwBPAE8AFgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwArAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAAQABAANAA0ASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAUAArACsAKwArACsAKwArACsABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAGgAaAFAAUABQAFAAUABMAB4AGwBQAB4AKwArACsABAAEAAQAKwBQAFAAUABQAFAAUAArACsAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUAArAFAAUAArACsABAArAAQABAAEAAQABAArACsAKwArAAQABAArACsABAAEAAQAKwArACsABAArACsAKwArACsAKwArAFAAUABQAFAAKwBQACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwAEAAQAUABQAFAABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQAKwArAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeABsAKwArACsAKwArACsAKwBQAAQABAAEAAQABAAEACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAKwArACsAKwArACsAKwArAAQABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwAEAFAAKwBQAFAAUABQAFAAUAArACsAKwBQAFAAUAArAFAAUABQAFAAKwArACsAUABQACsAUAArAFAAUAArACsAKwBQAFAAKwArACsAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQAKwArACsABAAEAAQAKwAEAAQABAAEACsAKwBQACsAKwArACsAKwArAAQAKwArACsAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAB4AHgAeAB4AHgAeABsAHgArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArAFAAUABQACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAB4AUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArACsAKwArACsAKwArAFAAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwArAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAKwBcAFwAKwBcACsAKwBcACsAKwArACsAKwArAFwAXABcAFwAKwBcAFwAXABcAFwAXABcACsAXABcAFwAKwBcACsAXAArACsAXABcACsAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgArACoAKgBcACsAKwBcAFwAXABcAFwAKwBcACsAKgAqACoAKgAqACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAFwAXABcAFwAUAAOAA4ADgAOAB4ADgAOAAkADgAOAA0ACQATABMAEwATABMACQAeABMAHgAeAB4ABAAEAB4AHgAeAB4AHgAeAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUAANAAQAHgAEAB4ABAAWABEAFgARAAQABABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAAQABAAEAAQABAANAAQABABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsADQANAB4AHgAeAB4AHgAeAAQAHgAeAB4AHgAeAB4AKwAeAB4ADgAOAA0ADgAeAB4AHgAeAB4ACQAJACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgAeAB4AHgBcAFwAXABcAFwAXAAqACoAKgAqAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAKgAqACoAKgAqACoAKgBcAFwAXAAqACoAKgAqAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAXAAqAEsASwBLAEsASwBLAEsASwBLAEsAKgAqACoAKgAqACoAUABQAFAAUABQAFAAKwBQACsAKwArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQACsAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwAEAAQABAAeAA0AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAEQArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAADQANAA0AUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAA0ADQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoADQANABUAXAANAB4ADQAbAFwAKgArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAB4AHgATABMADQANAA4AHgATABMAHgAEAAQABAAJACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAUABQAFAAUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwAeACsAKwArABMAEwBLAEsASwBLAEsASwBLAEsASwBLAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwBcAFwAXABcAFwAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcACsAKwArACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwAeAB4AXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsABABLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKgAqACoAKgAqACoAKgBcACoAKgAqACoAKgAqACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAUABQAFAAUABQAFAAUAArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4ADQANAA0ADQAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAHgAeAB4AHgBQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwANAA0ADQANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwBQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsABAAEAAQAHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAABABQAFAAUABQAAQABAAEAFAAUAAEAAQABAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAKwBQACsAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAKwArAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAKwAeAB4AHgAeAB4AHgAeAA4AHgArAA0ADQANAA0ADQANAA0ACQANAA0ADQAIAAQACwAEAAQADQAJAA0ADQAMAB0AHQAeABcAFwAWABcAFwAXABYAFwAdAB0AHgAeABQAFAAUAA0AAQABAAQABAAEAAQABAAJABoAGgAaABoAGgAaABoAGgAeABcAFwAdABUAFQAeAB4AHgAeAB4AHgAYABYAEQAVABUAFQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgANAB4ADQANAA0ADQAeAA0ADQANAAcAHgAeAB4AHgArAAQABAAEAAQABAAEAAQABAAEAAQAUABQACsAKwBPAFAAUABQAFAAUAAeAB4AHgAWABEATwBQAE8ATwBPAE8AUABQAFAAUABQAB4AHgAeABYAEQArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGgAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgBQABoAHgAdAB4AUAAeABoAHgAeAB4AHgAeAB4AHgAeAB4ATwAeAFAAGwAeAB4AUABQAFAAUABQAB4AHgAeAB0AHQAeAFAAHgBQAB4AUAAeAFAATwBQAFAAHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AUABQAFAAUABPAE8AUABQAFAAUABQAE8AUABQAE8AUABPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAE8ATwBPAE8ATwBPAE8ATwBPAE8AUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAATwAeAB4AKwArACsAKwAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB0AHQAeAB4AHgAdAB0AHgAeAB0AHgAeAB4AHQAeAB0AGwAbAB4AHQAeAB4AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB0AHgAdAB4AHQAdAB0AHQAdAB0AHgAdAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAdAB0AHQAdAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAlACUAHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB0AHQAeAB4AHgAeAB0AHQAdAB4AHgAdAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB0AHQAeAB4AHQAeAB4AHgAeAB0AHQAeAB4AHgAeACUAJQAdAB0AJQAeACUAJQAlACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHQAdAB0AHgAdACUAHQAdAB4AHQAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHQAdAB0AHQAlAB4AJQAlACUAHQAlACUAHQAdAB0AJQAlAB0AHQAlAB0AHQAlACUAJQAeAB0AHgAeAB4AHgAdAB0AJQAdAB0AHQAdAB0AHQAlACUAJQAlACUAHQAlACUAIAAlAB0AHQAlACUAJQAlACUAJQAlACUAHgAeAB4AJQAlACAAIAAgACAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeABcAFwAXABcAFwAXAB4AEwATACUAHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACUAJQBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwArACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAE8ATwBPAE8ATwBPAE8ATwAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeACsAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUAArACsAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQBQAFAAUABQACsAKwArACsAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAABAAEAAQAKwAEAAQAKwArACsAKwArAAQABAAEAAQAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsABAAEAAQAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsADQANAA0ADQANAA0ADQANAB4AKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAUABQAFAAUABQAA0ADQANAA0ADQANABQAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwANAA0ADQANAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAeAAQABAAEAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLACsADQArAB4AKwArAAQABAAEAAQAUABQAB4AUAArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwAEAAQABAAEAAQABAAEAAQABAAOAA0ADQATABMAHgAeAB4ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0AUABQAFAAUAAEAAQAKwArAAQADQANAB4AUAArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXABcAA0ADQANACoASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUAArACsAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANACsADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEcARwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwAeAAQABAANAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAEAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUAArACsAUAArACsAUABQACsAKwBQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAeAB4ADQANAA0ADQAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAArAAQABAArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAEAAQABAAEAAQABAAEACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAFgAWAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAKwBQACsAKwArACsAKwArAFAAKwArACsAKwBQACsAUAArAFAAKwBQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQACsAUAArAFAAKwBQACsAUABQACsAUAArACsAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAUABQAFAAUAArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUAArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAlACUAJQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeACUAJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeACUAJQAlACUAJQAeACUAJQAlACUAJQAgACAAIAAlACUAIAAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIQAhACEAIQAhACUAJQAgACAAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAIAAlACUAJQAlACAAJQAgACAAIAAgACAAIAAgACAAIAAlACUAJQAgACUAJQAlACUAIAAgACAAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeACUAHgAlAB4AJQAlACUAJQAlACAAJQAlACUAJQAeACUAHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAIAAgACAAIAAgAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFwAXABcAFQAVABUAHgAeAB4AHgAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAlACAAIAAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsA"},function(e,t,n){"use strict";n.r(t);var i=/^#([a-f0-9]{3})$/i,r=function(e){var t=e.match(i);return!!t&&[parseInt(t[1][0]+t[1][0],16),parseInt(t[1][1]+t[1][1],16),parseInt(t[1][2]+t[1][2],16),null]},o=/^#([a-f0-9]{6})$/i,s=function(e){var t=e.match(o);return!!t&&[parseInt(t[1].substring(0,2),16),parseInt(t[1].substring(2,4),16),parseInt(t[1].substring(4,6),16),null]},a=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/,l=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?\.?\d+)\s*\)$/,c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),4!==n.length);i=!0);}catch(e){r=!0,o=e}finally{try{i||null==a.return||a.return()}finally{if(r)throw o}}return n}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(Array.isArray(t)?function(e){return[Math.min(e[0],255),Math.min(e[1],255),Math.min(e[2],255),e.length>3?e[3]:null]}(t):r(t)||function(e){var t=e.match(a);return!!t&&[Number(t[1]),Number(t[2]),Number(t[3]),null]}(t)||function(e){var t=e.match(l);return!!(t&&t.length>4)&&[Number(t[1]),Number(t[2]),Number(t[3]),Number(t[4])]}(t)||function(e){return u[e.toLowerCase()]||!1}(t)||s(t)||[0,0,0,null]),i=n[1],o=n[2],c=n[3];this.r=n[0],this.g=i,this.b=o,this.a=c}return function(e,t,n){t&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(e.prototype,t)}(e,[{key:"isTransparent",value:function(){return 0===this.a}},{key:"toString",value:function(){return null!==this.a&&1!==this.a?"rgba(".concat(this.r,",").concat(this.g,",").concat(this.b,",").concat(this.a,")"):"rgb(".concat(this.r,",").concat(this.g,",").concat(this.b,")")}}]),e}(),u={transparent:[0,0,0,0],aliceblue:[240,248,255,null],antiquewhite:[250,235,215,null],aqua:[0,255,255,null],aquamarine:[127,255,212,null],azure:[240,255,255,null],beige:[245,245,220,null],bisque:[255,228,196,null],black:[0,0,0,null],blanchedalmond:[255,235,205,null],blue:[0,0,255,null],blueviolet:[138,43,226,null],brown:[165,42,42,null],burlywood:[222,184,135,null],cadetblue:[95,158,160,null],chartreuse:[127,255,0,null],chocolate:[210,105,30,null],coral:[255,127,80,null],cornflowerblue:[100,149,237,null],cornsilk:[255,248,220,null],crimson:[220,20,60,null],cyan:[0,255,255,null],darkblue:[0,0,139,null],darkcyan:[0,139,139,null],darkgoldenrod:[184,134,11,null],darkgray:[169,169,169,null],darkgreen:[0,100,0,null],darkgrey:[169,169,169,null],darkkhaki:[189,183,107,null],darkmagenta:[139,0,139,null],darkolivegreen:[85,107,47,null],darkorange:[255,140,0,null],darkorchid:[153,50,204,null],darkred:[139,0,0,null],darksalmon:[233,150,122,null],darkseagreen:[143,188,143,null],darkslateblue:[72,61,139,null],darkslategray:[47,79,79,null],darkslategrey:[47,79,79,null],darkturquoise:[0,206,209,null],darkviolet:[148,0,211,null],deeppink:[255,20,147,null],deepskyblue:[0,191,255,null],dimgray:[105,105,105,null],dimgrey:[105,105,105,null],dodgerblue:[30,144,255,null],firebrick:[178,34,34,null],floralwhite:[255,250,240,null],forestgreen:[34,139,34,null],fuchsia:[255,0,255,null],gainsboro:[220,220,220,null],ghostwhite:[248,248,255,null],gold:[255,215,0,null],goldenrod:[218,165,32,null],gray:[128,128,128,null],green:[0,128,0,null],greenyellow:[173,255,47,null],grey:[128,128,128,null],honeydew:[240,255,240,null],hotpink:[255,105,180,null],indianred:[205,92,92,null],indigo:[75,0,130,null],ivory:[255,255,240,null],khaki:[240,230,140,null],lavender:[230,230,250,null],lavenderblush:[255,240,245,null],lawngreen:[124,252,0,null],lemonchiffon:[255,250,205,null],lightblue:[173,216,230,null],lightcoral:[240,128,128,null],lightcyan:[224,255,255,null],lightgoldenrodyellow:[250,250,210,null],lightgray:[211,211,211,null],lightgreen:[144,238,144,null],lightgrey:[211,211,211,null],lightpink:[255,182,193,null],lightsalmon:[255,160,122,null],lightseagreen:[32,178,170,null],lightskyblue:[135,206,250,null],lightslategray:[119,136,153,null],lightslategrey:[119,136,153,null],lightsteelblue:[176,196,222,null],lightyellow:[255,255,224,null],lime:[0,255,0,null],limegreen:[50,205,50,null],linen:[250,240,230,null],magenta:[255,0,255,null],maroon:[128,0,0,null],mediumaquamarine:[102,205,170,null],mediumblue:[0,0,205,null],mediumorchid:[186,85,211,null],mediumpurple:[147,112,219,null],mediumseagreen:[60,179,113,null],mediumslateblue:[123,104,238,null],mediumspringgreen:[0,250,154,null],mediumturquoise:[72,209,204,null],mediumvioletred:[199,21,133,null],midnightblue:[25,25,112,null],mintcream:[245,255,250,null],mistyrose:[255,228,225,null],moccasin:[255,228,181,null],navajowhite:[255,222,173,null],navy:[0,0,128,null],oldlace:[253,245,230,null],olive:[128,128,0,null],olivedrab:[107,142,35,null],orange:[255,165,0,null],orangered:[255,69,0,null],orchid:[218,112,214,null],palegoldenrod:[238,232,170,null],palegreen:[152,251,152,null],paleturquoise:[175,238,238,null],palevioletred:[219,112,147,null],papayawhip:[255,239,213,null],peachpuff:[255,218,185,null],peru:[205,133,63,null],pink:[255,192,203,null],plum:[221,160,221,null],powderblue:[176,224,230,null],purple:[128,0,128,null],rebeccapurple:[102,51,153,null],red:[255,0,0,null],rosybrown:[188,143,143,null],royalblue:[65,105,225,null],saddlebrown:[139,69,19,null],salmon:[250,128,114,null],sandybrown:[244,164,96,null],seagreen:[46,139,87,null],seashell:[255,245,238,null],sienna:[160,82,45,null],silver:[192,192,192,null],skyblue:[135,206,235,null],slateblue:[106,90,205,null],slategray:[112,128,144,null],slategrey:[112,128,144,null],snow:[255,250,250,null],springgreen:[0,255,127,null],steelblue:[70,130,180,null],tan:[210,180,140,null],teal:[0,128,128,null],thistle:[216,191,216,null],tomato:[255,99,71,null],turquoise:[64,224,208,null],violet:[238,130,238,null],wheat:[245,222,179,null],white:[255,255,255,null],whitesmoke:[245,245,245,null],yellow:[255,255,0,null],yellowgreen:[154,205,50,null]},d=new c([0,0,0,0]),h=function(e){switch(e){case"underline":return 1;case"overline":return 2;case"line-through":return 3}return 4},p=function(e){var t=function(e){return"none"===e?null:e.split(" ").map(h)}(e.textDecorationLine?e.textDecorationLine:e.textDecoration);return null===t?null:{textDecorationLine:t,textDecorationColor:e.textDecorationColor?new c(e.textDecorationColor):null,textDecorationStyle:function(e){switch(e){case"double":return 1;case"dotted":return 2;case"dashed":return 3;case"wavy":return 4}return 0}(e.textDecorationStyle)}},f=function(e,t){var n=Math.max.apply(null,e.colorStops.map(function(e){return e.stop})),i=1/Math.max(1,n);e.colorStops.forEach(function(e){t.addColorStop(Math.floor(Math.max(0,i*e.stop)),e.color.toString())})},A=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.canvas=t||document.createElement("canvas")}return function(e,t,n){t&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(e.prototype,t)}(e,[{key:"render",value:function(e){this.ctx=this.canvas.getContext("2d"),this.options=e,this.canvas.width=Math.floor(e.width*e.scale),this.canvas.height=Math.floor(e.height*e.scale),this.canvas.style.width="".concat(e.width,"px"),this.canvas.style.height="".concat(e.height,"px"),this.ctx.scale(this.options.scale,this.options.scale),this.ctx.translate(-e.x,-e.y),this.ctx.textBaseline="bottom",e.logger.log("Canvas renderer initialized (".concat(e.width,"x").concat(e.height," at ").concat(e.x,",").concat(e.y,") with scale ").concat(this.options.scale))}},{key:"clip",value:function(e,t){var n=this;e.length&&(this.ctx.save(),e.forEach(function(e){n.path(e),n.ctx.clip()})),t(),e.length&&this.ctx.restore()}},{key:"drawImage",value:function(e,t,n){this.ctx.drawImage(e,t.left,t.top,t.width,t.height,n.left,n.top,n.width,n.height)}},{key:"drawShape",value:function(e,t){this.path(e),this.ctx.fillStyle=t.toString(),this.ctx.fill()}},{key:"fill",value:function(e){this.ctx.fillStyle=e.toString(),this.ctx.fill()}},{key:"getTarget",value:function(){return this.canvas.getContext("2d").setTransform(1,0,0,1,0,0),Promise.resolve(this.canvas)}},{key:"path",value:function(e){var t=this;this.ctx.beginPath(),Array.isArray(e)?e.forEach(function(e,n){var i=0===e.type?e:e.start;0===n?t.ctx.moveTo(i.x,i.y):t.ctx.lineTo(i.x,i.y),1===e.type&&t.ctx.bezierCurveTo(e.startControl.x,e.startControl.y,e.endControl.x,e.endControl.y,e.end.x,e.end.y)}):this.ctx.arc(e.x+e.radius,e.y+e.radius,e.radius,0,2*Math.PI,!0),this.ctx.closePath()}},{key:"rectangle",value:function(e,t,n,i,r){this.ctx.fillStyle=r.toString(),this.ctx.fillRect(e,t,n,i)}},{key:"renderLinearGradient",value:function(e,t){var n=this.ctx.createLinearGradient(e.left+t.direction.x1,e.top+t.direction.y1,e.left+t.direction.x0,e.top+t.direction.y0);f(t,n),this.ctx.fillStyle=n,this.ctx.fillRect(e.left,e.top,e.width,e.height)}},{key:"renderRadialGradient",value:function(e,t){var n=this,i=e.left+t.center.x,r=e.top+t.center.y,o=this.ctx.createRadialGradient(i,r,0,i,r,t.radius.x);if(o)if(f(t,o),this.ctx.fillStyle=o,t.radius.x!==t.radius.y){var s=e.top+.5*e.height,a=t.radius.y/t.radius.x,l=1/a;this.transform(e.left+.5*e.width,s,[1,0,0,a,0,0],function(){return n.ctx.fillRect(e.left,l*(e.top-s)+s,e.width,e.height*l)})}else this.ctx.fillRect(e.left,e.top,e.width,e.height)}},{key:"renderRepeat",value:function(e,t,n,i,r){this.path(e),this.ctx.fillStyle=this.ctx.createPattern(this.resizeImage(t,n),"repeat"),this.ctx.translate(i,r),this.ctx.fill(),this.ctx.translate(-i,-r)}},{key:"renderTextNode",value:function(e,t,n,i,r){var o=this;this.ctx.font=[n.fontStyle,n.fontVariant,n.fontWeight,n.fontSize,n.fontFamily].join(" "),e.forEach(function(e){if(o.ctx.fillStyle=t.toString(),r&&e.text.trim().length?(r.slice(0).reverse().forEach(function(t){o.ctx.shadowColor=t.color.toString(),o.ctx.shadowOffsetX=t.offsetX*o.options.scale,o.ctx.shadowOffsetY=t.offsetY*o.options.scale,o.ctx.shadowBlur=t.blur,o.ctx.fillText(e.text,e.bounds.left,e.bounds.top+e.bounds.height)}),o.ctx.shadowColor="",o.ctx.shadowOffsetX=0,o.ctx.shadowOffsetY=0,o.ctx.shadowBlur=0):o.ctx.fillText(e.text,e.bounds.left,e.bounds.top+e.bounds.height),null!==i){var s=i.textDecorationColor||t;i.textDecorationLine.forEach(function(t){switch(t){case 1:var i=o.options.fontMetrics.getMetrics(n).baseline;o.rectangle(e.bounds.left,Math.round(e.bounds.top+i),e.bounds.width,1,s);break;case 2:o.rectangle(e.bounds.left,Math.round(e.bounds.top),e.bounds.width,1,s);break;case 3:var r=o.options.fontMetrics.getMetrics(n).middle;o.rectangle(e.bounds.left,Math.ceil(e.bounds.top+r),e.bounds.width,1,s)}})}})}},{key:"resizeImage",value:function(e,t){if(e.width===t.width&&e.height===t.height)return e;var n=this.canvas.ownerDocument.createElement("canvas");return n.width=t.width,n.height=t.height,n.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,t.width,t.height),n}},{key:"setOpacity",value:function(e){this.ctx.globalAlpha=e}},{key:"transform",value:function(e,t,n,i){this.ctx.save(),this.ctx.translate(e,t),this.ctx.transform(n[0],n[1],n[2],n[3],n[4],n[5]),this.ctx.translate(-e,-t),i(),this.ctx.restore()}}]),e}(),g=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.enabled="undefined"!=typeof window&&t,this.start=i||Date.now(),this.id=n}return function(e,t,n){t&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(e.prototype,t)}(e,[{key:"child",value:function(t){return new e(this.enabled,t,this.start)}},{key:"log",value:function(){}},{key:"error",value:function(){if(this.enabled&&window.console&&window.console.error){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Function.prototype.bind.call(window.console.error,window.console).apply(window.console,[Date.now()-this.start+"ms",this.id?"html2canvas (".concat(this.id,"):"):"html2canvas:"].concat([].slice.call(t,0)))}}}]),e}(),m=function(e,t){return 0!=(e&t)},y=function(e,t){return Math.sqrt(e*e+t*t)},v=function(e,t){for(var n=e.length-1;n>=0;n--){var i=e.item(n);"content"!==i&&t.style.setProperty(i,e.getPropertyValue(i))}return t};function w(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var b=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type="%"===t.substr(t.length-1)?1:0;var n=parseFloat(t);this.value=isNaN(n)?0:n}return function(e,t,n){t&&w(e.prototype,t),n&&w(e,n)}(e,[{key:"isPercentage",value:function(){return 1===this.type}},{key:"getAbsoluteValue",value:function(e){return this.isPercentage()?e*(this.value/100):this.value}}],[{key:"create",value:function(t){return new e(t)}}]),e}(),_=function(e,t,n){switch(n){case"px":case"%":return new b(t+n);case"em":case"rem":var i=new b(t);return i.value*="em"===n?parseFloat(e.style.font.fontSize):function e(t){var n=t.parent;return n?e(n):parseFloat(t.style.font.fontSize)}(e),i;default:return new b("0")}},C=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.width=t,this.height=n},E=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type=0,this.x=t,this.y=n},S=function(e,t,n){return new E(e.x+(t.x-e.x)*n,e.y+(t.y-e.y)*n)},T=function(){function e(t,n,i,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type=1,this.start=t,this.startControl=n,this.endControl=i,this.end=r}return function(e,t,n){t&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(e.prototype,t)}(e,[{key:"subdivide",value:function(t,n){var i=S(this.start,this.startControl,t),r=S(this.startControl,this.endControl,t),o=S(this.endControl,this.end,t),s=S(i,r,t),a=S(r,o,t),l=S(s,a,t);return n?new e(this.start,i,s,l):new e(l,a,o,this.end)}},{key:"reverse",value:function(){return new e(this.end,this.endControl,this.startControl,this.start)}}]),e}(),L=function(){function e(t,n,i,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.left=t,this.top=n,this.width=i,this.height=r}return function(e,t,n){n&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(e,n)}(e,0,[{key:"fromClientRect",value:function(t,n,i){return new e(t.left+n,t.top+i,t.width,t.height)}}]),e}(),x=function(e,t,n){return L.fromClientRect(e.getBoundingClientRect(),t,n)},I=function(e){var t=e.body,n=e.documentElement;if(!t||!n)throw new Error("");var i=Math.max(Math.max(t.scrollWidth,n.scrollWidth),Math.max(t.offsetWidth,n.offsetWidth),Math.max(t.clientWidth,n.clientWidth)),r=Math.max(Math.max(t.scrollHeight,n.scrollHeight),Math.max(t.offsetHeight,n.offsetHeight),Math.max(t.clientHeight,n.clientHeight));return new L(0,0,i,r)},B=function(e,t,n,i){var r=[];return r.push(e instanceof T?e.subdivide(.5,!1):e),r.push(n instanceof T?n.subdivide(.5,!0):n),r.push(i instanceof T?i.subdivide(.5,!0).reverse():i),r.push(t instanceof T?t.subdivide(.5,!1).reverse():t),r},F=function(e){return[e.topLeftInner,e.topRightInner,e.bottomRightInner,e.bottomLeftInner]},N=function(e,t,n){var i=n[D.TOP_LEFT][0].getAbsoluteValue(e.width),r=n[D.TOP_LEFT][1].getAbsoluteValue(e.height),o=n[D.TOP_RIGHT][0].getAbsoluteValue(e.width),s=n[D.TOP_RIGHT][1].getAbsoluteValue(e.height),a=n[D.BOTTOM_RIGHT][0].getAbsoluteValue(e.width),l=n[D.BOTTOM_RIGHT][1].getAbsoluteValue(e.height),c=n[D.BOTTOM_LEFT][0].getAbsoluteValue(e.width),u=n[D.BOTTOM_LEFT][1].getAbsoluteValue(e.height),d=[];d.push((i+o)/e.width),d.push((c+a)/e.width),d.push((r+u)/e.height),d.push((s+l)/e.height);var h=Math.max.apply(Math,d);h>1&&(i/=h,r/=h,o/=h,s/=h,a/=h,l/=h,c/=h,u/=h);var p=e.width-o,f=e.height-l,A=e.width-a,g=e.height-u;return{topLeftOuter:i>0||r>0?O(e.left,e.top,i,r,D.TOP_LEFT):new E(e.left,e.top),topLeftInner:i>0||r>0?O(e.left+t[3].borderWidth,e.top+t[0].borderWidth,Math.max(0,i-t[3].borderWidth),Math.max(0,r-t[0].borderWidth),D.TOP_LEFT):new E(e.left+t[3].borderWidth,e.top+t[0].borderWidth),topRightOuter:o>0||s>0?O(e.left+p,e.top,o,s,D.TOP_RIGHT):new E(e.left+e.width,e.top),topRightInner:o>0||s>0?O(e.left+Math.min(p,e.width+t[3].borderWidth),e.top+t[0].borderWidth,p>e.width+t[3].borderWidth?0:o-t[3].borderWidth,s-t[0].borderWidth,D.TOP_RIGHT):new E(e.left+e.width-t[1].borderWidth,e.top+t[0].borderWidth),bottomRightOuter:a>0||l>0?O(e.left+A,e.top+f,a,l,D.BOTTOM_RIGHT):new E(e.left+e.width,e.top+e.height),bottomRightInner:a>0||l>0?O(e.left+Math.min(A,e.width-t[3].borderWidth),e.top+Math.min(f,e.height+t[0].borderWidth),Math.max(0,a-t[1].borderWidth),l-t[2].borderWidth,D.BOTTOM_RIGHT):new E(e.left+e.width-t[1].borderWidth,e.top+e.height-t[2].borderWidth),bottomLeftOuter:c>0||u>0?O(e.left,e.top+g,c,u,D.BOTTOM_LEFT):new E(e.left,e.top+e.height),bottomLeftInner:c>0||u>0?O(e.left+t[3].borderWidth,e.top+g,Math.max(0,c-t[3].borderWidth),u-t[2].borderWidth,D.BOTTOM_LEFT):new E(e.left+t[3].borderWidth,e.top+e.height-t[2].borderWidth)}},D={TOP_LEFT:0,TOP_RIGHT:1,BOTTOM_RIGHT:2,BOTTOM_LEFT:3},O=function(e,t,n,i,r){var o=(Math.sqrt(2)-1)/3*4,s=n*o,a=i*o,l=e+n,c=t+i;switch(r){case D.TOP_LEFT:return new T(new E(e,c),new E(e,c-a),new E(l-s,t),new E(l,t));case D.TOP_RIGHT:return new T(new E(e,t),new E(e+s,t),new E(l,c-a),new E(l,c));case D.BOTTOM_RIGHT:return new T(new E(l,t),new E(l,t+a),new E(e+s,c),new E(e,c));case D.BOTTOM_LEFT:default:return new T(new E(l,c),new E(l-s,c),new E(e,t+a),new E(e,t))}},R=["top","right","bottom","left"],M=function(e){return R.map(function(t){return new b(e.getPropertyValue("padding-".concat(t)))})},U={BORDER_BOX:0,PADDING_BOX:1,CONTENT_BOX:2},P=U,H=function e(t){switch(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t){case"contain":this.size=1;break;case"cover":this.size=2;break;case"auto":this.size=0;break;default:this.value=new b(t)}},k=new H("auto"),Q=function(e,t,n,i){var r=function(e,t){return new L(e.left+t[3].borderWidth,e.top+t[0].borderWidth,e.width-(t[1].borderWidth+t[3].borderWidth),e.height-(t[0].borderWidth+t[2].borderWidth))}(t,i);switch(e){case P.BORDER_BOX:return t;case P.CONTENT_BOX:var o=n[3].getAbsoluteValue(t.width),s=n[1].getAbsoluteValue(t.width),a=n[0].getAbsoluteValue(t.width),l=n[2].getAbsoluteValue(t.width);return new L(r.left+o,r.top+a,r.width-o-s,r.height-a-l);case P.PADDING_BOX:default:return r}},z=function(e,t,n){return new E(e[0].getAbsoluteValue(n.width-t.width),e[1].getAbsoluteValue(n.height-t.height))},j=function(e,t){return{backgroundColor:new c(e.backgroundColor),backgroundImage:q(e,t),backgroundClip:V(e.backgroundClip),backgroundOrigin:W(e.backgroundOrigin)}},V=function(e){switch(e){case"padding-box":return U.PADDING_BOX;case"content-box":return U.CONTENT_BOX}return U.BORDER_BOX},W=function(e){switch(e){case"padding-box":return P.PADDING_BOX;case"content-box":return P.CONTENT_BOX}return P.BORDER_BOX},q=function(e,t){var n=X(e.backgroundImage).map(function(e){if("url"===e.method){var n=t.loadImage(e.args[0]);e.args=n?[n]:[]}return e}),i=e.backgroundPosition.split(","),r=e.backgroundRepeat.split(","),o=e.backgroundSize.split(",");return n.map(function(e,t){var n=(o[t]||"auto").trim().split(" ").map(G),s=(i[t]||"auto").trim().split(" ").map(K);return{source:e,repeat:function(e){switch(("string"==typeof r[t]?r[t]:r[0]).trim()){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":return 0}return 0}(),size:n.length<2?[n[0],k]:[n[0],n[1]],position:s.length<2?[s[0],s[0]]:[s[0],s[1]]}})},G=function(e){return"auto"===e?k:new H(e)},K=function(e){switch(e){case"bottom":case"right":return new b("100%");case"left":case"top":return new b("0%");case"auto":return new b("0")}return new b(e)},X=function(e){var t=/^\s$/,n=[],i=[],r="",o=null,s="",a=0,l=0,c=function(){var e="";if(r){'"'===s.substr(0,1)&&(s=s.substr(1,s.length-2)),s&&i.push(s.trim());var t=r.indexOf("-",1)+1;"-"===r.substr(0,1)&&t>0&&(e=r.substr(0,t).toLowerCase(),r=r.substr(t)),"none"!==(r=r.toLowerCase())&&n.push({prefix:e,method:r,args:i})}i=[],r=s=""};return e.split("").forEach(function(e){if(0!==a||!t.test(e)){switch(e){case'"':o?o===e&&(o=null):o=e;break;case"(":if(o)break;if(0===a)return void(a=1);l++;break;case")":if(o)break;if(1===a){if(0===l)return a=0,void c();l--}break;case",":if(o)break;if(0===a)return void c();if(1===a&&0===l&&!r.match(/^url$/i))return i.push(s.trim()),void(s="")}0===a?r+=e:s+=e}}),c(),n},J=Object.keys({TOP:0,RIGHT:1,BOTTOM:2,LEFT:3}).map(function(e){return e.toLowerCase()}),Y=function(e){return J.map(function(t){var n=new c(e.getPropertyValue("border-".concat(t,"-color"))),i=function(e){switch(e){case"none":return 0}return 1}(e.getPropertyValue("border-".concat(t,"-style"))),r=parseFloat(e.getPropertyValue("border-".concat(t,"-width")));return{borderColor:n,borderStyle:i,borderWidth:isNaN(r)?0:r}})},Z=["top-left","top-right","bottom-right","bottom-left"],$=function(e){return Z.map(function(t){var n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),2!==n.length);i=!0);}catch(e){r=!0,o=e}finally{try{i||null==a.return||a.return()}finally{if(r)throw o}}return n}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(e.getPropertyValue("border-".concat(t,"-radius")).split(" ").map(b.create)),i=n[0],r=n[1];return void 0===r?[i,i]:[i,r]})},ee=2048,te=1<<25,ne=1<<26,ie=1<<27,re=1<<28,oe=1<<29,se=function(e,t){return e|function(e){switch(t){case"block":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":return 128;case"grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return ee;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return te;case"inline-list-item":return ne;case"inline-table":return ie;case"inline-flex":return re;case"inline-grid":return oe}return 1}()},ae=function(e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0},le=function(e){return{fontFamily:e.fontFamily,fontSize:e.fontSize,fontStyle:e.fontStyle,fontVariant:e.fontVariant,fontWeight:function(e){switch(e){case"normal":return 400;case"bold":return 700}var t=parseInt(e,10);return isNaN(t)?400:t}(e.fontWeight)}},ce=function(e){if("normal"===e)return 0;var t=parseFloat(e);return isNaN(t)?0:t},ue=function(e){switch(e){case"strict":return"strict";case"normal":default:return"normal"}},de=function(e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}},he=function(e){var t=X(e.getPropertyValue("list-style-image"));return{listStyleType:de(e.getPropertyValue("list-style-type")),listStyleImage:t.length?t[0]:null,listStylePosition:pe(e.getPropertyValue("list-style-position"))}},pe=function(e){switch(e){case"inside":return 0;case"outside":default:return 1}},fe=["top","right","bottom","left"],Ae=function(e){return fe.map(function(t){return new b(e.getPropertyValue("margin-".concat(t)))})},ge=function(e){switch(e){case"hidden":return 1;case"scroll":return 2;case"auto":return 3;case"visible":default:return 0}},me=function(e){switch(e){case"break-word":return 1;case"normal":default:return 0}},ye=/^([+-]|\d|\.)$/i,ve=function(e){if("none"===e||"string"!=typeof e)return null;for(var t="",n=!1,i=[],r=[],o=0,s=null,a=function(){t.length&&(n?i.push(parseFloat(t)):s=new c(t)),n=!1,t=""},l=function(){i.length&&null!==s&&r.push({color:s,offsetX:i[0]||0,offsetY:i[1]||0,blur:i[2]||0}),i.splice(0,i.length),s=null},u=0;u<e.length;u++){var d=e[u];switch(d){case"(":t+=d,o++;break;case")":t+=d,o--;break;case",":0===o?(a(),l()):t+=d;break;case" ":0===o?a():t+=d;break;default:0===t.length&&ye.test(d)&&(n=!0),t+=d}}return a(),l(),0===r.length?null:r},we=function(e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0},be=function(e){return parseFloat(e.trim())},_e=/(matrix|matrix3d)\((.+)\)/,Ce=function(e){var t=Se(e.transform||e.webkitTransform||e.mozTransform||e.msTransform||e.oTransform);return null===t?null:{transform:t,transformOrigin:Ee(e.transformOrigin||e.webkitTransformOrigin||e.mozTransformOrigin||e.msTransformOrigin||e.oTransformOrigin)}},Ee=function(e){if("string"!=typeof e){var t=new b("0");return[t,t]}var n=e.split(" ").map(b.create);return[n[0],n[1]]},Se=function(e){if("none"===e||"string"!=typeof e)return null;var t=e.match(_e);if(t){if("matrix"===t[1]){var n=t[2].split(",").map(be);return[n[0],n[1],n[2],n[3],n[4],n[5]]}var i=t[2].split(",").map(be);return[i[0],i[1],i[4],i[5],i[12],i[13]]}return null},Te=function(e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}},Le=function(e){switch(e){case"break-all":return"break-all";case"keep-all":return"keep-all";case"normal":default:return"normal"}},xe=function(e){var t="auto"===e;return{auto:t,order:t?0:parseInt(e,10)}},Ie=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=t}return function(e,t,n){t&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(e.prototype,t)}(e,[{key:"render",value:function(e){var t=this;this.options=e,this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.canvas.width=Math.floor(e.width)*e.scale,this.canvas.height=Math.floor(e.height)*e.scale,this.canvas.style.width="".concat(e.width,"px"),this.canvas.style.height="".concat(e.height,"px"),this.ctx.scale(e.scale,e.scale),e.logger.log("ForeignObject renderer initialized (".concat(e.width,"x").concat(e.height," at ").concat(e.x,",").concat(e.y,") with scale ").concat(e.scale));var n=Be(Math.max(e.windowWidth,e.width)*e.scale,Math.max(e.windowHeight,e.height)*e.scale,e.scrollX*e.scale,e.scrollY*e.scale,this.element);return Fe(n).then(function(n){return e.backgroundColor&&(t.ctx.fillStyle=e.backgroundColor.toString(),t.ctx.fillRect(0,0,e.width*e.scale,e.height*e.scale)),t.ctx.drawImage(n,-e.x*e.scale,-e.y*e.scale),t.canvas})}}]),e}(),Be=function(e,t,n,i,r){var o="http://www.w3.org/2000/svg",s=document.createElementNS(o,"svg"),a=document.createElementNS(o,"foreignObject");return s.setAttributeNS(null,"width",e),s.setAttributeNS(null,"height",t),a.setAttributeNS(null,"width","100%"),a.setAttributeNS(null,"height","100%"),a.setAttributeNS(null,"x",n),a.setAttributeNS(null,"y",i),a.setAttributeNS(null,"externalResourcesRequired","true"),s.appendChild(a),a.appendChild(r),s},Fe=function(e){return new Promise(function(t,n){var i=new Image;i.onload=function(){return t(i)},i.onerror=n,i.src="data:image/svg+xml;charset=utf-8,".concat(encodeURIComponent((new XMLSerializer).serializeToString(e)))})},Ne=function(e){return 0===e[0]&&255===e[1]&&0===e[2]&&255===e[3]},De={get SUPPORT_RANGE_BOUNDS(){var e=function(e){if(e.createRange){var t=e.createRange();if(t.getBoundingClientRect){var n=e.createElement("boundtest");n.style.height="".concat(123,"px"),n.style.display="block",e.body.appendChild(n),t.selectNode(n);var i=t.getBoundingClientRect(),r=Math.round(i.height);if(e.body.removeChild(n),123===r)return!0}}return!1}(document);return Object.defineProperty(De,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=function(e){var t=new Image,n=e.createElement("canvas"),i=n.getContext("2d");t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{i.drawImage(t,0,0),n.toDataURL()}catch(e){return!1}return!0}(document);return Object.defineProperty(De,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e="function"==typeof Array.from&&"function"==typeof window.fetch?function(e){var t=e.createElement("canvas");t.width=100,t.height=100;var n=t.getContext("2d");n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,100,100);var i=new Image,r=t.toDataURL();i.src=r;var o=Be(100,100,0,0,i);return n.fillStyle="red",n.fillRect(0,0,100,100),Fe(o).then(function(t){n.drawImage(t,0,0);var i=n.getImageData(0,0,100,100).data;n.fillStyle="red",n.fillRect(0,0,100,100);var o=e.createElement("div");return o.style.backgroundImage="url(".concat(r,")"),o.style.height="".concat(100,"px"),Ne(i)?Fe(Be(100,100,0,0,o)):Promise.reject(!1)}).then(function(e){return n.drawImage(e,0,0),Ne(n.getImageData(0,0,100,100).data)}).catch(function(e){return!1})}(document):Promise.resolve(!1);return Object.defineProperty(De,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=void 0!==(new Image).crossOrigin;return Object.defineProperty(De,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e="string"==typeof(new XMLHttpRequest).responseType;return Object.defineProperty(De,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(De,"SUPPORT_CORS_XHR",{value:e}),e}},Oe=De,Re=n(0),Me=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.text=t,this.bounds=n},Ue=function(e,t,n){var i=e.ownerDocument.createElement("html2canvaswrapper");i.appendChild(e.cloneNode(!0));var r=e.parentNode;if(r){r.replaceChild(i,e);var o=x(i,t,n);return i.firstChild&&r.replaceChild(i.firstChild,i),o}return new L(0,0,0,0)},Pe=function(e,t,n,i,r){var o=e.ownerDocument.createRange();return o.setStart(e,t),o.setEnd(e,t+n),L.fromClientRect(o.getBoundingClientRect(),i,r)},He=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.text=t,this.parent=n,this.bounds=i}return function(e,t,n){n&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(e,n)}(e,0,[{key:"fromTextNode",value:function(t,n){var i=Qe(t.data,n.style.textTransform);return new e(i,n,function(e,t,n){for(var i=0!==t.style.letterSpacing?Object(Re.toCodePoints)(e).map(function(e){return Object(Re.fromCodePoint)(e)}):function(e,t){for(var n,i=Object(Re.LineBreaker)(e,{lineBreak:t.style.lineBreak,wordBreak:1===t.style.overflowWrap?"break-word":t.style.wordBreak}),r=[];!(n=i.next()).done;)r.push(n.value.slice());return r}(e,t),r=i.length,o=n.parentNode?n.parentNode.ownerDocument.defaultView:null,s=o?o.pageXOffset:0,a=o?o.pageYOffset:0,l=[],c=0,u=0;u<r;u++){var d=i[u];if(null!==t.style.textDecoration||d.trim().length>0)if(Oe.SUPPORT_RANGE_BOUNDS)l.push(new Me(d,Pe(n,c,d.length,s,a)));else{var h=n.splitText(d.length);l.push(new Me(d,Ue(n,s,a))),n=h}else Oe.SUPPORT_RANGE_BOUNDS||(n=n.splitText(d.length));c+=d.length}return l}(i,n,t))}}]),e}(),ke=/(^|\s|:|-|\(|\))([a-z])/g,Qe=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(ke,ze);case 2:return e.toUpperCase();default:return e}};function ze(e,t,n){return e.length>0?t+n.toUpperCase():e}var je=function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type=2,this.x=t,this.y=n,this.radius=i},Ve=new c([42,42,42]),We=new c([165,165,165]),qe=new c([222,222,222]),Ge={borderWidth:1,borderColor:We,borderStyle:1},Ke=[Ge,Ge,Ge,Ge],Xe={backgroundColor:qe,backgroundImage:[],backgroundClip:U.PADDING_BOX,backgroundOrigin:P.PADDING_BOX},Je=new b("50%"),Ye=[Je,Je],Ze=[Ye,Ye,Ye,Ye],$e=new b("3px"),et=[$e,$e],tt=[et,et,et,et],nt=function(e){return"radio"===e.type?Ze:tt},it=function(e,t){if("radio"===e.type||"checkbox"===e.type){if(e.checked){var n=Math.min(t.bounds.width,t.bounds.height);t.childNodes.push("checkbox"===e.type?[new E(t.bounds.left+.39363*n,t.bounds.top+.79*n),new E(t.bounds.left+.16*n,t.bounds.top+.5549*n),new E(t.bounds.left+.27347*n,t.bounds.top+.44071*n),new E(t.bounds.left+.39694*n,t.bounds.top+.5649*n),new E(t.bounds.left+.72983*n,t.bounds.top+.23*n),new E(t.bounds.left+.84*n,t.bounds.top+.34085*n),new E(t.bounds.left+.39363*n,t.bounds.top+.79*n)]:new je(t.bounds.left+n/4,t.bounds.top+n/4,n/4))}}else st(at(e),e,t,!1)},rt=function(e,t){st(e.value,e,t,!0)},ot=function(e,t){var n=e.options[e.selectedIndex||0];st(n&&n.text||"",e,t,!1)},st=function(e,t,n,i){var r=t.ownerDocument.body;if(e.length>0&&r){var o=t.ownerDocument.createElement("html2canvaswrapper");v(t.ownerDocument.defaultView.getComputedStyle(t,null),o),o.style.position="absolute",o.style.left="".concat(n.bounds.left,"px"),o.style.top="".concat(n.bounds.top,"px"),i||(o.style.whiteSpace="nowrap");var s=t.ownerDocument.createTextNode(e);o.appendChild(s),r.appendChild(o),n.childNodes.push(He.fromTextNode(s,n)),r.removeChild(o)}},at=function(e){var t="password"===e.type?new Array(e.value.length+1).join("â¢"):e.value;return 0===t.length?e.placeholder||"":t},lt=["OL","UL","MENU"],ct=function(e,t,n){var i=t.style.listStyle;if(i){var r,o=e.ownerDocument.defaultView.getComputedStyle(e,null),s=e.ownerDocument.createElement("html2canvaswrapper");switch(v(o,s),s.style.position="absolute",s.style.bottom="auto",s.style.display="block",s.style.letterSpacing="normal",i.listStylePosition){case 1:s.style.left="auto",s.style.right="".concat(e.ownerDocument.defaultView.innerWidth-t.bounds.left-t.style.margin[1].getAbsoluteValue(t.bounds.width)+7,"px"),s.style.textAlign="right";break;case 0:s.style.left="".concat(t.bounds.left-t.style.margin[3].getAbsoluteValue(t.bounds.width),"px"),s.style.right="auto",s.style.textAlign="left"}var a=t.style.margin[0].getAbsoluteValue(t.bounds.width),l=i.listStyleImage;if(l)if("url"===l.method){var c=e.ownerDocument.createElement("img");c.src=l.args[0],s.style.top="".concat(t.bounds.top-a,"px"),s.style.width="auto",s.style.height="auto",s.appendChild(c)}else{var u=.5*parseFloat(t.style.font.fontSize);s.style.top="".concat(t.bounds.top-a+t.bounds.height-1.5*u,"px"),s.style.width="".concat(u,"px"),s.style.height="".concat(u,"px"),s.style.backgroundImage=o.listStyleImage}else"number"==typeof t.listIndex&&(r=e.ownerDocument.createTextNode(vt(t.listIndex,i.listStyleType,!0)),s.appendChild(r),s.style.top="".concat(t.bounds.top-a,"px"));var d=e.ownerDocument.body;d.appendChild(s),r?(t.childNodes.push(He.fromTextNode(r,t)),d.removeChild(s)):t.childNodes.push(new bt(s,t,n,0))}},ut={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},dt={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Õ","Õ","Õ","Õ","Õ","Õ","Õ","Õ","Õ","Õ","Õ","Õ","Õ","Õ","Õ","Õ","Õ","Õ","Õ","Õ","Õ","Ô¿","Ô¾","Ô½","Ô¼","Ô»","Ôº","Ô¹","Ô¸","Ô·","Ô¶","Ôµ","Ô´","Ô³","Ô²","Ô±"]},ht={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["××³","ï¿½?×³","××³","××³","××³","××³","××³","××³","××³","××³","×ª","×©","×¨","×§","×¦","×¤","×¢","×¡","× ","×","×","×","×ï¿½?","××","××","ï¿½?×","ï¿½?×","×","ï¿½?","×","×","×","×","×","×","×","×"]},pt={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["áµ","á°","á¯","á´","á®","á­","á¬","á«","áª","á©","á¨","á§","á¦","á¥","á¤","á³","á¢","á¡","á ","á","á","á","á²","á","á","á","á","ï¿½?","á","á±","á","á","á","á","á","á","á"]},ft=function(e,t,n,i,r,o){return e<t||e>n?vt(e,r,o.length>0):i.integers.reduce(function(t,n,r){for(;e>=n;)e-=n,t+=i.values[r];return t},"")+o},At=function(e,t,n,i){var r="";do{n||e--,r=i(e)+r,e/=t}while(e*t>=t);return r},gt=function(e,t,n,i,r){var o=n-t+1;return(e<0?"-":"")+(At(Math.abs(e),o,i,function(e){return Object(Re.fromCodePoint)(Math.floor(e%o)+t)})+r)},mt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:". ",i=t.length;return At(Math.abs(e),i,!1,function(e){return t[Math.floor(e%i)]})+n},yt=function(e,t,n,i,r,o){if(e<-9999||e>9999)return vt(e,4,r.length>0);var s=Math.abs(e),a=r;if(0===s)return t[0]+a;for(var l=0;s>0&&l<=4;l++){var c=s%10;0===c&&m(o,1)&&""!==a?a=t[c]+a:c>1||1===c&&0===l||1===c&&1===l&&m(o,2)||1===c&&1===l&&m(o,4)&&e>100||1===c&&l>1&&m(o,8)?a=t[c]+(l>0?n[l-1]:"")+a:1===c&&l>0&&(a=n[l-1]+a),s=Math.floor(s/10)}return(e<0?i:"")+a},vt=function(e,t,n){var i=n?". ":"",r=n?"ã":"",o=n?", ":"";switch(t){case 0:return"â¢";case 1:return"â¦";case 2:return"â¾";case 5:var s=gt(e,48,57,!0,i);return s.length<4?"0".concat(s):s;case 4:return mt(e,"ãä¸äºä¸åäºå­ä¸å«ä¹",r);case 6:return ft(e,1,3999,ut,3,i).toLowerCase();case 7:return ft(e,1,3999,ut,3,i);case 8:return gt(e,945,969,!1,i);case 9:return gt(e,97,122,!1,i);case 10:return gt(e,65,90,!1,i);case 11:return gt(e,1632,1641,!0,i);case 12:case 49:return ft(e,1,9999,dt,3,i);case 35:return ft(e,1,9999,dt,3,i).toLowerCase();case 13:return gt(e,2534,2543,!0,i);case 14:case 30:return gt(e,6112,6121,!0,i);case 15:return mt(e,"å­ä¸å¯å¯è¾°å·³åæªç³éæäº¥",r);case 16:return mt(e,"ç²ä¹ä¸ä¸æå·±åºè¾å£¬ç¸",r);case 17:case 48:return yt(e,"é¶ä¸äºä¸åäºå­ä¸å«ä¹","åç¾åè¬","è² ",r,14);case 47:return yt(e,"é¶å£¹è²³åèä¼é¸ææç","æ¾ä½°ä»è¬","è² ",r,15);case 42:return yt(e,"é¶ä¸äºä¸åäºå­ä¸å«ä¹","åç¾åè¬","è´",r,14);case 41:return yt(e,"é¶å£¹è´°åèä¼éææç","æ¾ä½°ä»è¬","è´",r,15);case 26:return yt(e,"ãä¸äºä¸åäºå­ä¸å«ä¹","åç¾åä¸","ãã¤ãã¹",r,0);case 25:return yt(e,"é¶å£±å¼ååä¼å­ä¸å«ä¹","æ¾ç¾åä¸","ãã¤ãã¹",r,7);case 31:return yt(e,"ï¿½?ï¿½ì¼ì´ì¼ì¬ï¿½?ï¿½ì¡ì¹ íêµ¬","ì­ë°±ì²ë§","ë§ì´ëì¤",o,7);case 33:return yt(e,"é¶ä¸äºä¸åäºå­ä¸å«ä¹","åç¾åè¬","ë§ì´ëì¤",o,0);case 32:return yt(e,"é¶å£¹è²³ååäºå­ä¸å«ä¹","æ¾ç¾å","ë§ì´ëì¤",o,7);case 18:return gt(e,2406,2415,!0,i);case 20:return ft(e,1,19999,pt,3,i);case 21:return gt(e,2790,2799,!0,i);case 22:return gt(e,2662,2671,!0,i);case 22:return ft(e,1,10999,ht,3,i);case 23:return mt(e,"ããããããããããããããããã¡ã¤ã¦ã¨ãªã«ã¬ã­ã®ã¯ã²ãµã¸ã»ã¾ã¿ãããããããããããããããã");case 24:return mt(e,"ããã¯ã«ã»ã¸ã¨ã¡ãã¬ããããããããã¤ã­ãªããããã®ãããã¾ããµããã¦ãããããã¿ããã²ããã");case 27:return gt(e,3302,3311,!0,i);case 28:return mt(e,"ã¢ã¤ã¦ã¨ãªã«ã­ã¯ã±ã³ãµã·ã¹ã»ã½ã¿ããããããããããããï¿½?ãããã ã¡ã¢ã¤ã¦ã¨ã©ãªã«ã¬ã­ã¯ã°ã±ã²ã³",r);case 29:return mt(e,"ã¤ã­ãããï¿½?ãããªãã«ã²ã¯ã«ã¨ã¿ã¬ã½ãããã©ã ã¦ã°ããªã¯ã¤ãã±ãã³ã¨ãã¢ãµã­ã¦ã¡ãã·ã±ãã¢ã»ã¹",r);case 34:return gt(e,3792,3801,!0,i);case 37:return gt(e,6160,6169,!0,i);case 38:return gt(e,4160,4169,!0,i);case 39:return gt(e,2918,2927,!0,i);case 40:return gt(e,1776,1785,!0,i);case 43:return gt(e,3046,3055,!0,i);case 44:return gt(e,3174,3183,!0,i);case 45:return gt(e,3664,3673,!0,i);case 46:return gt(e,3872,3881,!0,i);case 3:default:return gt(e,48,57,!0,i)}},wt=["INPUT","TEXTAREA","SELECT"],bt=function(){function e(t,n,i,r){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.parent=n,this.tagName=t.tagName,this.index=r,this.childNodes=[],this.listItems=[],"number"==typeof t.start&&(this.listStart=t.start);var s=t.ownerDocument.defaultView,a=s.pageXOffset,l=s.pageYOffset,u=s.getComputedStyle(t,null),d=function(e){return e.split(" ").reduce(se,0)}(u.display),h="radio"===t.type||"checkbox"===t.type,f=function(e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}(u.position);if(this.style={background:h?Xe:j(u,i),border:h?Ke:Y(u),borderRadius:(t instanceof s.HTMLInputElement||t instanceof HTMLInputElement)&&h?nt(t):$(u),color:h?Ve:new c(u.color),display:d,float:ae(u.float),font:le(u),letterSpacing:ce(u.letterSpacing),listStyle:d===ee?he(u):null,lineBreak:ue(u.lineBreak),margin:Ae(u),opacity:parseFloat(u.opacity),overflow:-1===wt.indexOf(t.tagName)?ge(u.overflow):1,overflowWrap:me(u.overflowWrap?u.overflowWrap:u.wordWrap),padding:M(u),position:f,textDecoration:p(u),textShadow:ve(u.textShadow),textTransform:we(u.textTransform),transform:Ce(u),visibility:Te(u.visibility),wordBreak:Le(u.wordBreak),zIndex:xe(0!==f?u.zIndex:"auto")},this.isTransformed()&&(t.style.transform="matrix(1,0,0,1,0,0)"),d===ee){var A=function(e){var t=e.parent;if(!t)return null;do{if(-1!==lt.indexOf(t.tagName))return t;t=t.parent}while(t);return e.parent}(this);if(A){var g=A.listItems.length;A.listItems.push(this),this.listIndex=t.hasAttribute("value")&&"number"==typeof t.value?t.value:0===g?"number"==typeof A.listStart?A.listStart:1:A.listItems[g-1].listIndex+1}}"IMG"===t.tagName&&t.addEventListener("load",function(){o.bounds=x(t,a,l),o.curvedBounds=N(o.bounds,o.style.border,o.style.borderRadius)}),this.image=_t(t,i),this.bounds=h?function(e){return e.width>e.height?(e.left+=(e.width-e.height)/2,e.width=e.height):e.width<e.height&&(e.top+=(e.height-e.width)/2,e.height=e.width),e}(x(t,a,l)):x(t,a,l),this.curvedBounds=N(this.bounds,this.style.border,this.style.borderRadius)}return function(e,t,n){t&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(e.prototype,t)}(e,[{key:"getClipPaths",value:function(){var e=this.parent?this.parent.getClipPaths():[];return 0!==this.style.overflow?e.concat([F(this.curvedBounds)]):e}},{key:"isInFlow",value:function(){return this.isRootElement()&&!this.isFloating()&&!this.isAbsolutelyPositioned()}},{key:"isVisible",value:function(){return!m(this.style.display,1)&&this.style.opacity>0&&0===this.style.visibility}},{key:"isAbsolutelyPositioned",value:function(){return 0!==this.style.position&&1!==this.style.position}},{key:"isPositioned",value:function(){return 0!==this.style.position}},{key:"isFloating",value:function(){return 0!==this.style.float}},{key:"isRootElement",value:function(){return null===this.parent}},{key:"isTransformed",value:function(){return null!==this.style.transform}},{key:"isPositionedWithZIndex",value:function(){return this.isPositioned()&&!this.style.zIndex.auto}},{key:"isInlineLevel",value:function(){return m(this.style.display,4)||m(this.style.display,te)||m(this.style.display,re)||m(this.style.display,oe)||m(this.style.display,ne)||m(this.style.display,ie)}},{key:"isInlineBlockOrInlineTable",value:function(){return m(this.style.display,te)||m(this.style.display,ie)}}]),e}(),_t=function(e,t){if(e instanceof e.ownerDocument.defaultView.SVGSVGElement||e instanceof SVGSVGElement){var n=new XMLSerializer;return t.loadImage("data:image/svg+xml,".concat(encodeURIComponent(n.serializeToString(e))))}switch(e.tagName){case"IMG":return t.loadImage(e.currentSrc||e.src);case"CANVAS":return t.loadCanvas(e);case"IFRAME":var i=e.getAttribute("data-html2canvas-internal-iframe-key");if(i)return i}return null},Ct=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t,this.parent=n,this.contexts=[],this.children=[],this.treatAsRealStackingContext=i}return function(e,t,n){t&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(e.prototype,t)}(e,[{key:"getOpacity",value:function(){return this.parent?this.container.style.opacity*this.parent.getOpacity():this.container.style.opacity}},{key:"getRealParentStackingContext",value:function(){return!this.parent||this.treatAsRealStackingContext?this:this.parent.getRealParentStackingContext()}}]),e}(),Et=["SCRIPT","HEAD","TITLE","OBJECT","BR","OPTION"],St=function(e,t){return e.isRootElement()||e.isPositionedWithZIndex()||e.style.opacity<1||e.isTransformed()||Lt(e,t)},Tt=function(e){return e.isPositioned()||e.isFloating()},Lt=function(e,t){return"BODY"===t.nodeName&&e.parent instanceof bt&&e.parent.style.background.backgroundColor.isTransparent()},xt=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._data={},this._document=t}return function(e,t,n){t&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(e.prototype,t)}(e,[{key:"_parseMetrics",value:function(e){var t=this._document.createElement("div"),n=this._document.createElement("img"),i=this._document.createElement("span"),r=this._document.body;if(!r)throw new Error("");t.style.visibility="hidden",t.style.fontFamily=e.fontFamily,t.style.fontSize=e.fontSize,t.style.margin="0",t.style.padding="0",r.appendChild(t),n.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",n.width=1,n.height=1,n.style.margin="0",n.style.padding="0",n.style.verticalAlign="baseline",i.style.fontFamily=e.fontFamily,i.style.fontSize=e.fontSize,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode("Hidden Text")),t.appendChild(i),t.appendChild(n);var o=n.offsetTop-i.offsetTop+2;t.removeChild(i),t.appendChild(this._document.createTextNode("Hidden Text")),t.style.lineHeight="normal",n.style.verticalAlign="super";var s=n.offsetTop-t.offsetTop+2;return r.removeChild(t),{baseline:o,middle:s}}},{key:"getMetrics",value:function(e){var t="".concat(e.fontFamily," ").concat(e.fontSize);return void 0===this._data[t]&&(this._data[t]=this._parseMetrics(e)),this._data[t]}}]),e}(),It=/([+-]?\d*\.?\d+)(deg|grad|rad|turn)/i;function Bt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Ft=/^(to )?(left|top|right|bottom)( (left|top|right|bottom))?$/i,Nt=/^([+-]?\d*\.?\d+)% ([+-]?\d*\.?\d+)%$/i,Dt=/(px)|%|( 0)$/i,Ot=/^(from|to|color-stop)\((?:([\d.]+)(%)?,\s*)?(.+?)\)$/i,Rt=/^\s*(circle|ellipse)?\s*((?:([\d.]+)(px|r?em|%)\s*(?:([\d.]+)(px|r?em|%))?)|closest-side|closest-corner|farthest-side|farthest-corner)?\s*(?:at\s*(?:(left|center|right)|([\d.]+)(px|r?em|%))\s+(?:(top|center|bottom)|([\d.]+)(px|r?em|%)))?(?:\s|$)/i,Mt={left:new b("0%"),top:new b("0%"),center:new b("50%"),right:new b("100%"),bottom:new b("100%")},Ut=function(e,t,n){for(var i=[],r=t;r<e.length;r++){var o=e[r],s=Dt.test(o),a=o.lastIndexOf(" "),l=new c(s?o.substring(0,a):o),u=s?new b(o.substring(a+1)):r===t?new b("0%"):r===e.length-1?new b("100%"):null;i.push({color:l,stop:u})}for(var d=i.map(function(e){var t=e.stop;return{color:e.color,stop:0===n?0:t?t.getAbsoluteValue(n)/n:null}}),h=d[0].stop,p=0;p<d.length;p++)if(null!==h){var f=d[p].stop;if(null===f){for(var A=p;null===d[A].stop;)A++;for(var g=(d[A].stop-h)/(A-p+1);p<A;p++)h=d[p].stop=h+g}else h=f}return d},Pt=function(e,t,n){var i=function(e){var t=e.match(It);if(t){var n=parseFloat(t[1]);switch(t[2].toLowerCase()){case"deg":return Math.PI*n/180;case"grad":return Math.PI/200*n;case"rad":return n;case"turn":return 2*Math.PI*n}}return null}(e[0]),r=Ft.test(e[0]),o=r||null!==i||Nt.test(e[0]),s=o?null!==i?kt(n?i-.5*Math.PI:i,t):r?zt(e[0],t):jt(e[0],t):kt(Math.PI,t),a=o?1:0,l=Math.min(y(Math.abs(s.x0)+Math.abs(s.x1),Math.abs(s.y0)+Math.abs(s.y1)),2*t.width,2*t.height);return new function e(t,n){Bt(this,e),this.type=0,this.colorStops=t,this.direction=n}(Ut(e,a,l),s)},Ht=function(e,t,n){var i=t[0].match(Rt),r=i&&("circle"===i[1]||void 0!==i[3]&&void 0===i[5])?0:1,o={},s={};i&&(void 0!==i[3]&&(o.x=_(e,i[3],i[4]).getAbsoluteValue(n.width)),void 0!==i[5]&&(o.y=_(e,i[5],i[6]).getAbsoluteValue(n.height)),i[7]?s.x=Mt[i[7].toLowerCase()]:void 0!==i[8]&&(s.x=_(e,i[8],i[9])),i[10]?s.y=Mt[i[10].toLowerCase()]:void 0!==i[11]&&(s.y=_(e,i[11],i[12])));var a={x:void 0===s.x?n.width/2:s.x.getAbsoluteValue(n.width),y:void 0===s.y?n.height/2:s.y.getAbsoluteValue(n.height)},l=Wt(i&&i[2]||"farthest-corner",r,a,o,n);return new function e(t,n,i,r){Bt(this,e),this.type=1,this.colorStops=t,this.shape=n,this.center=i,this.radius=r}(Ut(t,i?1:0,Math.min(l.x,l.y)),r,a,l)},kt=function(e,t){var n=t.width,i=t.height,r=.5*n,o=.5*i,s=(Math.abs(n*Math.sin(e))+Math.abs(i*Math.cos(e)))/2,a=r+Math.sin(e)*s,l=o-Math.cos(e)*s;return{x0:a,x1:n-a,y0:l,y1:i-l}},Qt=function(e){return Math.acos(e.width/2/(y(e.width,e.height)/2))},zt=function(e,t){switch(e){case"bottom":case"to top":return kt(0,t);case"left":case"to right":return kt(Math.PI/2,t);case"right":case"to left":return kt(3*Math.PI/2,t);case"top right":case"right top":case"to bottom left":case"to left bottom":return kt(Math.PI+Qt(t),t);case"top left":case"left top":case"to bottom right":case"to right bottom":return kt(Math.PI-Qt(t),t);case"bottom left":case"left bottom":case"to top right":case"to right top":return kt(Qt(t),t);case"bottom right":case"right bottom":case"to top left":case"to left top":return kt(2*Math.PI-Qt(t),t);case"top":case"to bottom":default:return kt(Math.PI,t)}},jt=function(e,t){var n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),2!==n.length);i=!0);}catch(e){r=!0,o=e}finally{try{i||null==a.return||a.return()}finally{if(r)throw o}}return n}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(e.split(" ").map(parseFloat)),i=n[0]/100*t.width/(n[1]/100*t.height);return kt(Math.atan(isNaN(i)?1:i)+Math.PI/2,t)},Vt=function(e,t,n,i){return[{x:0,y:0},{x:0,y:e.height},{x:e.width,y:0},{x:e.width,y:e.height}].reduce(function(e,r){var o=y(t-r.x,n-r.y);return(i?o<e.optimumDistance:o>e.optimumDistance)?{optimumCorner:r,optimumDistance:o}:e},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},Wt=function(e,t,n,i,r){var o=n.x,s=n.y,a=0,l=0;switch(e){case"closest-side":0===t?a=l=Math.min(Math.abs(o),Math.abs(o-r.width),Math.abs(s),Math.abs(s-r.height)):1===t&&(a=Math.min(Math.abs(o),Math.abs(o-r.width)),l=Math.min(Math.abs(s),Math.abs(s-r.height)));break;case"closest-corner":if(0===t)a=l=Math.min(y(o,s),y(o,s-r.height),y(o-r.width,s),y(o-r.width,s-r.height));else if(1===t){var c=Math.min(Math.abs(s),Math.abs(s-r.height))/Math.min(Math.abs(o),Math.abs(o-r.width)),u=Vt(r,o,s,!0);l=c*(a=y(u.x-o,(u.y-s)/c))}break;case"farthest-side":0===t?a=l=Math.max(Math.abs(o),Math.abs(o-r.width),Math.abs(s),Math.abs(s-r.height)):1===t&&(a=Math.max(Math.abs(o),Math.abs(o-r.width)),l=Math.max(Math.abs(s),Math.abs(s-r.height)));break;case"farthest-corner":if(0===t)a=l=Math.max(y(o,s),y(o,s-r.height),y(o-r.width,s),y(o-r.width,s-r.height));else if(1===t){var d=Math.max(Math.abs(s),Math.abs(s-r.height))/Math.max(Math.abs(o),Math.abs(o-r.width)),h=Vt(r,o,s,!1);l=d*(a=y(h.x-o,(h.y-s)/d))}break;default:a=i.x||0,l=void 0!==i.y?i.y:a}return{x:a,y:l}},qt=function(e){var t="",n="",i="",r="",o=0,s=/^(left|center|right|\d+(?:px|r?em|%)?)(?:\s+(top|center|bottom|\d+(?:px|r?em|%)?))?$/i,a=/^\d+(px|r?em|%)?(?:\s+\d+(px|r?em|%)?)?$/i,l=e[o].match(s);l&&o++;var c=e[o].match(/^(circle|ellipse)?\s*(closest-side|closest-corner|farthest-side|farthest-corner|contain|cover)?$/i);c&&(t=c[1]||"","contain"===(i=c[2]||"")?i="closest-side":"cover"===i&&(i="farthest-corner"),o++);var u=e[o].match(a);u&&o++;var d=e[o].match(s);d&&o++;var h=e[o].match(a);h&&o++;var p=d||l;p&&p[1]&&(r=p[1]+(/^\d+$/.test(p[1])?"px":""),p[2]&&(r+=" "+p[2]+(/^\d+$/.test(p[2])?"px":"")));var f=h||u;return f&&(n=f[0],f[1]||(n+="px")),!r||t||n||i||(n=r,r=""),r&&(r="at ".concat(r)),[[t,i,n,r].filter(function(e){return!!e}).join(" ")].concat(e.slice(o))},Gt=function(e){return e.map(function(e){return e.match(Ot)}).map(function(t,n){if(!t)return e[n];switch(t[1]){case"from":return"".concat(t[4]," 0%");case"to":return"".concat(t[4]," 100%");case"color-stop":return"%"===t[3]?"".concat(t[4]," ").concat(t[2]):"".concat(t[4]," ").concat(100*parseFloat(t[2]),"%")}})};function Kt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{i||null==a.return||a.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Xt=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.target=t,this.options=n,t.render(n)}return function(e,t,n){t&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(e.prototype,t)}(e,[{key:"renderNode",value:function(e){e.isVisible()&&(this.renderNodeBackgroundAndBorders(e),this.renderNodeContent(e))}},{key:"renderNodeContent",value:function(e){var t=this,n=function(){if(e.childNodes.length&&e.childNodes.forEach(function(n){if(n instanceof He){var i=n.parent.style;t.target.renderTextNode(n.bounds,i.color,i.font,i.textDecoration,i.textShadow)}else t.target.drawShape(n,e.style.color)}),e.image){var n=t.options.imageStore.get(e.image);if(n){var i=function(e,t,n){var i=t[0].value,r=t[3].value;return new L(e.left+r+n[3].borderWidth,e.top+i+n[0].borderWidth,e.width-(n[1].borderWidth+n[3].borderWidth+r+t[1].value),e.height-(n[0].borderWidth+n[2].borderWidth+i+t[2].value))}(e.bounds,e.style.padding,e.style.border),r="number"==typeof n.width&&n.width>0?n.width:i.width,o="number"==typeof n.height&&n.height>0?n.height:i.height;r>0&&o>0&&t.target.clip([F(e.curvedBounds)],function(){t.target.drawImage(n,new L(0,0,r,o),i)})}}},i=e.getClipPaths();i.length?this.target.clip(i,n):n()}},{key:"renderNodeBackgroundAndBorders",value:function(e){var t=this,n=!e.style.background.backgroundColor.isTransparent()||e.style.background.backgroundImage.length,i=e.style.border.some(function(e){return 0!==e.borderStyle&&!e.borderColor.isTransparent()}),r=function(){var i=function(e,t){switch(t){case U.BORDER_BOX:return function(e){return[e.topLeftOuter,e.topRightOuter,e.bottomRightOuter,e.bottomLeftOuter]}(e);case U.PADDING_BOX:default:return F(e)}}(e.curvedBounds,e.style.background.backgroundClip);n&&t.target.clip([i],function(){e.style.background.backgroundColor.isTransparent()||t.target.fill(e.style.background.backgroundColor),t.renderBackgroundImage(e)}),e.style.border.forEach(function(n,i){0===n.borderStyle||n.borderColor.isTransparent()||t.renderBorder(n,i,e.curvedBounds)})};if(n||i){var o=e.parent?e.parent.getClipPaths():[];o.length?this.target.clip(o,r):r()}}},{key:"renderBackgroundImage",value:function(e){var t=this;e.style.background.backgroundImage.slice(0).reverse().forEach(function(n){"url"===n.source.method&&n.source.args.length?t.renderBackgroundRepeat(e,n):/gradient/i.test(n.source.method)&&t.renderBackgroundGradient(e,n)})}},{key:"renderBackgroundRepeat",value:function(e,t){var n=this.options.imageStore.get(t.source.args[0]);if(n){var i=Q(e.style.background.backgroundOrigin,e.bounds,e.style.padding,e.style.border),r=function(e,t,n){var i=0,r=0,o=e.size;if(1===o[0].size||2===o[0].size){var s=t.width/t.height;return n.width/n.height<s!=(2===o[0].size)?new C(n.width,n.width/s):new C(n.height*s,n.height)}return o[0].value&&(i=o[0].value.getAbsoluteValue(n.width)),0===o[0].size&&0===o[1].size?r=t.height:0===o[1].size?r=i/t.width*t.height:o[1].value&&(r=o[1].value.getAbsoluteValue(n.height)),0===o[0].size&&(i=r/t.height*t.width),new C(i,r)}(t,n,i),o=z(t.position,r,i),s=function(e,t,n,i,r){switch(e.repeat){case 2:return[new E(Math.round(r.left),Math.round(i.top+t.y)),new E(Math.round(r.left+r.width),Math.round(i.top+t.y)),new E(Math.round(r.left+r.width),Math.round(n.height+i.top+t.y)),new E(Math.round(r.left),Math.round(n.height+i.top+t.y))];case 3:return[new E(Math.round(i.left+t.x),Math.round(r.top)),new E(Math.round(i.left+t.x+n.width),Math.round(r.top)),new E(Math.round(i.left+t.x+n.width),Math.round(r.height+r.top)),new E(Math.round(i.left+t.x),Math.round(r.height+r.top))];case 1:return[new E(Math.round(i.left+t.x),Math.round(i.top+t.y)),new E(Math.round(i.left+t.x+n.width),Math.round(i.top+t.y)),new E(Math.round(i.left+t.x+n.width),Math.round(i.top+t.y+n.height)),new E(Math.round(i.left+t.x),Math.round(i.top+t.y+n.height))];default:return[new E(Math.round(r.left),Math.round(r.top)),new E(Math.round(r.left+r.width),Math.round(r.top)),new E(Math.round(r.left+r.width),Math.round(r.height+r.top)),new E(Math.round(r.left),Math.round(r.height+r.top))]}}(t,o,r,i,e.bounds),a=Math.round(i.left+o.x),l=Math.round(i.top+o.y);this.target.renderRepeat(s,n,r,a,l)}}},{key:"renderBackgroundGradient",value:function(e,t){var n=Q(e.style.background.backgroundOrigin,e.bounds,e.style.padding,e.style.border),i=function(e,t){var n=e.size,i=n[0].value?n[0].value.getAbsoluteValue(t.width):t.width,r=n[1].value?n[1].value.getAbsoluteValue(t.height):n[0].value?i:t.height;return new C(i,r)}(t,n),r=z(t.position,i,n),o=new L(Math.round(n.left+r.x),Math.round(n.top+r.y),i.width,i.height),s=function(e,t,n){var i=t.args,r=t.method,o=t.prefix;return"linear-gradient"===r?Pt(i,n,!!o):"gradient"===r&&"linear"===i[0]?Pt(["to bottom"].concat(Gt(i.slice(3))),n,!!o):"radial-gradient"===r?Ht(e,"-webkit-"===o?qt(i):i,n):"gradient"===r&&"radial"===i[0]?Ht(e,Gt(qt(i.slice(1))),n):void 0}(e,t.source,o);if(s)switch(s.type){case 0:this.target.renderLinearGradient(o,s);break;case 1:this.target.renderRadialGradient(o,s)}}},{key:"renderBorder",value:function(e,t,n){this.target.drawShape(function(e,t){switch(t){case 0:return B(e.topLeftOuter,e.topLeftInner,e.topRightOuter,e.topRightInner);case 1:return B(e.topRightOuter,e.topRightInner,e.bottomRightOuter,e.bottomRightInner);case 2:return B(e.bottomRightOuter,e.bottomRightInner,e.bottomLeftOuter,e.bottomLeftInner);case 3:default:return B(e.bottomLeftOuter,e.bottomLeftInner,e.topLeftOuter,e.topLeftInner)}}(n,t),e.borderColor)}},{key:"renderStack",value:function(e){var t=this;if(e.container.isVisible()){var n=e.getOpacity();n!==this._opacity&&(this.target.setOpacity(e.getOpacity()),this._opacity=n);var i=e.container.style.transform;null!==i?this.target.transform(e.container.bounds.left+i.transformOrigin[0].value,e.container.bounds.top+i.transformOrigin[1].value,i.transform,function(){return t.renderStackContent(e)}):this.renderStackContent(e)}}},{key:"renderStackContent",value:function(e){var t=Kt(Yt(e),5),n=t[0],i=t[1],r=t[2],o=t[3],s=t[4],a=Kt(Jt(e),2),l=a[0],c=a[1];this.renderNodeBackgroundAndBorders(e.container),n.sort(Zt).forEach(this.renderStack,this),this.renderNodeContent(e.container),c.forEach(this.renderNode,this),o.forEach(this.renderStack,this),s.forEach(this.renderStack,this),l.forEach(this.renderNode,this),i.forEach(this.renderStack,this),r.sort(Zt).forEach(this.renderStack,this)}},{key:"render",value:function(e){return this.options.backgroundColor&&this.target.rectangle(this.options.x,this.options.y,this.options.width,this.options.height,this.options.backgroundColor),this.renderStack(e),this.target.getTarget()}}]),e}(),Jt=function(e){for(var t=[],n=[],i=e.children.length,r=0;r<i;r++){var o=e.children[r];o.isInlineLevel()?t.push(o):n.push(o)}return[t,n]},Yt=function(e){for(var t=[],n=[],i=[],r=[],o=[],s=e.contexts.length,a=0;a<s;a++){var l=e.contexts[a];l.container.isPositioned()||l.container.style.opacity<1||l.container.isTransformed()?l.container.style.zIndex.order<0?t.push(l):l.container.style.zIndex.order>0?i.push(l):n.push(l):l.container.isFloating()?r.push(l):o.push(l)}return[t,n,i,r,o]},Zt=function(e,t){return e.container.style.zIndex.order>t.container.style.zIndex.order?1:e.container.style.zIndex.order<t.container.style.zIndex.order?-1:e.container.index>t.container.index?1:-1},$t=function(e,t){if(!t.proxy)return Promise.reject(null);var n=t.proxy;return new Promise(function(i,r){var o=Oe.SUPPORT_CORS_XHR&&Oe.SUPPORT_RESPONSE_TYPE?"blob":"text",s=Oe.SUPPORT_CORS_XHR?new XMLHttpRequest:new XDomainRequest;s.onload=function(){if(s instanceof XMLHttpRequest)if(200===s.status)if("text"===o)i(s.response);else{var e=new FileReader;e.addEventListener("load",function(){return i(e.result)},!1),e.addEventListener("error",function(e){return r(e)},!1),e.readAsDataURL(s.response)}else r("");else i(s.responseText)},s.onerror=r,s.open("GET","".concat(n,"?url=").concat(encodeURIComponent(e),"&responseType=").concat(o)),"text"!==o&&s instanceof XMLHttpRequest&&(s.responseType=o),t.imageTimeout&&(s.timeout=t.imageTimeout,s.ontimeout=function(){return r("")}),s.send()})};function en(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function nn(e,t,n){return t&&tn(e.prototype,t),n&&tn(e,n),e}var rn=function(){function e(t,n,i){en(this,e),this.options=t,this._window=i,this.origin=this.getOrigin(i.location.href),this.cache={},this.logger=n,this._index=0}return nn(e,[{key:"loadImage",value:function(e){var t=this;if(this.hasResourceInCache(e))return e;if(dn(e))return this.cache[e]=pn(e,this.options.imageTimeout||0),e;if(!hn(e)||Oe.SUPPORT_SVG_DRAWING){if(!0===this.options.allowTaint||cn(e)||this.isSameOrigin(e))return this.addImage(e,e,!1);if(!this.isSameOrigin(e)){if("string"==typeof this.options.proxy)return this.cache[e]=$t(e,this.options).then(function(e){return pn(e,t.options.imageTimeout||0)}),e;if(!0===this.options.useCORS&&Oe.SUPPORT_CORS_IMAGES)return this.addImage(e,e,!0)}}}},{key:"inlineImage",value:function(e){var t=this;return cn(e)?pn(e,this.options.imageTimeout||0):this.hasResourceInCache(e)?this.cache[e]:this.isSameOrigin(e)||"string"!=typeof this.options.proxy?this.xhrImage(e):this.cache[e]=$t(e,this.options).then(function(e){return pn(e,t.options.imageTimeout||0)})}},{key:"xhrImage",value:function(e){var t=this;return this.cache[e]=new Promise(function(n,i){var r=new XMLHttpRequest;r.onreadystatechange=function(){if(4===r.readyState)if(200!==r.status)i("Failed to fetch image ".concat(e.substring(0,256)," with status code ").concat(r.status));else{var t=new FileReader;t.addEventListener("load",function(){n(t.result)},!1),t.addEventListener("error",function(e){return i(e)},!1),t.readAsDataURL(r.response)}},r.responseType="blob",t.options.imageTimeout&&(r.timeout=t.options.imageTimeout,r.ontimeout=function(){return i("")}),r.open("GET",e,!0),r.send()}).then(function(e){return pn(e,t.options.imageTimeout||0)}),this.cache[e]}},{key:"loadCanvas",value:function(e){var t=String(this._index++);return this.cache[t]=Promise.resolve(e),t}},{key:"hasResourceInCache",value:function(e){return void 0!==this.cache[e]}},{key:"addImage",value:function(e,t,n){var i=this;return this.cache[e]=new Promise(function(e,r){var o=new Image;o.onload=function(){return e(o)},(un(t)||n)&&(o.crossOrigin="anonymous"),o.onerror=r,o.src=t,!0===o.complete&&setTimeout(function(){e(o)},500),i.options.imageTimeout&&setTimeout(function(){return r("")},i.options.imageTimeout)}),e}},{key:"isSameOrigin",value:function(e){return this.getOrigin(e)===this.origin}},{key:"getOrigin",value:function(e){var t=this._link||(this._link=this._window.document.createElement("a"));return t.href=e,t.href=t.href,t.protocol+t.hostname+t.port}},{key:"ready",value:function(){var e=this,t=Object.keys(this.cache),n=t.map(function(t){return e.cache[t].catch(function(e){return null})});return Promise.all(n).then(function(e){return new on(t,e)})}}]),e}(),on=function(){function e(t,n){en(this,e),this._keys=t,this._resources=n}return nn(e,[{key:"get",value:function(e){var t=this._keys.indexOf(e);return-1===t?null:this._resources[t]}}]),e}(),sn=/^data:image\/svg\+xml/i,an=/^data:image\/.*;base64,/i,ln=/^data:image\/.*/i,cn=function(e){return ln.test(e)},un=function(e){return an.test(e)},dn=function(e){return"blob"===e.substr(0,4)},hn=function(e){return"svg"===e.substr(-3).toLowerCase()||sn.test(e)},pn=function(e,t){return new Promise(function(n,i){var r=new Image;r.onload=function(){return n(r)},r.onerror=i,r.src=e,!0===r.complete&&setTimeout(function(){n(r)},500),t&&setTimeout(function(){return i("")},t)})};function fn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{i||null==a.return||a.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var An=function(e,t,n){if(!t||!t.content||"none"===t.content||"-moz-alt-content"===t.content||"none"===t.display)return null;var i=gn(t.content),r=i.length,o=[],s="",a=t.counterIncrement;if(a&&"none"!==a){var l=fn(a.split(/\s+/),2),c=l[1],u=n.counters[l[0]];u&&(u[u.length-1]+=void 0===c?1:parseInt(c,10))}for(var d=0;d<r;d++){var h=i[d];switch(h.type){case 0:s+=h.value||"";break;case 1:e instanceof HTMLElement&&h.value&&(s+=e.getAttribute(h.value)||"");break;case 3:var p=n.counters[h.name||""];p&&(s+=vn([p[p.length-1]],"",h.format));break;case 4:var f=n.counters[h.name||""];f&&(s+=vn(f,h.glue,h.format));break;case 5:s+=yn(t,!0,n.quoteDepth),n.quoteDepth++;break;case 6:n.quoteDepth--,s+=yn(t,!1,n.quoteDepth);break;case 2:s&&(o.push({type:0,value:s}),s=""),o.push({type:1,value:h.value||""})}}return s&&o.push({type:0,value:s}),o},gn=function(e,t){if(t&&t[e])return t[e];for(var n=[],i=e.length,r=!1,o=!1,s=!1,a="",l="",c=[],u=0;u<i;u++){var d=e.charAt(u);switch(d){case"'":case'"':o?a+=d:(r=!r,s||r||(n.push({type:0,value:a}),a=""));break;case"\\":o?(a+=d,o=!1):o=!0;break;case"(":r?a+=d:(s=!0,l=a,a="",c=[]);break;case")":if(r)a+=d;else if(s){switch(a&&c.push(a),l){case"attr":c.length>0&&n.push({type:1,value:c[0]});break;case"counter":if(c.length>0){var h={type:3,name:c[0]};c.length>1&&(h.format=c[1]),n.push(h)}break;case"counters":if(c.length>0){var p={type:4,name:c[0]};c.length>1&&(p.glue=c[1]),c.length>2&&(p.format=c[2]),n.push(p)}break;case"url":c.length>0&&n.push({type:2,value:c[0]})}s=!1,a=""}break;case",":r?a+=d:s&&(c.push(a),a="");break;case" ":case"\t":r?a+=d:a&&(mn(n,a),a="");break;default:a+=d}"\\"!==d&&(o=!1)}return a&&mn(n,a),t&&(t[e]=n),n},mn=function(e,t){switch(t){case"open-quote":e.push({type:5});break;case"close-quote":e.push({type:6})}},yn=function(e,t,n){var i=e.quotes?e.quotes.split(/\s+/):["'\"'","'\"'"],r=2*n;return r>=i.length&&(r=i.length-2),t||++r,i[r].replace(/^["']|["']$/g,"")},vn=function(e,t,n){for(var i=e.length,r="",o=0;o<i;o++)o>0&&(r+=t||""),r+=vt(e[o],de(n||"decimal"),!1);return r},wn=function(){function e(t,n,i,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.referenceElement=t,this.scrolledElements=[],this.copyStyles=r,this.inlineImages=r,this.logger=i,this.options=n,this.renderer=o,this.resourceLoader=new rn(n,i,window),this.pseudoContentData={counters:{},quoteDepth:0},this.documentElement=this.cloneNode(t.ownerDocument.documentElement)}return function(e,t,n){t&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(e.prototype,t)}(e,[{key:"inlineAllImages",value:function(e){var t=this;if(this.inlineImages&&e){var n=e.style;Promise.all(X(n.backgroundImage).map(function(e){return"url"===e.method?t.resourceLoader.inlineImage(e.args[0]).then(function(e){return e&&"string"==typeof e.src?'url("'.concat(e.src,'")'):"none"}).catch(function(e){}):Promise.resolve("".concat(e.prefix).concat(e.method,"(").concat(e.args.join(","),")"))})).then(function(e){e.length>1&&(n.backgroundColor=""),n.backgroundImage=e.join(",")}),e instanceof HTMLImageElement&&this.resourceLoader.inlineImage(e.src).then(function(t){if(t&&e instanceof HTMLImageElement&&e.parentNode){var n=e.parentNode,i=v(e.style,t.cloneNode(!1));n.replaceChild(i,e)}}).catch(function(e){})}}},{key:"inlineFonts",value:function(e){var t=this;return Promise.all(Array.from(e.styleSheets).map(function(t){return t.href?fetch(t.href).then(function(e){return e.text()}).then(function(e){return _n(e,t.href)}).catch(function(e){return[]}):bn(t,e)})).then(function(e){return e.reduce(function(e,t){return e.concat(t)},[])}).then(function(e){return Promise.all(e.map(function(e){return fetch(e.formats[0].src).then(function(e){return e.blob()}).then(function(e){return new Promise(function(t,n){var i=new FileReader;i.onerror=n,i.onload=function(){t(i.result)},i.readAsDataURL(e)})}).then(function(t){return e.fontFace.setProperty("src",'url("'.concat(t,'")')),"@font-face {".concat(e.fontFace.cssText," ")})}))}).then(function(n){var i=e.createElement("style");i.textContent=n.join("\n"),t.documentElement.appendChild(i)})}},{key:"createElementClone",value:function(e){var t=this;if(this.copyStyles&&e instanceof HTMLCanvasElement){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch(e){}}if(e instanceof HTMLIFrameElement){var i=e.cloneNode(!1),r=Nn();i.setAttribute("data-html2canvas-internal-iframe-key",r);var o=x(e,0,0),s=o.width,a=o.height;return this.resourceLoader.cache[r]=On(e,this.options).then(function(e){return t.renderer(e,{allowTaint:t.options.allowTaint,backgroundColor:"#ffffff",canvas:null,imageTimeout:t.options.imageTimeout,logging:t.options.logging,proxy:t.options.proxy,removeContainer:t.options.removeContainer,scale:t.options.scale,foreignObjectRendering:t.options.foreignObjectRendering,useCORS:t.options.useCORS,target:new A,width:s,height:a,x:0,y:0,windowWidth:e.ownerDocument.defaultView.innerWidth,windowHeight:e.ownerDocument.defaultView.innerHeight,scrollX:e.ownerDocument.defaultView.pageXOffset,scrollY:e.ownerDocument.defaultView.pageYOffset},t.logger.child(r))}).then(function(t){return new Promise(function(n,r){var o=document.createElement("img");o.onload=function(){return n(t)},o.onerror=function(e){"data:,"==o.src?n(t):r(e)},o.src=t.toDataURL(),i.parentNode&&i.parentNode.replaceChild(v(e.ownerDocument.defaultView.getComputedStyle(e),o),i)})}),i}try{if(e instanceof HTMLStyleElement&&e.sheet&&e.sheet.cssRules){var l=[].slice.call(e.sheet.cssRules,0).reduce(function(e,t){return t&&t.cssText?e+t.cssText:e},""),c=e.cloneNode(!1);return c.textContent=l,c}}catch(e){if(this.logger.log("Unable to access cssRules property"),"SecurityError"!==e.name)throw this.logger.log(e),e}return e.cloneNode(!1)}},{key:"cloneNode",value:function(e){var t=e.nodeType===Node.TEXT_NODE?document.createTextNode(e.nodeValue):this.createElementClone(e),n=e.ownerDocument.defaultView,i=e instanceof n.HTMLElement?n.getComputedStyle(e):null,r=e instanceof n.HTMLElement?n.getComputedStyle(e,":before"):null,o=e instanceof n.HTMLElement?n.getComputedStyle(e,":after"):null;this.referenceElement===e&&t instanceof n.HTMLElement&&(this.clonedReferenceElement=t),t instanceof n.HTMLBodyElement&&In(t);for(var s=function(e,t){if(!e||!e.counterReset||"none"===e.counterReset)return[];for(var n=[],i=e.counterReset.split(/\s*,\s*/),r=i.length,o=0;o<r;o++){var s=fn(i[o].split(/\s+/),2),a=s[0],l=s[1];n.push(a);var c=t.counters[a];c||(c=t.counters[a]=[]),c.push(parseInt(l||0,10))}return n}(i,this.pseudoContentData),a=An(e,r,this.pseudoContentData),l=e.firstChild;l;l=l.nextSibling)l.nodeType===Node.ELEMENT_NODE&&("SCRIPT"===l.nodeName||l.hasAttribute("data-html2canvas-ignore")||"function"==typeof this.options.ignoreElements&&this.options.ignoreElements(l))||this.copyStyles&&"STYLE"===l.nodeName||t.appendChild(this.cloneNode(l));var c=An(e,o,this.pseudoContentData);if(function(e,t){for(var n=e.length,i=0;i<n;i++)t.counters[e[i]].pop()}(s,this.pseudoContentData),e instanceof n.HTMLElement&&t instanceof n.HTMLElement)switch(r&&this.inlineAllImages(En(e,t,r,a,Sn)),o&&this.inlineAllImages(En(e,t,o,c,Tn)),!i||!this.copyStyles||e instanceof HTMLIFrameElement||v(i,t),this.inlineAllImages(t),0===e.scrollTop&&0===e.scrollLeft||this.scrolledElements.push([t,e.scrollLeft,e.scrollTop]),e.nodeName){case"CANVAS":this.copyStyles||Cn(e,t);break;case"TEXTAREA":case"SELECT":t.value=e.value}return t}}]),e}(),bn=function(e,t){return(e.cssRules?Array.from(e.cssRules):[]).filter(function(e){return e.type===CSSRule.FONT_FACE_RULE}).map(function(e){for(var n=X(e.style.getPropertyValue("src")),i=[],r=0;r<n.length;r++)if("url"===n[r].method&&n[r+1]&&"format"===n[r+1].method){var o=t.createElement("a");o.href=n[r].args[0],t.body&&t.body.appendChild(o),i.push({src:o.href,format:n[r+1].args[0]})}return{formats:i.filter(function(e){return/^woff/i.test(e.format)}),fontFace:e.style}}).filter(function(e){return e.formats.length})},_n=function(e,t){var n=document.implementation.createHTMLDocument(""),i=document.createElement("base");i.href=t;var r=document.createElement("style");return r.textContent=e,n.head&&n.head.appendChild(i),n.body&&n.body.appendChild(r),r.sheet?bn(r.sheet,n):[]},Cn=function(e,t){try{if(t){t.width=e.width,t.height=e.height;var n=e.getContext("2d"),i=t.getContext("2d");n?i.putImageData(n.getImageData(0,0,e.width,e.height),0,0):i.drawImage(e,0,0)}}catch(e){}},En=function(e,t,n,i,r){if(n&&n.content&&"none"!==n.content&&"-moz-alt-content"!==n.content&&"none"!==n.display){var o=t.ownerDocument.createElement("html2canvaspseudoelement");if(v(n,o),i)for(var s=i.length,a=0;a<s;a++){var l=i[a];switch(l.type){case 1:var c=t.ownerDocument.createElement("img");c.src=X("url(".concat(l.value,")"))[0].args[0],c.style.opacity="1",o.appendChild(c);break;case 0:o.appendChild(t.ownerDocument.createTextNode(l.value))}}return o.className="".concat(Ln," ").concat(xn),t.className+=" ".concat(r===Sn?Ln:xn),r===Sn?t.insertBefore(o,t.firstChild):t.appendChild(o),o}},Sn=":before",Tn=":after",Ln="___html2canvas___pseudoelement_before",xn="___html2canvas___pseudoelement_after",In=function(e){Bn(e,".".concat(Ln).concat(Sn).concat('{\n    content: "" !important;\n    display: none !important;\n}',"\n         .").concat(xn).concat(Tn).concat('{\n    content: "" !important;\n    display: none !important;\n}'))},Bn=function(e,t){var n=e.ownerDocument.createElement("style");n.innerHTML=t,e.appendChild(n)},Fn=function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),3!==n.length);i=!0);}catch(e){r=!0,o=e}finally{try{i||null==a.return||a.return()}finally{if(r)throw o}}return n}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(e),n=t[0],i=t[2];n.scrollLeft=t[1],n.scrollTop=i},Nn=function(){return Math.ceil(Date.now()+1e7*Math.random()).toString(16)},Dn=/^data:text\/(.+);(base64)?,(.*)$/i,On=function(e,t){try{return Promise.resolve(e.contentWindow.document.documentElement)}catch(n){return t.proxy?$t(e.src,t).then(function(e){var t=e.match(Dn);return t?"base64"===t[2]?window.atob(decodeURIComponent(t[3])):decodeURIComponent(t[3]):Promise.reject()}).then(function(t){return Rn(e.ownerDocument,x(e,0,0)).then(function(e){var n=e.contentWindow.document;n.open(),n.write(t);var i=Mn(e).then(function(){return n.documentElement});return n.close(),i})}):Promise.reject()}},Rn=function(e,t){var n=e.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=t.width.toString(),n.height=t.height.toString(),n.scrolling="no",n.setAttribute("data-html2canvas-ignore","true"),e.body?(e.body.appendChild(n),Promise.resolve(n)):Promise.reject("")},Mn=function(e){var t=e.contentWindow,n=t.document;return new Promise(function(i,r){t.onload=e.onload=n.onreadystatechange=function(){var t=setInterval(function(){n.body.childNodes.length>0&&"complete"===n.readyState&&(clearInterval(t),i(e))},50)}})},Un=function e(t,n,i){var r=t.ownerDocument,o=new L(n.scrollX,n.scrollY,n.windowWidth,n.windowHeight),s=r.documentElement?new c(getComputedStyle(r.documentElement).backgroundColor):d,a=r.body?new c(getComputedStyle(r.body).backgroundColor):d,l=t===r.documentElement?s.isTransparent()?a.isTransparent()?n.backgroundColor?new c(n.backgroundColor):null:a:s:n.backgroundColor?new c(n.backgroundColor):null;return(n.foreignObjectRendering?Oe.SUPPORT_FOREIGNOBJECT_DRAWING:Promise.resolve(!1)).then(function(s){return s?function(e){return e.inlineFonts(r).then(function(){return e.resourceLoader.ready()}).then(function(){var o=new Ie(e.documentElement),s=r.defaultView,a=s.pageXOffset,c=s.pageYOffset,u="HTML"===t.tagName||"BODY"===t.tagName?I(r):x(t,a,c),d=u.height;return o.render({backgroundColor:l,logger:i,scale:n.scale,x:"number"==typeof n.x?n.x:u.left,y:"number"==typeof n.y?n.y:u.top,width:"number"==typeof n.width?n.width:Math.ceil(u.width),height:"number"==typeof n.height?n.height:Math.ceil(d),windowWidth:n.windowWidth,windowHeight:n.windowHeight,scrollX:n.scrollX,scrollY:n.scrollY})})}(new wn(t,n,i,!0,e)):function(e,t,n,i,r,o){var s=new wn(n,i,r,!1,o),a=e.defaultView.pageXOffset,l=e.defaultView.pageYOffset;return Rn(e,t).then(function(r){var o=r.contentWindow,c=o.document,u=Mn(r).then(function(){s.scrolledElements.forEach(Fn),o.scrollTo(t.left,t.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||o.scrollY===t.top&&o.scrollX===t.left||(c.documentElement.style.top=-t.top+"px",c.documentElement.style.left=-t.left+"px",c.documentElement.style.position="absolute");var n=Promise.resolve([r,s.clonedReferenceElement,s.resourceLoader]),a=i.onclone;return s.clonedReferenceElement instanceof o.HTMLElement||s.clonedReferenceElement instanceof e.defaultView.HTMLElement||s.clonedReferenceElement instanceof HTMLElement?"function"==typeof a?Promise.resolve().then(function(){return a(c)}).then(function(){return n}):n:Promise.reject("")});return c.open(),c.write("".concat(function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'.concat(e.publicId,'"')),e.systemId&&(t+='"'.concat(e.systemId,'"')),t+=">"),t}(document.doctype),"<html></html>")),function(e,t,n){!e.defaultView||t===e.defaultView.pageXOffset&&n===e.defaultView.pageYOffset||e.defaultView.scrollTo(t,n)}(n.ownerDocument,a,l),c.replaceChild(c.adoptNode(s.documentElement),c.documentElement),c.close(),u})}(r,o,t,n,i,e).then(function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),3!==n.length);i=!0);}catch(e){r=!0,o=e}finally{try{i||null==a.return||a.return()}finally{if(r)throw o}}return n}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(e),o=t[0],s=t[1],a=t[2],c=function(e,t,n){var i=0,r=new bt(e,null,t,i++),o=new Ct(r,null,!0);return function e(t,n,i,r,o){for(var s,a=t.firstChild;a;a=s){s=a.nextSibling;var l=a.ownerDocument.defaultView;if(a instanceof l.Text||a instanceof Text||l.parent&&a instanceof l.parent.Text)a.data.trim().length>0&&n.childNodes.push(He.fromTextNode(a,n));else if(a instanceof l.HTMLElement||a instanceof HTMLElement||l.parent&&a instanceof l.parent.HTMLElement){if(-1===Et.indexOf(a.nodeName)){var c=new bt(a,n,r,o++);if(c.isVisible()){"INPUT"===a.tagName?it(a,c):"TEXTAREA"===a.tagName?rt(a,c):"SELECT"===a.tagName?ot(a,c):c.style.listStyle&&-1!==c.style.listStyle.listStyleType&&ct(a,c,r);var u="TEXTAREA"!==a.tagName,d=St(c,a);if(d||Tt(c)){var h=d||c.isPositioned()?i.getRealParentStackingContext():i,p=new Ct(c,h,d);h.contexts.push(p),u&&e(a,c,p,r,o)}else i.children.push(c),u&&e(a,c,i,r,o)}}}else if(a instanceof l.SVGSVGElement||a instanceof SVGSVGElement||l.parent&&a instanceof l.parent.SVGSVGElement){var f=new bt(a,n,r,o++),A=St(f,a);if(A||Tt(f)){var g=A||f.isPositioned()?i.getRealParentStackingContext():i,m=new Ct(f,g,A);g.contexts.push(m)}else i.children.push(f)}}}(e,r,o,t,1),o}(s,a),u=s.ownerDocument;return l===c.container.style.background.backgroundColor&&(c.container.style.background.backgroundColor=d),a.ready().then(function(e){var t=new xt(u),a=u.defaultView,d=a.pageXOffset,h=a.pageYOffset,p="HTML"===s.tagName||"BODY"===s.tagName?I(r):x(s,d,h),f=p.height,A={backgroundColor:l,fontMetrics:t,imageStore:e,logger:i,scale:n.scale,x:"number"==typeof n.x?n.x:p.left,y:"number"==typeof n.y?n.y:p.top,width:"number"==typeof n.width?n.width:Math.ceil(p.width),height:"number"==typeof n.height?n.height:Math.ceil(f)};if(Array.isArray(n.target))return Promise.all(n.target.map(function(e){return new Xt(e,A).render(c)}));var g=new Xt(n.target,A).render(c);return!0===n.removeContainer&&o.parentNode&&o.parentNode.removeChild(o),g})})})};function Pn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Hn=function(e,t){var n=t||{},i=new g("boolean"!=typeof n.logging||n.logging);i.log("html2canvas ".concat("1.0.0-rc.1"));var r=e.ownerDocument;if(!r)return Promise.reject("Provided element is not within a Document");var o=r.defaultView,s={allowTaint:!1,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,scale:o.devicePixelRatio||1,target:new A(n.canvas),useCORS:!1,windowWidth:o.innerWidth,windowHeight:o.innerHeight,scrollX:o.pageXOffset,scrollY:o.pageYOffset};return Un(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){Pn(e,t,n[t])})}return e}({},s,n),i)};Hn.CanvasRenderer=A,t.default=Hn}]).default});var r0="\0\0",k0="application/zip",e0="application/zip",n0="undefined",q0=null,h0=!1,JSZip=function(e,t){this.files={},this.root="",e&&this.load(e,t)};JSZip.signature={LOCAL_FILE_HEADER:"PK",CENTRAL_FILE_HEADER:"PK",CENTRAL_DIRECTORY_END:"PK",ZIP64_CENTRAL_DIRECTORY_LOCATOR:"PK",ZIP64_CENTRAL_DIRECTORY_END:"PK",DATA_DESCRIPTOR:"PK\b"},JSZip.defaults={base64:h0,binary:h0,dir:h0,date:q0,compression:q0},JSZip.support={arraybuffer:typeof ArrayBuffer!==n0&&typeof Uint8Array!==n0,nodebuffer:typeof Buffer!==n0,uint8array:typeof Uint8Array!==n0,blob:function(){if(typeof ArrayBuffer===n0)return h0;var e=new ArrayBuffer(0);try{return 0===new Blob([e],{type:e0}).size}catch(n){}try{var t=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder);return t.append(e),0===t.getBlob(k0).size}catch(n){}return h0}()},JSZip.prototype=function(){var e,t;JSZip.support.uint8array&&"function"==typeof TextEncoder&&"function"==typeof TextDecoder&&(e=new TextEncoder("utf-8"),t=new TextDecoder("utf-8"));var n=function(e){if(e._data instanceof JSZip.CompressedObject&&(e._data=e._data.getContent(),e.options.binary=!0,e.options.base64=!1,"uint8array"===JSZip.utils.getTypeOf(e._data))){var t=e._data;e._data=new Uint8Array(t.length),0!==t.length&&e._data.set(t,0)}return e._data},i=function(t){var i=n(t);if("string"===JSZip.utils.getTypeOf(i)){if(!t.options.binary){if(e)return e.encode(i);if(JSZip.support.nodebuffer)return new Buffer(i,"utf-8")}return t.asBinary()}return i},r=function(e){var t=n(this);return null==t?"":(this.options.base64&&(t=JSZip.base64.decode(t)),t=e&&this.options.binary?JSZip.prototype.utf8decode(t):JSZip.utils.transformTo("string",t),e||this.options.binary||(t=JSZip.prototype.utf8encode(t)),t)},o=function(e,t,n){this.name=e,this._data=t,this.options=n};o.prototype={asText:function(){return r.call(this,!0)},asBinary:function(){return r.call(this,!1)},asNodeBuffer:function(){var e=i(this);return JSZip.utils.transformTo("nodebuffer",e)},asUint8Array:function(){var e=i(this);return JSZip.utils.transformTo("uint8array",e)},asArrayBuffer:function(){return this.asUint8Array().buffer}};var s=function(e,t){var n,i="";for(n=0;n<t;n++)i+=String.fromCharCode(255&e),e>>>=8;return i},a=function(){var e,t,n={};for(e=0;e<arguments.length;e++)for(t in arguments[e])arguments[e].hasOwnProperty(t)&&void 0===n[t]&&(n[t]=arguments[e][t]);return n},l=function(e,t,n){var i=c(e),r=JSZip.utils.getTypeOf(t);if(i&&u.call(this,i),(n=function(e){return!0===(e=e||{}).base64&&null==e.binary&&(e.binary=!0),(e=a(e,JSZip.defaults)).date=e.date||new Date,null!==e.compression&&(e.compression=e.compression.toUpperCase()),e}(n)).dir||null==t)n.base64=!1,n.binary=!1,t=null;else if("string"===r)n.binary&&!n.base64&&!0!==n.optimizedBinaryString&&(t=JSZip.utils.string2binary(t));else{if(n.base64=!1,n.binary=!0,!(r||t instanceof JSZip.CompressedObject))throw new Error("The data of '"+e+"' is in an unsupported format !");"arraybuffer"===r&&(t=JSZip.utils.transformTo("uint8array",t))}return this.files[e]=new o(e,t,n)},c=function(e){"/"==e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return t>0?e.substring(0,t):""},u=function(e){return"/"!=e.slice(-1)&&(e+="/"),this.files[e]||l.call(this,e,null,{dir:!0}),this.files[e]},d=function(e,t){var n,r=new JSZip.CompressedObject;return e._data instanceof JSZip.CompressedObject?(r.uncompressedSize=e._data.uncompressedSize,r.crc32=e._data.crc32,0===r.uncompressedSize||e.options.dir?(t=JSZip.compressions.STORE,r.compressedContent="",r.crc32=0):e._data.compressionMethod===t.magic?r.compressedContent=e._data.getCompressedContent():(n=e._data.getContent(),r.compressedContent=t.compress(JSZip.utils.transformTo(t.compressInputType,n)))):((n=i(e))&&0!==n.length&&!e.options.dir||(t=JSZip.compressions.STORE,n=""),r.uncompressedSize=n.length,r.crc32=this.crc32(n),r.compressedContent=t.compress(JSZip.utils.transformTo(t.compressInputType,n))),r.compressedSize=r.compressedContent.length,r.compressionMethod=t.magic,r},h=function(e,t,n,i){var r,o,a=this.utf8encode(t.name),l=a!==t.name,c=t.options;r=c.date.getHours(),r<<=6,r|=c.date.getMinutes(),r<<=5,r|=c.date.getSeconds()/2,o=c.date.getFullYear()-1980,o<<=4,o|=c.date.getMonth()+1,o<<=5,o|=c.date.getDate();var u="";return u+="\n\0",u+=l?"\0\b":"\0\0",u+=n.compressionMethod,u+=s(r,2),u+=s(o,2),u+=s(n.crc32,4),u+=s(n.compressedSize,4),u+=s(n.uncompressedSize,4),u+=s(a.length,2),{fileRecord:JSZip.signature.LOCAL_FILE_HEADER+(u+="\0\0")+a,dirRecord:JSZip.signature.CENTRAL_FILE_HEADER+"\0"+u+"\0\0\0\0\0\0"+(!0===t.options.dir?"\0\0\0":"\0\0\0\0")+s(i,4)+a,compressedObject:n}},p=function(){this.data=[]};p.prototype={append:function(e){e=JSZip.utils.transformTo("string",e),this.data.push(e)},finalize:function(){return this.data.join("")}};var f=function(e){this.data=new Uint8Array(e),this.index=0};return f.prototype={append:function(e){0!==e.length&&(e=JSZip.utils.transformTo("uint8array",e),this.data.set(e,this.index),this.index+=e.length)},finalize:function(){return this.data}},{load:function(e,t){throw new Error("Load method is not defined. Is the file jszip-load.js included ?")},filter:function(e){var t,n,i,r,s=[];for(t in this.files)this.files.hasOwnProperty(t)&&(r=new o((i=this.files[t]).name,i._data,a(i.options)),n=t.slice(this.root.length,t.length),t.slice(0,this.root.length)===this.root&&e(n,r)&&s.push(r));return s},file:function(e,t,n){if(1===arguments.length){if(JSZip.utils.isRegExp(e)){var i=e;return this.filter(function(e,t){return!t.options.dir&&i.test(e)})}return this.filter(function(t,n){return!n.options.dir&&t===e})[0]||null}return l.call(this,e=this.root+e,t,n),this},folder:function(e){if(!e)return this;if(JSZip.utils.isRegExp(e))return this.filter(function(t,n){return n.options.dir&&e.test(t)});var t=u.call(this,this.root+e),n=this.clone();return n.root=t.name,n},remove:function(e){var t=this.files[e=this.root+e];if(t||("/"!=e.slice(-1)&&(e+="/"),t=this.files[e]),t)if(t.options.dir)for(var n=this.filter(function(t,n){return n.name.slice(0,e.length)===e}),i=0;i<n.length;i++)delete this.files[n[i].name];else delete this.files[e];return this},generate:function(e){e=a(e||{},{base64:!0,compression:"STORE",type:"base64"}),JSZip.utils.checkSupport(e.type);var t,n,i,r=[],o=0,l=0;for(var c in this.files)if(this.files.hasOwnProperty(c)){var u=this.files[c],A=u.options.compression||e.compression.toUpperCase(),g=JSZip.compressions[A];if(!g)throw new Error(A+" is not a valid compression method !");var m=d.call(this,u,g),y=h.call(this,c,u,m,o);o+=y.fileRecord.length+m.compressedSize,l+=y.dirRecord.length,r.push(y)}switch(i=JSZip.signature.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(r.length,2)+s(r.length,2)+s(l,4)+s(o,4)+"\0\0",e.type.toLowerCase()){case"uint8array":case"arraybuffer":case"blob":case"nodebuffer":t=new f(o+l+i.length);break;case"base64":default:t=new p(o+l+i.length)}for(n=0;n<r.length;n++)t.append(r[n].fileRecord),t.append(r[n].compressedObject.compressedContent);for(n=0;n<r.length;n++)t.append(r[n].dirRecord);t.append(i);var v=t.finalize();switch(e.type.toLowerCase()){case"uint8array":case"arraybuffer":case"nodebuffer":return JSZip.utils.transformTo(e.type.toLowerCase(),v);case"blob":return JSZip.utils.arrayBuffer2Blob(JSZip.utils.transformTo("arraybuffer",v));case"base64":return e.base64?JSZip.base64.encode(v):v;default:return v}},crc32:function(e,t){if(void 0===e||!e.length)return 0;var n="string"!==JSZip.utils.getTypeOf(e),i=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];void 0===t&&(t=0),t^=-1;for(var r=0,o=e.length;r<o;r++)t=t>>>8^i[255&(t^(n?e[r]:e.charCodeAt(r)))];return-1^t},clone:function(){var e=new JSZip;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e},utf8encode:function(t){if(e){var n=e.encode(t);return JSZip.utils.transformTo("string",n)}if(JSZip.support.nodebuffer)return JSZip.utils.transformTo("string",new Buffer(t,"utf-8"));for(var i=[],r=0,o=0;o<t.length;o++){var s=t.charCodeAt(o);s<128?i[r++]=String.fromCharCode(s):s>127&&s<2048?(i[r++]=String.fromCharCode(s>>6|192),i[r++]=String.fromCharCode(63&s|128)):(i[r++]=String.fromCharCode(s>>12|224),i[r++]=String.fromCharCode(s>>6&63|128),i[r++]=String.fromCharCode(63&s|128))}return i.join("")},utf8decode:function(e){var n=[],i=0,r="string"!==JSZip.utils.getTypeOf(e),o=0,s=0,a=0,l=0;if(t)return t.decode(JSZip.utils.transformTo("uint8array",e));if(JSZip.support.nodebuffer)return JSZip.utils.transformTo("nodebuffer",e).toString("utf-8");for(;o<e.length;)(s=r?e[o]:e.charCodeAt(o))<128?(n[i++]=String.fromCharCode(s),o++):s>191&&s<224?(a=r?e[o+1]:e.charCodeAt(o+1),n[i++]=String.fromCharCode((31&s)<<6|63&a),o+=2):(a=r?e[o+1]:e.charCodeAt(o+1),l=r?e[o+2]:e.charCodeAt(o+2),n[i++]=String.fromCharCode((15&s)<<12|(63&a)<<6|63&l),o+=3);return n.join("")}}}(),JSZip.compressions={STORE:{magic:r0,compress:function(e){return e},uncompress:function(e){return e},compressInputType:q0,uncompressInputType:q0}},function(){function e(e){return e}function t(e,t){for(var n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t}function n(e){var t=65536,n=[],i=e.length,r=JSZip.utils.getTypeOf(e),o=0,s=!0;try{switch(r){case"uint8array":String.fromCharCode.apply(null,new Uint8Array(0));break;case"nodebuffer":String.fromCharCode.apply(null,new Buffer(0))}}catch(c){s=!1}if(!s){for(var a="",l=0;l<e.length;l++)a+=String.fromCharCode(e[l]);return a}for(;o<i&&t>1;)try{n.push(String.fromCharCode.apply(null,"array"===r||"nodebuffer"===r?e.slice(o,Math.min(o+t,i)):e.subarray(o,Math.min(o+t,i)))),o+=t}catch(c){t=Math.floor(t/2)}return n.join("")}function i(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t}JSZip.utils={string2binary:function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(255&e.charCodeAt(n));return t},string2Uint8Array:function(e){return JSZip.utils.transformTo("uint8array",e)},uint8Array2String:function(e){return JSZip.utils.transformTo("string",e)},arrayBuffer2Blob:function(e){JSZip.utils.checkSupport("blob");try{return new Blob([e],{type:"application/zip"})}catch(n){}try{var t=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder);return t.append(e),t.getBlob("application/zip")}catch(n){}throw new Error("Bug : can't construct the Blob.")},string2Blob:function(e){var t=JSZip.utils.transformTo("arraybuffer",e);return JSZip.utils.arrayBuffer2Blob(t)}};var r={};r.string={string:e,array:function(e){return t(e,new Array(e.length))},arraybuffer:function(e){return r.string.uint8array(e).buffer},uint8array:function(e){return t(e,new Uint8Array(e.length))},nodebuffer:function(e){return t(e,new Buffer(e.length))}},r.array={string:n,array:e,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return new Buffer(e)}},r.arraybuffer={string:function(e){return n(new Uint8Array(e))},array:function(e){return i(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:e,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return new Buffer(new Uint8Array(e))}},r.uint8array={string:n,array:function(e){return i(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:e,nodebuffer:function(e){return new Buffer(e)}},r.nodebuffer={string:n,array:function(e){return i(e,new Array(e.length))},arraybuffer:function(e){return r.nodebuffer.uint8array(e).buffer},uint8array:function(e){return i(e,new Uint8Array(e.length))},nodebuffer:e},JSZip.utils.transformTo=function(e,t){if(t||(t=""),!e)return t;JSZip.utils.checkSupport(e);var n=JSZip.utils.getTypeOf(t);return r[n][e](t)},JSZip.utils.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":JSZip.support.nodebuffer&&Buffer.isBuffer(e)?"nodebuffer":JSZip.support.uint8array&&e instanceof Uint8Array?"uint8array":JSZip.support.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},JSZip.utils.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},JSZip.utils.checkSupport=function(e){var t=!0;switch(e.toLowerCase()){case"uint8array":t=JSZip.support.uint8array;break;case"arraybuffer":t=JSZip.support.arraybuffer;break;case"nodebuffer":t=JSZip.support.nodebuffer;break;case"blob":t=JSZip.support.blob}if(!t)throw new Error(e+" is not supported by this browser")}}(),JSZip.CompressedObject=function(){this.compressedSize=0,this.uncompressedSize=0,this.crc32=0,this.compressionMethod=q0,this.compressedContent=q0},JSZip.CompressedObject.prototype={getContent:function(){return q0},getCompressedContent:function(){return q0}},JSZip.base64=function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return{encode:function(t,n){for(var i,r,o,s,a,l,c,u="",d=0;d<t.length;)s=(i=t.charCodeAt(d++))>>2,a=(3&i)<<4|(r=t.charCodeAt(d++))>>4,l=(15&r)<<2|(o=t.charCodeAt(d++))>>6,c=63&o,isNaN(r)?l=c=64:isNaN(o)&&(c=64),u=u+e.charAt(s)+e.charAt(a)+e.charAt(l)+e.charAt(c);return u},decode:function(t,n){var i,r,o,s,a,l,c="",u=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");u<t.length;)o=e.indexOf(t.charAt(u++)),i=(15&(s=e.indexOf(t.charAt(u++))))<<4|(a=e.indexOf(t.charAt(u++)))>>2,r=(3&a)<<6|(l=e.indexOf(t.charAt(u++))),c+=String.fromCharCode(o<<2|s>>4),64!=a&&(c+=String.fromCharCode(i)),64!=l&&(c+=String.fromCharCode(r));return c}}}(),void 0!==window.jQuery&&(window.jQuery.fn.webdatarocks=function(e){return(e=e||{}).container=this.get(0),e=window.WebDataRocks?window.WebDataRocks(e):window.PivotApi(e),this.data("webdatarocks",e),e}),void 0!==window.angular&&window.angular.module("webdatarocks",[]).directive("wbrPivot",function(){return{restrict:"A",scope:{report:"=wbrReport",customizeCell:"&wbrCustomizeCell",cellclick:"&wbrCellClick",celldoubleclick:"&wbrCellDoubleClick",dataerror:"&wbrDataError",datafilecancelled:"&wbrDataFileCancelled",dataloaded:"&wbrDataLoaded",datachanged:"&wbrDataChanged",fieldslistclose:"&wbrFieldsListClose",fieldslistopen:"&wbrFieldsListOpen",filteropen:"&wbrFilteropen",fullscreen:"&wbrFullscreen",loadingdata:"&wbrLoadingData",loadinglocalization:"&wbrLoadingLocalization",loadingolapstructure:"&wbrLoadingOlapStructure",loadingreportfile:"&wbrLoadingReportFile",localizationerror:"&wbrLocalizationError",localizationloaded:"&wbrLocalizationLoaded",openingreportfile:"&wbrOpeningReportFile",querycomplete:"&wbrQueryComplete",queryerror:"&wbrQueryError",ready:"&wbrReady",reportchange:"&wbrReportChange",reportcomplete:"&wbrReportComplete",reportfilecancelled:"&wbrReportFileCancelled",reportfileerror:"&wbrReportFileError",reportfileloaded:"&wbrReportFileLoaded",runningquery:"&wbrRunningQuery",update:"&wbrUpdate",beforetoolbarcreated:"&wbrBeforeToolbarCreated"},link:function(e,t,n,i){(i={}).container=t[0],function(e,t){void 0!==e.wbrGlobal&&(t.global=e.wbrGlobal),void 0!==e.wbrWidth&&(t.width=e.wbrWidth),void 0!==e.wbrHeight&&(t.height=e.wbrHeight),void 0!==e.wbrToolbar&&(t.toolbar=!0===e.wbrToolbar||"true"==e.wbrToolbar||"on"==e.wbrToolbar)}(n,i),e.customizeCell&&(i.customizeCell=function(t,n){return e.customizeCell({html:t,data:n})}),e.cellclick&&(i.cellclick=function(t){e.cellclick({cell:t})}),e.celldoubleclick&&(i.celldoubleclick=function(t){e.celldoubleclick({cell:t})}),i.dataerror=e.dataerror,i.datafilecancelled=e.datafilecancelled,i.dataloaded=e.dataloaded,i.datachanged&&(i.datachanged=function(t){e.datachanged({event:t})}),i.fieldslistclose=e.fieldslistclose,i.fieldslistopen=e.fieldslistopen,i.filteropen&&(i.filteropen=function(t){e.filteropen({params:t})}),i.fullscreen&&(i.fullscreen=function(t){e.fullscreen({fullScreenMode:t})}),i.loadingdata=e.loadingdata,i.loadinglocalization=e.loadinglocalization,i.loadingolapstructure=e.loadingolapstructure,i.loadingreportfile=e.loadingreportfile,i.localizationerror=e.localizationerror,i.localizationloaded=e.localizationloaded,i.olapstructureerror=e.olapstructureerror,i.olapstructureloaded=e.olapstructureloaded,i.openingreportfile=e.openingreportfile,i.querycomplete=e.querycomplete,i.queryerror=e.queryerror,e.ready&&(i.ready=function(){e.ready({pivot:r})}),i.reportchange=e.reportchange,i.reportcomplete=e.reportcomplete,i.reportfilecancelled=e.reportfilecancelled,i.reportfileerror=e.reportfileerror,i.reportfileloaded=e.reportfileloaded,i.runningquery=e.runningquery,i.loadingdata=e.loadingdata,i.loadingdata=e.loadingdata,i.loadingdata=e.loadingdata,i.update=e.update,e.beforetoolbarcreated&&(i.beforetoolbarcreated=function(t){e.beforetoolbarcreated({toolbar:t})}),e.report&&(i.report=e.report),e.global&&(i.global=e.global);var r=new WebDataRocks(i)}}}),void 0!==window.React&&(window.WebDataRocksReact={Pivot:React.createClass({propTypes:{global:React.PropTypes.object,width:React.PropTypes.oneOfType([React.PropTypes.string,React.PropTypes.number]),height:React.PropTypes.oneOfType([React.PropTypes.string,React.PropTypes.number]),report:React.PropTypes.oneOfType([React.PropTypes.string,React.PropTypes.object]),toolbar:React.PropTypes.bool,customizeCell:React.PropTypes.func,cellclick:React.PropTypes.func,celldoubleclick:React.PropTypes.func,dataerror:React.PropTypes.func,datafilecancelled:React.PropTypes.func,dataloaded:React.PropTypes.func,datachanged:React.PropTypes.func,fieldslistclose:React.PropTypes.func,fieldslistopen:React.PropTypes.func,filteropen:React.PropTypes.func,fullscreen:React.PropTypes.func,loadingdata:React.PropTypes.func,loadinglocalization:React.PropTypes.func,loadingolapstructure:React.PropTypes.func,loadingreportfile:React.PropTypes.func,localizationerror:React.PropTypes.func,localizationloaded:React.PropTypes.func,olapstructureerror:React.PropTypes.func,olapstructureloaded:React.PropTypes.func,openingreportfile:React.PropTypes.func,querycomplete:React.PropTypes.func,queryerror:React.PropTypes.func,ready:React.PropTypes.func,reportchange:React.PropTypes.func,reportcomplete:React.PropTypes.func,reportfilecancelled:React.PropTypes.func,reportfileerror:React.PropTypes.func,reportfileloaded:React.PropTypes.func,runningquery:React.PropTypes.func,update:React.PropTypes.func,beforetoolbarcreated:React.PropTypes.func},render:function(){return React.DOM.div()},componentDidMount:function(){var e={};e.container=ReactDOM.findDOMNode(this),this.parseProps(e),this.webdatarocks=new window.WebDataRocks(e)},shouldComponentUpdate:function(){return!1},componentWillUnmount:function(){},parseProps:function(e){for(var t in this.props)e[t]=this.props[t]}})}),"object"==typeof module&&module.exports&&(module.exports=WebDataRocks);